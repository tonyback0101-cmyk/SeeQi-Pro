"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669,3413],{81833:function(e,t,r){r.d(t,{Kj:function(){return n},iB:function(){return a},yC:function(){return o},zI:function(){return i}});let i=25,o="elevenlabs",n={elevenlabs:{voice_id:"21m00Tcm4TlvDq8ikWAM",model_id:"eleven_multilingual_v2",stability:.5,similarity_boost:.75,style:0,use_speaker_boost:!1,speed:1}},a=[{voiceId:"21m00Tcm4TlvDq8ikWAM",name:"Rachel",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/21m00Tcm4TlvDq8ikWAM/b4928a68-c03b-411f-8533-3d5c299fd451.mp3",labels:{gender:"female",description:"calm",use_case:"narration",accent:"american",age:"young"}},{voiceId:"AZnzlk1XvdvUeBnXmlld",name:"Domi",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/AZnzlk1XvdvUeBnXmlld/b3c36b01-f80d-4b16-a698-f83682dee84c.mp3",labels:{gender:"female",description:"strong",use_case:"narration",accent:"american",age:"young"}},{voiceId:"ErXwobaYiN019PkySvjV",name:"Antoni",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/ErXwobaYiN019PkySvjV/2d5ab2a3-4578-470f-b797-6331e46a7d55.mp3",labels:{gender:"male",description:"well-rounded",use_case:"narration",accent:"american",age:"young"}},{voiceId:"MF3mGyEYCl7XYWbV9V6O",name:"Elli",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/MF3mGyEYCl7XYWbV9V6O/d8ecadea-9e48-4e5d-868a-2ec3d7397861.mp3",labels:{gender:"female",description:"emotional",use_case:"narration",accent:"american",age:"young"}},{voiceId:"ThT5KcBeYPX3keUQqHPh",name:"Dorothy",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/ThT5KcBeYPX3keUQqHPh/981f0855-6598-48d2-9f8f-b6d92fbbe3fc.mp3",labels:{gender:"female",description:"pleasant",use_case:"narration",accent:"british",age:"young"}},{voiceId:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/TxGEqnHWrfWFTfGW9XjX/47de9a7e-773a-42a8-b410-4aa90c581216.mp3",labels:{gender:"male",description:"deep",use_case:"narration",accent:"american",age:"young"}},{voiceId:"VR6AewLTigWG4xSOukaG",name:"Arnold",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/VR6AewLTigWG4xSOukaG/49a22885-80d5-48e8-87a3-076fc9193d9a.mp3",labels:{gender:"male",description:"crisp",use_case:"narration",accent:"american",age:"middle_aged"}},{voiceId:"bVMeCyTHy58xNoL34h3p",name:"Jeremy",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/bVMeCyTHy58xNoL34h3p/66c47d58-26fd-4b30-8a06-07952116a72c.mp3",labels:{gender:"male",description:"excited",use_case:"narration",accent:"irish",age:"young"}},{voiceId:"flq6f7yk4E4fJM5XTYuZ",name:"Michael",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/flq6f7yk4E4fJM5XTYuZ/c6431a82-f7d2-4905-b8a4-a631960633d6.mp3",labels:{gender:"male",description:"calm",use_case:"narration",accent:"american",age:"old"}},{voiceId:"oWAxZDx7w5VEj9dCyTzz",name:"Grace",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/oWAxZDx7w5VEj9dCyTzz/84a36d1c-e182-41a8-8c55-dbdd15cd6e72.mp3",labels:{gender:"female",description:"pleasant",use_case:"narration",accent:"us-southern",age:"young"}},{voiceId:"pFZP5JQG7iQjIQuC4Bku",name:"Lily",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/pFZP5JQG7iQjIQuC4Bku/89b68b35-b3dd-4348-a84a-a3c13a3c2b30.mp3",labels:{gender:"female",description:"warm",descriptive:"confident",use_case:"narration",accent:"british",age:"middle_aged"}},{voiceId:"pMsXgVXv3BLzUgSXRplE",name:"Serena",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/pMsXgVXv3BLzUgSXRplE/d61f18ed-e5b0-4d0b-a33c-5c6e7e33b053.mp3",labels:{gender:"female",description:"pleasant",use_case:"narration",accent:"american",age:"middle_aged"}},{voiceId:"pNInz6obpgDQGcFmaJgB",name:"Adam",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/pNInz6obpgDQGcFmaJgB/d6905d7a-dd26-4187-bfff-1bd3a5ea7cac.mp3",labels:{gender:"male",description:"deep",use_case:"narration",accent:"",age:"middle_aged",language:"en"}},{voiceId:"wViXBPUzp2ZZixB1xQuM",name:"Arnold",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/wViXBPUzp2ZZixB1xQuM/44023be0-d837-4166-89e2-1bf4b77b7132.mp3",labels:{gender:"male",description:"crisp",use_case:"narration",accent:"american",age:"middle_aged"}},{voiceId:"yoZ06aMxZJJ28mfd3POQ",name:"Sam",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/yoZ06aMxZJJ28mfd3POQ/b017ad02-8d18-4456-ad92-55c85ecf6363.mp3",labels:{gender:"male",description:"raspy",use_case:"narration",accent:"american",age:"young"}},{voiceId:"zcAOhNBS3c14rBihAFp1",name:"Giovanni",previewUrl:"https://storage.googleapis.com/eleven-public-prod/premade/voices/zcAOhNBS3c14rBihAFp1/e7410f8f-4913-4cb8-8907-784abee5aff8.mp3",labels:{gender:"male",description:"foreigner",use_case:"narration",accent:"italian",age:"young"}}]},38813:function(e,t,r){r.d(t,{c:function(){return i},k:function(){return o}});let i=500,o="https://cdn.openart.ai/assets/openart_og_image_20250509.png"},71461:function(e,t,r){r.d(t,{D:function(){return d}});var i=r(75271),o=r(63464),n=r(26685);class a{getCommonHeaders(){let e=(0,n.fW)(),t=null,r=null;{let e=sessionStorage.getItem("lastUsedWorkspace");if(e&&"undefined"!==e){let i=JSON.parse(e);t=i.workspace_team_id,r=i.workspace_user_id}}return{Accept:"text/event-stream","Cache-Control":"no-cache",...e,...t&&{"X-TEAM-ID":t},...r&&{"X-USER-ID":r}}}async connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{onmessage:r,onerror:i,onclose:n,signal:a,method:l="GET",body:s,headers:d={},onopen:c}=t,u=e.startsWith("http")?e:`${this.baseURL}${e.replace(/^\//,"")}`,p={...this.getCommonHeaders(),...d};"POST"===l&&s&&(p["Content-Type"]="application/json");try{await (0,o.L)(u,{method:l,body:s,signal:a,credentials:"include",headers:p,onopen:c||(()=>Promise.resolve()),onmessage:r||(()=>{}),onerror:i||(()=>{}),onclose:n||(()=>{})})}catch(e){throw console.error("[SSE Client] Connection failed:",e),e}}constructor(){this.baseURL="/api/"}}let l=new a;class s{getState(){return{...this.state}}updateOptions(e){this.options={...this.options,...e}}updateState(e){var t;this.state={...this.state,...e},null===(t=this.onStateChange)||void 0===t||t.call(this,this.state)}clearRetryTimeout(){this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null)}abortConnection(){this.abortController&&(this.abortController.abort(),this.abortController=null)}resetState(){this.updateState({isConnected:!1,isLoading:!1,error:null,retryCount:0})}disconnect(){this.isManualDisconnect=!0,this.shouldStopRetrying=!0,this.persistentRetryCount=0,this.isConnecting=!1,this.clearRetryTimeout(),this.abortConnection(),this.resetState()}stopRetrying(){this.shouldStopRetrying=!0,this.isConnecting=!1,this.clearRetryTimeout(),this.updateState({isLoading:!1,error:"Connection stopped by server"})}scheduleRetry(){let e;let{logPrefix:t="[SSE]",maxRetries:r=20,retryDelay:i=1e3}=this.options;if(!this.retryTimeout){if(this.persistentRetryCount>=r||this.isManualDisconnect||this.shouldStopRetrying){this.persistentRetryCount>=r&&(this.updateState({isLoading:!1,error:"Connection failed after maximum retries"}),this.shouldStopRetrying=!0);return}e=this.persistentRetryCount<3?500+500*this.persistentRetryCount:this.persistentRetryCount<6?2e3+(this.persistentRetryCount-3)*1e3:Math.min(i*2**Math.min(this.persistentRetryCount-6,3),1e4),this.retryTimeout=setTimeout(async()=>{this.retryTimeout=null,this.isManualDisconnect||this.shouldStopRetrying||(this.persistentRetryCount+=1,this.updateState({retryCount:this.persistentRetryCount}),await this.connect())},e)}}handleConnectionError(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{logPrefix:r="[SSE]",onError:i}=this.options;console.error(`${r} SSE error:`,e),this.isConnecting=!1,t&&!this.isManualDisconnect?(this.updateState({isConnected:!1,isLoading:!0,error:null}),this.persistentRetryCount<2?(this.persistentRetryCount+=1,this.updateState({retryCount:this.persistentRetryCount}),setTimeout(()=>this.connect(),100)):this.scheduleRetry()):(this.updateState({isConnected:!1,isLoading:!1,error:"Connection error occurred"}),null==i||i(e))}async connect(){let{url:e,method:t="GET",body:r,onOpen:i}=this.options;if(!e){this.disconnect();return}if(this.isConnecting)return;this.state.isConnected&&(this.abortConnection(),await new Promise(e=>setTimeout(e,100))),this.isManualDisconnect=!1,this.isConnecting=!0,0===this.persistentRetryCount&&(this.abortConnection(),await new Promise(e=>setTimeout(e,100)));let o=new AbortController;this.abortController=o,this.updateState({isConnected:!0,isLoading:!0,error:null});try{await l.connect(e,{method:t,body:r,signal:o.signal,onopen:i||(()=>Promise.resolve()),onmessage:this.handleMessage,onerror:this.handleError,onclose:this.handleClose})}catch(e){this.isConnecting=!1,"AbortError"!==e.name?this.handleConnectionError(e,!this.isManualDisconnect):this.updateState({isConnected:!1,isLoading:!1})}}resetRetryState(){this.persistentRetryCount=0,this.shouldStopRetrying=!1,this.isConnecting=!1,this.updateState({retryCount:this.persistentRetryCount})}resumeConnection(){let{url:e}=this.options;!e||this.state.isConnected||this.shouldStopRetrying||this.isConnecting||(this.persistentRetryCount=0,this.updateState({retryCount:this.persistentRetryCount}),this.connect())}forceReconnect(){this.clearRetryTimeout(),this.abortConnection(),this.isManualDisconnect=!1,this.shouldStopRetrying=!1,this.persistentRetryCount=0,this.isConnecting=!1,this.updateState({retryCount:0}),this.connect()}cleanup(){this.clearRetryTimeout(),this.abortConnection(),this.isConnecting=!1}constructor(e,t){this.options=e,this.state={isConnected:!1,isLoading:!1,error:null,retryCount:0},this.abortController=null,this.retryTimeout=null,this.isManualDisconnect=!1,this.persistentRetryCount=0,this.shouldStopRetrying=!1,this.isConnecting=!1,this.handleMessage=e=>{try{this.options.onMessage(e),this.persistentRetryCount=0,this.shouldStopRetrying=!1,this.isConnecting=!1,this.updateState({isLoading:!1,retryCount:0,error:null})}catch{this.updateState({error:"Failed to process message"})}},this.handleError=e=>{throw this.handleConnectionError(e),e},this.handleClose=()=>{let{onClose:e}=this.options;this.isConnecting=!1,this.isManualDisconnect||this.shouldStopRetrying?(this.updateState({isConnected:!1,isLoading:!1}),null==e||e()):(this.updateState({isConnected:!1,isLoading:!0,error:null}),this.persistentRetryCount<2?(this.persistentRetryCount+=1,this.updateState({retryCount:this.persistentRetryCount}),setTimeout(()=>this.connect(),100)):this.scheduleRetry())},this.onStateChange=t}}let d=e=>{let{url:t,method:r="GET",body:o,enabled:n=!0,onOpen:a,onMessage:l,onError:d,onClose:c,dependencies:u=[],logPrefix:p="[SSE]",maxRetries:h=20,retryDelay:g=1e3}=e,[x,m]=(0,i.useState)({isConnected:!1,isLoading:!1,error:null,retryCount:0}),f=(0,i.useRef)(null),b=(0,i.useRef)("");(0,i.useEffect)(()=>(f.current=new s({url:t,method:r,body:o,onOpen:a,onMessage:l,onError:d,onClose:c,logPrefix:p,maxRetries:h,retryDelay:g},e=>m(e)),()=>{var e;null===(e=f.current)||void 0===e||e.cleanup()}),[]),(0,i.useEffect)(()=>{f.current&&f.current.updateOptions({url:t,method:r,body:o,onOpen:a,onMessage:l,onError:d,onClose:c,logPrefix:p,maxRetries:h,retryDelay:g})},[t,r,o,a,l,d,c,p,h,g]);let v=(0,i.useCallback)(()=>{f.current&&f.current.connect()},[]),y=(0,i.useCallback)(()=>{f.current&&f.current.disconnect()},[]),C=(0,i.useCallback)(()=>{f.current&&f.current.stopRetrying()},[]),j=(0,i.useCallback)(()=>{f.current&&f.current.forceReconnect()},[]);return(0,i.useEffect)(()=>{let e=`${t}-${n}-${JSON.stringify(u)}`;if(n&&t&&f.current){b.current!==e&&(f.current.resetRetryState(),b.current=e);let t=setTimeout(()=>{f.current&&f.current.connect()},0);return()=>{clearTimeout(t),f.current&&f.current.disconnect()}}return f.current&&f.current.disconnect(),()=>{f.current&&f.current.disconnect()}},[n,t,...u]),(0,i.useEffect)(()=>{if(!t||!f.current)return;let e=()=>{"visible"===document.visibilityState&&n&&t&&!x.isConnected&&f.current&&f.current.resumeConnection()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[n,t,x.isConnected]),{isConnected:x.isConnected,error:x.error,connect:v,disconnect:y,stopRetrying:C,forceReconnect:j,isLoading:x.isLoading,retryCount:x.retryCount}}},61110:function(e,t,r){r.d(t,{F:function(){return L}});var i=r(52676),o=r(75271),n=r(75149),a=r(24053),l=r(85884),s=r(54865),d=r(13125),c=r(29984),u=r(22988),p=r(80110),h=r(82639),g=r(6721),x=r(57672),m=r(51258),f=r(66266),b=r(48732),v=r(30192),y=r(80222),C=r(60588),j=r(65293),w=r(75616),S=r(21964),k=r(53874),Z=r(46973);function _(){let e=(0,w.NL)(),t=(0,S.D)({mutationFn:async e=>{let{audioId:t,config:r}=e;return(await Z.ZP.patch(`audio/${t}`,r)).data},onMutate:async t=>{let{audioId:r,config:i}=t;await e.cancelQueries({queryKey:["useGenerationHistories"]});let o=[];for(let t of e.getQueryCache().getAll().filter(e=>"useGenerationHistories"===e.queryKey[0]))t.state.data&&(o.push({queryKey:t.queryKey,data:t.state.data}),e.setQueryData(t.queryKey,(0,k.Uy)(e=>{if(null==e?void 0:e.pages)for(let t of e.pages)t.items&&(i.is_deleted?t.items=t.items.filter(e=>!("audio"===e.resource_type&&e.id===r)):t.items=t.items.map(e=>"audio"===e.resource_type&&e.id===r?{...e,...i}:e))})));return{previousQueries:o}},onError:(t,r,i)=>{if(console.error("[useAudioUpdate] Failed to update audio:",t),null==i?void 0:i.previousQueries)for(let{queryKey:t,data:r}of i.previousQueries)e.setQueryData(t,r)},onSettled:()=>{e.invalidateQueries({queryKey:["useGenerationHistories"],refetchType:"active"})}});return{updateAudio:async(e,r)=>t.mutateAsync({audioId:e,config:r}),deleteAudio:async e=>t.mutateAsync({audioId:e,config:{is_deleted:!0}}),isUpdating:"loading"===t.status,updateError:t.error}}var F=r(13790),D=r(37013),E=r(26930),R=r(24088),M=r(14360),A=r(97779),I=r(82327);let z=(0,o.memo)(e=>{let{label:t,value:r}=e,o=(0,x.Z)();return(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:24,py:"5px"},children:[(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:500,fontSize:"12px",lineHeight:"23px",color:o.palette.Colors.Gray["600"]},children:t}),(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:500,fontSize:"12px",lineHeight:"1.3",letterSpacing:"-0.24px",color:o.palette.Colors.Gray["500"],textAlign:"right"},children:r})]})});z.displayName="DetailRow";let P=(0,o.memo)(e=>{var t,r;let{item:n,anchorEl:a,open:l,onClose:s}=e,d=(0,x.Z)(),{isMobile:c}=(0,A.j)(),[h,m]=(0,o.useState)(!1),{deleteAudio:w}=_(),S=(0,F.G3)().use.availableVoices(),k=(0,F.G3)().use.availableModels(),Z=(0,F.G3)().use.setPrompt(),P=(0,F.G3)().use.setAudioGenerationConfig(),T=(0,F.G3)().use.setModel(),G=(0,F.G3)().use.setVoice(),{reuseScriptEvent$:U,reuseSettingsEvent$:$}=(0,j.MI)(),L=(0,o.useCallback)(()=>{Z(n.prompt),U.emit({script:n.prompt})},[n.prompt,Z,U]),W=(0,o.useCallback)(async()=>{if(s(),n.id)try{await w(n.id)}catch(e){console.error("[AudioGenerationItemDetail] Failed to delete audio:",e)}},[n.id,w,s]),{setContentFromHistory:B}=(0,E.Uc)(),V=(0,f.useRouter)(),O=(0,o.useCallback)(e=>{n.url&&(B({audioUrl:n.url}),V.push(R.XT))},[n.url,B,V]),H=(0,o.useCallback)(()=>{var e,t;P(n.configs);let r=k.find(e=>{var t;return e.modelId===(null===(t=n.configs)||void 0===t?void 0:t.model_id)}),i=S.find(e=>{var t;return e.voiceId===(null===(t=n.configs)||void 0===t?void 0:t.voice_id)});T(r),G(i),c&&s(),$.emit({script:n.prompt,referenceAudioUrl:null===(e=n.configs)||void 0===e?void 0:e.reference_audio_url,emotionControl:null===(t=n.configs)||void 0===t?void 0:t.emotion_control})},[n.configs,P,T,G,k,S,c,s,$,n.prompt]),N=(0,o.useMemo)(()=>{var e;let t=null===(e=n.configs)||void 0===e?void 0:e.voice_id,r=S.find(e=>e.voiceId===t);return(null==r?void 0:r.name)||t||"Unknown Voice"},[null===(t=n.configs)||void 0===t?void 0:t.voice_id,S]),q=(0,o.useMemo)(()=>{var e,t;let r=(null===(e=n.ai_model)||void 0===e?void 0:e.split("/")[1])||(null===(t=n.configs)||void 0===t?void 0:t.model_id)||"Unknown",i=k.find(e=>e.modelId===r);return(null==i?void 0:i.name)||r},[n.ai_model,null===(r=n.configs)||void 0===r?void 0:r.model_id,k]),X=(0,o.useCallback)(async()=>{if(n.prompt)try{await navigator.clipboard.writeText(n.prompt),m(!0)}catch(e){console.error("Failed to copy:",e)}},[n.prompt]);(0,o.useEffect)(()=>{if(h){let e=setTimeout(()=>{m(!1)},2e3);return()=>clearTimeout(e)}},[h]);let J=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.5";return void 0!==e?e.toFixed(1):t},Q=(0,o.useMemo)(()=>{if("voice_clone"===n.ai_model){var e,t,r,o,a,l,s,d;let c=n.configs;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z,{label:"Reference Audio",value:(0,i.jsx)(D.k,{url:c.reference_audio_url})}),(0,i.jsx)(z,{label:"Happy",value:JSON.stringify(null===(e=c.emotion_control)||void 0===e?void 0:e.happy)}),(0,i.jsx)(z,{label:"Angry",value:JSON.stringify(null===(t=c.emotion_control)||void 0===t?void 0:t.angry)}),(0,i.jsx)(z,{label:"Sad",value:JSON.stringify(null===(r=c.emotion_control)||void 0===r?void 0:r.sad)}),(0,i.jsx)(z,{label:"Fear",value:JSON.stringify(null===(o=c.emotion_control)||void 0===o?void 0:o.fear)}),(0,i.jsx)(z,{label:"Hate",value:JSON.stringify(null===(a=c.emotion_control)||void 0===a?void 0:a.hate)}),(0,i.jsx)(z,{label:"Low",value:JSON.stringify(null===(l=c.emotion_control)||void 0===l?void 0:l.low)}),(0,i.jsx)(z,{label:"Surprise",value:JSON.stringify(null===(s=c.emotion_control)||void 0===s?void 0:s.surprise)}),(0,i.jsx)(z,{label:"Neutral",value:JSON.stringify(null===(d=c.emotion_control)||void 0===d?void 0:d.neutral)}),(0,i.jsx)(z,{label:"Created at",value:n.created_at?new Date((0,I.fV)(n.created_at,"date")).toLocaleString():"Unknown"}),(0,i.jsx)(z,{label:"Updated at",value:n.updated_at?new Date((0,I.fV)(n.updated_at,"date")).toLocaleString():"Unknown"})]})}{let e=n.configs;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z,{label:"Model",value:q}),(0,i.jsx)(z,{label:"Voice",value:N}),(0,i.jsx)(z,{label:"Speed",value:J(e.speed)}),(0,i.jsx)(z,{label:"Similarity",value:J(e.similarity_boost)}),(0,i.jsx)(z,{label:"Stability",value:J(e.stability)}),(0,i.jsx)(z,{label:"Style Exaggeration",value:J(e.style)}),(0,i.jsx)(z,{label:"Speaker Boost",value:e.use_speaker_boost?"Enabled":"Disabled"}),(0,i.jsx)(z,{label:"Created at",value:n.created_at?new Date((0,I.fV)(n.created_at,"date")).toLocaleString():"Unknown"}),(0,i.jsx)(z,{label:"Updated at",value:n.updated_at?new Date((0,I.fV)(n.updated_at,"date")).toLocaleString():"Unknown"})]})}},[n.configs]);return(0,i.jsx)(C.ZP,{open:l,anchorEl:a,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{bgcolor:"#131416",border:`1px solid ${d.palette.Colors.Gray["200"]}`,borderRadius:"8px",width:386,boxShadow:"0px 4px 24px rgba(0, 0, 0, 0.4)"}},children:(0,i.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",gap:1.5,p:2},children:[(0,i.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:600,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["900"]},children:"Script"}),(0,i.jsx)(g.Z,{size:"small",onClick:X,sx:{width:20,height:20,p:0,color:h?d.palette.status.Success:d.palette.Colors.Gray["600"],"&:hover":{bgcolor:"rgba(255,255,255,0.1)"}},children:h?(0,i.jsx)(b.Z,{sx:{fontSize:16}}):(0,i.jsx)(v.Z,{sx:{fontSize:16}})})]}),(0,i.jsx)(u.Z,{sx:{bgcolor:d.palette.Colors.Gray["100"],borderRadius:"8px",px:1.5,py:1,maxHeight:"80px",overflow:"auto",...M.ji,...(0,M.SZ)(4)},children:(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:500,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["500"],whiteSpace:"pre-wrap",wordBreak:"break-word"},children:n.prompt||"No script available"})})]}),(0,i.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:600,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["900"]},children:"Action"}),(0,i.jsxs)(u.Z,{sx:{display:"flex",gap:1.5},children:[(0,i.jsx)(u.Z,{onClick:L,sx:{flex:1,height:30,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:d.palette.Colors.Gray["200"],borderRadius:"4px",cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:d.palette.Colors.Gray["300"]}},children:(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:600,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["900"]},children:"Reuse Script"})}),(0,i.jsx)(u.Z,{onClick:O,sx:{flex:1,height:30,display:"flex",alignItems:"center",justifyContent:"center",gap:.5,bgcolor:d.palette.Colors.Gray["200"],borderRadius:"4px",cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:d.palette.Colors.Gray["300"]}},children:(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:600,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["900"]},children:"Use for lip-sync"})})]})]}),(0,i.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:600,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["900"]},children:"Generation Detail"}),(0,i.jsx)(u.Z,{sx:{border:`1px solid ${d.palette.Colors.Gray["200"]}`,borderRadius:"4px",px:1,py:.5},children:Q})]}),(0,i.jsx)(u.Z,{onClick:H,sx:{height:30,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:d.palette.Colors.Gray["200"],borderRadius:"4px",cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:d.palette.Colors.Gray["300"]}},children:(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:500,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["900"]},children:"Reuse settings"})}),(0,i.jsxs)(u.Z,{onClick:W,sx:{height:30,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:d.palette.Colors.Gray["200"],borderRadius:"4px",cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:d.palette.Colors.Gray["300"]}},children:[(0,i.jsx)(y.Z,{sx:{fontSize:14,color:d.palette.status.Error}}),(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:600,fontSize:"12px",lineHeight:"20px",color:d.palette.Colors.Gray["900"]},children:"Delete"})]})]})})});P.displayName="AudioGenerationItemDetail";var T=r(3674),G=r(24264),U=r(27806),$=r(16585);let L=(0,o.memo)(e=>{var t,r,f,b,v;let{item:y,isPlaying:C,onPlayToggle:j,playbackAnchor:w,audioDurationSec:S,sx:k,hideMenu:Z=!1}=e,D=(0,x.Z)(),{isMobile:E}=(0,A.j)(),[R,M]=(0,o.useState)(!1),I=(0,F.G3)().use.availableVoices(),[z,L]=(0,o.useState)(null),{deleteAudio:W}=_(),[B,V]=(0,o.useState)(0),[O,H]=(0,o.useState)(0),[N,q]=(0,o.useState)(!1),X=(0,o.useRef)(null),J=(0,o.useRef)(C),Q=(0,o.useRef)(null),K=(0,o.useRef)(0);(0,m.Z)(()=>{M(!1)},[]);let Y=(0,o.useCallback)((e,t)=>{let r=Math.max(0,t||0);if(!e||r<=0)return 0;let i=Math.min(100,Math.max(0,e.offsetSec/r*100)),o=Math.max(0,(Date.now()-e.startedAt)/1e3);return Math.min(100,i+(r>0?o/r*100:0))},[]);(0,o.useEffect)(()=>{var e;let t=J.current;J.current=C;let r=Math.max(0,S||(null===(e=y.metadata)||void 0===e?void 0:e.duration)||0),i=K.current;if(K.current=r,X.current&&(cancelAnimationFrame(X.current),X.current=null),!C||!w||r<=0){if(!C&&w){let e=Y(w,r);q(!1),H(0),V(e)}else C||w||(q(!1),H(0),V(0));return}let o=Math.min(100,Math.max(0,w.offsetSec/r*100)),n=Math.max(0,r-w.offsetSec),a=Q.current!==w.revision,l=0===i&&r>0;if(a||!t||l){Q.current=w.revision,q(!1),H(0),V(o),X.current=requestAnimationFrame(()=>{q(!0),H(n),V(100)});return}},[C,w,S,null===(t=y.metadata)||void 0===t?void 0:t.duration,Y]);let{hasValidUrl:ee,isPending:et,isFailed:er}=(0,o.useMemo)(()=>({hasValidUrl:y.url&&""!==y.url&&!y.url.startsWith("mocking-"),isPending:"pending"===y.status||"generating"===y.status,isFailed:"failed"===y.status}),[y.url,y.status]),[ei,eo]=(0,o.useState)(!1),en=(0,o.useCallback)(e=>{e.stopPropagation(),!ei&&ee&&($.B("download",{type:"audio"}),eo(!0),fetch(y.url).then(e=>e.blob()).then(e=>{let t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`audio-${y.prompt}-${y.id||"generated"}.mp3`,document.body.append(r),r.click(),r.remove(),URL.revokeObjectURL(t)}).finally(()=>{eo(!1)}))},[ee,y.url,y.id,y.prompt,ei]),ea=(0,o.useCallback)(e=>{e.stopPropagation(),ee&&!et&&j()},[ee,et,j]),el=(0,o.useCallback)(async()=>{y.id&&await W(y.id)},[y.id,W]),es=(0,o.useCallback)(e=>{!z&&(e.target.closest("[data-action-buttons]")||!ee||et||j())},[ee,et,j,z]),ed=er?"Fail to Generate":(0,G.ro)(y.prompt||"",100),ec=(0,o.useMemo)(()=>{let e=ee&&!et&&!er&&(R||C);return(0,i.jsxs)(u.Z,{sx:{position:"relative",flexShrink:0},children:[(0,i.jsx)(u.Z,{sx:{width:36,height:36,borderRadius:"6px",backgroundColor:"#444",boxShadow:"0px 2.769px 2.769px 0px rgba(0,0,0,0.25)"}}),(0,i.jsx)(u.Z,{onClick:e?ea:void 0,sx:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:e?"pointer":"default","&:hover":e?{opacity:.8}:{}},children:er?(0,i.jsx)(n.Z,{sx:{fontSize:24,opacity:.9,bottom:1,position:"relative"}}):et?(0,i.jsx)(c.Z,{size:20,sx:{color:"white"}}):R||C?C?(0,i.jsx)(a.Z,{sx:{fontSize:28}}):(0,i.jsx)(l.Z,{sx:{fontSize:30}}):(0,i.jsx)(U.CustomWaveform,{sx:{fontSize:32,opacity:.9}})})]})},[et,C,er,R,ee,ea]);return(0,i.jsxs)(u.Z,{onClick:es,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),sx:{position:"relative",borderRadius:"8px",border:`1px solid ${D.palette.Colors.Gray["200"]}`,bgcolor:R?"#131416":"transparent",transition:"all 0.2s ease",cursor:ee&&!et?"pointer":"default",overflow:"hidden","&:hover":{borderColor:D.palette.Colors.Gray["200"]},...k},children:[!!(C&&w&&(S||(null===(r=y.metadata)||void 0===r?void 0:r.duration))||!C&&B>0)&&(0,i.jsx)(u.Z,{sx:{position:"absolute",top:0,left:0,height:"100%",width:`${B}%`,background:`linear-gradient(to right, ${D.palette.Colors.Blue["600"]}, ${D.palette.Colors.Blue["300"]})`,opacity:.3,transitionProperty:N?"width":"none",transitionTimingFunction:"linear",transitionDuration:N?`${O}s`:"0s",pointerEvents:"none"}}),(0,i.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.5,py:1,gap:1,position:"relative",zIndex:1},children:[(0,i.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:1.5,flex:1,minWidth:0},children:[ec,(0,i.jsxs)(u.Z,{sx:{flex:1,minWidth:0},children:[(0,i.jsx)(p.Z,{variant:"body2",sx:{height:er?"46px":"auto",fontFamily:"Inter",fontWeight:600,fontSize:"14px",lineHeight:er?"46px":"23px",color:er?"#ff6f6f":D.palette.Colors.Gray["900"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:ed}),er?null:(0,i.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[ee&&(null===(f=y.metadata)||void 0===f?void 0:f.duration)>0?(0,i.jsx)(u.Z,{sx:{display:"inline-flex",alignItems:"center",px:"5px",py:"2px",borderRadius:"2px",bgcolor:"rgba(255,255,255,0.15)"},children:(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:600,fontSize:"11px",color:D.palette.Colors.Gray["600"],lineHeight:1},children:(0,G.LU)(null===(b=y.metadata)||void 0===b?void 0:b.duration)})}):null,(0,i.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,i.jsx)(T.r,{hash:(null===(v=y.configs)||void 0===v?void 0:v.voice_id)||"",linear:!1,sx:{width:18,height:18,borderRadius:"50%",boxShadow:"0px 2.769px 2.769px 0px rgba(0,0,0,0.25)"}}),(0,i.jsx)(p.Z,{sx:{fontFamily:"Inter",fontWeight:500,fontSize:"12px",lineHeight:"23px",color:D.palette.Colors.Gray["600"]},children:(()=>{var e;if("voice_clone"===y.ai_model)return"Voice Clone";let t=null===(e=y.configs)||void 0===e?void 0:e.voice_id,r=I.find(e=>e.voiceId===t);return(null==r?void 0:r.name)||t||"Unknown Voice"})()})]})]})]})]}),(0,i.jsx)(u.Z,{"data-action-buttons":!0,sx:{display:"flex",gap:1.2,alignItems:"center",opacity:R||E?1:0,transition:"opacity 0.1s ease"},children:er?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{title:y.failed_reason||"Failed to generate",placement:"top",children:(0,i.jsx)(g.Z,{size:"small",sx:{width:24,height:24,borderRadius:"4.8px",bgcolor:D.palette.Colors.Gray["200"],color:"white",p:0,"&:hover":{bgcolor:D.palette.Colors.Gray["200"],color:"white"}},children:(0,i.jsx)(U.PhInfo,{sx:{fontSize:16,width:16,height:16}})})}),(0,i.jsx)(g.Z,{onClick:el,sx:{width:24,height:24,borderRadius:"4.8px",bgcolor:D.palette.Colors.Gray["200"],color:"white",p:0,"&:hover":{bgcolor:"rgba(255,255,255,0.2)"}},children:(0,i.jsx)(U.PhTrash,{sx:{fontSize:16,width:16,height:16}})})]}):(0,i.jsxs)(i.Fragment,{children:[ee?(0,i.jsx)(g.Z,{size:"small",onClick:en,sx:{width:24,height:24,borderRadius:"4.8px",bgcolor:"rgba(255,255,255,0.1)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.2)"}},children:ei?(0,i.jsx)(c.Z,{size:15,sx:{color:"white"}}):(0,i.jsx)(s.Z,{sx:{fontSize:15}})}):null,(0,i.jsx)(g.Z,{size:"small",onClick:ea,disabled:!ee,sx:{width:24,height:24,borderRadius:"4.8px",bgcolor:"rgba(255,255,255,0.1)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.2)"},"&:disabled":{bgcolor:"rgba(255,255,255,0.05)",color:"rgba(255,255,255,0.3)"}},children:C?(0,i.jsx)(a.Z,{sx:{fontSize:20}}):(0,i.jsx)(l.Z,{sx:{fontSize:20}})}),!Z&&(0,i.jsx)(g.Z,{size:"small",onClick:e=>{e.stopPropagation(),L(e.currentTarget)},sx:{width:24,height:24,borderRadius:"4.8px",bgcolor:"rgba(255,255,255,0.1)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.2)"}},children:(0,i.jsx)(d.Z,{sx:{fontSize:15}})})]})})]}),(0,i.jsx)(P,{item:y,anchorEl:z,open:!!z,onClose:()=>{L(null)}})]})});L.displayName="AudioGenerationItem"},3674:function(e,t,r){r.d(t,{r:function(){return d}});var i=r(52676),o=r(75271),n=r(22988);let a=new Map,l=new Map,s=["#DD914F","#FF8C42","#FF6B35","#E85A3C","#D64545","#98F6EE","#2BCFBC","#00CDB7","#00B4A6","#009B95","#6378FF","#2F66FF","#4A90E2","#5DADE2","#3498DB","#2874A6","#1A5490","#929FF6","#8E7CC3","#A569BD","#BB8FCE","#D7BDE2","#D9D9D9","#BDC3C7","#95A5A6","#7F8C8D","#566573","#FB23C2","#FF45CD","#FF74DA","#FF9DE6","#FFC8F1","#FFB3E6","#FF99DD","#00D947","#1BEF61","#4FFB88","#8CFFC0","#C9FFE3","#58D68D","#52BE80","#45B39D","#FDEA01","#FFE733","#FFEF66","#FFF69B","#FFFBCD","#F7DC6F","#F4D03F","#F1C40F","#013FFE","#2F66FF","#6290FF","#9CBAFF","#CFE0FF","#AED6F1","#85C1E2","#FF6F61","#FF8A80","#FF5252","#FA8072","#FFA07A","#3EB489","#48C9B0","#76D7C4","#A3E4D7","#E8DAEF","#D5DBDB","#E6E6FA","#DDA0DD","#FFDAB9","#FFE4B5","#FFEFD5","#FFE4E1"];function d(e){let{hash:t,linear:r=!1,sx:d}=e,c=(0,o.useMemo)(()=>t?t.split("").reduce((e,t)=>t.codePointAt(0)+e,0):0,[t]),u=(0,o.useMemo)(()=>{if(!t)return null;let e=`${t}_colors`;if(l.has(e))return l.get(e);let r={color1:s[c%s.length],color2:s[(c+7)%s.length],color3:s[(c+13)%s.length],color4:s[(c+19)%s.length],color5:s[(c+23)%s.length],color6:s[(c+31)%s.length],color7:s[(c+37)%s.length],color8:s[(c+41)%s.length],color9:s[(c+47)%s.length],color10:s[(c+53)%s.length]};return l.size>500&&Array.from(l.keys()).slice(0,250).forEach(e=>l.delete(e)),l.set(e,r),r},[t,c]),p=(0,o.useMemo)(()=>{let e;if(!t||!u)return"#D9D9D9";let i=`${r}_${t}_gradient`;if(a.has(i))return a.get(i);if(r){let{color1:t,color2:r,color3:i,color4:o,color5:n,color6:a,color7:l}=u;e=`
        linear-gradient(180deg, ${t} 0%, ${r} 100%), 
        linear-gradient(180deg, ${i} 0%, ${o} 100%), 
        linear-gradient(180deg, ${n} 0%, ${a} 100%), 
        ${l}
      `}else{let{color1:t,color2:r,color3:i,color4:o,color5:n,color6:a,color7:l,color8:s,color9:d,color10:p}=u,h=(e,t)=>Math.max(10,Math.min(90,e+(c*(t+1)%30-15))),g=h(20,1),x=h(25,2),m=h(80,3),f=h(25,4),b=h(50,5),v=h(50,6),y=h(25,7),C=h(75,8),j=h(75,9),w=h(75,10);e=`
        radial-gradient(circle at ${g}% ${x}%, ${t} 0%, transparent 45%),
        radial-gradient(circle at ${m}% ${f}%, ${r} 0%, transparent 45%),
        radial-gradient(circle at ${b}% ${v}%, ${i} 0%, transparent 50%),
        radial-gradient(circle at ${y}% ${C}%, ${o} 0%, transparent 45%),
        radial-gradient(circle at ${j}% ${w}%, ${n} 0%, transparent 45%),
        radial-gradient(ellipse at ${h(35,11)}% ${h(65,12)}%, ${a} 0%, transparent 60%),
        radial-gradient(ellipse at ${h(65,13)}% ${h(35,14)}%, ${l} 0%, transparent 60%),
        radial-gradient(circle at ${h(50,15)}% ${h(20,16)}%, ${s} 0%, transparent 40%),
        radial-gradient(circle at ${h(50,17)}% ${h(80,18)}%, ${d} 0%, transparent 40%),
        conic-gradient(from ${c%360}deg at 50% 50%, ${t}, ${i}, ${n}, ${l}, ${d}, ${r}, ${o}, ${a}, ${s}, ${p}, ${t})
      `}return a.size>500&&Array.from(a.keys()).slice(0,250).forEach(e=>a.delete(e)),a.set(i,e),e},[t,r,u,c]);return(0,i.jsx)(n.Z,{sx:{width:40,height:40,background:p,borderRadius:"50%",position:"relative",overflow:"hidden",...!r&&{"&::before":{content:'""',position:"absolute",inset:"-20%",background:"inherit",filter:"blur(10px)",opacity:.6}},...d}})}},65293:function(e,t,r){r.d(t,{MI:function(){return n},YJ:function(){return l},q:function(){return a}});var i=r(75271);let o=(0,r(92067).Z)(),n=()=>({reuseScriptEvent$:(0,i.useMemo)(()=>({on:e=>(o.on("reuseScript",e),()=>o.off("reuseScript",e)),emit:e=>o.emit("reuseScript",e)}),[]),reuseSettingsEvent$:(0,i.useMemo)(()=>({on:e=>(o.on("reuseSettings",e),()=>o.off("reuseSettings",e)),emit:e=>o.emit("reuseSettings",e)}),[])}),a=e=>{let{reuseScriptEvent$:t}=n();(0,i.useEffect)(()=>t.on(e),[t,e])},l=e=>{let{reuseSettingsEvent$:t}=n();(0,i.useEffect)(()=>t.on(e),[t,e])}},68695:function(e,t,r){r.d(t,{X:function(){return n}});var i=r(75271),o=r(71461);let n=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,[n,a]=(0,i.useState)([]);(0,i.useEffect)(()=>{a(e.filter(e=>e&&"undefined"!==e))},[e]);let l=(0,i.useMemo)(()=>JSON.stringify({workflowRunIds:n}),[n]),s=t&&n.length>0,d=(0,i.useCallback)(e=>{try{if(!e.data||""===e.data.trim())return;let t=JSON.parse(e.data);if(!t.workflowRunId||!t.status){console.warn("[Audio SSE Multiple] Received invalid status update:",t);return}r&&r(t.workflowRunId,t),("completed"===t.status||"failed"===t.status)&&a(e=>e.filter(e=>e!==t.workflowRunId))}catch(t){throw console.error("[Audio SSE Multiple] Failed to parse SSE data:",t,"Raw data:",e.data),Error("Failed to parse audio status update")}},[r]),c=(0,i.useCallback)(e=>{console.error("[Audio SSE Multiple] Connection error:",e)},[]),u=(0,o.D)({url:"audio/workflow/status_sse",method:"POST",body:l,enabled:s,logPrefix:"[Audio SSE Multiple]",onMessage:d,onError:c});return{isConnected:u.isConnected,error:u.error,connect:u.connect,disconnect:u.disconnect,isLoading:u.isLoading,activeWorkflows:n}}},95306:function(e,t,r){r.d(t,{G3:function(){return x}});var i=r(75271),o=r(2345),n=r(52973),a=r(47469),l=r(9962),s=r(15830),d=r(81833),c=r(19005),u=r(57170);let p=d.Kj[d.yC],h={provider:d.yC,voice:null,model:null,prompt:"",audioGenerationConfig:p,isDebug:!1,loadingStates:{voices:!1,models:!1,tts:!1},errors:{voices:null,models:null,tts:null},availableVoices:[],availableModels:[]},g=e=>{let{storeName:t}=e;return(0,o.U)()((0,n.mW)((0,n.tJ)((0,a.n)((e,t)=>({...h,setProvider:t=>{e(e=>{e.provider=t,e.voice=null,e.model=null,e.availableVoices=[],e.availableModels=[]},!1,"audio/setProvider")},setPrompt:t=>{e({prompt:t},!1,"audio/setPrompt")},setVoice:t=>{e(e=>{e.voice=t,t&&(e.audioGenerationConfig.voice_id=t.voiceId)},!1,"audio/setVoice")},setModel:t=>{e(e=>{e.model=t,t&&(e.audioGenerationConfig.model_id=t.modelId)},!1,"audio/setModel")},setAudioGenerationConfig:t=>{e({audioGenerationConfig:t},!1,"audio/setAudioGenerationConfig")},updateAudioGenerationConfig:t=>{e(e=>{e.audioGenerationConfig={...e.audioGenerationConfig,...t}},!1,"audio/updateAudioGenerationConfig")},setDebug:t=>{e({isDebug:t},!1,"audio/setDebug")},setLoadingState:(t,r)=>{e(e=>{e.loadingStates[t]=r},!1,`audio/setLoadingState:${t}`)},setError:(t,r)=>{e(e=>{e.errors[t]=r},!1,`audio/setError:${t}`)},setAvailableVoices:t=>{e({availableVoices:t},!1,"audio/setAvailableVoices")},setAvailableModels:t=>{e({availableModels:t},!1,"audio/setAvailableModels")},resetStore:()=>{e(h,!1,"audio/resetStore")}})),{name:t,storage:(0,n.FL)(()=>localStorage),partialize:e=>({provider:e.provider,voice:e.voice,model:e.model,audioGenerationConfig:e.audioGenerationConfig,isDebug:e.isDebug,availableVoices:e.availableVoices,availableModels:e.availableModels}),version:1,migrate:(e,t)=>(t<1&&(e.provider=e.provider??h.provider,e.voice=e.voice??h.voice,e.model=e.model??h.model),e.audioGenerationConfig={...p,...e.audioGenerationConfig},e.isDebug=e.isDebug??h.isDebug,e.availableVoices=e.availableVoices??[],e.availableModels=e.availableModels??[],e)}),{name:`${t}-devtools`}))};function x(){let e=function(){let{getStore:e,setStore:t}=(0,i.useContext)(l.M),{data:r}=(0,c.$_)(),o=e(s.V.AUDIO);if(!o){let e=null==r?void 0:r.last_used_workspace,i=g({storeName:(null==e?void 0:e.workspace_user_id)?`audio-store-${e.workspace_user_id}`:"audio-store"});t(s.V.AUDIO,i),o=i}return o}();return(0,u.N)(e)}},13790:function(e,t,r){r.d(t,{G3:function(){return i.G3}});var i=r(95306)},24264:function(e,t,r){function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";if(!e||e.length<=t)return e;let i=t-r.length;return e.slice(0,Math.max(0,Math.ceil(i/2)))+r+e.slice(Math.max(0,e.length-Math.floor(i/2)))}function o(e){return Number.isNaN(e)||e<0?"0:00":`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}function n(e){return e.split("_").map(e=>e.includes("-")?e.split("-").map(e=>2===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)).join("-"):2===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}r.d(t,{LU:function(){return o},ro:function(){return i},wB:function(){return n}})},37013:function(e,t,r){r.d(t,{k:function(){return d}});var i=r(52676),o=r(75271),n=r(54865),a=r(6721),l=r(29984),s=r(16585);let d=e=>{let{url:t,filename:r,eventData:d,onClick:c}=e,[u,p]=(0,o.useState)(!1);return(0,i.jsx)(a.Z,{size:"small",onClick:e=>{if(e.stopPropagation(),!u&&t){if(u)return;p(!0);let e={...d,type:"audio"};s.B("download",{...e});let i=r||t.split("/").pop()||"download";fetch(t).then(e=>e.blob()).then(e=>{let t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=i,document.body.append(r),r.click(),r.remove(),URL.revokeObjectURL(t)}).finally(()=>{p(!1)})}},sx:{width:24,height:24,borderRadius:"4.8px",bgcolor:"rgba(255,255,255,0.1)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.2)"}},children:u?(0,i.jsx)(l.Z,{size:15,sx:{color:"white"}}):(0,i.jsx)(n.Z,{sx:{fontSize:15}})})}},87345:function(e,t,r){r.d(t,{a:function(){return a},y:function(){return l}});var i=r(75271),o=r(15830);let n=(0,i.createContext)(null),a=n.Provider,l=()=>(0,i.useContext)(n)||o.V.CREATE},43891:function(e,t,r){r.d(t,{z:function(){return h}});var i=r(52676),o=r(75271),n=r(22988),a=r(56407),l=r(80110),s=r(6721),d=r(23638),c=r(39204),u=r(38810),p=r(27806);function h(e){let{audioUrl:t,audioName:r="Audio Name",duration:h=0,onEdit:g,onDelete:x}=e,[m,f]=(0,o.useState)(!1),[b,v]=(0,o.useState)(!1),[y,C]=(0,o.useState)(0),[j,w]=(0,o.useState)(h),[S,k]=(0,o.useState)([]),[Z,_]=(0,o.useState)(!0),F=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=!1;return(async()=>{try{_(!0);let r=await (0,u.hm)(t,40);e||k(r)}catch(t){console.error("Failed to generate waveform:",t),e||k(Array.from({length:40},()=>.3))}finally{e||_(!1)}})(),()=>{e=!0}},[t]),(0,o.useEffect)(()=>{let e=F.current;if(!e)return;let t=()=>{e.duration!==1/0&&w(e.duration)},r=()=>{C(e.currentTime),w(e.duration)},i=()=>{v(!1),C(0)};return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",r),e.addEventListener("ended",i),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",r),e.removeEventListener("ended",i)}},[]);let D=(0,o.useCallback)(()=>{let e=F.current;e&&(b?e.pause():e.play(),v(!b))},[b]),E=(0,o.useCallback)(e=>{e.stopPropagation(),F.current&&F.current.pause(),v(!1),null==x||x()},[x]);return(0,i.jsxs)(n.Z,{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),sx:{position:"relative",width:"100%",height:158,borderRadius:1,overflow:"hidden",backgroundImage:"url(https://cdn.openart.ai/assets/internal/uploads/image_GgNDMdmJ_644x316_1755679816621.webp)",backgroundSize:"100% 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",p:2,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,i.jsx)("audio",{ref:F,src:t}),(0,i.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,i.jsxs)(n.Z,{sx:{width:"0",flex:"1 1 auto"},children:[(0,i.jsx)(l.Z,{variant:"body1",sx:{color:"white",fontWeight:500,fontSize:"16px",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r}),(0,i.jsx)(l.Z,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",mt:.5},children:(0,u.mr)(j||h||0)})]}),(0,i.jsx)(d.M,{children:m?(0,i.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,i.jsx)(a.Z,{direction:"row",spacing:1,sx:{position:"absolute",top:8,right:8},children:(0,i.jsx)(s.Z,{size:"small",onClick:E,sx:{color:"white",backgroundColor:"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},children:(0,i.jsx)(p.PhX,{size:16})})})}):null})]}),(0,i.jsx)(n.Z,{sx:{display:"flex",alignItems:"end",justifyContent:"center",height:40,gap:.5,my:1},children:Z?Array.from({length:40}).map((e,r)=>(0,i.jsx)(n.Z,{sx:{width:3,height:`${20*Math.random()+8}px`,backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:1,animation:"pulse 1.5s ease-in-out infinite",animationDelay:`${20*r}ms`,"@keyframes pulse":{"0%, 100%":{opacity:.3},"50%":{opacity:.8}}}},`loading-waveform-${r}-${t.length}`)):S.map((e,r)=>{let o=r<(j>0?y/j:0)*S.length,a=`${t.slice(-10)}-${r}-${e.toFixed(2)}`;return(0,i.jsx)(n.Z,{sx:{width:3,height:`${32*e}px`,backgroundColor:o?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.4)",borderRadius:.5,transition:"background-color 0.1s ease"}},a)})}),(0,i.jsx)(n.Z,{children:(0,i.jsx)(s.Z,{onClick:D,sx:{backgroundColor:"white",color:"#1e3a8a",width:40,height:40,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)",transform:"scale(1.05)"},transition:"all 0.2s ease"},children:b?(0,i.jsx)(p.PhPauseFill,{size:20}):(0,i.jsx)(p.PhPlayFill,{size:20})})})]})}},26930:function(e,t,r){r.d(t,{mx:function(){return eF},u5:function(){return I.u5},Mf:function(){return I.Mf},Uc:function(){return _.U}});var i=r(43891),o=r(75616),n=r(21964),a=r(10986),l=r(65027),s=r(46973),d=r(61535);let c=()=>{let{enqueueSnackbar:e}=(0,a.Ds)(),t=(0,o.NL)();return(0,n.D)({mutationFn:async e=>{let t=d.xP.safeParse(e);if(!t.success)throw Error(`Validation failed: ${t.error.errors.map(e=>e.message).join(", ")}`);return(await s.ZP.post("/talking-video/create",t.data,{headers:{"Content-Type":"application/json"}})).data},onSuccess:async e=>{await t.invalidateQueries([l.B4])},onError:t=>{var r;let i="Failed to create talking video";(null===(r=t.response)||void 0===r?void 0:r.data)&&"object"==typeof t.response.data?i=t.response.data.error||t.message:t.message&&(i=t.message),e(i,{variant:"error"}),console.error("Failed to create talking video:",t)}})};var u=r(52676),p=r(75271),h=r(77379),g=r(56407),x=r(22988),m=r(80110),f=r(60588),b=r(76651),v=r(39204),y=r(23638),C=r(27806);let j=Object.entries(d.Cm).filter(e=>{let[t,r]=e;return!r.hidden}).map(e=>{let[t,r]=e;return{value:t,...r}}).sort((e,t)=>e.sortIndex-t.sortIndex);function w(e){let{value:t,onChange:r,supportMediaTypes:i}=e,[o,n]=(0,p.useState)(null),a=(0,p.useRef)(null),l=(0,p.useMemo)(()=>j.filter(e=>i.includes(e.mediaType)),[i]),s=l.find(e=>e.value===t)||{value:"",displayName:"Select Model",iconUrl:"",iconColor:""},d=!!o,c=()=>{n(null)},w=e=>{r(e),c()};return(0,p.useEffect)(()=>{let e=e=>{"Escape"===e.key&&c()};return d&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[d]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.Z,{ref:a,onClick:e=>{n(e.currentTarget)},variant:"outlined",endIcon:(0,u.jsx)(v.E.div,{animate:{rotate:d?180:0},transition:{duration:.2},children:(0,u.jsx)(C.PhCaretDown,{size:16})}),sx:{minWidth:100,justifyContent:"space-between",backgroundColor:"transparent",borderColor:e=>e.palette.Colors.Gray["300"],color:e=>e.palette.text.primary,textTransform:"none",px:1.5,py:.75,"&:hover":{borderColor:e=>e.palette.Colors.Gray["400"],backgroundColor:e=>e.palette.Colors.Gray["50"]},"&.Mui-focused":{borderColor:e=>e.palette.Colors.Blue["500"]}},children:(0,u.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,children:[s.iconUrl?(0,u.jsx)(x.Z,{component:"img",src:s.iconUrl,alt:s.displayName,sx:{width:16,height:16,borderRadius:.5,objectFit:"contain"}}):(0,u.jsx)(C.PhCircle,{size:12,style:{color:s.iconColor||"#666"}}),(0,u.jsx)(m.Z,{variant:"body2",fontWeight:500,sx:{fontSize:"12px"},children:s.displayName})]})}),(0,u.jsx)(f.ZP,{open:d,anchorEl:o,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{mt:.5,minWidth:280,maxWidth:320,backgroundColor:"#101010",color:"white",borderRadius:2,boxShadow:"0px 8px 32px rgba(0, 0, 0, 0.3)",border:"1px solid",borderColor:"#202020"}}},disableScrollLock:!0,children:(0,u.jsx)(g.Z,{spacing:0,sx:{p:1},children:l.map(e=>(0,u.jsx)(v.E.div,{whileTap:{scale:.98},children:(0,u.jsx)(x.Z,{onClick:()=>w(e.value),sx:{my:.5,p:2,borderRadius:1,cursor:"pointer",transition:"background-color 0.2s",position:"relative",backgroundColor:e.value===t?"rgba(59, 130, 246, 0.15)":"transparent",border:e.value===t?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent","&:hover":{backgroundColor:e.value===t?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)"}},children:(0,u.jsxs)(g.Z,{spacing:1,children:[(0,u.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,children:[e.iconUrl?(0,u.jsx)(x.Z,{component:"img",src:e.iconUrl,alt:e.displayName,sx:{width:20,height:20,borderRadius:1,objectFit:"contain"}}):(0,u.jsx)(C.PhCircle,{size:16,style:{color:e.iconColor||"#666"}}),(0,u.jsx)(m.Z,{variant:"body1",fontWeight:600,color:"white",children:e.displayName}),e.tag?(0,u.jsx)(b.Z,{label:e.tag,size:"small",sx:{backgroundColor:e.tagColor||"#4CAF50",color:"white",fontSize:"10px",height:20}}):null,(0,u.jsx)(x.Z,{sx:{ml:"auto"},children:(0,u.jsx)(y.M,{children:e.value===t&&(0,u.jsx)(v.E.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},children:(0,u.jsx)(C.PhCheck,{size:16,style:{color:"#4CAF50"}})})})})]}),(0,u.jsx)(m.Z,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",lineHeight:1.3,fontSize:"12px"},children:e.description}),(0,u.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,u.jsx)(m.Z,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.6)",fontSize:"11px",px:1,py:.25,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:.5},children:(0,u.jsx)("span",{children:"image"===e.mediaType?"Image":"Video"})})})]})})},e.value))})})]})}var S=r(58684),k=r(67197),Z=r(86547),_=r(83685),F=r(29984),D=r(46890),E=r(89228),R=r(20198),M=r(60464),A=r(59147),I=r(38810),z=r(95957),P=r(8765),T=r(97792),G=r(11955),U=r(72660),$=r(27574),L=r(35570),W=r(35327),B=r(53152),V=r(24181),O=r(57672),H=r(53874),N=r(45603),q=r(92665),X=r(39964),J=r(61110),Q=r(68695),K=r(14360),Y=r(6045),ee=r(57671),et=r(72757),er=r(97779),ei=r(19005);function eo(e){let{open:t,mode:r="single",userId:i="",maxHeight:n="80vh",pageSize:a=15,onAudioSelect:l,onClose:s}=e,d=(0,O.Z)(),c=(0,o.NL)(),[g,f]=(0,p.useState)(()=>new Set),b=(0,p.useRef)(null),v=(0,Z.F)(e=>e.mockingGenerations),y=(0,p.useMemo)(()=>v.filter(e=>{var t;return"audio"===e.type||(null===(t=e.params)||void 0===t?void 0:t.resource_type)==="audio"}),[v]),C=(0,Z.F)(e=>e.removeMockingGenerationsByResourceId),j=(0,p.useMemo)(()=>({userId:i,resource_type:"audio",page_size:a}),[i,a]),{data:w,isFetching:S,error:k,status:_,fetchNextPage:D,hasNextPage:E,isFetchingNextPage:R,refetch:M}=(0,ee.iq)(j,!0);(0,p.useEffect)(()=>{t&&(f(new Set),M())},[t,M]);let{combinedData:A,realAudioIds:I}=(0,p.useMemo)(()=>{let e=(0,N.Z)((0,q.Z)(null==w?void 0:w.pages,e=>{var t;return(null===(t=e.items)||void 0===t?void 0:t.filter(e=>"audio"===e.resource_type))||[]})),t=e.map(e=>e.id).filter(Boolean),r=[...y.map(e=>{var t,r,o,n,a,l,s;return{id:e.requestId||"",url:"",prompt:(null===(t=e.params)||void 0===t?void 0:t.text)||(null===(r=e.params)||void 0===r?void 0:r.prompt)||"",resource_type:"audio",status:"generating",ai_model:`${(null===(o=e.params)||void 0===o?void 0:o.provider)||"elevenlabs"}/${(null===(n=e.params)||void 0===n?void 0:n.model_id)||"eleven_multilingual_v2"}`,configs:{voice_id:(null===(a=e.params)||void 0===a?void 0:a.voice_id)||"",model_id:(null===(l=e.params)||void 0===l?void 0:l.model_id)||"eleven_multilingual_v2",provider:(null===(s=e.params)||void 0===s?void 0:s.provider)||"elevenlabs"},user_id:i||"",credit_payload:null,album_ids:[],is_downloaded:!1,is_deleted:!1,workflow_run_id:e.workflowRunId,generation_media_resource_id:e.generation_media_resource_id,created_at:new Date().toISOString(),is_starred:!1,failed_reason:void 0}}),...e];return{combinedData:(0,X.Z)(r,e=>{let t=y.find(t=>t.requestId===e.id);return(null==t?void 0:t.generation_media_resource_id)?t.generation_media_resource_id:e.id||"unknown"}).filter(e=>{let r=y.find(t=>t.requestId===e.id);return null==r||!r.generation_media_resource_id||!t.includes(r.generation_media_resource_id)}),realAudioIds:t}},[w,y,i]),z=(0,p.useRef)(new Set);(0,p.useEffect)(()=>{if(I.length>0){let e=I.filter(e=>!z.current.has(e));e.length>0&&(C(e),e.forEach(e=>z.current.add(e)))}},[I,C]),(0,p.useEffect)(()=>{let e=z.current;return()=>{e.clear()}},[]);let P=(0,p.useMemo)(()=>A.map(e=>("pending"===e.status||"generating"===e.status)&&e.workflow_run_id?e.workflow_run_id:null).filter(e=>!!e&&"undefined"!==e),[A]),W=(0,p.useCallback)(async(e,t)=>{"failed"===t.status&&await Promise.all([c.invalidateQueries(["useGenerationHistories"]),c.invalidateQueries([ei.uE]),c.invalidateQueries([ei.OK])]);let r=c.getQueryCache().getAll().filter(e=>"useGenerationHistories"===e.queryKey[0]);for(let i of r)i.state.data&&c.setQueryData(i.queryKey,(0,H.Uy)(r=>{if(null==r?void 0:r.pages){for(let i of r.pages)if(i.items){for(let r of i.items)if("audio"===r.resource_type&&r.workflow_run_id===e){t.status&&(r.status=t.status),t.audio?Object.assign(r,t.audio):"completed"===t.status&&(r.status="completed"),"failed"===t.status&&t.error&&(r.failed_reason=t.error);return}}}}))},[c]);(0,Q.X)(P,P.length>0,W);let{LoadMoreTrigger:B}=function(e){let{hasNextPage:t,isFetchingNextPage:r,isFetching:i,fetchNextPage:o,dataLength:n}=e,a=(0,O.Z)(),l=(0,p.useRef)(null);return(0,p.useEffect)(()=>{if(!t||r||i)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&o()},{root:null,rootMargin:"100px",threshold:.1}),n=l.current;return n&&e.observe(n),()=>{n&&e.unobserve(n)}},[t,r,i,o]),{LoadMoreTrigger:(0,p.useCallback)(()=>(0,u.jsxs)(u.Fragment,{children:[!!t&&(0,u.jsx)(x.Z,{ref:l,sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2,mb:2,height:"40px"},children:r?(0,u.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,u.jsx)(F.Z,{size:20,sx:{color:a.palette.Colors.Gray["500"]}}),(0,u.jsx)(m.Z,{variant:"body2",sx:{color:a.palette.Colors.Gray["500"],fontSize:"14px"},children:"Loading more..."})]}):(0,u.jsx)(x.Z,{sx:{height:"1px",width:"100%"}})}),!t&&!r&&n>0&&(0,u.jsx)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2,mb:2,py:2},children:(0,u.jsx)(m.Z,{variant:"body2",sx:{color:a.palette.Colors.Gray["500"],fontSize:"14px",fontStyle:"italic"},children:"All audio loaded! ()"})})]}),[t,r,n,a.palette.Colors.Gray])}}({hasNextPage:E,isFetchingNextPage:R,isFetching:S,fetchNextPage:D,dataLength:A.length}),{handlePlayAudio:V,currentPlayingId:J,isPlaying:er,duration:eo,playbackAnchor:es}=(0,et.b)(),ed=(0,p.useCallback)(e=>{V({...e,id:e.id||"",title:e.prompt||e.id||"Audio"})},[V]),ec=(0,p.useCallback)((e,t)=>{f(i=>{let o=new Set(i);return"single"===r?(o.clear(),t&&o.add(e)):t?o.add(e):o.delete(e),o})},[r]),eu=(0,p.useCallback)(()=>{let e=A.filter(e=>g.has(e.id||""));null==l||l(e),null==s||s()},[A,g,l,s]),ep=(0,p.useCallback)(()=>{null==s||s()},[s]),eh=(0,p.useMemo)(()=>"loading"===_||S,[_,S]);return(0,Y.S)(b,"back-to-top-audio-history-dialog",!eh,100),(0,u.jsxs)(T.Z,{open:t,onClose:ep,maxWidth:"md",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh",height:"90vh",display:"flex",flexDirection:"column"}},children:[(0,u.jsxs)(G.Z,{sx:{fontFamily:"Poppins",fontSize:"24px",fontWeight:700,color:d.palette.Colors.Gray["900"],borderBottom:`1px solid ${d.palette.Colors.Gray["200"]}`,pb:2},children:["Select Audio",(0,u.jsx)("span",{children:"multiple"===r?"s":""}),g.size>0&&(0,u.jsx)(m.Z,{component:"span",sx:{ml:1,color:d.palette.Colors.Blue["500"],fontSize:"18px",fontWeight:500},children:(0,u.jsxs)("span",{children:["(",g.size," selected)"]})})]}),(0,u.jsxs)(U.Z,{sx:{p:0,flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:[k&&0===A.length?(0,u.jsx)(x.Z,{sx:{p:2},children:(0,u.jsx)($.Z,{severity:"error",children:"Failed to load audio history. Please try again."})}):null,S||0!==A.length?null:(0,u.jsx)(ea,{}),eh?(0,u.jsx)(el,{}):A.length>0?(0,u.jsx)(x.Z,{ref:b,sx:{flex:1,overflowY:"auto",px:2,pt:2,pb:1,...(0,K.SZ)(6),...K.ji},children:(0,u.jsxs)(x.Z,{sx:{display:"grid",gridTemplateColumns:{md:"100%",lg:"50% 50%"},gap:1},children:[A.map((e,t)=>{var i;return(0,u.jsx)(en,{item:e,isPlaying:!!(er&&J===e.id),onPlayToggle:()=>ed(e),playbackAnchor:J===e.id?es:null,audioDurationSec:J===e.id?eo:null===(i=e.metadata)||void 0===i?void 0:i.duration,mode:r,isSelected:g.has(e.id||""),onSelectionChange:t=>ec(e.id||"",t),disabled:"generating"===e.status||"pending"===e.status||!e.url},e.id||`${t}`)}),(0,u.jsx)(x.Z,{sx:{gridColumn:"1 / -1"},children:(0,u.jsx)(B,{})})]})}):null]}),(0,u.jsxs)(L.Z,{sx:{px:3,py:2,borderTop:`1px solid ${d.palette.Colors.Gray["200"]}`,gap:2},children:[(0,u.jsx)(h.Z,{variant:"outlined",onClick:ep,sx:{minWidth:100,color:d.palette.Colors.Gray["700"],borderColor:d.palette.Colors.Gray["300"],"&:hover":{borderColor:d.palette.Colors.Gray["500"],backgroundColor:d.palette.Colors.Gray["50"]}},children:"Cancel"}),(0,u.jsxs)(h.Z,{variant:"contained",onClick:eu,disabled:0===g.size,sx:{color:"#fff",minWidth:100,backgroundColor:d.palette.Colors.Blue["500"],"&:hover":{backgroundColor:d.palette.Colors.Blue["600"]},"&:disabled":{backgroundColor:d.palette.Colors.Gray["300"]}},children:["Confirm",(0,u.jsx)("span",{children:g.size>0?` (${g.size})`:""})]})]})]})}function en(e){let{item:t,isPlaying:r,onPlayToggle:i,playbackAnchor:o,audioDurationSec:n,mode:a,isSelected:l,onSelectionChange:s,disabled:d=!1}=e,c=(0,O.Z)(),p=()=>{d||s(!l)};return(0,u.jsxs)(x.Z,{sx:{position:"relative",opacity:d?.6:1,transition:"opacity 0.2s ease"},children:[(0,u.jsx)(x.Z,{sx:{position:"absolute",top:16,left:8,zIndex:1,cursor:d?"not-allowed":"pointer"},onClick:p,children:"single"===a?(0,u.jsx)(W.Z,{checked:l,disabled:d,size:"small",sx:{color:c.palette.Colors.Gray["400"],"&.Mui-checked":{color:c.palette.Colors.Blue["500"]}}}):(0,u.jsx)(B.Z,{checked:l,disabled:d,size:"small",sx:{color:c.palette.Colors.Gray["400"],"&.Mui-checked":{color:c.palette.Colors.Blue["500"]}}})}),(0,u.jsx)(x.Z,{sx:{position:"relative",border:l?`2px solid ${c.palette.Colors.Blue["500"]}`:"2px solid transparent",borderRadius:"8px",transition:"border-color 0.2s ease",cursor:d?"not-allowed":"pointer",pl:"42px"},onClick:p,children:(0,u.jsx)(J.F,{item:t,isPlaying:r,onPlayToggle:i,playbackAnchor:o,audioDurationSec:n,hideMenu:!0})})]})}function ea(){let e=(0,O.Z)();return(0,u.jsxs)(x.Z,{sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",minHeight:300,height:"100%"},children:[(0,u.jsx)(x.Z,{component:"img",src:"https://cdn.openart.ai/assets/internal/uploads/image_NCgBkyfI_358x294_1753153522450.webp",sx:{mb:3,width:"179px",height:"147px",opacity:.8}}),(0,u.jsx)(m.Z,{variant:"h6",sx:{fontFamily:"Poppins",fontSize:"18px",fontWeight:600,color:e.palette.Colors.Gray["700"],mb:1},children:"No audio found"}),(0,u.jsx)(m.Z,{variant:"body2",sx:{fontSize:"14px",color:e.palette.Colors.Gray["500"],maxWidth:300},children:"Create some audio first to see it here "})]})}function el(){let e=(0,O.Z)(),{isMobile:t}=(0,er.j)();return(0,u.jsx)(x.Z,{sx:{flex:1,px:t?.5:2,pt:2},children:(0,u.jsx)(g.Z,{spacing:1,children:[0,1,2,3,4,5].map(t=>(0,u.jsxs)(x.Z,{sx:{px:1.5,py:1,borderRadius:"8px",background:`linear-gradient(90deg, ${e.palette.Colors.Gray["100"]} 0%, ${e.palette.Colors.Gray["50"]} 100%)`,display:"flex",alignItems:"center",gap:1.5},children:[(0,u.jsx)(V.Z,{variant:"circular",width:24,height:24,sx:{bgcolor:e.palette.Colors.Gray["200"],flexShrink:0}}),(0,u.jsx)(V.Z,{variant:"rounded",width:36,height:36,sx:{borderRadius:"6px",bgcolor:e.palette.Colors.Gray["200"],flexShrink:0}}),(0,u.jsxs)(x.Z,{sx:{flex:1,minWidth:0},children:[(0,u.jsx)(V.Z,{variant:"text",width:`${60+30*Math.random()}%`,height:20,sx:{mb:.5,bgcolor:e.palette.Colors.Gray["200"]}}),(0,u.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,u.jsx)(V.Z,{variant:"rounded",width:40,height:16,sx:{borderRadius:"2px",bgcolor:e.palette.Colors.Gray["100"]}}),(0,u.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,u.jsx)(V.Z,{variant:"circular",width:18,height:18,sx:{bgcolor:e.palette.Colors.Gray["100"]}}),(0,u.jsx)(V.Z,{variant:"text",width:80,height:16,sx:{bgcolor:e.palette.Colors.Gray["100"]}})]})]})]})]},`skeleton-${t}`))})})}let es=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mode:t="single",userId:r="",pageSize:i=15,onAudioSelect:o,maxHeight:n="80vh"}=e,{showModal:a}=(0,P.dd)();return{showModal:()=>{a(eo,{mode:t,userId:r,pageSize:i,maxHeight:n,onAudioSelect:e=>{null==o||o(e)},onClose:()=>{}},{destroyOnClose:!0})}}};var ed=r(49049);let ec=[{id:"history",label:"History",icon:C.PhClockCounterClockwise},{id:"upload",label:"Upload or Drag",icon:C.PhCloudArrowUp},{id:"record",label:"Record",icon:C.PhMicrophone}],eu=d.$6;function ep(e){var t;let{content:r,modelConfig:o,onSelectSource:n,onRemove:a}=e,[l,s]=(0,p.useState)(!1),[c,h]=(0,p.useState)(!1),[b,j]=(0,p.useState)(!1),[w,S]=(0,p.useState)(""),[k,Z]=(0,p.useState)(null),[P,T]=(0,p.useState)(null),G=(0,p.useRef)(null),U=(0,p.useRef)(null),$=(0,p.useRef)(null),{isProcessingContent:L,setIsProcessingContent:W}=(0,_.U)(),{uploadFile:B,isUploading:V,progress:O,reset:H}=(0,ed.k)({cdnFolder:"audio/talking-video",onSuccess:async e=>{try{let t=await (0,I.eo)(e.url),r=(e.url.split("/").pop()||"Uploaded Audio").replace(/\.[^/.]+$/,"");n("audio","upload",e.url,{duration:t,name:r})}catch(t){console.error("Failed to get audio duration:",t),n("audio","upload",e.url)}W(!1)},onError:e=>{S(e.message),W(!1)}}),N=(0,p.useCallback)(async e=>{S(""),H();try{if(e.size>d.aM){S("Audio file size must be 50MB or less");return}W(!0);let t=await (0,I.u5)(e),r=(null==o?void 0:o.minAudioDuration)??1,i=(null==o?void 0:o.maxAudioDuration)??60;if(t<r){S(`Audio too short. Minimum: ${r}s, your audio: ${t.toFixed(1)}s`),W(!1);return}if(t>i){S(`Audio too long. Maximum: ${i}s, your audio: ${t.toFixed(1)}s`),W(!1);return}await B(e)}catch(e){console.error("Audio validation failed:",e),S("Failed to validate audio"),W(!1)}},[o,B,W,H]),{showModal:q}=(0,z.i)({minDuration:(null==o?void 0:o.minAudioDuration)??1,maxDuration:(null==o?void 0:o.maxAudioDuration)??60,onConfirm:async(e,t)=>{try{$.current=t,H(),W(!0);try{let t=await (0,I.GC)(e),r=Date.now(),i=`recording-${r}.mp3`,o=new File([t],i,{type:"audio/mp3"});await B(o)}finally{W(!1)}}catch(e){console.error("Voice recording upload failed:",e),W(!1)}}}),{showModal:X}=es({mode:"single",onAudioSelect:async e=>{if(0===e.length)return;let t=e[0];S(""),W(!0);try{var r;let e=null===(r=t.metadata)||void 0===r?void 0:r.duration;(!e||e<=0)&&(e=await (0,I.eo)(t.url));let i=(null==o?void 0:o.minAudioDuration)??1,a=(null==o?void 0:o.maxAudioDuration)??60;if(e<i){S(`Audio too short. Minimum: ${i}s, your audio: ${e.toFixed(1)}s`),W(!1);return}if(e>a){S(`Audio too long. Maximum: ${a}s, your audio: ${e.toFixed(1)}s`),W(!1);return}n("audio","history",t.url,{duration:e,name:t.prompt||"History Audio"})}catch(e){console.error("Failed to validate history audio duration:",e),S("Failed to validate audio")}finally{W(!1)}}}),J=(e,t)=>{if(h(!0),e.subOptions&&t)Z(t.currentTarget),T(e);else switch(e.id){case"history":X(),K();break;case"upload":var r;null===(r=G.current)||void 0===r||r.click(),K();break;case"record":q(),h(!1)}},Q=(e,t)=>{if(t.stopPropagation(),t.preventDefault(),"upload"===e.id){var r;null===(r=G.current)||void 0===r||r.click(),K()}else"history"===e.id&&(X(),K())},K=()=>{Z(null),T(null),h(!1)},Y=(0,p.useCallback)(async e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&(await N(r),h(!1)),G.current&&(G.current.value="")},[N]);(0,p.useEffect)(()=>{let e=e=>{U.current&&!U.current.contains(e.target)&&h(!1)};return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]);let ee=async e=>{e.preventDefault(),e.stopPropagation(),j(!1);let t=Array.from(e.dataTransfer.files)[0];t&&t.type.startsWith("audio/")&&await N(t)};return V||L?(0,u.jsxs)(x.Z,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,p:2,borderRadius:2,border:"2px dashed",borderColor:e=>e.palette.Colors.Gray["300"],height:158,backgroundColor:e=>e.palette.Colors.Gray["100"]},children:[(0,u.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"center"},children:[(0,u.jsx)(F.Z,{size:16,sx:{mr:1}}),(0,u.jsx)(m.Z,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:V?`Uploading... ${O}%`:"Processing..."})]}),V?(0,u.jsx)(x.Z,{sx:{width:"100%",mt:2},children:(0,u.jsx)(D.Z,{variant:"determinate",value:O,sx:{height:4,borderRadius:2,backgroundColor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:e=>e.palette.primary.main}}})}):null]}):r&&r.url?(0,u.jsx)(i.z,{audioUrl:r.url,audioName:r.name||"Audio Name",duration:r.duration,onEdit:()=>{},onDelete:()=>{null==a||a(),$.current=null}}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x.Z,{ref:U,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),j(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget===e.target&&j(!1)},onDrop:ee,sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,p:2,px:1,borderRadius:1,border:"1px dashed",borderColor:"transparent",cursor:"pointer",transition:"all 0.2s",height:158,backgroundImage:"url(https://cdn.openart.ai/assets/internal/uploads/image_GgNDMdmJ_644x316_1755679816621.webp)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:b?"rgba(0, 0, 0, 0.1)":"transparent","&:hover":{borderColor:e=>e.palette.Colors.Gray["300"]}},children:(0,u.jsx)(y.M,{mode:"wait",children:b?(0,u.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,padding:"16px 24px",borderRadius:8},children:[(0,u.jsx)(C.PhUploadSimple,{size:40}),(0,u.jsx)(m.Z,{variant:"body2",fontWeight:500,children:"Drop audio file here"})]},"dragover"):l||c||w?(0,u.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[(0,u.jsx)(g.Z,{direction:"row",spacing:1,sx:{p:2,borderRadius:2},children:ec.map(e=>(0,u.jsxs)(g.Z,{flexDirection:"column",alignItems:"center",spacing:.5,onClick:t=>J(e,t),sx:{p:.5,py:1,borderRadius:1,border:"1px solid rgba(255, 255, 255, 0.16)",cursor:"pointer",color:"white",minWidth:100,transition:"all 0.2s","&:hover":{transform:"scale(1.05)"}},children:[(0,u.jsx)(e.icon,{size:24}),(0,u.jsx)(m.Z,{variant:"caption",sx:{fontSize:"11px",fontWeight:500,textAlign:"center"},children:e.label})]},e.id))}),(0,u.jsx)(m.Z,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"11px",textAlign:"center"},children:`Duration: ${(null==o?void 0:o.minAudioDuration)??1}s - ${(null==o?void 0:o.maxAudioDuration)??60}s`}),!!w&&(0,u.jsx)(m.Z,{variant:"caption",sx:{color:e=>e.palette.status.Error,fontSize:"11px",textAlign:"center",fontWeight:500},children:w})]},"hover"):(0,u.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,padding:"16px 24px",borderRadius:8},children:[(0,u.jsx)(x.Z,{component:"img",src:"https://cdn.openart.ai/assets/internal/uploads/image_onWDsMQ0_114x64_1756003220264.webp",sx:{width:56,height:32}}),(0,u.jsx)(m.Z,{variant:"body2",fontWeight:500,children:"+ Add Talking Content"})]},"default")})}),(0,u.jsx)(f.ZP,{open:!!k,anchorEl:k,onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},slotProps:{paper:{sx:{mt:.5,boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",minWidth:120}}},disableScrollLock:!0,children:(0,u.jsx)(E.Z,{sx:{p:0},children:null==P?void 0:null===(t=P.subOptions)||void 0===t?void 0:t.map(e=>(0,u.jsxs)(R.Z,{onClick:t=>Q(e,t),sx:{py:1,px:2,"&:hover":{backgroundColor:e=>e.palette.Colors.Gray["100"]}},children:[(0,u.jsx)(M.Z,{children:(0,u.jsx)(e.icon,{size:18})}),(0,u.jsx)(A.Z,{primary:e.label,primaryTypographyProps:{fontSize:14}})]},e.id))})}),(0,u.jsx)("input",{ref:G,type:"file",accept:eu.join(","),onChange:Y,style:{display:"none"}})]})}var eh=r(24475),eg=r(6721),ex=r(45138),em=r(92832),ef=r(15830),eb=r(49218),ev=r(76602);let ey=[{id:"sample-1",name:"1",type:"image",thumbnailUrl:"https://cdn.openart.ai/assets/internal/uploads/image_DFNnwaRt_268x268_1756430814677.webp",url:"https://cdn.openart.ai/assets/internal/uploads/image_8mOG7hom_1024x1024_1756430601108.webp"},{id:"sample-2",name:"2",type:"image",thumbnailUrl:"https://cdn.openart.ai/assets/internal/uploads/image_VVhdWHfq_268x268_1756430839681.webp",url:"https://cdn.openart.ai/assets/internal/uploads/image_ZN3kBGTS_960x1431_1756433179153.webp"},{id:"sample-3",name:"3",type:"image",thumbnailUrl:"https://cdn.openart.ai/assets/internal/uploads/image_LAO6oajE_268x268_1756430858025.webp",url:"https://cdn.openart.ai/assets/internal/uploads/image_-TCnUAuo_1024x1024_1756430940136.webp"},{id:"sample-4",name:"4",type:"video",thumbnailUrl:"https://cdn.openart.ai/assets/internal/uploads/image_KGvLB5lJ_268x268_1756430881690.webp",url:"https://cdn.openart.ai/assets/internal/uploads/file_upFk_Bbq_1756431013503.mp4",duration:10},{id:"sample-5",name:"5",type:"video",thumbnailUrl:"https://cdn.openart.ai/assets/internal/uploads/image_i718FlFZ_268x268_1756430897370.webp",url:"https://cdn.openart.ai/assets/internal/uploads/file_WkKra7QN_1756431052738.mp4",duration:10},{id:"sample-6",name:"6",type:"video",thumbnailUrl:"https://cdn.openart.ai/assets/internal/uploads/image_jJDe-nV__268x268_1756430911121.webp",url:"https://cdn.openart.ai/assets/internal/uploads/file_WnjekpJX_1756431034297.mp4",duration:10}],eC=(e,t)=>{let r=[];switch(e){case ef.V.VIDEO_LIP_SYNC_VIDEO:return r.push({id:"video",label:"Select Video",icon:C.PhVideoCamera,subOptions:[{id:"upload",label:"Upload",icon:C.PhUploadSimple},{id:"history",label:"History",icon:C.PhClockCounterClockwise}]},{id:"image",label:"Select Image",icon:C.PhImage,subOptions:[{id:"upload",label:"Upload",icon:C.PhUploadSimple},{id:"history",label:"History",icon:C.PhClockCounterClockwise}]},{id:"character",label:"Character",icon:C.PhPersonArmsSpread}),r;case ef.V.CHARACTER:return[{id:"character",label:"Select Character",icon:C.PhUserCircle},{id:"image",label:"Upload Image",icon:C.PhImage,subOptions:[{id:"upload",label:"Upload",icon:C.PhUploadSimple},{id:"history",label:"History",icon:C.PhClockCounterClockwise}]}];default:return[{id:"video",label:"Upload Video",icon:C.PhVideo,subOptions:[{id:"upload",label:"Upload",icon:C.PhUploadSimple},{id:"history",label:"History",icon:C.PhClockCounterClockwise}]},{id:"history",label:"History",icon:C.PhClockCounterClockwise}]}};function ej(e){var t;let{mode:r=ef.V.VIDEO_LIP_SYNC_VIDEO,modelConfig:i,visual:o,onSelectSource:n,onRemove:a,onDescriptionChange:l}=e,[s,c]=(0,p.useState)(!1),[h,j]=(0,p.useState)(!1),[w,S]=(0,p.useState)(!1),[k,Z]=(0,p.useState)(null),[z,P]=(0,p.useState)(null),[T,G]=(0,p.useState)(""),[U,$]=(0,p.useState)((null==o?void 0:o.description)||""),[L,W]=(0,p.useState)(!1),[B,V]=(0,p.useState)(null),[O]=(0,p.useState)(ey),H=(0,p.useRef)(null),N=(0,p.useRef)(null),q=eC(r,i),{setSelectedModel:X,isProcessingVisual:J}=(0,_.U)(),Q=(0,p.useCallback)(e=>{(null==i?void 0:i.mediaType)!==e&&("video"===e?X(d.SK):"image"===e&&X(d.cR))},[X,i]),{uploadFile:K,isUploading:Y,progress:ee,reset:et}=(0,ed.k)({cdnFolder:(null==z?void 0:z.id)==="video"?"videos/talking-video":"images/talking-video",onSuccess:async e=>{W(!0),V(e.url);let t=null==z?void 0:z.id;Q(t),n(t||"image","upload",e.url,U),(0,eh.setTimeout)(()=>{L&&(W(!1),V(null))},5e3)},onError:e=>{G(e.message),W(!1)}}),er=(0,em.Z)(z),ei=(0,p.useCallback)(async e=>{if(er.current){G(""),et();try{let t="video"===er.current.id||e.type.startsWith("video/"),r="image"===er.current.id||e.type.startsWith("image/");if(t&&e.size>d.Pi){G("Video file size must be 100MB or less");return}if(r&&e.size>d.WB){G("Image file size must be 20MB or less");return}if(i&&"video"===i.mediaType&&"video"===er.current.id){let t=await (0,I.u5)(e);if(i.minVideoDuration&&t<i.minVideoDuration){G(`Video too short. Minimum: ${i.minVideoDuration}s, your video: ${t.toFixed(1)}s`);return}if(i.maxVideoDuration&&t>i.maxVideoDuration){G(`Video too long. Maximum: ${i.maxVideoDuration}s, your video: ${t.toFixed(1)}s`);return}}await K(e)}catch(e){console.error("Validation failed:",e),G("Failed to validate media")}}},[i,er,K,et]),{handleShowModal:eo}=(0,eb.p)({type:(null==z?void 0:z.id)==="video"?"video":"image",maxSelectionCount:1,onClose:e=>{if(e&&e.length>0){let t=e[0],r=t.match(/\.(mp4|webm|mov|avi|mkv)$/i)?"video":"image";"video"===r&&(W(!0),V(t)),n(r,"history",t,U),Q(r),(0,eh.setTimeout)(()=>{L&&(W(!1),V(null))},5e3)}}}),{showModal:en}=(0,ev.x)({onCharacterSelect:e=>{let t=e.image_url||e.thumbnail;t&&(n("image","character",t,U),Q("image"))}}),ea=(e,t)=>{t.stopPropagation(),t.preventDefault(),j(!0),e.subOptions?(Z(t.currentTarget),P(e)):("character"===e.id?en():n(e.id,e.id,void 0,U),j(!1))},el=(e,t)=>{if(t.stopPropagation(),t.preventDefault(),"history"===e.id)eo(),es();else if("upload"===e.id){var r;null===(r=N.current)||void 0===r||r.click(),es()}else z&&(n(z.id,e.id,void 0,U),es())},es=()=>{Z(null),j(!1)};(0,p.useEffect)(()=>{$((null==o?void 0:o.description)||"")},[null==o?void 0:o.description]),(0,p.useEffect)(()=>{if(L&&B&&(null==o?void 0:o.url)===B){let e="video"===o.type;(!e||e&&"number"==typeof o.duration)&&(W(!1),V(null))}},[o,L,B]);let ec=e=>{"video"===e.type&&(W(!0),V(e.url)),n(e.type,"image",e.url,U),Q(e.type),(0,eh.setTimeout)(()=>{L&&(W(!1),V(null))},5e3)},eu=(0,p.useCallback)(async e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&await ei(r),N.current&&(N.current.value="")},[ei]);(0,p.useEffect)(()=>{let e=e=>{H.current&&!H.current.contains(e.target)&&j(!1)};return h&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]);let ep=async e=>{e.preventDefault(),e.stopPropagation(),S(!1);let t=Array.from(e.dataTransfer.files)[0];if(t){let e=t.type.startsWith("video/"),r=t.type.startsWith("image/");(e||r)&&(P({id:e?"video":"image",label:"",icon:null}),(0,eh.setTimeout)(()=>{ei(t)},0))}};return Y||L||J||ee>0&&ee<100?(0,u.jsxs)(x.Z,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,p:2,borderRadius:2,border:"2px dashed",borderColor:e=>e.palette.Colors.Gray["300"],height:158,backgroundColor:e=>e.palette.Colors.Gray["100"]},children:[(0,u.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"center"},children:[(0,u.jsx)(F.Z,{size:16,sx:{mr:1}}),(0,u.jsx)(m.Z,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:L||J?"Processing...":`Uploading... ${ee}%`})]}),Y?(0,u.jsx)(x.Z,{sx:{width:"100%",mt:2},children:(0,u.jsx)(D.Z,{variant:"determinate",value:ee,sx:{height:4,borderRadius:2,backgroundColor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:e=>e.palette.primary.main}}})}):null]}):o?(0,u.jsxs)(g.Z,{spacing:1,children:[(0,u.jsxs)(x.Z,{ref:H,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),sx:{position:"relative",borderRadius:1,overflow:"hidden",backgroundColor:"#000",aspectRatio:"16/9",cursor:"pointer",height:158,border:"1px solid",borderColor:e=>e.palette.Colors.Gray["300"]},children:["image"===o.type||"character"===o.type?(0,u.jsx)(x.Z,{component:"img",src:o.url,alt:o.name,sx:{width:"100%",height:"100%",objectFit:"contain"}}):"video"===o.type?(0,u.jsx)(x.Z,{component:"video",src:o.url,controls:!0,sx:{width:"100%",height:"100%",objectFit:"contain"}}):null,(0,u.jsx)(b.Z,{label:"character"===o.source?"character":o.type,size:"small",sx:{position:"absolute",top:8,left:8,backgroundColor:"rgba(0, 0, 0, 0.6)",color:"white"}}),(0,u.jsx)(y.M,{children:s?(0,u.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:8,right:8},children:(0,u.jsx)(eg.Z,{size:"small",onClick:e=>{e.stopPropagation(),null==a||a()},sx:{color:"white",backgroundColor:"rgba(0, 0, 0, 0.6)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:(0,u.jsx)(C.PhX,{size:16})})}):null})]}),("image"===o.type||"character"===o.type)&&(null==i?void 0:i.supportDescription)!==!1&&(0,u.jsxs)(x.Z,{sx:{position:"relative"},children:[(0,u.jsx)(ex.Z,{multiline:!0,minRows:4,maxRows:6,value:U,onChange:e=>{let t=e.target.value;$(t),null==l||l(t)},placeholder:"[Optional] Please provide a detailed description of the actions unfolding in the scene.",variant:"outlined",inputProps:{maxLength:800},sx:{width:"100%","& .MuiOutlinedInput-root":{paddingBottom:"24px",backgroundColor:"var(--Gray-100)",borderRadius:1,fontSize:"12px",lineHeight:"20px","& fieldset":{borderColor:"var(--Gray-300)"},"&:hover fieldset":{borderColor:"var(--Gray-400)"},"&.Mui-focused fieldset":{borderColor:"var(--Blue-500)",borderWidth:"1px"}},"& .MuiInputBase-input":{color:"var(--Gray-900)",fontSize:"12px",lineHeight:"20px","&::placeholder":{color:"var(--Gray-500)",opacity:1}}}}),(0,u.jsx)(x.Z,{sx:{position:"absolute",bottom:8,right:8,display:"flex",justifyContent:"flex-end",mt:.5},children:(0,u.jsxs)(m.Z,{variant:"caption",sx:{fontSize:"12px",color:U.length>720?"var(--Error)":U.length>600?"var(--Warning)":"var(--Gray-500)",fontWeight:U.length>720?500:400},children:[U.length,"/800"]})})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x.Z,{ref:H,onClick:()=>{},onMouseEnter:()=>c(!0),onMouseLeave:()=>{c(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),S(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget===e.target&&S(!1)},onDrop:ep,sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,p:2,borderRadius:1,border:"1px dashed",borderColor:"transparent",cursor:"pointer",transition:"all 0.2s",height:158,background:"linear-gradient(114deg, #1D1A1A 18.11%, #383E4C 64.05%, #302B3F 106.58%)",backgroundBlendMode:"lighten",mixBlendMode:"difference","&:hover":{borderColor:e=>e.palette.Colors.Gray["300"]}},children:(0,u.jsx)(y.M,{mode:"wait",children:w?(0,u.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,padding:"16px 24px",borderRadius:8},children:[(0,u.jsx)(C.PhUploadSimple,{size:40}),(0,u.jsx)(m.Z,{variant:"body2",fontWeight:500,children:(null==i?void 0:i.mediaType)==="image"?"Drop image here":(null==i?void 0:i.mediaType)==="video"?"Drop video here":"Drop image or video here"})]},"dragover"):s||h||T?(0,u.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[(0,u.jsx)(g.Z,{direction:"row",spacing:1,sx:{p:2,borderRadius:2},children:q.map(e=>(0,u.jsxs)(g.Z,{flexDirection:"column",alignItems:"center",sx:{p:1,px:.5,borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.16)",color:"#fff",transition:"all 0.2s","&:hover":{transform:"scale(1.05)"}},onClick:t=>ea(e,t),children:[(0,u.jsx)(x.Z,{children:(0,u.jsx)(e.icon,{size:24})}),(0,u.jsx)(m.Z,{variant:"body2",sx:{fontSize:"12px",minWidth:90,textAlign:"center"},children:e.label})]},e.id))}),!!((null==i?void 0:i.mediaType)==="video"&&(i.minVideoDuration||i.maxVideoDuration))&&(0,u.jsx)(m.Z,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"11px",textAlign:"center"},children:`Duration: ${i.minVideoDuration||0}s - ${i.maxVideoDuration||""}s`}),!!T&&(0,u.jsx)(m.Z,{variant:"caption",sx:{color:"#ff4444",fontSize:"11px",textAlign:"center",fontWeight:500},children:T})]},"hover"):(0,u.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,padding:"16px 24px",borderRadius:8},children:[(0,u.jsx)(x.Z,{component:"img",src:"https://cdn.openart.ai/assets/internal/uploads/image_MxkOZVhl_196x131_1756172582005.webp",sx:{width:97,height:63}}),(0,u.jsx)(m.Z,{variant:"body2",fontWeight:500,children:(()=>{switch(r){case ef.V.VIDEO_LIP_SYNC_VIDEO:return"+ Select Talking Visual";case ef.V.CHARACTER:return"+ Select Character or Image";default:return"+ Select Talking Visual"}})()})]},"default")})}),(0,u.jsxs)(x.Z,{sx:{mt:2},children:[(0,u.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:(0,u.jsx)(m.Z,{variant:"body2",sx:{color:"var(--Gray-700)",fontSize:"12px",fontWeight:500},children:"Try community character"})}),(0,u.jsx)(x.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:1},children:O.slice(0,6).map(e=>(0,u.jsxs)(x.Z,{onClick:()=>ec(e),sx:{position:"relative",aspectRatio:"1",borderRadius:"6px",overflow:"hidden",cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"scale(1.05)",borderColor:"var(--Blue-500)",boxShadow:"0 4px 12px rgba(1, 63, 254, 0.15)"}},children:[(0,u.jsx)(x.Z,{component:"img",src:e.thumbnailUrl,alt:e.name,sx:{width:"100%",height:"100%",objectFit:"cover"}}),"video"===e.type&&e.duration?(0,u.jsx)(x.Z,{sx:{position:"absolute",top:"3px",left:"3px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(217, 217, 217, 0.25)",borderRadius:"2px",px:"1.5px",py:"0px",minWidth:15,height:9.3},children:(0,u.jsxs)(m.Z,{variant:"caption",sx:{fontSize:"7px",fontWeight:500,color:"#FFFFFF",lineHeight:1.3,letterSpacing:"-0.02em"},children:[e.duration,"s"]})}):null,(0,u.jsx)(x.Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",transition:"background-color 0.2s ease","&:hover":{backgroundColor:"rgba(1, 63, 254, 0.1)"}}})]},e.id))})]}),(0,u.jsx)(f.ZP,{open:!!k,anchorEl:k,onClose:es,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},slotProps:{paper:{sx:{mt:.5,boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",minWidth:120}}},disableScrollLock:!0,children:(0,u.jsx)(E.Z,{sx:{p:0},children:null==z?void 0:null===(t=z.subOptions)||void 0===t?void 0:t.map(e=>(0,u.jsxs)(R.Z,{onClick:t=>el(e,t),sx:{py:1,px:2,"&:hover":{backgroundColor:e=>e.palette.Colors.Gray["100"]}},children:[(0,u.jsx)(M.Z,{children:(0,u.jsx)(e.icon,{size:18})}),(0,u.jsx)(A.Z,{primary:e.label,primaryTypographyProps:{fontSize:14}})]},e.id))})}),(0,u.jsx)("input",{ref:N,type:"file",accept:(null==z?void 0:z.id)==="video"?"video/*":"image/*",onChange:eu,style:{display:"none"}})]})}var ew=r(56261),eS=r(38218),ek=r(16585);let eZ=(e,t)=>"kling"===e?Math.ceil(t/5):"creatify-aurora"===e?Math.ceil(t/15):Math.ceil(t),e_={"lip-sync":{title:"Lip-Sync Video",description:"Make any video, image, or character talk.",supportMediaTypes:["image","video"]},"lip-sync-character":{title:"Lip-Sync Character",description:"Make any video, image, or character talk.",supportMediaTypes:["image","video"]},"character-talk":{title:"Make Character Talk",description:"Upload an image and make it speak.",supportMediaTypes:["image"]},dub:{title:"Dub My Video",description:"Replace or add audio to a video clip.",supportMediaTypes:["video"]}};function eF(e){let{mode:t,...r}=e,{visual:i,content:n,selectedModel:a,setVisual:l,setVisualFromHistory:s,clearVisual:f,setContent:b,clearContent:y,setSelectedModel:j}=(0,_.U)(),{type:F}=r,{title:D,description:E,supportMediaTypes:R=[]}=e_[F]||{},M=c();(0,p.useEffect)(()=>{if(!a)return;let e=d.Cm[a];e&&i&&!("image"===e.mediaType&&("image"===i.type||"character"===i.type)||"video"===e.mediaType&&"video"===i.type)&&f()},[a,i,f]);let{addMockingGeneration:A,removeMockingGenerationByRequestId:I,updateResourceIdByRequestId:z}=(0,Z.F)(),P=(0,o.NL)(),T=async()=>{if(!a){console.error("No model selected");return}let e={mediaUrl:(null==i?void 0:i.url)||"",audioUrl:(null==n?void 0:n.url)||"",description:(null==i?void 0:i.description)||"",model:a};if(!d.xP.safeParse(e).success)return;let t=A({turbo_mode:"normal"});try{let r=await M.mutateAsync(e);z(t,[r.generation_media_resource_id]),await P.invalidateQueries([ei.uE]),await P.invalidateQueries({queryKey:["useGenerationHistories"],exact:!1}),(0,ek.B)("asset_created",{creation_source:"lipsync",image_num:1,credits_num:L||0,model_name:a,page_type:F})}catch(e){console.error("Creation failed:",e),I(t)}},G=async(e,t,r,i)=>{r&&await s({url:r,source:t,mediaType:e,description:i})},U=(e,t,r,i)=>{r?b({id:(0,k.x0)(),url:r,name:(null==i?void 0:i.name)||r.split("/").pop()||("voice"===e?"Voice Recording":"Uploaded Audio"),type:e,duration:null==i?void 0:i.duration}):b({id:(0,k.x0)(),type:e})},$=(null==i?void 0:i.url)&&(null==n?void 0:n.url)&&a&&!M.isLoading,L=(0,p.useMemo)(()=>{if(!a)return 0;let e=d.Cm[a],t="kling"===a?Math.ceil((null==i?void 0:i.duration)||0):Math.ceil((null==n?void 0:n.duration)||0);if(e){let r=e.featureKeys;return(0,eS.du)(r,r.reduce((e,r)=>(e[r]=eZ(a,t),e),{}))}return 0},[a,null==n?void 0:n.duration,null==i?void 0:i.duration]);return(0,u.jsxs)(g.Z,{direction:"column",spacing:2,sx:{position:"relative",height:"100%",py:1.5,px:.5,backgroundColor:"#1a1a1a",color:"white"},children:[(0,u.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{pb:2,borderBottom:"1px solid",borderColor:e=>e.palette.Colors.Gray["200"]},children:[(0,u.jsx)(m.Z,{variant:"h6",fontWeight:600,sx:{whiteSpace:"nowrap",color:"white",fontSize:"18px"},children:D}),(0,u.jsx)(w,{value:a,onChange:j,supportMediaTypes:R})]}),(0,u.jsxs)(x.Z,{sx:{flex:"1 1 auto",overflowY:"auto",overflowX:"hidden"},children:[(0,u.jsx)(v.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,u.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:1,px:1.5,py:2,mb:3},children:[(0,u.jsx)(m.Z,{variant:"body2",sx:{mr:1.5,color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",lineHeight:1.4},children:E}),(0,u.jsx)(h.Z,{size:"small",variant:"outlined",sx:{color:(0,ew.L)("Blue/600"),borderColor:"transparent",backgroundColor:"rgba(255, 255, 255, 0.1)",fontSize:"12px",textTransform:"none",minWidth:"auto",whiteSpace:"nowrap",px:1,"&:hover":{borderColor:"rgba(255, 255, 255, 0.4)",backgroundColor:"rgba(255, 255, 255, 0.05)"}},onClick:()=>{G("video","example","https://cdn.openart.ai/assets/internal/uploads/file_upFk_Bbq_1756431013503.mp4"),U("audio","example","https://cdn.openart.ai/audio/lipsync-example.mp3",{duration:15,name:"Example Audio"}),j("kling")},children:"Try Example"})]})}),(0,u.jsxs)(g.Z,{spacing:1,sx:{p:1,mb:3,borderRadius:1,border:"1px solid",borderColor:e=>e.palette.Colors.Gray["200"]},children:[(0,u.jsx)(m.Z,{component:"div",variant:"subtitle1",fontWeight:600,sx:{color:"white",fontSize:"16px",mb:1},children:"1. Who will be talking?"}),(0,u.jsx)(ej,{mode:t,visual:i,modelConfig:a?d.Cm[a]:void 0,onSelectSource:G,onRemove:f,onDescriptionChange:e=>{i&&l({...i,description:e})}})]}),(0,u.jsxs)(g.Z,{spacing:1,sx:{p:1,borderRadius:1,border:"1px solid",borderColor:e=>e.palette.Colors.Gray["200"]},children:[(0,u.jsx)(m.Z,{variant:"subtitle1",fontWeight:600,sx:{color:"white",fontSize:"16px",mb:1},children:"2. What will they say?"}),(0,u.jsx)(ep,{content:n||void 0,modelConfig:a?d.Cm[a]:void 0,onSelectSource:U,onRemove:y})]})]}),(0,u.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,u.jsxs)(g.Z,{spacing:2,sx:{position:"sticky",bottom:0,left:0,right:0},children:[(0,u.jsx)(S.Z,{variant:"contained",size:"large",disabled:!$,onClick:T,fullWidth:!0,loading:M.isLoading,sx:{py:2,color:"white",backgroundColor:e=>e.palette.Colors.Blue["500"],borderRadius:1,fontSize:"16px",fontWeight:600,textTransform:"none",border:"1px solid rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:e=>e.palette.Colors.Blue["400"],borderColor:"rgba(255, 255, 255, 0.2)"},"&:disabled":{backgroundColor:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.5)",borderColor:"rgba(255, 255, 255, 0.05)"}},startIcon:(0,u.jsx)(C.PhSparkle,{size:16}),children:M.isLoading?"Creating...":"Create"}),(0,u.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:.5,sx:{mt:"12px !important"},children:[(0,u.jsx)(C.PhCurrencyEth,{size:12,sx:{color:e=>e.palette.Colors.Green["500"]}}),(0,u.jsxs)(m.Z,{variant:"body2",sx:{color:e=>e.palette.Colors.Green["500"],fontWeight:500,fontSize:"14px"},children:[L," credits"]}),(0,u.jsx)(m.Z,{variant:"body2",sx:{color:e=>e.palette.Colors.Gray["500"],fontSize:"14px"},children:"Will be charged"})]})]})})]})}},95957:function(e,t,r){r.d(t,{i:function(){return y}});var i=r(8765),o=r(52676),n=r(75271),a=r(97792),l=r(56407),s=r(80110),d=r(6721),c=r(72660),u=r(22988),p=r(77379),h=r(23638),g=r(39204),x=r(94497),m=r.n(x),f=r(27806);function b(e){let{open:t,onClose:r,audioBlob:i,duration:x}=e,[m,b]=(0,n.useState)(!1),[v,y]=(0,n.useState)(0),C=(0,n.useRef)(null),j=(0,n.useRef)(null),w=(0,n.useRef)(null),S=e=>{if(!e||!Number.isFinite(e)||e<0)return"00:00";let t=Math.floor(e);return`${Math.floor(t/60).toString().padStart(2,"0")}:${(t%60).toString().padStart(2,"0")}`};(0,n.useEffect)(()=>{if(t&&i){C.current||(C.current=new Audio);let e=URL.createObjectURL(i);w.current=e,C.current.src=e;let t=()=>{C.current&&y(0)},r=()=>{C.current&&y(Math.floor(10*C.current.currentTime)/10)},o=()=>{b(!1),y(0),j.current&&clearInterval(j.current)};return C.current.addEventListener("loadedmetadata",t),C.current.addEventListener("timeupdate",r),C.current.addEventListener("ended",o),()=>{C.current&&(C.current.removeEventListener("loadedmetadata",t),C.current.removeEventListener("timeupdate",r),C.current.removeEventListener("ended",o))}}},[t,i]),(0,n.useEffect)(()=>{t||(C.current&&(C.current.pause(),C.current.currentTime=0),j.current&&clearInterval(j.current),w.current&&(URL.revokeObjectURL(w.current),w.current=null),b(!1),y(0))},[t]);let k=x>0?v/x*100:0;return(0,o.jsxs)(a.Z,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f1419 100%)",color:"white",borderRadius:3,minHeight:400}},children:[(0,o.jsxs)(l.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{p:3,pb:1},children:[(0,o.jsx)(s.Z,{variant:"h6",fontWeight:600,children:"Audio Preview"}),(0,o.jsx)(d.Z,{onClick:r,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,o.jsx)(f.PhX,{size:20})})]}),(0,o.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:300,px:3,pb:3,gap:4},children:[(0,o.jsx)(h.M,{children:(0,o.jsxs)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:32,width:"100%"},children:[(0,o.jsxs)(u.Z,{sx:{textAlign:"center"},children:[(0,o.jsxs)(s.Z,{variant:"h2",sx:{fontSize:"48px",fontWeight:300,letterSpacing:2,fontFamily:"monospace",color:"#3b82f6",mb:1},children:[S(v)," / ",S(x)]}),(0,o.jsx)(s.Z,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:m?"Playing...":"Paused"})]}),(0,o.jsx)(u.Z,{sx:{width:"100%",maxWidth:400},children:(0,o.jsxs)(u.Z,{onClick:e=>{if(!C.current)return;let t=e.currentTarget.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*x;C.current.currentTime=r,y(Math.floor(10*r)/10)},sx:{width:"100%",height:8,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:4,cursor:"pointer",position:"relative","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"}},children:[(0,o.jsx)(u.Z,{sx:{width:`${k}%`,height:"100%",backgroundColor:"#3b82f6",borderRadius:4,transition:"width 0.1s ease"}}),(0,o.jsx)(u.Z,{sx:{position:"absolute",top:"50%",left:`${k}%`,transform:"translate(-50%, -50%)",width:16,height:16,backgroundColor:"#3b82f6",borderRadius:"50%",border:"2px solid white",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"}})]})}),(0,o.jsx)(g.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},animate:{scale:m?[1,1.1,1]:1},transition:{scale:m?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{duration:.2}},children:(0,o.jsx)(u.Z,{onClick:()=>{C.current&&(m?(C.current.pause(),b(!1)):(C.current.play(),b(!0)))},sx:{width:80,height:80,borderRadius:"50%",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"3px solid rgba(59, 130, 246, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 0.5)"}},children:m?(0,o.jsx)(f.PhPauseFill,{size:28,color:"#3b82f6"}):(0,o.jsx)(f.PhPlayFill,{size:28,color:"#3b82f6"})})})]})}),(0,o.jsx)(p.Z,{variant:"outlined",onClick:r,sx:{px:4,py:1.5,color:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)",borderRadius:2,textTransform:"none",fontSize:"16px",fontWeight:500,"&:hover":{borderColor:"rgba(255, 255, 255, 0.4)",backgroundColor:"rgba(255, 255, 255, 0.05)"}},children:"Close"})]})]})}function v(e){let{open:t,onClose:r,onConfirm:x,minDuration:v=1,maxDuration:y=300}=e,[C,j]=(0,n.useState)("idle"),[w,S]=(0,n.useState)(0),[k,Z]=(0,n.useState)(null),[_,F]=(0,n.useState)(null),D=(0,n.useRef)(null),E=(0,n.useRef)([]),R=(0,n.useRef)(null),M=(0,n.useRef)(null),A=(0,n.useRef)(null),I=(0,n.useRef)(null),z=(0,n.useRef)(null),P=(0,n.useRef)(null),T=(0,n.useRef)(!1),{showModal:G}=(0,i.dd)(),U=(0,n.useCallback)(()=>{T.current=!1,j("idle"),S(0),F(null),R.current&&clearInterval(R.current),D.current&&"recording"===D.current.state&&D.current.stop(),D.current=null,P.current&&(P.current.getTracks().forEach(e=>e.stop()),P.current=null),M.current&&(M.current.close(),M.current=null),I.current&&(I.current.dispose(),I.current=null),Z(null)},[]),$=(0,n.useCallback)(()=>{let e=setTimeout(()=>{if(z.current&&!I.current)try{z.current.innerHTML="",I.current=new(m())({container:z.current,width:400,height:100,style:"ios9",amplitude:0,speed:.25,cover:!0,ranges:{amplitude:[.2,3],speed:[.1,.4],noOfCurves:[3,5]}})}catch(e){console.error("Failed to initialize SiriWave:",e)}},200);return()=>clearTimeout(e)},[]),L=(0,n.useCallback)(e=>{if(P.current=e,!M.current){let t=new AudioContext,r=t.createAnalyser(),i=t.createMediaStreamSource(e);r.fftSize=2048,r.smoothingTimeConstant=.1,i.connect(r),M.current=t,A.current=r}$()},[$]),W=()=>{if(!P.current)return null;let e={mimeType:B()},t=new MediaRecorder(P.current,e);return"idle"===C&&(E.current=[]),t.ondataavailable=e=>{e.data.size>0&&E.current.push(e.data)},t.onstop=()=>{let e=t.mimeType||B();F(new Blob(E.current,{type:e})),I.current&&I.current.setAmplitude(0)},t},B=()=>{for(let e of["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg","audio/wav","audio/mp4","audio/aac"])if(MediaRecorder.isTypeSupported(e))return e;return"audio/webm"},V=(0,n.useCallback)(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});Z(!0),L(e)}catch(e){console.error("Microphone permission denied:",e),Z(!1)}},[L]);(0,n.useEffect)(()=>{t?V():U()},[t,V,U]);let O=()=>{if(!A.current||!I.current||!T.current)return;let e=A.current.frequencyBinCount,t=new Uint8Array(e);A.current.getByteFrequencyData(t);let r=Math.floor(.1*e),i=Math.floor(.6*e),o=0,n=0;for(let e=r;e<i;e++)o+=t[e],n++;let a=(n>0?o/n:0)/255*12;a=Math.min(Math.max(a,.3),3)*(1+(Math.random()-.5)*.2),I.current.setAmplitude(a),requestAnimationFrame(O)},H=()=>{if(k&&P.current){let e=W();if(e){D.current=e,T.current=!0,j("recording"),S(0),F(null);try{e.start(),R.current=setInterval(()=>{S(e=>{let t=e+1;return t>=y&&setTimeout(()=>{N()},0),t})},1e3),I.current&&(I.current.start(),O())}catch(e){console.error("Failed to start recording:",e),j("idle"),T.current=!1}}}},N=()=>{D.current&&"recording"===D.current.state&&(T.current=!1,j("paused"),D.current.stop(),R.current&&clearInterval(R.current),I.current&&I.current.setAmplitude(0))},q=()=>{if(k&&P.current){let e=W();if(e){D.current=e,T.current=!0,j("recording");try{e.start(),R.current=setInterval(()=>{S(e=>{let t=e+1;return t>=y&&setTimeout(()=>{N()},0),t})},1e3),I.current&&(I.current.start(),O())}catch(e){console.error("Failed to resume recording:",e),j("paused"),T.current=!1}}}},X=e=>`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`,J=()=>{U(),r()},Q=_&&w>=v;return(0,n.useEffect)(()=>{if(k&&z.current&&!I.current){let e=setTimeout(()=>{$()},100);return()=>clearTimeout(e)}},[k,$]),(0,o.jsxs)(a.Z,{open:t,onClose:J,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f1419 100%)",color:"white",borderRadius:3,minHeight:600}},children:[(0,o.jsxs)(l.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{p:3,pb:1},children:[(0,o.jsx)(s.Z,{variant:"h6",fontWeight:600,children:"Create Voiceover"}),(0,o.jsx)(d.Z,{onClick:J,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,o.jsx)(f.PhX,{size:20})})]}),(0,o.jsxs)(c.Z,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",minHeight:500,px:3,pb:3,overflow:"hidden"},children:[(0,o.jsx)(h.M,{mode:"wait",children:!1===k?(0,o.jsx)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},style:{zIndex:1,textAlign:"center"},children:(0,o.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,backgroundColor:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:2,p:2,mb:3},children:[(0,o.jsx)(f.PhWarning,{size:20,color:"#fbbf24"}),(0,o.jsx)(s.Z,{variant:"body2",color:"#fbbf24",children:"Enable microphone access to start recording"})]})}):!0===k?(0,o.jsxs)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:32,width:"100%",zIndex:1,position:"relative",minHeight:400,justifyContent:"center"},children:[(0,o.jsxs)(u.Z,{sx:{textAlign:"center"},children:[(0,o.jsx)(s.Z,{variant:"h1",sx:{fontSize:"64px",fontWeight:300,letterSpacing:4,fontFamily:"monospace",color:w>=y?"#ef4444":w>=v?"#10b981":"white",textAlign:"center"},children:X(w)}),(0,o.jsx)(s.Z,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.6)",mt:1,fontSize:"12px"},children:w>=y?"Maximum recording time reached":`Min: ${X(v)}  Max: ${X(y)}`})]}),(0,o.jsx)(u.Z,{ref:z,sx:{width:400,height:100,display:"flex",alignItems:"center",justifyContent:"center","& canvas":{borderRadius:2}}}),(0,o.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,o.jsx)(g.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},animate:{scale:"recording"===C?[1,1.1,1]:1},transition:{scale:"recording"===C?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{duration:.2}},children:(0,o.jsx)(u.Z,{onClick:()=>{switch(C){case"idle":H();break;case"recording":N();break;case"paused":q()}},sx:{width:80,height:80,borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"3px solid rgba(255, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.5)"}},children:"recording"===C?(0,o.jsx)(f.PhPauseFill,{size:28,color:"white"}):(0,o.jsx)(u.Z,{sx:{width:32,height:32,borderRadius:"50%",backgroundColor:"#ef4444",transition:"all 0.3s ease"}})})}),"paused"===C&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,o.jsx)(u.Z,{onClick:()=>{D.current&&(T.current=!1,D.current.stop(),R.current&&clearInterval(R.current)),j("idle"),S(0),F(null),I.current&&I.current.setAmplitude(0)},sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"2px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 0.5)"}},children:(0,o.jsx)(f.PhTrash,{size:24,color:"#ef4444"})})}),(0,o.jsx)(g.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,o.jsx)(u.Z,{onClick:()=>{_&&G(b,{audioBlob:_,duration:w,onClose:()=>{}})},sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"2px solid rgba(59, 130, 246, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 0.5)"}},children:(0,o.jsx)(f.PhPlayFill,{size:24,color:"#3b82f6"})})})]})]}),(0,o.jsxs)(s.Z,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.6)",fontSize:"12px",textAlign:"center"},children:["idle"===C&&(0,o.jsx)("span",{children:"Click to start recording"}),"recording"===C&&(0,o.jsx)("span",{children:"Recording... Click to pause"}),"paused"===C&&(0,o.jsx)("span",{children:"Click to continue recording, or use delete/preview"})]})]}):(0,o.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{zIndex:1,textAlign:"center"},children:(0,o.jsx)(s.Z,{variant:"body1",color:"rgba(255, 255, 255, 0.7)",children:"Requesting microphone access..."})})}),(0,o.jsxs)(l.Z,{direction:"row",spacing:2,sx:{position:"absolute",bottom:24,left:24,right:24,zIndex:1},children:[(0,o.jsx)(p.Z,{variant:"outlined",onClick:J,sx:{flex:1,py:1.5,color:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)",borderRadius:2,textTransform:"none",fontSize:"16px",fontWeight:500,"&:hover":{borderColor:"rgba(255, 255, 255, 0.4)",backgroundColor:"rgba(255, 255, 255, 0.05)"}},children:"Cancel"}),(0,o.jsx)(p.Z,{variant:"contained",onClick:()=>{_&&w>=v&&(x(_,w),U(),r())},disabled:!Q,sx:{flex:1,py:1.5,borderRadius:2,textTransform:"none",fontSize:"16px",fontWeight:500,backgroundColor:Q?"#3b82f6":"rgba(255, 255, 255, 0.2)",color:Q?"white":"rgba(255, 255, 255, 0.5)","&:hover":{backgroundColor:Q?"#2563eb":"rgba(255, 255, 255, 0.25)"},"&:disabled":{backgroundColor:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.3)"}},children:_&&w<v?`Record at least ${v}s`:"Confirm"})]})]})]})}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onConfirm:t,minDuration:r=1,maxDuration:o=300}=e,{showModal:n}=(0,i.dd)();return{showModal:()=>{n(v,{minDuration:r,maxDuration:o,onConfirm:(e,r)=>{null==t||t(e,r)},onClose:()=>{}})}}}},6045:function(e,t,r){r.d(t,{S:function(){return a}});var i=r(75271),o=r(86657),n=r(7999);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"back-to-top",r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;(0,i.useEffect)(()=>{if(e&&!e.current)return;let i=document.getElementById(t);return i||((0,o.addBackToTop)({id:t,diameter:48,scrollDuration:500,backgroundColor:n.mP,zIndex:1e3,showWhenScrollTopIs:a,scrollContainer:e?e.current:document.body}),i=document.getElementById(t)),i&&(i.style.display=r?"block":"none"),()=>{null==i||i.remove()}},[a,r,t,e])}},49218:function(e,t,r){r.d(t,{p:function(){return n}});var i=r(8765),o=r(48913);let n=e=>{let{onClose:t,type:r="image",hiddenTabList:n=[],maxSelectionCount:a=1}=e,{showModal:l}=(0,i.dd)();return{handleShowModal:()=>{l(o.S,{historyFilter:{resource_type:r},maxSelectionCount:a,showTabList:["generation","albums","storyAsset"],hiddenTabList:n,onClose:e=>{null==t||t(e)}})}}}},72757:function(e,t,r){r.d(t,{b:function(){return o}});var i=r(75271);let o=()=>{let e=(0,i.useRef)(null),[t,r]=(0,i.useState)(null),[o,n]=(0,i.useState)(!1),[a,l]=(0,i.useState)(0),[s,d]=(0,i.useState)(null),c=(0,i.useRef)(0),u=async i=>{try{if(t===i.id&&e.current){o?(e.current.pause(),n(!1)):(await e.current.play(),n(!0),c.current+=1,d({startedAt:Date.now(),offsetSec:e.current.currentTime||0,revision:c.current}));return}e.current&&(e.current.pause(),e.current=null),l(0),d(null);let a=new Audio(i.url);e.current=a,a.addEventListener("loadstart",()=>{}),a.addEventListener("canplay",()=>{}),a.addEventListener("loadedmetadata",()=>{l(a.duration||0)}),a.addEventListener("play",()=>{r(i.id),n(!0)}),a.addEventListener("pause",()=>{n(!1)}),a.addEventListener("ended",()=>{r(null),n(!1),d(null),e.current=null}),a.addEventListener("error",t=>{console.error("Audio playback error:",t),r(null),n(!1),d(null),e.current=null}),await a.play(),c.current+=1,d({startedAt:Date.now(),offsetSec:0,revision:c.current})}catch(t){console.error("Failed to play audio:",t),r(null),n(!1),e.current=null}};return(0,i.useEffect)(()=>()=>{e.current&&(e.current.pause(),e.current=null)},[]),{handlePlayAudio:u,stopAudio:()=>{e.current&&(e.current.pause(),e.current=null),r(null),n(!1),d(null)},currentPlayingId:t,isPlaying:o,duration:a,playbackAnchor:s}}},76602:function(e,t,r){r.d(t,{x:function(){return Z}});var i=r(8765),o=r(52676),n=r(75271),a=r(90145),l=r(13724),s=r(91415),d=r(80148),c=r(80110),u=r(14930),p=r(97792),h=r(11955),g=r(6721),x=r(22988),m=r(55802),f=r(15398),b=r(72660),v=r(19509),y=r(57672),C=r(13200),j=r(46973),w=r(52423);let S=e=>{let{character:t,onClick:r,characterRef:i}=e;return(0,o.jsx)("div",{ref:i,children:(0,o.jsxs)(l.Z,{onClick:()=>r(t),sx:{cursor:"pointer",bgcolor:"#1A1A1A",border:"1px solid #2E2E2E",borderRadius:"13px",overflow:"hidden",transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.02)",borderColor:"#444444"}},children:[(0,o.jsx)(s.Z,{component:"img",image:t.image_url||t.thumbnail,alt:t.model_name,sx:{height:"200px",objectFit:"cover",bgcolor:"#2E2E2E"}}),(0,o.jsx)(d.Z,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:(0,o.jsx)(c.Z,{variant:"body2",sx:{color:"#FFFFFF",fontWeight:500,fontSize:14,textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.model_name||t.character_name})})]})})},k=e=>{let{open:t,onClose:r,onCharacterSelect:i}=e,l=(0,y.Z)(),s=(0,u.Z)(l.breakpoints.down("md")),d=(0,n.useRef)({}),[k,Z]=(0,n.useState)(0),{data:_,isLoading:F}=(0,C.a)({queryKey:w.l9.preMadeModels(),queryFn:async()=>{let{data:e}=await j.ZP.get("/character/premade");return e.data},enabled:t}),{data:D,isLoading:E}=(0,C.a)({queryKey:w.l9.characters,queryFn:async()=>{let{data:e}=await j.ZP.get("/character/list");return e.data},enabled:t}),R=e=>{i(e),r()};return(0,o.jsxs)(p.Z,{open:t,onClose:r,fullScreen:s,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{bgcolor:"#101010",border:"1px solid #2E2E2E",borderRadius:s?0:"16px",maxHeight:"90vh"}},children:[(0,o.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"#FFFFFF",fontWeight:600,fontSize:20,p:3,pb:1},children:["Select Character",(0,o.jsx)(g.Z,{onClick:r,sx:{color:"#AAAAAA","&:hover":{color:"#FFFFFF",bgcolor:"#2E2E2E"}},children:(0,o.jsx)(a.Z,{})})]}),(0,o.jsx)(x.Z,{sx:{borderBottom:1,borderColor:"#2e2e2e",px:3},children:(0,o.jsxs)(m.Z,{value:k,onChange:(e,t)=>{Z(t)},sx:{backgroundColor:"transparent","& .MuiTab-root":{margin:"0 20px",color:"rgba(255, 255, 255, 0.6)",fontWeight:500,textTransform:"none",fontSize:"14px","&.Mui-selected":{color:"#3b82f6"}},"& .MuiTabs-indicator":{backgroundColor:"#3b82f6"}},children:[(0,o.jsx)(f.Z,{label:"My Characters"}),(0,o.jsx)(f.Z,{label:"By OpenArt"})]})}),(0,o.jsxs)(b.Z,{sx:{p:3,pt:2,minHeight:400,maxHeight:"calc(90vh - 160px)",overflowY:"auto"},children:[0===k&&(0,o.jsx)(x.Z,{children:E?(0,o.jsx)(c.Z,{color:"rgba(255, 255, 255, 0.6)",sx:{textAlign:"center",py:4},children:"Loading your characters..."}):(0,o.jsxs)(v.ZP,{container:!0,spacing:2,children:[null==D?void 0:D.map(e=>(0,o.jsx)(v.ZP,{item:!0,xs:6,sm:4,md:3,lg:2.4,children:(0,o.jsx)(S,{character:e,onClick:R,characterRef:t=>{d.current[e.id]=t}})},e.id)),(!D||0===D.length)&&(0,o.jsx)(v.ZP,{item:!0,xs:12,children:(0,o.jsx)(c.Z,{color:"rgba(255, 255, 255, 0.6)",sx:{textAlign:"center",py:4},children:"You haven't created any characters yet"})})]})}),1===k&&(0,o.jsx)(x.Z,{children:F?(0,o.jsx)(c.Z,{color:"rgba(255, 255, 255, 0.6)",sx:{textAlign:"center",py:4},children:"Loading characters..."}):(0,o.jsxs)(v.ZP,{container:!0,spacing:2,children:[null==_?void 0:_.map(e=>(0,o.jsx)(v.ZP,{item:!0,xs:6,sm:4,md:3,lg:2.4,children:(0,o.jsx)(S,{character:e,onClick:R,characterRef:t=>{d.current[e.id]=t}})},e.id)),(!_||0===_.length)&&(0,o.jsx)(v.ZP,{item:!0,xs:12,children:(0,o.jsx)(c.Z,{color:"rgba(255, 255, 255, 0.6)",sx:{textAlign:"center",py:4},children:"No characters available"})})]})})]})]})},Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onCharacterSelect:t}=e,{showModal:r}=(0,i.dd)();return{showModal:()=>{r(k,{onCharacterSelect:e=>{null==t||t(e)},onClose:()=>{}})}}}},49049:function(e,t,r){r.d(t,{k:function(){return l}});var i=r(75271),o=r(21964),n=r(68836),a=r(46973);function l(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{cdnFolder:l,onSuccess:s,onError:d,uploadEndpoint:c="/media/resumable_upload_file"}=r,[u,p]=(0,i.useState)(0),h=(0,o.D)({mutationFn:async e=>(await a.ZP.post(c,{mimetype:e.type,originalname:e.name,contentType:e.type,cdnFolder:l,fileSize:e.size})).data}),g=(0,o.D)({mutationFn:async e=>{let{file:t,uploadUrl:r,finalUrl:i}=e;p(0);let o=await fetch(r,{method:"PUT",body:t,headers:{"Content-Type":t.type||"application/octet-stream"}});if(!o.ok)throw Error(`Upload failed: ${o.statusText}`);return new Promise((e,o)=>{let n=new XMLHttpRequest;n.upload.addEventListener("progress",e=>{e.lengthComputable&&p(Math.round(100*e.loaded/e.total))}),n.addEventListener("load",()=>{n.status>=200&&n.status<300?(p(100),e({url:i,uploadUrl:r})):o(Error(`Upload failed: ${n.statusText}`))}),n.addEventListener("error",()=>{o(Error("Upload failed due to network error"))}),n.open("PUT",r),n.setRequestHeader("Content-Type",t.type||"application/octet-stream"),n.send(t)})},onSuccess:e=>{null==s||s(e)},onError:e=>{let t;if(p(0),e instanceof Error)t=e;else if(e instanceof n.AxiosError){var r,i;t=Error((null===(i=e.response)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.error)||e.message)}else t=Error("Upload failed");null==d||d(t)}}),x=(0,i.useCallback)(async e=>{try{let{uploadUrl:t,url:r}=await h.mutateAsync(e);return await g.mutateAsync({file:e,uploadUrl:t,finalUrl:r})}catch(e){throw e}},[h,g]),m=(0,i.useCallback)(()=>{p(0),h.reset(),g.reset()},[h,g]);return{uploadFile:x,isUploading:h.isLoading||g.isLoading,progress:u,error:(null===(e=h.error)||void 0===e?void 0:e.message)||(null===(t=g.error)||void 0===t?void 0:t.message)||null,reset:m}}},61535:function(e,t,r){r.d(t,{$6:function(){return u},Cm:function(){return n},Pi:function(){return s},SK:function(){return a},WB:function(){return d},aM:function(){return c},cR:function(){return l},xP:function(){return o}});var i=r(84291);let o=i.Ry({mediaUrl:i.Z_().url("Must be a valid media URL"),audioUrl:i.Z_().url("Must be a valid audio URL"),model:i.Km(["omni-human","omni-human-1-5","kling","multi-talk","hedra","creatify-aurora"],{errorMap:()=>({message:"Invalid model selected"})}),description:i.Z_().optional()}),n={"multi-talk":{featureKeys:["app.talking-video.multiTalk"],mediaType:"image",name:"multi-talk",displayName:"OpenArt Lipsync",minVideoDuration:1,maxVideoDuration:45,minAudioDuration:1,maxAudioDuration:90,description:"Perfect for natural, multi-speaker conversations.",iconColor:"#E91E63",iconUrl:"https://cdn.openart.ai/music_video/openart_model_log.png",sortIndex:10},"omni-human-1-5":{featureKeys:["app.talking-video.omniHuman1.5"],mediaType:"image",name:"omni-human-1-5",displayName:"OmniHuman 1.5",minVideoDuration:1,maxVideoDuration:60,minAudioDuration:1,maxAudioDuration:35,description:"Premium quality, lifelike videos with flawless lip sync.",tagColor:"#4CAF50",iconColor:"#00BCD4",iconUrl:"https://cdn.openart.ai/assets/hunyuan.png",supportDescription:!0,sortIndex:20},"omni-human":{featureKeys:["app.talking-video.omniHuman"],mediaType:"image",name:"omni-human",displayName:"OmniHuman 1.0",minVideoDuration:1,maxVideoDuration:60,minAudioDuration:1,maxAudioDuration:15,description:"Premium quality, lifelike videos with flawless lip sync.",tagColor:"#4CAF50",iconColor:"#00BCD4",iconUrl:"https://cdn.openart.ai/assets/hunyuan.png",supportDescription:!1,sortIndex:30},hedra:{featureKeys:["app.talking-video.hedra"],mediaType:"image",name:"hedra",displayName:"Hedra (Fast)",minVideoDuration:1,maxVideoDuration:25,minAudioDuration:1,maxAudioDuration:60,description:"Creative storytelling with bold, dynamic shots.",iconColor:"#FF9800",iconUrl:"https://cdn.openart.ai/music_video/hedra_icon.png",sortIndex:40},kling:{featureKeys:["video.lip_sync.5"],mediaType:"video",name:"kling",displayName:"Kling",minVideoDuration:1,maxVideoDuration:30,minAudioDuration:1,maxAudioDuration:60,description:"Fast cinematic videos, ready in moments.",iconColor:"#2196F3",iconUrl:"https://cdn.openart.ai/assets/kling.png",sortIndex:50},"creatify-aurora":{featureKeys:["app.talking-video.creatifyAurora"],mediaType:"image",name:"creatify-aurora",displayName:"Creatify Aurora",minVideoDuration:1,maxVideoDuration:30,minAudioDuration:1,maxAudioDuration:30,description:"Rich emotional expression, perfect for natural.",supportDescription:!1,iconColor:"#FF9800",iconUrl:"https://cdn.openart.ai/assets/internal/uploads/image_dDlIggYJ_98x98_1760150027916.webp",sortIndex:60}},a="kling",l="multi-talk",s=104857600,d=20971520,c=52428800,u=["audio/wav","audio/x-wav","audio/wave","audio/mp3","audio/mpeg","audio/ogg","audio/x-m4a","audio/m4a","audio/flac","audio/x-flac","audio/mpga"]}}]);