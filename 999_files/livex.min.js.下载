(function(){"use strict";var J6=document.createElement("style");function Yne(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function S5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}J6.textContent=`livex-chatbot-button{display:flex;align-items:center;justify-content:center;width:60px;height:60px;border-radius:50%;box-shadow:0 4px 8px #0000001a;right:0;bottom:0;padding:8px;position:absolute;transition:transform .2s ease-in-out!important}livex-chatbot-button:hover{transform:scale(1.1)!important}
`,document.head.appendChild(J6);var X6={exports:{}},t0={},Z6={exports:{}},Ft={},Ep=Symbol.for("react.element"),Qne=Symbol.for("react.portal"),Jne=Symbol.for("react.fragment"),Xne=Symbol.for("react.strict_mode"),Zne=Symbol.for("react.profiler"),ere=Symbol.for("react.provider"),tre=Symbol.for("react.context"),nre=Symbol.for("react.forward_ref"),rre=Symbol.for("react.suspense"),ore=Symbol.for("react.memo"),ire=Symbol.for("react.lazy"),eE=Symbol.iterator,tE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nE=Object.assign,rE={};function qu(e,t,n){this.props=e,this.context=t,this.refs=rE,this.updater=n||tE}function oE(){}function T5(e,t,n){this.props=e,this.context=t,this.refs=rE,this.updater=n||tE}qu.prototype.isReactComponent={},qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},oE.prototype=qu.prototype;var E5=T5.prototype=new oE;E5.constructor=T5,nE(E5,qu.prototype),E5.isPureReactComponent=!0;var iE=Array.isArray,aE=Object.prototype.hasOwnProperty,O5={current:null},sE={key:!0,ref:!0,__self:!0,__source:!0};function lE(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)aE.call(t,r)&&!sE.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Ep,type:e,key:i,ref:a,props:o,_owner:O5.current}}function A5(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ep}var cE=/\/+/g;function P5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?function(n){var r={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return r[o]})}(""+e.key):t.toString(36)}function n0(e,t,n,r,o){var i=typeof e;i!=="undefined"&&i!=="boolean"||(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ep:case Qne:a=!0}}if(a)return o=o(a=e),e=r===""?"."+P5(a,0):r,iE(o)?(n="",e!=null&&(n=e.replace(cE,"$&/")+"/"),n0(o,t,n,"",function(c){return c})):o!=null&&(A5(o)&&(o=function(c,u){return{$$typeof:Ep,type:c.type,key:u,ref:c.ref,props:c.props,_owner:c._owner}}(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(cE,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",iE(e))for(var s=0;s<e.length;s++){var l=r+P5(i=e[s],s);a+=n0(i,t,n,l,o)}else if(l=function(c){return c===null||typeof c!="object"?null:typeof(c=eE&&c[eE]||c["@@iterator"])=="function"?c:null}(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)a+=n0(i=i.value,t,n,l=r+P5(i,s++),o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function r0(e,t,n){if(e==null)return e;var r=[],o=0;return n0(e,r,"","",function(i){return t.call(n,i,o++)}),r}function are(e){if(e._status===-1){var t=e._result;(t=t()).then(function(n){e._status!==0&&e._status!==-1||(e._status=1,e._result=n)},function(n){e._status!==0&&e._status!==-1||(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zr={current:null},o0={transition:null},sre={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:o0,ReactCurrentOwner:O5};function uE(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:r0,forEach:function(e,t,n){r0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return r0(e,function(){t++}),t},toArray:function(e){return r0(e,function(t){return t})||[]},only:function(e){if(!A5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},Ft.Component=qu,Ft.Fragment=Jne,Ft.Profiler=Zne,Ft.PureComponent=T5,Ft.StrictMode=Xne,Ft.Suspense=rre,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sre,Ft.act=uE,Ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nE({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=O5.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)aE.call(t,l)&&!sE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Ep,type:e.type,key:o,ref:i,props:r,_owner:a}},Ft.createContext=function(e){return(e={$$typeof:tre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:ere,_context:e},e.Consumer=e},Ft.createElement=lE,Ft.createFactory=function(e){var t=lE.bind(null,e);return t.type=e,t},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(e){return{$$typeof:nre,render:e}},Ft.isValidElement=A5,Ft.lazy=function(e){return{$$typeof:ire,_payload:{_status:-1,_result:e},_init:are}},Ft.memo=function(e,t){return{$$typeof:ore,type:e,compare:t===void 0?null:t}},Ft.startTransition=function(e){var t=o0.transition;o0.transition={};try{e()}finally{o0.transition=t}},Ft.unstable_act=uE,Ft.useCallback=function(e,t){return Zr.current.useCallback(e,t)},Ft.useContext=function(e){return Zr.current.useContext(e)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(e){return Zr.current.useDeferredValue(e)},Ft.useEffect=function(e,t){return Zr.current.useEffect(e,t)},Ft.useId=function(){return Zr.current.useId()},Ft.useImperativeHandle=function(e,t,n){return Zr.current.useImperativeHandle(e,t,n)},Ft.useInsertionEffect=function(e,t){return Zr.current.useInsertionEffect(e,t)},Ft.useLayoutEffect=function(e,t){return Zr.current.useLayoutEffect(e,t)},Ft.useMemo=function(e,t){return Zr.current.useMemo(e,t)},Ft.useReducer=function(e,t,n){return Zr.current.useReducer(e,t,n)},Ft.useRef=function(e){return Zr.current.useRef(e)},Ft.useState=function(e){return Zr.current.useState(e)},Ft.useSyncExternalStore=function(e,t,n){return Zr.current.useSyncExternalStore(e,t,n)},Ft.useTransition=function(){return Zr.current.useTransition()},Ft.version="18.3.1",Z6.exports=Ft;var x=Z6.exports;const Bt=S5(x),lre=Yne({__proto__:null,default:Bt},[x]);/**
     * @license React
     * react-jsx-runtime.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var cre=x,ure=Symbol.for("react.element"),dre=Symbol.for("react.fragment"),hre=Object.prototype.hasOwnProperty,pre=cre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mre={key:!0,ref:!0,__self:!0,__source:!0};function dE(e,t,n){var r,o={},i=null,a=null;for(r in n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref),t)hre.call(t,r)&&!mre.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ure,type:e,key:i,ref:a,props:o,_owner:pre.current}}t0.Fragment=dre,t0.jsx=dE,t0.jsxs=dE,X6.exports=t0;var W=X6.exports,N5={},hE={exports:{}},Wo={},pE={exports:{}},mE={};/**
     * @license React
     * scheduler.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */(function(e){function t(L,C){var V=L.length;L.push(C);e:for(;0<V;){var N=V-1>>>1,q=L[N];if(!(0<o(q,C)))break e;L[N]=C,L[V]=q,V=N}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var C=L[0],V=L.pop();if(V!==C){L[0]=V;e:for(var N=0,q=L.length,J=q>>>1;N<J;){var Q=2*(N+1)-1,te=L[Q],X=Q+1,ee=L[X];if(0>o(te,V))X<q&&0>o(ee,te)?(L[N]=ee,L[X]=V,N=X):(L[N]=te,L[Q]=V,N=Q);else{if(!(X<q&&0>o(ee,V)))break e;L[N]=ee,L[X]=V,N=X}}}return C}function o(L,C){var V=L.sortIndex-C.sortIndex;return V!==0?V:L.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,p=3,h=!1,m=!1,g=!1,f=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(L){for(var C=n(c);C!==null;){if(C.callback===null)r(c);else{if(!(C.startTime<=L))break;r(c),C.sortIndex=C.expirationTime,t(l,C)}C=n(c)}}function w(L){if(g=!1,b(L),!m)if(n(l)!==null)m=!0,U(k);else{var C=n(c);C!==null&&B(w,C.startTime-L)}}function k(L,C){m=!1,g&&(g=!1,v(O),O=-1),h=!0;var V=p;try{for(b(C),d=n(l);d!==null&&(!(d.expirationTime>C)||L&&!D());){var N=d.callback;if(typeof N=="function"){d.callback=null,p=d.priorityLevel;var q=N(d.expirationTime<=C);C=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),b(C)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var Q=n(c);Q!==null&&B(w,Q.startTime-C),J=!1}return J}finally{d=null,p=V,h=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,S=null,O=-1,T=5,M=-1;function D(){return!(e.unstable_now()-M<T)}function H(){if(S!==null){var L=e.unstable_now();M=L;var C=!0;try{C=S(!0,L)}finally{C?_():(E=!1,S=null)}}else E=!1}if(typeof y=="function")_=function(){y(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,R=$.port2;$.port1.onmessage=H,_=function(){R.postMessage(null)}}else _=function(){f(H,0)};function U(L){S=L,E||(E=!0,_())}function B(L,C){O=f(function(){L(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,U(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var C=3;break;default:C=p}var V=p;p=C;try{return L()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,C){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=p;p=L;try{return C()}finally{p=V}},e.unstable_scheduleCallback=function(L,C,V){var N=e.unstable_now();switch(typeof V=="object"&&V!==null?V=typeof(V=V.delay)=="number"&&0<V?N+V:N:V=N,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return L={id:u++,callback:C,priorityLevel:L,startTime:V,expirationTime:q=V+q,sortIndex:-1},V>N?(L.sortIndex=V,t(c,L),n(l)===null&&L===n(c)&&(g?(v(O),O=-1):g=!0,B(w,V-N))):(L.sortIndex=q,t(l,L),m||h||(m=!0,U(k))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var C=p;return function(){var V=p;p=C;try{return L.apply(this,arguments)}finally{p=V}}}})(mE),pE.exports=mE;var fre=pE.exports,gre=x,Ko=fre;/**
     * @license React
     * react-dom.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fE=new Set,Op={};function yc(e,t){Wu(e,t),Wu(e+"Capture",t)}function Wu(e,t){for(Op[e]=t,e=0;e<t.length;e++)fE.add(t[e])}var ys=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),I5=Object.prototype.hasOwnProperty,vre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gE={},vE={};function eo(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ar[e]=new eo(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ar[t]=new eo(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ar[e]=new eo(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ar[e]=new eo(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ar[e]=new eo(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Ar[e]=new eo(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Ar[e]=new eo(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Ar[e]=new eo(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Ar[e]=new eo(e,5,!1,e.toLowerCase(),null,!1,!1)});var R5=/[\-:]([a-z])/g;function M5(e){return e[1].toUpperCase()}function D5(e,t,n,r){var o=Ar.hasOwnProperty(t)?Ar[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(function(i,a,s,l){if(a==null||function(c,u,d,p){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return!p&&(d!==null?!d.acceptsBooleans:(c=c.toLowerCase().slice(0,5))!=="data-"&&c!=="aria-");default:return!1}}(i,a,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}(t,n,o,r)&&(n=null),r||o===null?function(i){return!!I5.call(vE,i)||!I5.call(gE,i)&&(vre.test(i)?vE[i]=!0:(gE[i]=!0,!1))}(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type!==3&&"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(n=(o=o.type)===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R5,M5);Ar[t]=new eo(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R5,M5);Ar[t]=new eo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R5,M5);Ar[t]=new eo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Ar[e]=new eo(e,1,!1,e.toLowerCase(),null,!1,!1)}),Ar.xlinkHref=new eo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Ar[e]=new eo(e,1,!1,e.toLowerCase(),null,!0,!0)});var ws=gre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i0=Symbol.for("react.element"),Ku=Symbol.for("react.portal"),Gu=Symbol.for("react.fragment"),L5=Symbol.for("react.strict_mode"),j5=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),z5=Symbol.for("react.forward_ref"),F5=Symbol.for("react.suspense"),B5=Symbol.for("react.suspense_list"),U5=Symbol.for("react.memo"),ul=Symbol.for("react.lazy"),wE=Symbol.for("react.offscreen"),kE=Symbol.iterator;function Ap(e){return e===null||typeof e!="object"?null:typeof(e=kE&&e[kE]||e["@@iterator"])=="function"?e:null}var H5,jn=Object.assign;function Pp(e){if(H5===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H5=t&&t[1]||""}return`
`+H5+e}var $5=!1;function V5(e,t){if(!e||$5)return"";$5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,0>--s||o[a]!==i[s]){var l=`
`+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{$5=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pp(e):""}function bre(e){switch(e.tag){case 5:return Pp(e.type);case 16:return Pp("Lazy");case 13:return Pp("Suspense");case 19:return Pp("SuspenseList");case 0:case 2:case 15:return e=V5(e.type,!1);case 11:return e=V5(e.type.render,!1);case 1:return e=V5(e.type,!0);default:return""}}function q5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gu:return"Fragment";case Ku:return"Portal";case j5:return"Profiler";case L5:return"StrictMode";case F5:return"Suspense";case B5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yE:return(e.displayName||"Context")+".Consumer";case bE:return(e._context.displayName||"Context")+".Provider";case z5:var t=e.render;return(e=e.displayName)||(e=(e=t.displayName||t.name||"")!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U5:return(t=e.displayName||null)!==null?t:q5(e.type)||"Memo";case ul:t=e._payload,e=e._init;try{return q5(e(t))}catch{}}return null}function yre(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q5(t);case 8:return t===L5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function _E(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a0(e){e._valueTracker||(e._valueTracker=function(t){var n=_E(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&r!==void 0&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return i.call(this)},set:function(s){o=""+s,a.call(this,s)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}(e))}function xE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_E(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function s0(e){if((e=e||(typeof document<"u"?document:void 0))===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}function W5(e,t){var n=t.checked;return jn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function CE(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function SE(e,t){(t=t.checked)!=null&&D5(e,"checked",t,!1)}function K5(e,t){SE(e,t);var n=dl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset")return void e.removeAttribute("value");t.hasOwnProperty("value")?G5(e,t.type,n):t.hasOwnProperty("defaultValue")&&G5(e,t.type,dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function TE(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}(n=e.name)!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function G5(e,t,n){t==="number"&&s0(e.ownerDocument)===e||(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Np=Array.isArray;function Yu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dl(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Y5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return jn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function EE(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(We(92));if(Np(n)){if(1<n.length)throw Error(We(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dl(n)}}function OE(e,t){var n=dl(t.value),r=dl(t.defaultValue);n!=null&&((n=""+n)!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function AE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function PE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?PE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var J5,X5,NE=(X5=function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for((J5=J5||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=J5.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return X5(e,t)})}:X5);function Ip(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3)return void(n.nodeValue=t)}e.textContent=t}var Rp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wre=["Webkit","ms","Moz","O"];function IE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rp.hasOwnProperty(e)&&Rp[e]?(""+t).trim():t+"px"}function RE(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=IE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Rp).forEach(function(e){wre.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rp[t]=Rp[e]})});var kre=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z5(e,t){if(t){if(kre[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function e2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t2=null;function n2(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r2=null,Qu=null,Ju=null;function ME(e){if(e=em(e)){if(typeof r2!="function")throw Error(We(280));var t=e.stateNode;t&&(t=O0(t),r2(e.stateNode,e.type,t))}}function DE(e){Qu?Ju?Ju.push(e):Ju=[e]:Qu=e}function LE(){if(Qu){var e=Qu,t=Ju;if(Ju=Qu=null,ME(e),t)for(e=0;e<t.length;e++)ME(t[e])}}function jE(e,t){return e(t)}function zE(){}var o2=!1;function FE(e,t,n){if(o2)return e(t,n);o2=!0;try{return jE(e,t,n)}finally{o2=!1,(Qu!==null||Ju!==null)&&(zE(),LE())}}function Mp(e,t){var n=e.stateNode;if(n===null)return null;var r=O0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!((e=e.type)==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(We(231,t,typeof n));return n}var i2=!1;if(ys)try{var Dp={};Object.defineProperty(Dp,"passive",{get:function(){i2=!0}}),window.addEventListener("test",Dp,Dp),window.removeEventListener("test",Dp,Dp)}catch{i2=!1}function _re(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Lp=!1,l0=null,c0=!1,a2=null,xre={onError:function(e){Lp=!0,l0=e}};function Cre(e,t,n,r,o,i,a,s,l){Lp=!1,l0=null,_re.apply(xre,arguments)}function wc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 4098&(t=e).flags&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate)!==null&&(t=e.memoizedState),t!==null)return t.dehydrated}return null}function UE(e){if(wc(e)!==e)throw Error(We(188))}function HE(e){return e=function(t){var n=t.alternate;if(!n){if((n=wc(t))===null)throw Error(We(188));return n!==t?null:t}for(var r=t,o=n;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if((o=i.return)!==null){r=o;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return UE(i),t;if(a===o)return UE(i),n;a=a.sibling}throw Error(We(188))}if(r.return!==o.return)r=i,o=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,o=a;break}if(l===o){s=!0,o=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,o=i;break}if(l===o){s=!0,o=a,r=i;break}l=l.sibling}if(!s)throw Error(We(189))}}if(r.alternate!==o)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?t:n}(e),e!==null?$E(e):null}function $E(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$E(e);if(t!==null)return t;e=e.sibling}return null}var VE=Ko.unstable_scheduleCallback,qE=Ko.unstable_cancelCallback,Sre=Ko.unstable_shouldYield,Tre=Ko.unstable_requestPaint,Qn=Ko.unstable_now,Ere=Ko.unstable_getCurrentPriorityLevel,s2=Ko.unstable_ImmediatePriority,WE=Ko.unstable_UserBlockingPriority,l2=Ko.unstable_NormalPriority,Ore=Ko.unstable_LowPriority,KE=Ko.unstable_IdlePriority,u0=null,va=null,Bi=Math.clz32?Math.clz32:function(e){return e>>>=0,e===0?32:31-(Are(e)/Pre|0)|0},Are=Math.log,Pre=Math.LN2,c2=64,u2=4194304;function jp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function d0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(a!==0){var s=a&~o;s!==0?r=jp(s):(i&=a)!==0&&(r=jp(i))}else(a=n&~o)!==0?r=jp(a):i!==0&&(r=jp(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&((o=r&-r)>=(i=t&-t)||o===16&&4194240&i))return t;if(4&r&&(r|=16&n),(t=e.entangledLanes)!==0)for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Bi(t)),r|=e[n],t&=~o;return r}function Nre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function d2(e){return(e=-1073741825&e.pendingLanes)!==0?e:1073741824&e?1073741824:0}function GE(){var e=c2;return!(4194240&(c2<<=1))&&(c2=64),e}function h2(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Bi(t)]=n}function p2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bi(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var hn=0;function YE(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var QE,m2,JE,XE,ZE,f2=!1,h0=[],hl=null,pl=null,ml=null,Fp=new Map,Bp=new Map,fl=[],Ire="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e7(e,t){switch(e){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bp.delete(t.pointerId)}}function Up(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=em(t))!==null&&m2(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function t7(e){var t=_c(e.target);if(t!==null){var n=wc(t);if(n!==null){if((t=n.tag)===13){if((t=BE(n))!==null)return e.blockedOn=t,void ZE(e.priority,function(){JE(n)})}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=n.tag===3?n.stateNode.containerInfo:null)}}e.blockedOn=null}function p0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=v2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return(t=em(n))!==null&&m2(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);t2=r,n.target.dispatchEvent(r),t2=null,t.shift()}return!0}function n7(e,t,n){p0(e)&&n.delete(t)}function Rre(){f2=!1,hl!==null&&p0(hl)&&(hl=null),pl!==null&&p0(pl)&&(pl=null),ml!==null&&p0(ml)&&(ml=null),Fp.forEach(n7),Bp.forEach(n7)}function Hp(e,t){e.blockedOn===t&&(e.blockedOn=null,f2||(f2=!0,Ko.unstable_scheduleCallback(Ko.unstable_NormalPriority,Rre)))}function $p(e){function t(o){return Hp(o,e)}if(0<h0.length){Hp(h0[0],e);for(var n=1;n<h0.length;n++){var r=h0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hl!==null&&Hp(hl,e),pl!==null&&Hp(pl,e),ml!==null&&Hp(ml,e),Fp.forEach(t),Bp.forEach(t),n=0;n<fl.length;n++)(r=fl[n]).blockedOn===e&&(r.blockedOn=null);for(;0<fl.length&&(n=fl[0]).blockedOn===null;)t7(n),n.blockedOn===null&&fl.shift()}var Xu=ws.ReactCurrentBatchConfig,m0=!0;function Mre(e,t,n,r){var o=hn,i=Xu.transition;Xu.transition=null;try{hn=1,g2(e,t,n,r)}finally{hn=o,Xu.transition=i}}function Dre(e,t,n,r){var o=hn,i=Xu.transition;Xu.transition=null;try{hn=4,g2(e,t,n,r)}finally{hn=o,Xu.transition=i}}function g2(e,t,n,r){if(m0){var o=v2(e,t,n,r);if(o===null)M2(e,t,r,f0,n),e7(e,r);else if(function(a,s,l,c,u){switch(s){case"focusin":return hl=Up(hl,a,s,l,c,u),!0;case"dragenter":return pl=Up(pl,a,s,l,c,u),!0;case"mouseover":return ml=Up(ml,a,s,l,c,u),!0;case"pointerover":var d=u.pointerId;return Fp.set(d,Up(Fp.get(d)||null,a,s,l,c,u)),!0;case"gotpointercapture":return d=u.pointerId,Bp.set(d,Up(Bp.get(d)||null,a,s,l,c,u)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(e7(e,r),4&t&&-1<Ire.indexOf(e)){for(;o!==null;){var i=em(o);if(i!==null&&QE(i),(i=v2(e,t,n,r))===null&&M2(e,t,r,f0,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else M2(e,t,r,null,n)}}var f0=null;function v2(e,t,n,r){if(f0=null,(e=_c(e=n2(r)))!==null)if((t=wc(e))===null)e=null;else if((n=t.tag)===13){if((e=BE(t))!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return f0=e,null}function r7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ere()){case s2:return 1;case WE:return 4;case l2:case Ore:return 16;case KE:return 536870912;default:return 16}default:return 16}}var kc=null,b2=null,g0=null;function o7(){if(g0)return g0;var e,t,n=b2,r=n.length,o="value"in kc?kc.value:kc.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return g0=o.slice(e,1<t?1-t:void 0)}function v0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode)===0&&t===13&&(e=13):e=t,e===10&&(e=13),32<=e||e===13?e:0}function b0(){return!0}function i7(){return!1}function Go(e){function t(n,r,o,i,a){for(var s in this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?b0:i7,this.isPropagationStopped=i7,this}return jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=b0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=b0)},persist:function(){},isPersistent:b0}),t}var y2,w2,Vp,Zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k2=Go(Zu),qp=jn({},Zu,{view:0,detail:0}),Lre=Go(qp),y0=jn({},qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vp&&(Vp&&e.type==="mousemove"?(y2=e.screenX-Vp.screenX,w2=e.screenY-Vp.screenY):w2=y2=0,Vp=e),y2)},movementY:function(e){return"movementY"in e?e.movementY:w2}}),a7=Go(y0),jre=Go(jn({},y0,{dataTransfer:0})),_2=Go(jn({},qp,{relatedTarget:0})),zre=Go(jn({},Zu,{animationName:0,elapsedTime:0,pseudoElement:0})),Fre=jn({},Zu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bre=Go(Fre),s7=Go(jn({},Zu,{data:0})),Ure={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$re={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$re[e])&&!!t[e]}function x2(){return Vre}var qre=jn({},qp,{key:function(e){if(e.key){var t=Ure[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=v0(e))===13?"Enter":String.fromCharCode(e):e.type==="keydown"||e.type==="keyup"?Hre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x2,charCode:function(e){return e.type==="keypress"?v0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?v0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wre=Go(qre),l7=Go(jn({},y0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Kre=Go(jn({},qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x2})),Gre=Go(jn({},Zu,{propertyName:0,elapsedTime:0,pseudoElement:0})),Yre=jn({},y0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qre=Go(Yre),Jre=[9,13,27,32],C2=ys&&"CompositionEvent"in window,Wp=null;ys&&"documentMode"in document&&(Wp=document.documentMode);var Xre=ys&&"TextEvent"in window&&!Wp,c7=ys&&(!C2||Wp&&8<Wp&&11>=Wp),u7=String.fromCharCode(32),d7=!1;function h7(e,t){switch(e){case"keyup":return Jre.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p7(e){return typeof(e=e.detail)=="object"&&"data"in e?e.data:null}var ed=!1,Zre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m7(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zre[e.type]:t==="textarea"}function f7(e,t,n,r){DE(r),0<(t=S0(t,"onChange")).length&&(n=new k2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var w0=null,Kp=null;function eoe(e){R7(e,0)}function k0(e){if(xE(id(e)))return e}function toe(e,t){if(e==="change")return t}var g7=!1;if(ys){var S2;if(ys){var T2="oninput"in document;if(!T2){var v7=document.createElement("div");v7.setAttribute("oninput","return;"),T2=typeof v7.oninput=="function"}S2=T2}else S2=!1;g7=S2&&(!document.documentMode||9<document.documentMode)}function b7(){w0&&(w0.detachEvent("onpropertychange",y7),Kp=w0=null)}function y7(e){if(e.propertyName==="value"&&k0(Kp)){var t=[];f7(t,Kp,e,n2(e)),FE(eoe,t)}}function noe(e,t,n){e==="focusin"?(b7(),Kp=n,(w0=t).attachEvent("onpropertychange",y7)):e==="focusout"&&b7()}function roe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return k0(Kp)}function ooe(e,t){if(e==="click")return k0(t)}function ioe(e,t){if(e==="input"||e==="change")return k0(t)}var Ui=typeof Object.is=="function"?Object.is:function(e,t){return e===t&&(e!==0||1/e==1/t)||e!=e&&t!=t};function Gp(e,t){if(Ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!I5.call(t,o)||!Ui(e[o],t[o]))return!1}return!0}function w7(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k7(e,t){var n,r=w7(e);for(e=0;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=w7(r)}}function _7(e,t){return!(!e||!t)&&(e===t||(!e||e.nodeType!==3)&&(t&&t.nodeType===3?_7(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function x7(){for(var e=window,t=s0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(!n)break;t=s0((e=t.contentWindow).document)}return t}function E2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aoe(e){var t=x7(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_7(n.ownerDocument.documentElement,n)){if(r!==null&&E2(n)){if(t=r.start,(e=r.end)===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=k7(n,i);var a=k7(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var soe=ys&&"documentMode"in document&&11>=document.documentMode,td=null,O2=null,Yp=null,A2=!1;function C7(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A2||td==null||td!==s0(r)||("selectionStart"in(r=td)&&E2(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Yp&&Gp(Yp,r)||(Yp=r,0<(r=S0(O2,"onSelect")).length&&(t=new k2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=td)))}function _0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nd={animationend:_0("Animation","AnimationEnd"),animationiteration:_0("Animation","AnimationIteration"),animationstart:_0("Animation","AnimationStart"),transitionend:_0("Transition","TransitionEnd")},P2={},S7={};function x0(e){if(P2[e])return P2[e];if(!nd[e])return e;var t,n=nd[e];for(t in n)if(n.hasOwnProperty(t)&&t in S7)return P2[e]=n[t];return e}ys&&(S7=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);var T7=x0("animationend"),E7=x0("animationiteration"),O7=x0("animationstart"),A7=x0("transitionend"),P7=new Map,N7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gl(e,t){P7.set(e,t),yc(t,[e])}for(var N2=0;N2<N7.length;N2++){var I2=N7[N2];gl(I2.toLowerCase(),"on"+(I2[0].toUpperCase()+I2.slice(1)))}gl(T7,"onAnimationEnd"),gl(E7,"onAnimationIteration"),gl(O7,"onAnimationStart"),gl("dblclick","onDoubleClick"),gl("focusin","onFocus"),gl("focusout","onBlur"),gl(A7,"onTransitionEnd"),Wu("onMouseEnter",["mouseout","mouseover"]),Wu("onMouseLeave",["mouseout","mouseover"]),Wu("onPointerEnter",["pointerout","pointerover"]),Wu("onPointerLeave",["pointerout","pointerover"]),yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yc("onBeforeInput",["compositionend","keypress","textInput","paste"]),yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),loe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qp));function I7(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(o,i,a,s,l,c,u,d,p){if(Cre.apply(this,arguments),Lp){if(!Lp)throw Error(We(198));var h=l0;Lp=!1,l0=null,c0||(c0=!0,a2=h)}}(r,t,void 0,e),e.currentTarget=null}function R7(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;I7(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;I7(o,s,c),i=l}}}if(c0)throw e=a2,c0=!1,a2=null,e}function Sn(e,t){var n=t[B2];n===void 0&&(n=t[B2]=new Set);var r=e+"__bubble";n.has(r)||(M7(t,e,2,!1),n.add(r))}function R2(e,t,n){var r=0;t&&(r|=4),M7(n,e,r,t)}var C0="_reactListening"+Math.random().toString(36).slice(2);function Jp(e){if(!e[C0]){e[C0]=!0,fE.forEach(function(n){n!=="selectionchange"&&(loe.has(n)||R2(n,!1,e),R2(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[C0]||(t[C0]=!0,R2("selectionchange",!1,t))}}function M7(e,t,n,r){switch(r7(t)){case 1:var o=Mre;break;case 4:o=Dre;break;default:o=g2}n=o.bind(null,t,n,e),o=void 0,!i2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function M2(e,t,n,r,o){var i=r;if(!(1&t||2&t||r===null))e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&((l=a.stateNode.containerInfo)===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if((a=_c(s))===null)return;if((l=a.tag)===5||l===6){r=i=a;continue e}s=s.parentNode}}r=r.return}FE(function(){var c=i,u=n2(n),d=[];e:{var p=P7.get(e);if(p!==void 0){var h=k2,m=e;switch(e){case"keypress":if(v0(n)===0)break e;case"keydown":case"keyup":h=Wre;break;case"focusin":m="focus",h=_2;break;case"focusout":m="blur",h=_2;break;case"beforeblur":case"afterblur":h=_2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=a7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=jre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Kre;break;case T7:case E7:case O7:h=zre;break;case A7:h=Gre;break;case"scroll":h=Lre;break;case"wheel":h=Qre;break;case"copy":case"cut":case"paste":h=Bre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=l7}var g=!!(4&t),f=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var y,b=c;b!==null;){var w=(y=b).stateNode;if(y.tag===5&&w!==null&&(y=w,v!==null&&(w=Mp(b,v))!=null&&g.push(Xp(b,w,y))),f)break;b=b.return}0<g.length&&(p=new h(p,m,null,n,u),d.push({event:p,listeners:g}))}}if(!(7&t)){if(h=e==="mouseout"||e==="pointerout",(!(p=e==="mouseover"||e==="pointerover")||n===t2||!(m=n.relatedTarget||n.fromElement)||!_c(m)&&!m[ks])&&(h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(h=c,(m=(m=n.relatedTarget||n.toElement)?_c(m):null)!==null&&(m!==(f=wc(m))||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(g=a7,w="onMouseLeave",v="onMouseEnter",b="mouse",e!=="pointerout"&&e!=="pointerover"||(g=l7,w="onPointerLeave",v="onPointerEnter",b="pointer"),f=h==null?p:id(h),y=m==null?p:id(m),(p=new g(w,b+"leave",h,n,u)).target=f,p.relatedTarget=y,w=null,_c(u)===c&&((g=new g(v,b+"enter",m,n,u)).target=y,g.relatedTarget=f,w=g),f=w,h&&m)e:{for(v=m,b=0,y=g=h;y;y=rd(y))b++;for(y=0,w=v;w;w=rd(w))y++;for(;0<b-y;)g=rd(g),b--;for(;0<y-b;)v=rd(v),y--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break e;g=rd(g),v=rd(v)}g=null}else g=null;h!==null&&D7(d,p,h,g,!1),m!==null&&f!==null&&D7(d,f,m,g,!0)}if((h=(p=c?id(c):window).nodeName&&p.nodeName.toLowerCase())==="select"||h==="input"&&p.type==="file")var k=toe;else if(m7(p))if(g7)k=ioe;else{k=roe;var _=noe}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=ooe);switch(k&&(k=k(e,c))?f7(d,k,n,u):(_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&G5(p,"number",p.value)),_=c?id(c):window,e){case"focusin":(m7(_)||_.contentEditable==="true")&&(td=_,O2=c,Yp=null);break;case"focusout":Yp=O2=td=null;break;case"mousedown":A2=!0;break;case"contextmenu":case"mouseup":case"dragend":A2=!1,C7(d,n,u);break;case"selectionchange":if(soe)break;case"keydown":case"keyup":C7(d,n,u)}var E;if(C2)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ed?h7(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(c7&&n.locale!=="ko"&&(ed||S!=="onCompositionStart"?S==="onCompositionEnd"&&ed&&(E=o7()):(b2="value"in(kc=u)?kc.value:kc.textContent,ed=!0)),0<(_=S0(c,S)).length&&(S=new s7(S,e,null,n,u),d.push({event:S,listeners:_}),(E||(E=p7(n))!==null)&&(S.data=E))),(E=Xre?function(O,T){switch(O){case"compositionend":return p7(T);case"keypress":return T.which!==32?null:(d7=!0,u7);case"textInput":return(O=T.data)===u7&&d7?null:O;default:return null}}(e,n):function(O,T){if(ed)return O==="compositionend"||!C2&&h7(O,T)?(O=o7(),g0=b2=kc=null,ed=!1,O):null;switch(O){case"paste":default:return null;case"keypress":if(!(T.ctrlKey||T.altKey||T.metaKey)||T.ctrlKey&&T.altKey){if(T.char&&1<T.char.length)return T.char;if(T.which)return String.fromCharCode(T.which)}return null;case"compositionend":return c7&&T.locale!=="ko"?null:T.data}}(e,n))&&0<(c=S0(c,"onBeforeInput")).length&&(u=new s7("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E)}R7(d,t)})}function Xp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function S0(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,(i=Mp(e,n))!=null&&r.unshift(Xp(e,i,o)),(i=Mp(e,t))!=null&&r.push(Xp(e,i,o))),e=e.return}return r}function rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function D7(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,o?(l=Mp(n,i))!=null&&a.unshift(Xp(n,l,s)):o||(l=Mp(n,i))!=null&&a.push(Xp(n,l,s))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var coe=/\r\n?/g,uoe=/\u0000|\uFFFD/g;function L7(e){return(typeof e=="string"?e:""+e).replace(coe,`
`).replace(uoe,"")}function T0(e,t,n){if(t=L7(t),L7(e)!==t&&n)throw Error(We(425))}function E0(){}var D2=null,L2=null;function j2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var z2=typeof setTimeout=="function"?setTimeout:void 0,doe=typeof clearTimeout=="function"?clearTimeout:void 0,j7=typeof Promise=="function"?Promise:void 0,hoe=typeof queueMicrotask=="function"?queueMicrotask:j7!==void 0?function(e){return j7.resolve(null).then(e).catch(poe)}:z2;function poe(e){setTimeout(function(){throw e})}function F2(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if((n=o.data)==="/$"){if(r===0)return e.removeChild(o),void $p(t);r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);$p(t)}function vl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if((t=e.data)==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function z7(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var od=Math.random().toString(36).slice(2),ba="__reactFiber$"+od,Zp="__reactProps$"+od,ks="__reactContainer$"+od,B2="__reactEvents$"+od,moe="__reactListeners$"+od,foe="__reactHandles$"+od;function _c(e){var t=e[ba];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ks]||n[ba]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=z7(e);e!==null;){if(n=e[ba])return n;e=z7(e)}return t}n=(e=n).parentNode}return null}function em(e){return!(e=e[ba]||e[ks])||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function id(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function O0(e){return e[Zp]||null}var U2=[],ad=-1;function bl(e){return{current:e}}function Nn(e){0>ad||(e.current=U2[ad],U2[ad]=null,ad--)}function bn(e,t){ad++,U2[ad]=e.current,e.current=t}var yl={},zr=bl(yl),go=bl(!1),xc=yl;function sd(e,t){var n=e.type.contextTypes;if(!n)return yl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yo(e){return(e=e.childContextTypes)!=null}function H2(){Nn(go),Nn(zr)}function F7(e,t,n){if(zr.current!==yl)throw Error(We(168));bn(zr,t),bn(go,n)}function B7(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(We(108,yre(e)||"Unknown",o));return jn({},n,r)}function A0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yl,xc=zr.current,bn(zr,e),bn(go,go.current),!0}function U7(e,t,n){var r=e.stateNode;if(!r)throw Error(We(169));n?(e=B7(e,t,xc),r.__reactInternalMemoizedMergedChildContext=e,Nn(go),Nn(zr),bn(zr,e)):Nn(go),bn(go,n)}var _s=null,P0=!1,$2=!1;function H7(e){_s===null?_s=[e]:_s.push(e)}function wl(){if(!$2&&_s!==null){$2=!0;var e=0,t=hn;try{var n=_s;for(hn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_s=null,P0=!1}catch(o){throw _s!==null&&(_s=_s.slice(e+1)),VE(s2,wl),o}finally{hn=t,$2=!1}}return null}var ld=[],cd=0,N0=null,I0=0,fi=[],gi=0,Cc=null,ya=1,xs="";function Sc(e,t){ld[cd++]=I0,ld[cd++]=N0,N0=e,I0=t}function $7(e,t,n){fi[gi++]=ya,fi[gi++]=xs,fi[gi++]=Cc,Cc=e;var r=ya;e=xs;var o=32-Bi(r)-1;r&=~(1<<o),n+=1;var i=32-Bi(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,ya=1<<32-Bi(t)+o|n<<o|r,xs=i+e}else ya=1<<i|n<<o|r,xs=e}function V2(e){e.return!==null&&(Sc(e,1),$7(e,1,0))}function q2(e){for(;e===N0;)N0=ld[--cd],ld[cd]=null,I0=ld[--cd],ld[cd]=null;for(;e===Cc;)Cc=fi[--gi],fi[gi]=null,xs=fi[--gi],fi[gi]=null,ya=fi[--gi],fi[gi]=null}var Qo=null,Jo=null,In=!1,Hi=null;function V7(e,t){var n=wi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,(t=e.deletions)===null?(e.deletions=[n],e.flags|=16):t.push(n)}function q7(e,t){switch(e.tag){case 5:var n=e.type;return(t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)!==null&&(e.stateNode=t,Qo=e,Jo=vl(t.firstChild),!0);case 6:return(t=e.pendingProps===""||t.nodeType!==3?null:t)!==null&&(e.stateNode=t,Qo=e,Jo=null,!0);case 13:return(t=t.nodeType!==8?null:t)!==null&&(n=Cc!==null?{id:ya,overflow:xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=wi(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Qo=e,Jo=null,!0);default:return!1}}function W2(e){return!(!(1&e.mode)||128&e.flags)}function K2(e){if(In){var t=Jo;if(t){var n=t;if(!q7(e,t)){if(W2(e))throw Error(We(418));t=vl(n.nextSibling);var r=Qo;t&&q7(e,t)?V7(r,n):(e.flags=-4097&e.flags|2,In=!1,Qo=e)}}else{if(W2(e))throw Error(We(418));e.flags=-4097&e.flags|2,In=!1,Qo=e}}}function W7(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qo=e}function R0(e){if(e!==Qo)return!1;if(!In)return W7(e),In=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=(t=e.type)!=="head"&&t!=="body"&&!j2(e.type,e.memoizedProps)),t&&(t=Jo)){if(W2(e))throw K7(),Error(We(418));for(;t;)V7(e,t),t=vl(t.nextSibling)}if(W7(e),e.tag===13){if(!(e=(e=e.memoizedState)!==null?e.dehydrated:null))throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jo=vl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jo=null}}else Jo=Qo?vl(e.stateNode.nextSibling):null;return!0}function K7(){for(var e=Jo;e;)e=vl(e.nextSibling)}function ud(){Jo=Qo=null,In=!1}function G2(e){Hi===null?Hi=[e]:Hi.push(e)}var goe=ws.ReactCurrentBatchConfig;function tm(e,t,n){if((e=n.ref)!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner){if(n.tag!==1)throw Error(We(309));var r=n.stateNode}if(!r)throw Error(We(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(We(284));if(!n._owner)throw Error(We(290,e))}return e}function M0(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function G7(e){return(0,e._init)(e._payload)}function Y7(e){function t(f,v){if(e){var y=f.deletions;y===null?(f.deletions=[v],f.flags|=16):y.push(v)}}function n(f,v){if(!e)return null;for(;v!==null;)t(f,v),v=v.sibling;return null}function r(f,v){for(f=new Map;v!==null;)v.key!==null?f.set(v.key,v):f.set(v.index,v),v=v.sibling;return f}function o(f,v){return(f=Al(f,v)).index=0,f.sibling=null,f}function i(f,v,y){return f.index=y,e?(y=f.alternate)!==null?(y=y.index)<v?(f.flags|=2,v):y:(f.flags|=2,v):(f.flags|=1048576,v)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function s(f,v,y,b){return v===null||v.tag!==6?((v=zk(y,f.mode,b)).return=f,v):((v=o(v,y)).return=f,v)}function l(f,v,y,b){var w=y.type;return w===Gu?u(f,v,y.props.children,b,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ul&&G7(w)===v.type)?((b=o(v,y.props)).ref=tm(f,v,y),b.return=f,b):((b=og(y.type,y.key,y.props,null,f.mode,b)).ref=tm(f,v,y),b.return=f,b)}function c(f,v,y,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?((v=Fk(y,f.mode,b)).return=f,v):((v=o(v,y.children||[])).return=f,v)}function u(f,v,y,b,w){return v===null||v.tag!==7?((v=Ic(y,f.mode,b,w)).return=f,v):((v=o(v,y)).return=f,v)}function d(f,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return(v=zk(""+v,f.mode,y)).return=f,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case i0:return(y=og(v.type,v.key,v.props,null,f.mode,y)).ref=tm(f,null,v),y.return=f,y;case Ku:return(v=Fk(v,f.mode,y)).return=f,v;case ul:return d(f,(0,v._init)(v._payload),y)}if(Np(v)||Ap(v))return(v=Ic(v,f.mode,y,null)).return=f,v;M0(f,v)}return null}function p(f,v,y,b){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:s(f,v,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case i0:return y.key===w?l(f,v,y,b):null;case Ku:return y.key===w?c(f,v,y,b):null;case ul:return p(f,v,(w=y._init)(y._payload),b)}if(Np(y)||Ap(y))return w!==null?null:u(f,v,y,b,null);M0(f,y)}return null}function h(f,v,y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return s(v,f=f.get(y)||null,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case i0:return l(v,f=f.get(b.key===null?y:b.key)||null,b,w);case Ku:return c(v,f=f.get(b.key===null?y:b.key)||null,b,w);case ul:return h(f,v,y,(0,b._init)(b._payload),w)}if(Np(b)||Ap(b))return u(v,f=f.get(y)||null,b,w,null);M0(v,b)}return null}function m(f,v,y,b){for(var w=null,k=null,_=v,E=v=0,S=null;_!==null&&E<y.length;E++){_.index>E?(S=_,_=null):S=_.sibling;var O=p(f,_,y[E],b);if(O===null){_===null&&(_=S);break}e&&_&&O.alternate===null&&t(f,_),v=i(O,v,E),k===null?w=O:k.sibling=O,k=O,_=S}if(E===y.length)return n(f,_),In&&Sc(f,E),w;if(_===null){for(;E<y.length;E++)(_=d(f,y[E],b))!==null&&(v=i(_,v,E),k===null?w=_:k.sibling=_,k=_);return In&&Sc(f,E),w}for(_=r(f,_);E<y.length;E++)(S=h(_,f,E,y[E],b))!==null&&(e&&S.alternate!==null&&_.delete(S.key===null?E:S.key),v=i(S,v,E),k===null?w=S:k.sibling=S,k=S);return e&&_.forEach(function(T){return t(f,T)}),In&&Sc(f,E),w}function g(f,v,y,b){var w=Ap(y);if(typeof w!="function")throw Error(We(150));if((y=w.call(y))==null)throw Error(We(151));for(var k=w=null,_=v,E=v=0,S=null,O=y.next();_!==null&&!O.done;E++,O=y.next()){_.index>E?(S=_,_=null):S=_.sibling;var T=p(f,_,O.value,b);if(T===null){_===null&&(_=S);break}e&&_&&T.alternate===null&&t(f,_),v=i(T,v,E),k===null?w=T:k.sibling=T,k=T,_=S}if(O.done)return n(f,_),In&&Sc(f,E),w;if(_===null){for(;!O.done;E++,O=y.next())(O=d(f,O.value,b))!==null&&(v=i(O,v,E),k===null?w=O:k.sibling=O,k=O);return In&&Sc(f,E),w}for(_=r(f,_);!O.done;E++,O=y.next())(O=h(_,f,E,O.value,b))!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?E:O.key),v=i(O,v,E),k===null?w=O:k.sibling=O,k=O);return e&&_.forEach(function(M){return t(f,M)}),In&&Sc(f,E),w}return function f(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Gu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case i0:e:{for(var k=b.key,_=y;_!==null;){if(_.key===k){if((k=b.type)===Gu){if(_.tag===7){n(v,_.sibling),(y=o(_,b.props.children)).return=v,v=y;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ul&&G7(k)===_.type){n(v,_.sibling),(y=o(_,b.props)).ref=tm(v,_,b),y.return=v,v=y;break e}n(v,_);break}t(v,_),_=_.sibling}b.type===Gu?((y=Ic(b.props.children,v.mode,w,b.key)).return=v,v=y):((w=og(b.type,b.key,b.props,null,v.mode,w)).ref=tm(v,y,b),w.return=v,v=w)}return a(v);case Ku:e:{for(_=b.key;y!==null;){if(y.key===_){if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),(y=o(y,b.children||[])).return=v,v=y;break e}n(v,y);break}t(v,y),y=y.sibling}(y=Fk(b,v.mode,w)).return=v,v=y}return a(v);case ul:return f(v,y,(_=b._init)(b._payload),w)}if(Np(b))return m(v,y,b,w);if(Ap(b))return g(v,y,b,w);M0(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),(y=o(y,b)).return=v,v=y):(n(v,y),(y=zk(b,v.mode,w)).return=v,v=y),a(v)):n(v,y)}}var dd=Y7(!0),Q7=Y7(!1),D0=bl(null),L0=null,hd=null,Y2=null;function Q2(){Y2=hd=L0=null}function J2(e){var t=D0.current;Nn(D0),e._currentValue=t}function X2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pd(e,t){L0=e,Y2=hd=null,(e=e.dependencies)!==null&&e.firstContext!==null&&(e.lanes&t&&(vo=!0),e.firstContext=null)}function vi(e){var t=e._currentValue;if(Y2!==e)if(e={context:e,memoizedValue:t,next:null},hd===null){if(L0===null)throw Error(We(308));hd=e,L0.dependencies={lanes:0,firstContext:e}}else hd=hd.next=e;return t}var Tc=null;function Z2(e){Tc===null?Tc=[e]:Tc.push(e)}function J7(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Z2(t)):(n.next=o.next,o.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,(n=e.alternate)!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kl=!1;function ek(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _l(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,2&tn){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Cs(e,n)}return(o=r.interleaved)===null?(t.next=t,Z2(r)):(t.next=o.next,o.next=t),r.interleaved=t,Cs(e,n)}function j0(e,t,n){if((t=t.updateQueue)!==null&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,p2(e,n)}}function Z7(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&n===(r=r.updateQueue)){var o=null,i=null;if((n=n.firstBaseUpdate)!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}(e=n.lastBaseUpdate)===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function z0(e,t,n,r){var o=e.updateQueue;kl=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=e.alternate;u!==null&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(i!==null){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=s.lane,h=s.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(p=t,h=n,g.tag){case 1:if(typeof(m=g.payload)=="function"){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if((p=typeof(m=g.payload)=="function"?m.call(h,d,p):m)==null)break e;d=jn({},d,p);break e;case 2:kl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,(p=o.effects)===null?o.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=p;if((s=s.next)===null){if((s=o.shared.pending)===null)break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,(t=o.shared.interleaved)!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Ac|=a,e.lanes=a,e.memoizedState=d}}function eO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(We(191,o));o.call(r)}}}var nm={},wa=bl(nm),rm=bl(nm),om=bl(nm);function Ec(e){if(e===nm)throw Error(We(174));return e}function tk(e,t){switch(bn(om,t),bn(rm,e),bn(wa,nm),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Q5(null,"");break;default:t=Q5(t=(e=e===8?t.parentNode:t).namespaceURI||null,e=e.tagName)}Nn(wa),bn(wa,t)}function md(){Nn(wa),Nn(rm),Nn(om)}function tO(e){Ec(om.current);var t=Ec(wa.current),n=Q5(t,e.type);t!==n&&(bn(rm,e),bn(wa,n))}function nk(e){rm.current===e&&(Nn(wa),Nn(rm))}var Vn=bl(0);function F0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&((n=n.dehydrated)===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(128&t.flags)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rk=[];function ok(){for(var e=0;e<rk.length;e++)rk[e]._workInProgressVersionPrimary=null;rk.length=0}var B0=ws.ReactCurrentDispatcher,ik=ws.ReactCurrentBatchConfig,Oc=0,zn=null,yr=null,wr=null,U0=!1,im=!1,am=0,voe=0;function Fr(){throw Error(We(321))}function ak(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ui(e[n],t[n]))return!1;return!0}function sk(e,t,n,r,o,i){if(Oc=i,zn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B0.current=e===null||e.memoizedState===null?koe:_oe,e=n(r,o),im){i=0;do{if(im=!1,am=0,25<=i)throw Error(We(301));i+=1,wr=yr=null,t.updateQueue=null,B0.current=xoe,e=n(r,o)}while(im)}if(B0.current=V0,t=yr!==null&&yr.next!==null,Oc=0,wr=yr=zn=null,U0=!1,t)throw Error(We(300));return e}function lk(){var e=am!==0;return am=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?zn.memoizedState=wr=e:wr=wr.next=e,wr}function bi(){if(yr===null){var e=zn.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=wr===null?zn.memoizedState:wr.next;if(t!==null)wr=t,yr=e;else{if(e===null)throw Error(We(310));e={memoizedState:(yr=e).memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},wr===null?zn.memoizedState=wr=e:wr=wr.next=e}return wr}function sm(e,t){return typeof t=="function"?t(e):t}function ck(e){var t=bi(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=yr,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,l=null,c=i;do{var u=c.lane;if((Oc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,zn.lanes|=u,Ac|=u}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=s,Ui(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if((e=n.interleaved)!==null){o=e;do i=o.lane,zn.lanes|=i,Ac|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uk(e){var t=bi(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Ui(i,t.memoizedState)||(vo=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function nO(){}function rO(e,t){var n=zn,r=bi(),o=t(),i=!Ui(r.memoizedState,o);if(i&&(r.memoizedState=o,vo=!0),r=r.queue,dk(aO.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||wr!==null&&1&wr.memoizedState.tag){if(n.flags|=2048,lm(9,iO.bind(null,n,r,o,t),void 0,null),kr===null)throw Error(We(349));30&Oc||oO(n,t,o)}return o}function oO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},(t=zn.updateQueue)===null?(t={lastEffect:null,stores:null},zn.updateQueue=t,t.stores=[e]):(n=t.stores)===null?t.stores=[e]:n.push(e)}function iO(e,t,n,r){t.value=n,t.getSnapshot=r,sO(t)&&lO(e)}function aO(e,t,n){return n(function(){sO(t)&&lO(e)})}function sO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ui(e,n)}catch{return!0}}function lO(e){var t=Cs(e,1);t!==null&&Vi(t,e,1,-1)}function cO(e){var t=ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:e},t.queue=e,e=e.dispatch=woe.bind(null,zn,e),[t.memoizedState,e]}function lm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},(t=zn.updateQueue)===null?(t={lastEffect:null,stores:null},zn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect)===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function uO(){return bi().memoizedState}function H0(e,t,n,r){var o=ka();zn.flags|=e,o.memoizedState=lm(1|t,n,void 0,r===void 0?null:r)}function $0(e,t,n,r){var o=bi();r=r===void 0?null:r;var i=void 0;if(yr!==null){var a=yr.memoizedState;if(i=a.destroy,r!==null&&ak(r,a.deps))return void(o.memoizedState=lm(t,n,i,r))}zn.flags|=e,o.memoizedState=lm(1|t,n,i,r)}function dO(e,t){return H0(8390656,8,e,t)}function dk(e,t){return $0(2048,8,e,t)}function hO(e,t){return $0(4,2,e,t)}function pO(e,t){return $0(4,4,e,t)}function mO(e,t){return typeof t=="function"?(e=e(),t(e),function(){t(null)}):t!=null?(e=e(),t.current=e,function(){t.current=null}):void 0}function fO(e,t,n){return n=n!=null?n.concat([e]):null,$0(4,4,mO.bind(null,t,e),n)}function hk(){}function gO(e,t){var n=bi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ak(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vO(e,t){var n=bi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ak(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bO(e,t,n){return 21&Oc?(Ui(n,t)||(n=GE(),zn.lanes|=n,Ac|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n)}function boe(e,t){var n=hn;hn=n!==0&&4>n?n:4,e(!0);var r=ik.transition;ik.transition={};try{e(!1),t()}finally{hn=n,ik.transition=r}}function yO(){return bi().memoizedState}function yoe(e,t,n){var r=El(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wO(e)?kO(t,n):(n=J7(e,t,n,r))!==null&&(Vi(n,e,r,ro()),_O(n,t,r))}function woe(e,t,n){var r=El(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wO(e))kO(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer)!==null)try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Ui(s,a)){var l=t.interleaved;return l===null?(o.next=o,Z2(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch{}(n=J7(e,t,o,r))!==null&&(Vi(n,e,r,o=ro()),_O(n,t,r))}}function wO(e){var t=e.alternate;return e===zn||t!==null&&t===zn}function kO(e,t){im=U0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _O(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,p2(e,n)}}var V0={readContext:vi,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},koe={readContext:vi,useCallback:function(e,t){return ka().memoizedState=[e,t===void 0?null:t],e},useContext:vi,useEffect:dO,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,H0(4194308,4,mO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return H0(4194308,4,e,t)},useInsertionEffect:function(e,t){return H0(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yoe.bind(null,zn,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:cO,useDebugValue:hk,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=cO(!1),t=e[0];return e=boe.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=zn,o=ka();if(In){if(n===void 0)throw Error(We(407));n=n()}else{if(n=t(),kr===null)throw Error(We(349));30&Oc||oO(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,dO(aO.bind(null,r,i,e),[e]),r.flags|=2048,lm(9,iO.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ka(),t=kr.identifierPrefix;if(In){var n=xs;t=":"+t+"R"+(n=(ya&~(1<<32-Bi(ya)-1)).toString(32)+n),0<(n=am++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=voe++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_oe={readContext:vi,useCallback:gO,useContext:vi,useEffect:dk,useImperativeHandle:fO,useInsertionEffect:hO,useLayoutEffect:pO,useMemo:vO,useReducer:ck,useRef:uO,useState:function(){return ck(sm)},useDebugValue:hk,useDeferredValue:function(e){return bO(bi(),yr.memoizedState,e)},useTransition:function(){return[ck(sm)[0],bi().memoizedState]},useMutableSource:nO,useSyncExternalStore:rO,useId:yO,unstable_isNewReconciler:!1},xoe={readContext:vi,useCallback:gO,useContext:vi,useEffect:dk,useImperativeHandle:fO,useInsertionEffect:hO,useLayoutEffect:pO,useMemo:vO,useReducer:uk,useRef:uO,useState:function(){return uk(sm)},useDebugValue:hk,useDeferredValue:function(e){var t=bi();return yr===null?t.memoizedState=e:bO(t,yr.memoizedState,e)},useTransition:function(){return[uk(sm)[0],bi().memoizedState]},useMutableSource:nO,useSyncExternalStore:rO,useId:yO,unstable_isNewReconciler:!1};function $i(e,t){if(e&&e.defaultProps){for(var n in t=jn({},t),e=e.defaultProps)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pk(e,t,n,r){n=(n=n(r,t=e.memoizedState))==null?t:jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var q0={isMounted:function(e){return!!(e=e._reactInternals)&&wc(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ro(),o=El(e),i=Ss(r,o);i.payload=t,n!=null&&(i.callback=n),(t=_l(e,i,o))!==null&&(Vi(t,e,o,r),j0(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ro(),o=El(e),i=Ss(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),(t=_l(e,i,o))!==null&&(Vi(t,e,o,r),j0(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ro(),r=El(e),o=Ss(n,r);o.tag=2,t!=null&&(o.callback=t),(t=_l(e,o,r))!==null&&(Vi(t,e,r,n),j0(t,e,r))}};function xO(e,t,n,r,o,i,a){return typeof(e=e.stateNode).shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||!Gp(n,r)||!Gp(o,i)}function CO(e,t,n){var r=!1,o=yl,i=t.contextType;return typeof i=="object"&&i!==null?i=vi(i):(o=Yo(t)?xc:zr.current,i=(r=(r=t.contextTypes)!=null)?sd(e,o):yl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=q0,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function SO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&q0.enqueueReplaceState(t,t.state,null)}function mk(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ek(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=vi(i):(i=Yo(t)?xc:zr.current,o.context=sd(e,i)),o.state=e.memoizedState,typeof(i=t.getDerivedStateFromProps)=="function"&&(pk(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&q0.enqueueReplaceState(o,o.state,null),z0(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function fd(e,t){try{var n="",r=t;do n+=bre(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function fk(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gk(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Coe=typeof WeakMap=="function"?WeakMap:Map;function TO(e,t,n){(n=Ss(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){X0||(X0=!0,Pk=r),gk(0,t)},n}function EO(e,t,n){(n=Ss(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){gk(0,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gk(0,t),typeof r!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function OO(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Coe;var o=new Set;r.set(t,o)}else(o=r.get(t))===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Roe.bind(null,e,t,n),t.then(e,e))}function AO(e){do{var t;if((t=e.tag===13)&&(t=(t=e.memoizedState)===null||t.dehydrated!==null),t)return e;e=e.return}while(e!==null);return null}function PO(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:((t=Ss(-1,1)).tag=2,_l(n,t,1))),n.lanes|=1),e)}var Soe=ws.ReactCurrentOwner,vo=!1;function bo(e,t,n,r){t.child=e===null?Q7(t,null,n,r):dd(t,e.child,n,r)}function NO(e,t,n,r,o){n=n.render;var i=t.ref;return pd(t,o),r=sk(e,t,n,r,i,o),n=lk(),e===null||vo?(In&&n&&V2(t),t.flags|=1,bo(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ts(e,t,o))}function IO(e,t,n,r,o){if(e===null){var i=n.type;return typeof i!="function"||jk(i)||i.defaultProps!==void 0||n.compare!==null||n.defaultProps!==void 0?((e=og(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,RO(e,t,i,r,o))}if(i=e.child,(e.lanes&o)===0){var a=i.memoizedProps;if((n=(n=n.compare)!==null?n:Gp)(a,r)&&e.ref===t.ref)return Ts(e,t,o)}return t.flags|=1,(e=Al(i,r)).ref=t.ref,e.return=t,t.child=e}function RO(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Gp(i,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=i,(e.lanes&o)===0)return t.lanes=e.lanes,Ts(e,t,o);131072&e.flags&&(vo=!0)}}return vk(e,t,n,r,o)}function MO(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(1&t.mode){if(!(1073741824&n))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bn(vd,Xo),Xo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,bn(vd,Xo),Xo|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(vd,Xo),Xo|=n;else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,bn(vd,Xo),Xo|=r;return bo(e,t,o,n),t.child}function DO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vk(e,t,n,r,o){var i=Yo(n)?xc:zr.current;return i=sd(t,i),pd(t,o),n=sk(e,t,n,r,i,o),r=lk(),e===null||vo?(In&&r&&V2(t),t.flags|=1,bo(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ts(e,t,o))}function LO(e,t,n,r,o){if(Yo(n)){var i=!0;A0(t)}else i=!1;if(pd(t,o),t.stateNode===null)K0(e,t),CO(t,n,r),mk(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=vi(c):c=sd(t,c=Yo(n)?xc:zr.current);var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&SO(t,a,r,c),kl=!1;var p=t.memoizedState;a.state=p,z0(t,r,a,o),l=t.memoizedState,s!==r||p!==l||go.current||kl?(typeof u=="function"&&(pk(t,n,u,r),l=t.memoizedState),(s=kl||xO(t,n,s,r,p,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,X7(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),a.props=c,d=t.pendingProps,p=a.context,typeof(l=n.contextType)=="object"&&l!==null?l=vi(l):l=sd(t,l=Yo(n)?xc:zr.current);var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==l)&&SO(t,a,r,l),kl=!1,p=t.memoizedState,a.state=p,z0(t,r,a,o);var m=t.memoizedState;s!==d||p!==m||go.current||kl?(typeof h=="function"&&(pk(t,n,h,r),m=t.memoizedState),(c=kl||xO(t,n,c,r,p,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return bk(e,t,n,r,i,o)}function bk(e,t,n,r,o,i){DO(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&U7(t,n,!1),Ts(e,t,i);r=t.stateNode,Soe.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=dd(t,e.child,null,i),t.child=dd(t,null,s,i)):bo(e,t,s,i),t.memoizedState=r.state,o&&U7(t,n,!0),t.child}function jO(e){var t=e.stateNode;t.pendingContext?F7(0,t.pendingContext,t.pendingContext!==t.context):t.context&&F7(0,t.context,!1),tk(e,t.containerInfo)}function zO(e,t,n,r,o){return ud(),G2(o),t.flags|=256,bo(e,t,n,r),t.child}var FO,yk,BO,UO,wk={dehydrated:null,treeContext:null,retryLane:0};function kk(e){return{baseLanes:e,cachePool:null,transitions:null}}function HO(e,t,n){var r,o=t.pendingProps,i=Vn.current,a=!1,s=!!(128&t.flags);if((r=s)||(r=(e===null||e.memoizedState!==null)&&!!(2&i)),r?(a=!0,t.flags&=-129):e!==null&&e.memoizedState===null||(i|=1),bn(Vn,1&i),e===null)return K2(t),(e=t.memoizedState)!==null&&(e=e.dehydrated)!==null?(1&t.mode?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,a?(o=t.mode,a=t.child,s={mode:"hidden",children:s},1&o||a===null?a=ig(s,o,0,null):(a.childLanes=0,a.pendingProps=s),e=Ic(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=kk(n),t.memoizedState=wk,e):_k(t,s));if((i=e.memoizedState)!==null&&(r=i.dehydrated)!==null)return function(c,u,d,p,h,m,g){if(d)return 256&u.flags?(u.flags&=-257,W0(c,u,g,p=fk(Error(We(422))))):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(m=p.fallback,h=u.mode,p=ig({mode:"visible",children:p.children},h,0,null),(m=Ic(m,h,g,null)).flags|=2,p.return=u,m.return=u,p.sibling=m,u.child=p,1&u.mode&&dd(u,c.child,null,g),u.child.memoizedState=kk(g),u.memoizedState=wk,m);if(!(1&u.mode))return W0(c,u,g,null);if(h.data==="$!"){if(p=h.nextSibling&&h.nextSibling.dataset)var f=p.dgst;return p=f,W0(c,u,g,p=fk(m=Error(We(419)),p,void 0))}if(f=(g&c.childLanes)!==0,vo||f){if((p=kr)!==null){switch(g&-g){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}(h=h&(p.suspendedLanes|g)?0:h)!==0&&h!==m.retryLane&&(m.retryLane=h,Cs(c,h),Vi(p,c,h,-1))}return Lk(),W0(c,u,g,p=fk(Error(We(421))))}return h.data==="$?"?(u.flags|=128,u.child=c.child,u=Moe.bind(null,c),h._reactRetry=u,null):(c=m.treeContext,Jo=vl(h.nextSibling),Qo=u,In=!0,Hi=null,c!==null&&(fi[gi++]=ya,fi[gi++]=xs,fi[gi++]=Cc,ya=c.id,xs=c.overflow,Cc=u),u=_k(u,p.children),u.flags|=4096,u)}(e,t,s,o,r,i,n);if(a){a=o.fallback,s=t.mode,r=(i=e.child).sibling;var l={mode:"hidden",children:o.children};return 1&s||t.child===i?(o=Al(i,l)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null),r!==null?a=Al(r,a):(a=Ic(a,s,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,s=(s=e.child.memoizedState)===null?kk(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=wk,o}return e=(a=e.child).sibling,o=Al(a,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&((n=t.deletions)===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function _k(e,t){return(t=ig({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function W0(e,t,n,r){return r!==null&&G2(r),dd(t,e.child,null,n),(e=_k(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $O(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),X2(e.return,t,n)}function xk(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function VO(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),2&(r=Vn.current))r=1&r|2,t.flags|=128;else{if(e!==null&&128&e.flags)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$O(e,n,t);else if(e.tag===19)$O(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bn(Vn,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;n!==null;)(e=n.alternate)!==null&&F0(e)===null&&(o=n),n=n.sibling;(n=o)===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),xk(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if((e=o.alternate)!==null&&F0(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}xk(t,!0,n,null,i);break;case"together":xk(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function K0(e,t){!(1&t.mode)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ts(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ac|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function cm(e,t){if(!In)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function to(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Toe(e,t,n){var r=t.pendingProps;switch(q2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(t),null;case 1:case 17:return Yo(t.type)&&H2(),to(t),null;case 3:return r=t.stateNode,md(),Nn(go),Nn(zr),ok(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),e!==null&&e.child!==null||(R0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Hi!==null&&(Rk(Hi),Hi=null))),yk(e,t),to(t),null;case 5:nk(t);var o=Ec(om.current);if(n=t.type,e!==null&&t.stateNode!=null)BO(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(We(166));return to(t),null}if(e=Ec(wa.current),R0(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ba]=t,r[Zp]=i,e=!!(1&t.mode),n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(o=0;o<Qp.length;o++)Sn(Qp[o],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":CE(r,i),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Sn("invalid",r);break;case"textarea":EE(r,i),Sn("invalid",r)}for(var a in Z5(n,i),o=null,i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&T0(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&T0(r.textContent,s,e),o=["children",""+s]):Op.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Sn("scroll",r)}switch(n){case"input":a0(r),TE(r,i,!0);break;case"textarea":a0(r),AE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=E0)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=PE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ba]=t,e[Zp]=r,FO(e,t,!1,!1),t.stateNode=e;e:{switch(a=e2(n,r),n){case"dialog":Sn("cancel",e),Sn("close",e),o=r;break;case"iframe":case"object":case"embed":Sn("load",e),o=r;break;case"video":case"audio":for(o=0;o<Qp.length;o++)Sn(Qp[o],e);o=r;break;case"source":Sn("error",e),o=r;break;case"img":case"image":case"link":Sn("error",e),Sn("load",e),o=r;break;case"details":Sn("toggle",e),o=r;break;case"input":CE(e,r),o=W5(e,r),Sn("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=jn({},r,{value:void 0}),Sn("invalid",e);break;case"textarea":EE(e,r),o=Y5(e,r),Sn("invalid",e)}for(i in Z5(n,o),s=o)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?RE(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0)!=null&&NE(e,l):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ip(e,l):typeof l=="number"&&Ip(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Op.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Sn("scroll",e):l!=null&&D5(e,i,l,a))}switch(n){case"input":a0(e),TE(e,r,!1);break;case"textarea":a0(e),AE(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dl(r.value));break;case"select":e.multiple=!!r.multiple,(i=r.value)!=null?Yu(e,!!r.multiple,i,!1):r.defaultValue!=null&&Yu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=E0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return to(t),null;case 6:if(e&&t.stateNode!=null)UO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(We(166));if(n=Ec(om.current),Ec(wa.current),R0(t)){if(r=t.stateNode,n=t.memoizedProps,r[ba]=t,(i=r.nodeValue!==n)&&(e=Qo)!==null)switch(e.tag){case 3:T0(r.nodeValue,n,!!(1&e.mode));break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&T0(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r))[ba]=t,t.stateNode=r}return to(t),null;case 13:if(Nn(Vn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(In&&Jo!==null&&1&t.mode&&!(128&t.flags))K7(),ud(),t.flags|=98560,i=!1;else if(i=R0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(We(318));if(!(i=(i=t.memoizedState)!==null?i.dehydrated:null))throw Error(We(317));i[ba]=t}else ud(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;to(t),i=!1}else Hi!==null&&(Rk(Hi),Hi=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=r!==null)!=(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,1&t.mode&&(e===null||1&Vn.current?lr===0&&(lr=3):Lk())),t.updateQueue!==null&&(t.flags|=4),to(t),null);case 4:return md(),yk(e,t),e===null&&Jp(t.stateNode.containerInfo),to(t),null;case 10:return J2(t.type._context),to(t),null;case 19:if(Nn(Vn),(i=t.memoizedState)===null)return to(t),null;if(r=!!(128&t.flags),(a=i.rendering)===null)if(r)cm(i,!1);else{if(lr!==0||e!==null&&128&e.flags)for(e=t.child;e!==null;){if((a=F0(e))!==null){for(t.flags|=128,cm(i,!1),(r=a.updateQueue)!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)e=r,(i=n).flags&=14680066,(a=i.alternate)===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bn(Vn,1&Vn.current|2),t.child}e=e.sibling}i.tail!==null&&Qn()>bd&&(t.flags|=128,r=!0,cm(i,!1),t.lanes=4194304)}else{if(!r)if((e=F0(a))!==null){if(t.flags|=128,r=!0,(n=e.updateQueue)!==null&&(t.updateQueue=n,t.flags|=4),cm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!In)return to(t),null}else 2*Qn()-i.renderingStartTime>bd&&n!==1073741824&&(t.flags|=128,r=!0,cm(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):((n=i.last)!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qn(),t.sibling=null,n=Vn.current,bn(Vn,r?1&n|2:1&n),t):(to(t),null);case 22:case 23:return Dk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&1&t.mode?1073741824&Xo&&(to(t),6&t.subtreeFlags&&(t.flags|=8192)):to(t),null;case 24:case 25:return null}throw Error(We(156,t.tag))}function Eoe(e,t){switch(q2(t),t.tag){case 1:return Yo(t.type)&&H2(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return md(),Nn(go),Nn(zr),ok(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return nk(t),null;case 13:if(Nn(Vn),(e=t.memoizedState)!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));ud()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Nn(Vn),null;case 4:return md(),null;case 10:return J2(t.type._context),null;case 22:case 23:return Dk(),null;default:return null}}FO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yk=function(){},BO=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ec(wa.current);var i,a=null;switch(n){case"input":o=W5(e,o),r=W5(e,r),a=[];break;case"select":o=jn({},o,{value:void 0}),r=jn({},r,{value:void 0}),a=[];break;case"textarea":o=Y5(e,o),r=Y5(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=E0)}for(c in Z5(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var s=o[c];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Op.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Op.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Sn("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},UO=function(e,t,n,r){n!==r&&(t.flags|=4)};var G0=!1,Br=!1,Ooe=typeof WeakSet=="function"?WeakSet:Set,mt=null;function gd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qn(e,t,r)}else n.current=null}function qO(e,t,n){try{n()}catch(r){qn(e,t,r)}}var WO=!1;function um(e,t,n){var r=t.updateQueue;if((r=r!==null?r.lastEffect:null)!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&qO(t,n,i)}o=o.next}while(o!==r)}}function Y0(e,t){if((t=(t=t.updateQueue)!==null?t.lastEffect:null)!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ck(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function KO(e){var t=e.alternate;t!==null&&(e.alternate=null,KO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode)!==null&&(delete t[ba],delete t[Zp],delete t[B2],delete t[moe],delete t[foe]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GO(e){return e.tag===5||e.tag===3||e.tag===4}function YO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(2&e.flags||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sk(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),(n=n._reactRootContainer)!=null||t.onclick!==null||(t.onclick=E0));else if(r!==4&&(e=e.child)!==null)for(Sk(e,t,n),e=e.sibling;e!==null;)Sk(e,t,n),e=e.sibling}function Tk(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child)!==null)for(Tk(e,t,n),e=e.sibling;e!==null;)Tk(e,t,n),e=e.sibling}var no=null,_a=!1;function xl(e,t,n){for(n=n.child;n!==null;)QO(e,t,n),n=n.sibling}function QO(e,t,n){if(va&&typeof va.onCommitFiberUnmount=="function")try{va.onCommitFiberUnmount(u0,n)}catch{}switch(n.tag){case 5:Br||gd(n,t);case 6:var r=no,o=_a;no=null,xl(e,t,n),_a=o,(no=r)!==null&&(_a?(e=no,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):no.removeChild(n.stateNode));break;case 18:no!==null&&(_a?(e=no,n=n.stateNode,e.nodeType===8?F2(e.parentNode,n):e.nodeType===1&&F2(e,n),$p(e)):F2(no,n.stateNode));break;case 4:r=no,o=_a,no=n.stateNode.containerInfo,_a=!0,xl(e,t,n),no=r,_a=o;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue)!==null&&(r=r.lastEffect)!==null){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(2&i||4&i)&&qO(n,t,a),o=o.next}while(o!==r)}xl(e,t,n);break;case 1:if(!Br&&(gd(n,t),typeof(r=n.stateNode).componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){qn(n,t,s)}xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:1&n.mode?(Br=(r=Br)||n.memoizedState!==null,xl(e,t,n),Br=r):xl(e,t,n);break;default:xl(e,t,n)}}function JO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ooe),t.forEach(function(r){var o=Doe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function xa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:no=s.stateNode,_a=!1;break e;case 3:case 4:no=s.stateNode.containerInfo,_a=!0;break e}s=s.return}if(no===null)throw Error(We(160));QO(i,a,o),no=null,_a=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){qn(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;t!==null;)XO(t,e),t=t.sibling}function XO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xa(t,e),Es(e),4&r){try{um(3,e,e.return),Y0(3,e)}catch(g){qn(e,e.return,g)}try{um(5,e,e.return)}catch(g){qn(e,e.return,g)}}break;case 1:xa(t,e),Es(e),512&r&&n!==null&&gd(n,n.return);break;case 5:if(xa(t,e),Es(e),512&r&&n!==null&&gd(n,n.return),32&e.flags){var o=e.stateNode;try{Ip(o,"")}catch(g){qn(e,e.return,g)}}if(4&r&&(o=e.stateNode)!=null){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&SE(o,i),e2(s,a);var c=e2(s,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?RE(o,d):u==="dangerouslySetInnerHTML"?NE(o,d):u==="children"?Ip(o,d):D5(o,u,d,c)}switch(s){case"input":K5(o,i);break;case"textarea":OE(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Yu(o,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?Yu(o,!!i.multiple,i.defaultValue,!0):Yu(o,!!i.multiple,i.multiple?[]:"",!1))}o[Zp]=i}catch(g){qn(e,e.return,g)}}break;case 6:if(xa(t,e),Es(e),4&r){if(e.stateNode===null)throw Error(We(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){qn(e,e.return,g)}}break;case 3:if(xa(t,e),Es(e),4&r&&n!==null&&n.memoizedState.isDehydrated)try{$p(t.containerInfo)}catch(g){qn(e,e.return,g)}break;case 4:default:xa(t,e),Es(e);break;case 13:xa(t,e),Es(e),8192&(o=e.child).flags&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ak=Qn())),4&r&&JO(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,1&e.mode?(Br=(c=Br)||u,xa(t,e),Br=c):xa(t,e),Es(e),8192&r){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(mt=e,u=e.child;u!==null;){for(d=mt=u;mt!==null;){switch(h=(p=mt).child,p.tag){case 0:case 11:case 14:case 15:um(4,p,p.return);break;case 1:gd(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){qn(r,n,g)}}break;case 5:gd(p,p.return);break;case 22:if(p.memoizedState!==null){tA(d);continue}}h!==null?(h.return=p,mt=h):tA(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?typeof(i=o.style).setProperty=="function"?i.setProperty("display","none","important"):i.display="none":(s=d.stateNode,a=(l=d.memoizedProps.style)!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=IE("display",a))}catch(g){qn(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){qn(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xa(t,e),Es(e),4&r&&JO(e);case 21:}}function Es(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;n!==null;){if(GO(n)){var r=n;break e}n=n.return}throw Error(We(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(Ip(o,""),r.flags&=-33),Tk(e,YO(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;Sk(e,YO(e),i);break;default:throw Error(We(161))}}catch(a){qn(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Aoe(e,t,n){mt=e,ZO(e)}function ZO(e,t,n){for(var r=!!(1&e.mode);mt!==null;){var o=mt,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||G0;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||Br;s=G0;var c=Br;if(G0=a,(Br=l)&&!c)for(mt=o;mt!==null;)l=(a=mt).child,a.tag===22&&a.memoizedState!==null?nA(o):l!==null?(l.return=a,mt=l):nA(o);for(;i!==null;)mt=i,ZO(i),i=i.sibling;mt=o,G0=s,Br=c}eA(e)}else 8772&o.subtreeFlags&&i!==null?(i.return=o,mt=i):eA(e)}}function eA(e){for(;mt!==null;){var t=mt;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Br||Y0(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Br)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:$i(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&eO(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}eO(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$p(d)}}}break;default:throw Error(We(163))}Br||512&t.flags&&Ck(t)}catch(p){qn(t,t.return,p)}}if(t===e){mt=null;break}if((n=t.sibling)!==null){n.return=t.return,mt=n;break}mt=t.return}}function tA(e){for(;mt!==null;){var t=mt;if(t===e){mt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,mt=n;break}mt=t.return}}function nA(e){for(;mt!==null;){var t=mt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Y0(4,t)}catch(l){qn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){qn(t,o,l)}}var i=t.return;try{Ck(t)}catch(l){qn(t,i,l)}break;case 5:var a=t.return;try{Ck(t)}catch(l){qn(t,a,l)}}}catch(l){qn(t,t.return,l)}if(t===e){mt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,mt=s;break}mt=t.return}}var rA,Poe=Math.ceil,Q0=ws.ReactCurrentDispatcher,Ek=ws.ReactCurrentOwner,yi=ws.ReactCurrentBatchConfig,tn=0,kr=null,tr=null,Pr=0,Xo=0,vd=bl(0),lr=0,dm=null,Ac=0,J0=0,Ok=0,hm=null,Zo=null,Ak=0,bd=1/0,Cl=null,X0=!1,Pk=null,Sl=null,Z0=!1,Tl=null,eg=0,pm=0,Nk=null,tg=-1,ng=0;function ro(){return 6&tn?Qn():tg!==-1?tg:tg=Qn()}function El(e){return 1&e.mode?2&tn&&Pr!==0?Pr&-Pr:goe.transition!==null?(ng===0&&(ng=GE()),ng):(e=hn)!==0?e:e=(e=window.event)===void 0?16:r7(e.type):1}function Vi(e,t,n,r){if(50<pm)throw pm=0,Nk=null,Error(We(185));zp(e,n,r),2&tn&&e===kr||(e===kr&&(!(2&tn)&&(J0|=n),lr===4&&Ol(e,Pr)),yo(e,r),n===1&&tn===0&&!(1&t.mode)&&(bd=Qn()+500,P0&&wl()))}function yo(e,t){var n=e.callbackNode;(function(o,i){for(var a=o.suspendedLanes,s=o.pingedLanes,l=o.expirationTimes,c=o.pendingLanes;0<c;){var u=31-Bi(c),d=1<<u,p=l[u];p===-1?d&a&&!(d&s)||(l[u]=Nre(d,i)):p<=i&&(o.expiredLanes|=d),c&=~d}})(e,t);var r=d0(e,e===kr?Pr:0);if(r===0)n!==null&&qE(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qE(n),t===1)e.tag===0?function(o){P0=!0,H7(o)}(iA.bind(null,e)):H7(iA.bind(null,e)),hoe(function(){!(6&tn)&&wl()}),n=null;else{switch(YE(r)){case 1:n=s2;break;case 4:n=WE;break;case 16:default:n=l2;break;case 536870912:n=KE}n=hA(n,oA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oA(e,t){if(tg=-1,ng=0,6&tn)throw Error(We(327));var n=e.callbackNode;if(wd()&&e.callbackNode!==n)return null;var r=d0(e,e===kr?Pr:0);if(r===0)return null;if(30&r||r&e.expiredLanes||t)t=rg(e,r);else{t=r;var o=tn;tn|=2;var i=sA();for(kr===e&&Pr===t||(Cl=null,bd=Qn()+500,Nc(e,t));;)try{Ioe();break}catch(s){aA(e,s)}Q2(),Q0.current=i,tn=o,tr!==null?t=0:(kr=null,Pr=0,t=lr)}if(t!==0){if(t===2&&(o=d2(e))!==0&&(r=o,t=Ik(e,o)),t===1)throw n=dm,Nc(e,0),Ol(e,r),yo(e,Qn()),n;if(t===6)Ol(e,r);else{if(o=e.current.alternate,!(30&r||function(s){for(var l=s;;){if(16384&l.flags){var c=l.updateQueue;if(c!==null&&(c=c.stores)!==null)for(var u=0;u<c.length;u++){var d=c[u],p=d.getSnapshot;d=d.value;try{if(!Ui(p(),d))return!1}catch{return!1}}}if(c=l.child,16384&l.subtreeFlags&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}(o)||(t=rg(e,r),t===2&&(i=d2(e),i!==0&&(r=i,t=Ik(e,i))),t!==1)))throw n=dm,Nc(e,0),Ol(e,r),yo(e,Qn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(We(345));case 2:case 5:yd(e,Zo,Cl);break;case 3:if(Ol(e,r),(130023424&r)===r&&10<(t=Ak+500-Qn())){if(d0(e,0)!==0)break;if(((o=e.suspendedLanes)&r)!==r){ro(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=z2(yd.bind(null,e,Zo,Cl),t);break}yd(e,Zo,Cl);break;case 4:if(Ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Bi(r);i=1<<a,(a=t[a])>o&&(o=a),r&=~i}if(r=o,10<(r=(120>(r=Qn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Poe(r/1960))-r)){e.timeoutHandle=z2(yd.bind(null,e,Zo,Cl),r);break}yd(e,Zo,Cl);break;default:throw Error(We(329))}}}return yo(e,Qn()),e.callbackNode===n?oA.bind(null,e):null}function Ik(e,t){var n=hm;return e.current.memoizedState.isDehydrated&&(Nc(e,t).flags|=256),(e=rg(e,t))!==2&&(t=Zo,Zo=n,t!==null&&Rk(t)),e}function Rk(e){Zo===null?Zo=e:Zo.push.apply(Zo,e)}function Ol(e,t){for(t&=~Ok,t&=~J0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bi(t),r=1<<n;e[n]=-1,t&=~r}}function iA(e){if(6&tn)throw Error(We(327));wd();var t=d0(e,0);if(!(1&t))return yo(e,Qn()),null;var n=rg(e,t);if(e.tag!==0&&n===2){var r=d2(e);r!==0&&(t=r,n=Ik(e,r))}if(n===1)throw n=dm,Nc(e,0),Ol(e,t),yo(e,Qn()),n;if(n===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yd(e,Zo,Cl),yo(e,Qn()),null}function Mk(e,t){var n=tn;tn|=1;try{return e(t)}finally{(tn=n)===0&&(bd=Qn()+500,P0&&wl())}}function Pc(e){Tl!==null&&Tl.tag===0&&!(6&tn)&&wd();var t=tn;tn|=1;var n=yi.transition,r=hn;try{if(yi.transition=null,hn=1,e)return e()}finally{hn=r,yi.transition=n,!(6&(tn=t))&&wl()}}function Dk(){Xo=vd.current,Nn(vd)}function Nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,doe(n)),tr!==null)for(n=tr.return;n!==null;){var r=n;switch(q2(r),r.tag){case 1:(r=r.type.childContextTypes)!=null&&H2();break;case 3:md(),Nn(go),Nn(zr),ok();break;case 5:nk(r);break;case 4:md();break;case 13:case 19:Nn(Vn);break;case 10:J2(r.type._context);break;case 22:case 23:Dk()}n=n.return}if(kr=e,tr=e=Al(e.current,null),Pr=Xo=t,lr=0,dm=null,Ok=J0=Ac=0,Zo=hm=null,Tc!==null){for(t=0;t<Tc.length;t++)if((r=(n=Tc[t]).interleaved)!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}Tc=null}return e}function aA(e,t){for(;;){var n=tr;try{if(Q2(),B0.current=V0,U0){for(var r=zn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}U0=!1}if(Oc=0,wr=yr=zn=null,im=!1,am=0,Ek.current=null,n===null||n.return===null){lr=1,dm=t,tr=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=Pr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(1&u.mode||d!==0&&d!==11&&d!==15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=AO(a);if(h!==null){h.flags&=-257,PO(h,a,s,0,t),1&h.mode&&OO(i,c,t),l=c;var m=(t=h).updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(!(1&t)){OO(i,c,t),Lk();break e}l=Error(We(426))}else if(In&&1&s.mode){var f=AO(a);if(f!==null){!(65536&f.flags)&&(f.flags|=256),PO(f,a,s,0,t),G2(fd(l,s));break e}}i=l=fd(l,s),lr!==4&&(lr=2),hm===null?hm=[i]:hm.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Z7(i,TO(0,l,t));break e;case 1:s=l;var v=i.type,y=i.stateNode;if(!(128&i.flags||typeof v.getDerivedStateFromError!="function"&&(y===null||typeof y.componentDidCatch!="function"||Sl!==null&&Sl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Z7(i,EO(i,s,t));break e}}i=i.return}while(i!==null)}cA(n)}catch(b){t=b,tr===n&&n!==null&&(tr=n=n.return);continue}break}}function sA(){var e=Q0.current;return Q0.current=V0,e===null?V0:e}function Lk(){lr!==0&&lr!==3&&lr!==2||(lr=4),kr===null||!(268435455&Ac)&&!(268435455&J0)||Ol(kr,Pr)}function rg(e,t){var n=tn;tn|=2;var r=sA();for(kr===e&&Pr===t||(Cl=null,Nc(e,t));;)try{Noe();break}catch(o){aA(e,o)}if(Q2(),tn=n,Q0.current=r,tr!==null)throw Error(We(261));return kr=null,Pr=0,lr}function Noe(){for(;tr!==null;)lA(tr)}function Ioe(){for(;tr!==null&&!Sre();)lA(tr)}function lA(e){var t=rA(e.alternate,e,Xo);e.memoizedProps=e.pendingProps,t===null?cA(e):tr=t,Ek.current=null}function cA(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if((n=Eoe(n,t))!==null)return n.flags&=32767,void(tr=n);if(e===null)return lr=6,void(tr=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if((n=Toe(n,t,Xo))!==null)return void(tr=n);if((t=t.sibling)!==null)return void(tr=t);tr=t=e}while(t!==null);lr===0&&(lr=5)}function yd(e,t,n){var r=hn,o=yi.transition;try{yi.transition=null,hn=1,function(i,a,s,l){do wd();while(Tl!==null);if(6&tn)throw Error(We(327));s=i.finishedWork;var c=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(We(177));i.callbackNode=null,i.callbackPriority=0;var u=s.lanes|s.childLanes;if(function(h,m){var g=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var f=h.eventTimes;for(h=h.expirationTimes;0<g;){var v=31-Bi(g),y=1<<v;m[v]=0,f[v]=-1,h[v]=-1,g&=~y}}(i,u),i===kr&&(tr=kr=null,Pr=0),!(2064&s.subtreeFlags)&&!(2064&s.flags)||Z0||(Z0=!0,hA(l2,function(){return wd(),null})),u=!!(15990&s.flags),!!(15990&s.subtreeFlags)||u){u=yi.transition,yi.transition=null;var d=hn;hn=1;var p=tn;tn|=4,Ek.current=null,function(h,m){if(D2=m0,E2(h=x7())){if("selectionStart"in h)var g={start:h.selectionStart,end:h.selectionEnd};else e:{var f=(g=(g=h.ownerDocument)&&g.defaultView||window).getSelection&&g.getSelection();if(f&&f.rangeCount!==0){g=f.anchorNode;var v=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{g.nodeType,y.nodeType}catch{g=null;break e}var b=0,w=-1,k=-1,_=0,E=0,S=h,O=null;t:for(;;){for(var T;S!==g||v!==0&&S.nodeType!==3||(w=b+v),S!==y||f!==0&&S.nodeType!==3||(k=b+f),S.nodeType===3&&(b+=S.nodeValue.length),(T=S.firstChild)!==null;)O=S,S=T;for(;;){if(S===h)break t;if(O===g&&++_===v&&(w=b),O===y&&++E===f&&(k=b),(T=S.nextSibling)!==null)break;O=(S=O).parentNode}S=T}g=w===-1||k===-1?null:{start:w,end:k}}else g=null}g=g||{start:0,end:0}}else g=null;for(L2={focusedElem:h,selectionRange:g},m0=!1,mt=m;mt!==null;)if(h=(m=mt).child,1028&m.subtreeFlags&&h!==null)h.return=m,mt=h;else for(;mt!==null;){m=mt;try{var M=m.alternate;if(1024&m.flags)switch(m.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(M!==null){var D=M.memoizedProps,H=M.memoizedState,$=m.stateNode,R=$.getSnapshotBeforeUpdate(m.elementType===m.type?D:$i(m.type,D),H);$.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var U=m.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;default:throw Error(We(163))}}catch(B){qn(m,m.return,B)}if((h=m.sibling)!==null){h.return=m.return,mt=h;break}mt=m.return}M=WO,WO=!1}(i,s),XO(s,i),aoe(L2),m0=!!D2,L2=D2=null,i.current=s,Aoe(s),Tre(),tn=p,hn=d,yi.transition=u}else i.current=s;if(Z0&&(Z0=!1,Tl=i,eg=c),u=i.pendingLanes,u===0&&(Sl=null),function(h){if(va&&typeof va.onCommitFiberRoot=="function")try{va.onCommitFiberRoot(u0,h,void 0,!(128&~h.current.flags))}catch{}}(s.stateNode),yo(i,Qn()),a!==null)for(l=i.onRecoverableError,s=0;s<a.length;s++)c=a[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(X0)throw X0=!1,i=Pk,Pk=null,i;1&eg&&i.tag!==0&&wd(),u=i.pendingLanes,1&u?i===Nk?pm++:(pm=0,Nk=i):pm=0,wl()}(e,t,n,r)}finally{yi.transition=o,hn=r}return null}function wd(){if(Tl!==null){var e=YE(eg),t=yi.transition,n=hn;try{if(yi.transition=null,hn=16>e?16:e,Tl===null)var r=!1;else{if(e=Tl,Tl=null,eg=0,6&tn)throw Error(We(331));var o=tn;for(tn|=4,mt=e.current;mt!==null;){var i=mt,a=i.child;if(16&mt.flags){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(mt=c;mt!==null;){var u=mt;switch(u.tag){case 0:case 11:case 15:um(8,u,i)}var d=u.child;if(d!==null)d.return=u,mt=d;else for(;mt!==null;){var p=(u=mt).sibling,h=u.return;if(KO(u),u===c){mt=null;break}if(p!==null){p.return=h,mt=p;break}mt=h}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(g!==null)}}mt=i}}if(2064&i.subtreeFlags&&a!==null)a.return=i,mt=a;else e:for(;mt!==null;){if(2048&(i=mt).flags)switch(i.tag){case 0:case 11:case 15:um(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,mt=v;break e}mt=i.return}}var y=e.current;for(mt=y;mt!==null;){var b=(a=mt).child;if(2064&a.subtreeFlags&&b!==null)b.return=a,mt=b;else e:for(a=y;mt!==null;){if(2048&(s=mt).flags)try{switch(s.tag){case 0:case 11:case 15:Y0(9,s)}}catch(k){qn(s,s.return,k)}if(s===a){mt=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,mt=w;break e}mt=s.return}}if(tn=o,wl(),va&&typeof va.onPostCommitFiberRoot=="function")try{va.onPostCommitFiberRoot(u0,e)}catch{}r=!0}return r}finally{hn=n,yi.transition=t}}return!1}function uA(e,t,n){e=_l(e,t=TO(0,t=fd(n,t),1),1),t=ro(),e!==null&&(zp(e,1,t),yo(e,t))}function qn(e,t,n){if(e.tag===3)uA(e,e,n);else for(;t!==null;){if(t.tag===3){uA(t,e,n);break}if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sl===null||!Sl.has(r))){t=_l(t,e=EO(t,e=fd(n,e),1),1),e=ro(),t!==null&&(zp(t,1,e),yo(t,e));break}}t=t.return}}function Roe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ro(),e.pingedLanes|=e.suspendedLanes&n,kr===e&&(Pr&n)===n&&(lr===4||lr===3&&(130023424&Pr)===Pr&&500>Qn()-Ak?Nc(e,0):Ok|=n),yo(e,t)}function dA(e,t){t===0&&(1&e.mode?(t=u2,!(130023424&(u2<<=1))&&(u2=4194304)):t=1);var n=ro();(e=Cs(e,t))!==null&&(zp(e,t,n),yo(e,n))}function Moe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dA(e,n)}function Doe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(t),dA(e,n)}function hA(e,t){return VE(e,t)}function Loe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(e,t,n,r){return new Loe(e,t,n,r)}function jk(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return n===null?((n=wi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function og(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")jk(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Gu:return Ic(n.children,o,i,t);case L5:a=8,o|=8;break;case j5:return(e=wi(12,n,t,2|o)).elementType=j5,e.lanes=i,e;case F5:return(e=wi(13,n,t,o)).elementType=F5,e.lanes=i,e;case B5:return(e=wi(19,n,t,o)).elementType=B5,e.lanes=i,e;case wE:return ig(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bE:a=10;break e;case yE:a=9;break e;case z5:a=11;break e;case U5:a=14;break e;case ul:a=16,r=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return(t=wi(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,n,r){return(e=wi(7,e,r,t)).lanes=n,e}function ig(e,t,n,r){return(e=wi(22,e,r,t)).elementType=wE,e.lanes=n,e.stateNode={isHidden:!1},e}function zk(e,t,n){return(e=wi(6,e,null,t)).lanes=n,e}function Fk(e,t,n){return(t=wi(4,e.children!==null?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function joe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h2(0),this.expirationTimes=h2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h2(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bk(e,t,n,r,o,i,a,s,l){return e=new joe(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=wi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ek(i),e}function pA(e){if(!e)return yl;e:{if(wc(e=e._reactInternals)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var n=e.type;if(Yo(n))return B7(e,n,t)}return t}function mA(e,t,n,r,o,i,a,s,l){return(e=Bk(n,r,!0,e,0,i,0,s,l)).context=pA(null),n=e.current,(i=Ss(r=ro(),o=El(n))).callback=t??null,_l(n,i,o),e.current.lanes=o,zp(e,o,r),yo(e,r),e}function ag(e,t,n,r){var o=t.current,i=ro(),a=El(o);return n=pA(n),t.context===null?t.context=n:t.pendingContext=n,(t=Ss(i,a)).payload={element:e},(r=r===void 0?null:r)!==null&&(t.callback=r),(e=_l(o,t,a))!==null&&(Vi(e,o,a,i),j0(e,o,a)),a}function sg(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function fA(e,t){if((e=e.memoizedState)!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uk(e,t){fA(e,t),(e=e.alternate)&&fA(e,t)}rA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||go.current)vo=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return vo=!1,function(d,p,h){switch(p.tag){case 3:jO(p),ud();break;case 5:tO(p);break;case 1:Yo(p.type)&&A0(p);break;case 4:tk(p,p.stateNode.containerInfo);break;case 10:var m=p.type._context,g=p.memoizedProps.value;bn(D0,m._currentValue),m._currentValue=g;break;case 13:if((m=p.memoizedState)!==null)return m.dehydrated!==null?(bn(Vn,1&Vn.current),p.flags|=128,null):h&p.child.childLanes?HO(d,p,h):(bn(Vn,1&Vn.current),(d=Ts(d,p,h))!==null?d.sibling:null);bn(Vn,1&Vn.current);break;case 19:if(m=(h&p.childLanes)!==0,128&d.flags){if(m)return VO(d,p,h);p.flags|=128}if((g=p.memoizedState)!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),bn(Vn,Vn.current),m)break;return null;case 22:case 23:return p.lanes=0,MO(d,p,h)}return Ts(d,p,h)}(e,t,n);vo=!!(131072&e.flags)}else vo=!1,In&&1048576&t.flags&&$7(t,I0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;K0(e,t),e=t.pendingProps;var o=sd(t,zr.current);pd(t,n),o=sk(null,t,r,e,o,n);var i=lk();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yo(r)?(i=!0,A0(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ek(t),o.updater=q0,t.stateNode=o,o._reactInternals=t,mk(t,r,e,n),t=bk(null,t,r,!0,i,n)):(t.tag=0,In&&i&&V2(t),bo(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(K0(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(d){if(typeof d=="function")return jk(d)?1:0;if(d!=null){if((d=d.$$typeof)===z5)return 11;if(d===U5)return 14}return 2}(r),e=$i(r,e),o){case 0:t=vk(null,t,r,e,n);break e;case 1:t=LO(null,t,r,e,n);break e;case 11:t=NO(null,t,r,e,n);break e;case 14:t=IO(null,t,r,$i(r.type,e),n);break e}throw Error(We(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,vk(e,t,r,o=t.elementType===r?o:$i(r,o),n);case 1:return r=t.type,o=t.pendingProps,LO(e,t,r,o=t.elementType===r?o:$i(r,o),n);case 3:e:{if(jO(t),e===null)throw Error(We(387));r=t.pendingProps,o=(i=t.memoizedState).element,X7(e,t),z0(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=zO(e,t,r,n,o=fd(Error(We(423)),t));break e}if(r!==o){t=zO(e,t,r,n,o=fd(Error(We(424)),t));break e}for(Jo=vl(t.stateNode.containerInfo.firstChild),Qo=t,In=!0,Hi=null,n=Q7(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ud(),r===o){t=Ts(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return tO(t),e===null&&K2(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,j2(r,o)?a=null:i!==null&&j2(r,i)&&(t.flags|=32),DO(e,t),bo(e,t,a,n),t.child;case 6:return e===null&&K2(t),null;case 13:return HO(e,t,n);case 4:return tk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dd(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,NO(e,t,r,o=t.elementType===r?o:$i(r,o),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,bn(D0,r._currentValue),r._currentValue=a,i!==null)if(Ui(i.value,a)){if(i.children===o.children&&!go.current){t=Ts(e,t,n);break e}}else for((i=t.child)!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){(l=Ss(-1,n&-n)).tag=2;var c=i.updateQueue;if(c!==null){var u=(c=c.shared).pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,(l=i.alternate)!==null&&(l.lanes|=n),X2(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if((a=i.return)===null)throw Error(We(341));a.lanes|=n,(s=a.alternate)!==null&&(s.lanes|=n),X2(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if((i=a.sibling)!==null){i.return=a.return,a=i;break}a=a.return}i=a}bo(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,pd(t,n),r=r(o=vi(o)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return o=$i(r=t.type,t.pendingProps),IO(e,t,r,o=$i(r.type,o),n);case 15:return RO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:$i(r,o),K0(e,t),t.tag=1,Yo(r)?(e=!0,A0(t)):e=!1,pd(t,n),CO(t,r,o),mk(t,r,o,n),bk(null,t,r,!0,e,n);case 19:return VO(e,t,n);case 22:return MO(e,t,n)}throw Error(We(156,t.tag))};var gA=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hk(e){this._internalRoot=e}function lg(e){this._internalRoot=e}function $k(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vA(){}function ug(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var l=sg(a);s.call(l)}}ag(t,a,e,o)}else a=function(l,c,u,d,p){if(p){if(typeof d=="function"){var h=d;d=function(){var v=sg(m);h.call(v)}}var m=mA(c,d,l,0,null,!1,0,"",vA);return l._reactRootContainer=m,l[ks]=m.current,Jp(l.nodeType===8?l.parentNode:l),Pc(),m}for(;p=l.lastChild;)l.removeChild(p);if(typeof d=="function"){var g=d;d=function(){var v=sg(f);g.call(v)}}var f=Bk(l,0,!1,null,0,!1,0,"",vA);return l._reactRootContainer=f,l[ks]=f.current,Jp(l.nodeType===8?l.parentNode:l),Pc(function(){ag(c,f,u,d)}),f}(n,t,e,o,r);return sg(a)}lg.prototype.render=Hk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));ag(e,t,null,null)},lg.prototype.unmount=Hk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pc(function(){ag(null,e,null,null)}),t[ks]=null}},lg.prototype.unstable_scheduleHydration=function(e){if(e){var t=XE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fl.length&&t!==0&&t<fl[n].priority;n++);fl.splice(n,0,e),n===0&&t7(e)}},QE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jp(t.pendingLanes);n!==0&&(p2(t,1|n),yo(t,Qn()),!(6&tn)&&(bd=Qn()+500,wl()))}break;case 13:Pc(function(){var r=Cs(e,1);if(r!==null){var o=ro();Vi(r,e,1,o)}}),Uk(e,1)}},m2=function(e){if(e.tag===13){var t=Cs(e,134217728);t!==null&&Vi(t,e,134217728,ro()),Uk(e,134217728)}},JE=function(e){if(e.tag===13){var t=El(e),n=Cs(e,t);n!==null&&Vi(n,e,t,ro()),Uk(e,t)}},XE=function(){return hn},ZE=function(e,t){var n=hn;try{return hn=e,t()}finally{hn=n}},r2=function(e,t,n){switch(t){case"input":if(K5(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=O0(r);if(!o)throw Error(We(90));xE(r),K5(r,o)}}}break;case"textarea":OE(e,n);break;case"select":(t=n.value)!=null&&Yu(e,!!n.multiple,t,!1)}},jE=Mk,zE=Pc;var zoe={usingClientEntryPoint:!1,Events:[em,id,O0,DE,LE,Mk]},mm={findFiberByHostInstance:_c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Foe={bundleType:mm.bundleType,version:mm.version,rendererPackageName:mm.rendererPackageName,rendererConfig:mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return(e=HE(e))===null?null:e.stateNode},findFiberByHostInstance:mm.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dg.isDisabled&&dg.supportsFiber)try{u0=dg.inject(Foe),va=dg}catch{}}Wo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zoe,Wo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$k(t))throw Error(We(200));return function(r,o,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ku,key:a==null?null:""+a,children:r,containerInfo:o,implementation:i}}(e,t,null,n)},Wo.createRoot=function(e,t){if(!$k(e))throw Error(We(299));var n=!1,r="",o=gA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Bk(e,1,!1,null,0,n,0,r,o),e[ks]=t.current,Jp(e.nodeType===8?e.parentNode:e),new Hk(t)},Wo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=(e=HE(t))===null?null:e.stateNode},Wo.flushSync=function(e){return Pc(e)},Wo.hydrate=function(e,t,n){if(!cg(t))throw Error(We(200));return ug(null,e,t,!0,n)},Wo.hydrateRoot=function(e,t,n){if(!$k(e))throw Error(We(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=gA;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=mA(t,null,e,1,n??null,o,0,i,a),e[ks]=t.current,Jp(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new lg(t)},Wo.render=function(e,t,n){if(!cg(t))throw Error(We(200));return ug(null,e,t,!1,n)},Wo.unmountComponentAtNode=function(e){if(!cg(e))throw Error(We(40));return!!e._reactRootContainer&&(Pc(function(){ug(null,null,e,!1,function(){e._reactRootContainer=null,e[ks]=null})}),!0)},Wo.unstable_batchedUpdates=Mk,Wo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cg(n))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return ug(e,t,n,!1,r)},Wo.version="18.3.1-next-f1338f8080-20240426",function e(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),hE.exports=Wo;var Os=hE.exports;const Boe=S5(Os);var bA=Os;N5.createRoot=bA.createRoot,N5.hydrateRoot=bA.hydrateRoot;var yA={exports:{}};function wA(){}function kA(){}kA.resetWarningCache=wA,yA.exports=function(){function e(r,o,i,a,s,l){if(l!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kA,resetWarningCache:wA};return n.PropTypes=n,n}();const fm=S5(yA.exports),_A={};function Uoe(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var Hoe=Object.defineProperty,xA=(e,t,n)=>((r,o,i)=>o in r?Hoe(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class oo{constructor(){xA(this,"_locking"),xA(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let t;this._locks+=1;const n=new Promise(o=>t=()=>{this._locks-=1,o()}),r=this._locking.then(()=>t);return this._locking=this._locking.then(()=>n),r}}function Wn(e,t){if(!e)throw new Error(t)}function hg(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function Vk(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function CA(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}const SA=Symbol("@bufbuild/protobuf/enum-type");function $oe(e){const t=e[SA];return Wn(t,"missing enum type on enum object"),t}function TA(e,t,n,r){e[SA]=EA(t,n.map(o=>({no:o.no,name:o.name,localName:e[o.no]})))}function EA(e,t,n){const r=Object.create(null),o=Object.create(null),i=[];for(const a of t){const s=OA(a);i.push(s),r[a.name]=s,o[a.no]=s}return{typeName:e,values:i,findName:a=>r[a],findNumber:a=>o[a]}}function Voe(e,t,n){const r={};for(const o of t){const i=OA(o);r[i.localName]=i.no,r[i.no]=i.localName}return TA(r,e,t),r}function OA(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class qk{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const r=this.getType().runtime.bin,o=r.makeReadOptions(n);return r.readMessage(this,o.readerFactory(t),t.byteLength,o),this}fromJson(t,n){const r=this.getType(),o=r.runtime.json,i=o.makeReadOptions(n);return o.readMessage(r,t,i,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(o){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(o instanceof Error?o.message:String(o)))}return this.fromJson(r,n)}toBinary(t){const n=this.getType().runtime.bin,r=n.makeWriteOptions(t),o=r.writerFactory();return n.writeMessage(this,o,r),o.finish()}toJson(t){const n=this.getType().runtime.json,r=n.makeWriteOptions(t);return n.writeMessage(this,r)}toJsonString(t){var n;const r=this.toJson(t);return JSON.stringify(r,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function qoe(){let e=0,t=0;for(let r=0;r<28;r+=7){let o=this.buf[this.pos++];if(e|=(127&o)<<r,!(128&o))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let o=this.buf[this.pos++];if(t|=(127&o)<<r,!(128&o))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Wk(e,t,n){for(let i=0;i<28;i+=7){const a=e>>>i,s=!(!(a>>>7)&&t==0),l=255&(s?128|a:a);if(n.push(l),!s)return}const r=e>>>28&15|(7&t)<<4,o=!!(t>>3);if(n.push(255&(o?128|r:r)),o){for(let i=3;i<31;i+=7){const a=t>>>i,s=!!(a>>>7),l=255&(s?128|a:a);if(n.push(l),!s)return}n.push(t>>>31&1)}}const pg=4294967296;function AA(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,o=0;function i(a,s){const l=Number(e.slice(a,s));o*=n,r=r*n+l,r>=pg&&(o+=r/pg|0,r%=pg)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?NA(r,o):Kk(r,o)}function PA(e,t){if({lo:e,hi:t}=function(l,c){return{lo:l>>>0,hi:c>>>0}}(e,t),t<=2097151)return String(pg*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let o=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,a=2*r;const s=1e7;return o>=s&&(i+=Math.floor(o/s),o%=s),i>=s&&(a+=Math.floor(i/s),i%=s),a.toString()+IA(i)+IA(o)}function Kk(e,t){return{lo:0|e,hi:0|t}}function NA(e,t){return t=~t,e?e=1+~e:t+=1,Kk(e,t)}const IA=e=>{const t=String(e);return"0000000".slice(t.length)+t};function RA(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function Woe(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let n=5;128&e&&n<10;n++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const Rn=function(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),i=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(s){const l=typeof s=="bigint"?s:BigInt(s);if(l>o||l<r)throw new Error("int64 invalid: ".concat(s));return l},uParse(s){const l=typeof s=="bigint"?s:BigInt(s);if(l>a||l<i)throw new Error("uint64 invalid: ".concat(s));return l},enc(s){return e.setBigInt64(0,this.parse(s),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(s){return e.setBigInt64(0,this.uParse(s),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(s,l)=>(e.setInt32(0,s,!0),e.setInt32(4,l,!0),e.getBigInt64(0,!0)),uDec:(s,l)=>(e.setInt32(0,s,!0),e.setInt32(4,l,!0),e.getBigUint64(0,!0))}}const t=r=>Wn(/^-?[0-9]+$/.test(r),"int64 invalid: ".concat(r)),n=r=>Wn(/^[0-9]+$/.test(r),"uint64 invalid: ".concat(r));return{zero:"0",supported:!1,parse:r=>(typeof r!="string"&&(r=r.toString()),t(r),r),uParse:r=>(typeof r!="string"&&(r=r.toString()),n(r),r),enc:r=>(typeof r!="string"&&(r=r.toString()),t(r),AA(r)),uEnc:r=>(typeof r!="string"&&(r=r.toString()),n(r),AA(r)),dec:(r,o)=>function(i,a){let s=Kk(i,a);const l=2147483648&s.hi;l&&(s=NA(s.lo,s.hi));const c=PA(s.lo,s.hi);return l?"-"+c:c}(r,o),uDec:(r,o)=>PA(r,o)}}();var je,Pl,Jn;function Nl(e,t,n){if(t===n)return!0;if(e==je.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case je.UINT64:case je.FIXED64:case je.INT64:case je.SFIXED64:case je.SINT64:return t==n}return!1}function kd(e,t){switch(e){case je.BOOL:return!1;case je.UINT64:case je.FIXED64:case je.INT64:case je.SFIXED64:case je.SINT64:return t==0?Rn.zero:"0";case je.DOUBLE:case je.FLOAT:return 0;case je.BYTES:return new Uint8Array(0);case je.STRING:return"";default:return 0}}function MA(e,t){switch(e){case je.BOOL:return t===!1;case je.STRING:return t==="";case je.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(je||(je={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"}(Pl||(Pl={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(Jn||(Jn={}));class Koe{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let o=0;o<this.chunks.length;o++)t+=this.chunks[o].length;let n=new Uint8Array(t),r=0;for(let o=0;o<this.chunks.length;o++)n.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Vk(t);t>127;)this.buf.push(127&t|128),t>>>=7;return this.buf.push(t),this}int32(t){return hg(t),RA(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){CA(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Vk(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){hg(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return hg(t),RA(t=(t<<1^t>>31)>>>0,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=Rn.enc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=Rn.uEnc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}int64(t){let n=Rn.enc(t);return Wk(n.lo,n.hi,this.buf),this}sint64(t){let n=Rn.enc(t),r=n.hi>>31;return Wk(n.lo<<1^r,(n.hi<<1|n.lo>>>31)^r,this.buf),this}uint64(t){let n=Rn.uEnc(t);return Wk(n.lo,n.hi,this.buf),this}}class Goe{constructor(t,n){this.varint64=qoe,this.uint32=Woe,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=7&t;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case Jn.Varint:for(;128&this.buf[this.pos++];);break;case Jn.Bit64:this.pos+=4;case Jn.Bit32:this.pos+=4;break;case Jn.LengthDelimited:let o=this.uint32();this.pos+=o;break;case Jn.StartGroup:for(;;){const[i,a]=this.tag();if(a===Jn.EndGroup){if(n!==void 0&&i!==n)throw new Error("invalid end group tag");break}this.skip(a,i)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let t=this.uint32();return t>>>1^-(1&t)}int64(){return Rn.dec(...this.varint64())}uint64(){return Rn.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(1&t);return t=(t>>>1|(1&n)<<31)^r,n=n>>>1^r,Rn.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Rn.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Rn.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function DA(e){const t=e.field.localName,n=Object.create(null);return n[t]=function(r){const o=r.field;if(o.repeated)return[];if(o.default!==void 0)return o.default;switch(o.kind){case"enum":return o.T.values[0].no;case"scalar":return kd(o.T,o.L);case"message":const i=o.T,a=new i;return i.fieldWrapper?i.fieldWrapper.unwrapField(a):a;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}let As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),mg=[];for(let e=0;e<As.length;e++)mg[As[e].charCodeAt(0)]=e;mg["-".charCodeAt(0)]=As.indexOf("+"),mg["_".charCodeAt(0)]=As.indexOf("/");const LA={dec(e){let t=3*e.length/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n,r=new Uint8Array(t),o=0,i=0,a=0;for(let s=0;s<e.length;s++){if(n=mg[e.charCodeAt(s)],n===void 0)switch(e[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=n,i=1;break;case 1:r[o++]=a<<2|(48&n)>>4,a=n,i=2;break;case 2:r[o++]=(15&a)<<4|(60&n)>>2,a=n,i=3;break;case 3:r[o++]=(3&a)<<6|n,i=0}}if(i==1)throw Error("invalid base64 string.");return r.subarray(0,o)},enc(e){let t,n="",r=0,o=0;for(let i=0;i<e.length;i++)switch(t=e[i],r){case 0:n+=As[t>>2],o=(3&t)<<4,r=1;break;case 1:n+=As[o|t>>4],o=(15&t)<<2,r=2;break;case 2:n+=As[o|t>>6],n+=As[63&t],r=0}return r&&(n+=As[o],n+="=",r==1&&(n+="=")),n}};function Yoe(e,t,n){zA(t,e);const r=t.runtime.bin.makeReadOptions(n),o=function(s,l){if(!l.repeated&&(l.kind=="enum"||l.kind=="scalar")){for(let c=s.length-1;c>=0;--c)if(s[c].no==l.no)return[s[c]];return[]}return s.filter(c=>c.no===l.no)}(e.getType().runtime.bin.listUnknownFields(e),t.field),[i,a]=DA(t);for(const s of o)t.runtime.bin.readField(i,r.readerFactory(s.data),t.field,s.wireType,r);return a()}function Qoe(e,t,n,r){zA(t,e);const o=t.runtime.bin.makeReadOptions(r),i=t.runtime.bin.makeWriteOptions(r);if(jA(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(u=>u.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const u of c)e.getType().runtime.bin.onUnknownField(e,u.no,u.wireType,u.data)}const a=i.writerFactory();let s=t.field;s.opt||s.repeated||s.kind!="enum"&&s.kind!="scalar"||(s=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(s,n,a,i);const l=o.readerFactory(a.finish());for(;l.pos<l.len;){const[c,u]=l.tag(),d=l.skip(u,c);e.getType().runtime.bin.onUnknownField(e,c,u,d)}}function jA(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(r=>r.no==t.field.no)}function zA(e,t){Wn(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function FA(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!MA(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function BA(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?kd(e.T,e.L):void 0;break;case"message":t[n]=void 0}}function Ps(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(qk.prototype).every(r=>r in e&&typeof e[r]=="function"))return!1;const n=e.getType();return n!==null&&typeof n=="function"&&"typeName"in n&&typeof n.typeName=="string"&&(t===void 0||n.typeName==t.typeName)}function UA(e,t){return Ps(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}je.DOUBLE,je.FLOAT,je.INT64,je.UINT64,je.INT32,je.UINT32,je.BOOL,je.STRING,je.BYTES;const HA={ignoreUnknownFields:!1},$A={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Joe(e){return e?Object.assign(Object.assign({},HA),e):HA}function Xoe(e){return e?Object.assign(Object.assign({},$A),e):$A}const fg=Symbol(),gg=Symbol();function Ca(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function VA(e,t,n,r,o){let i=n.localName;if(n.repeated){if(Wn(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ca(t)));const a=e[i];for(const s of t){if(s===null)throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ca(s)));switch(n.kind){case"message":a.push(n.T.fromJson(s,r));break;case"enum":const l=Gk(n.T,s,r.ignoreUnknownFields,!0);l!==gg&&a.push(l);break;case"scalar":try{a.push(gm(n.T,s,n.L,!0))}catch(c){let u="cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ca(s));throw c instanceof Error&&c.message.length>0&&(u+=": ".concat(c.message)),new Error(u)}}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ca(t)));const a=e[i];for(const[s,l]of Object.entries(t)){if(l===null)throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: map value null"));let c;try{c=Zoe(n.K,s)}catch(u){let d="cannot decode map key for field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ca(t));throw u instanceof Error&&u.message.length>0&&(d+=": ".concat(u.message)),new Error(d)}switch(n.V.kind){case"message":a[c]=n.V.T.fromJson(l,r);break;case"enum":const u=Gk(n.V.T,l,r.ignoreUnknownFields,!0);u!==gg&&(a[c]=u);break;case"scalar":try{a[c]=gm(n.V.T,l,Pl.BIGINT,!0)}catch(d){let p="cannot decode map value for field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ca(t));throw d instanceof Error&&d.message.length>0&&(p+=": ".concat(d.message)),new Error(p)}}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:i},i="value"),n.kind){case"message":const a=n.T;if(t===null&&a.typeName!="google.protobuf.Value")return;let s=e[i];Ps(s)?s.fromJson(t,r):(e[i]=s=a.fromJson(t,r),a.fieldWrapper&&!n.oneof&&(e[i]=a.fieldWrapper.unwrapField(s)));break;case"enum":const l=Gk(n.T,t,r.ignoreUnknownFields,!1);switch(l){case fg:BA(n,e);break;case gg:break;default:e[i]=l}break;case"scalar":try{const c=gm(n.T,t,n.L,!1);c===fg?BA(n,e):e[i]=c}catch(c){let u="cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ca(t));throw c instanceof Error&&c.message.length>0&&(u+=": ".concat(c.message)),new Error(u)}}}function Zoe(e,t){if(e===je.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1}return gm(e,t,Pl.BIGINT,!0).toString()}function gm(e,t,n,r){if(t===null)return r?kd(e,n):fg;switch(e){case je.DOUBLE:case je.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const o=Number(t);if(Number.isNaN(o)||!Number.isFinite(o))break;return e==je.FLOAT&&CA(o),o;case je.INT32:case je.FIXED32:case je.SFIXED32:case je.SINT32:case je.UINT32:let i;if(typeof t=="number"?i=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(i=Number(t)),i===void 0)break;return e==je.UINT32||e==je.FIXED32?Vk(i):hg(i),i;case je.INT64:case je.SFIXED64:case je.SINT64:if(typeof t!="number"&&typeof t!="string")break;const a=Rn.parse(t);return n?a.toString():a;case je.FIXED64:case je.UINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Rn.uParse(t);return n?s.toString():s;case je.BOOL:if(typeof t!="boolean")break;return t;case je.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case je.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return LA.dec(t)}throw new Error}function Gk(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].no:fg;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const o=e.findName(t);if(o!==void 0)return o.no;if(n)return gg}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(Ca(t)))}function eie(e){return!(!e.repeated&&e.kind!="map")||!e.oneof&&e.kind!="message"&&!e.opt&&!e.req}function qA(e,t,n){if(e.kind=="map"){Wn(typeof t=="object"&&t!=null);const r={},o=Object.entries(t);switch(e.V.kind){case"scalar":for(const[a,s]of o)r[a.toString()]=vg(e.V.T,s);break;case"message":for(const[a,s]of o)r[a.toString()]=s.toJson(n);break;case"enum":const i=e.V.T;for(const[a,s]of o)r[a.toString()]=Yk(i,s,n.enumAsInteger)}return n.emitDefaultValues||o.length>0?r:void 0}if(e.repeated){Wn(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let o=0;o<t.length;o++)r.push(vg(e.T,t[o]));break;case"enum":for(let o=0;o<t.length;o++)r.push(Yk(e.T,t[o],n.enumAsInteger));break;case"message":for(let o=0;o<t.length;o++)r.push(t[o].toJson(n))}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return vg(e.T,t);case"enum":return Yk(e.T,t,n.enumAsInteger);case"message":return UA(e.T,t).toJson(n)}}function Yk(e,t,n){var r;if(Wn(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const o=e.findNumber(t);return(r=o==null?void 0:o.name)!==null&&r!==void 0?r:t}function vg(e,t){switch(e){case je.INT32:case je.SFIXED32:case je.SINT32:case je.FIXED32:case je.UINT32:return Wn(typeof t=="number"),t;case je.FLOAT:case je.DOUBLE:return Wn(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case je.STRING:return Wn(typeof t=="string"),t;case je.BOOL:return Wn(typeof t=="boolean"),t;case je.UINT64:case je.FIXED64:case je.INT64:case je.SFIXED64:case je.SINT64:return Wn(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case je.BYTES:return Wn(t instanceof Uint8Array),LA.enc(t)}}const _d=Symbol("@bufbuild/protobuf/unknown-fields"),WA={readUnknownFields:!0,readerFactory:e=>new Goe(e)},KA={writeUnknownFields:!0,writerFactory:()=>new Koe};function tie(e){return e?Object.assign(Object.assign({},WA),e):WA}function nie(e){return e?Object.assign(Object.assign({},KA),e):KA}function GA(e,t,n,r,o){let{repeated:i,localName:a}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=a&&delete e.value,e.case=a,a="value"),n.kind){case"scalar":case"enum":const s=n.kind=="enum"?je.INT32:n.T;let l=yg;if(n.kind=="scalar"&&n.L>0&&(l=rie),i){let p=e[a];if(r==Jn.LengthDelimited&&s!=je.STRING&&s!=je.BYTES){let h=t.uint32()+t.pos;for(;t.pos<h;)p.push(l(t,s))}else p.push(l(t,s))}else e[a]=l(t,s);break;case"message":const c=n.T;i?e[a].push(bg(t,new c,o,n)):Ps(e[a])?bg(t,e[a],o,n):(e[a]=bg(t,new c,o,n),!c.fieldWrapper||n.oneof||n.repeated||(e[a]=c.fieldWrapper.unwrapField(e[a])));break;case"map":let[u,d]=function(p,h,m){const g=h.uint32(),f=h.pos+g;let v,y;for(;h.pos<f;){const[b]=h.tag();switch(b){case 1:v=yg(h,p.K);break;case 2:switch(p.V.kind){case"scalar":y=yg(h,p.V.T);break;case"enum":y=h.int32();break;case"message":y=bg(h,new p.V.T,m,void 0)}}}if(v===void 0&&(v=kd(p.K,Pl.BIGINT)),typeof v!="string"&&typeof v!="number"&&(v=v.toString()),y===void 0)switch(p.V.kind){case"scalar":y=kd(p.V.T,Pl.BIGINT);break;case"enum":y=p.V.T.values[0].no;break;case"message":y=new p.V.T}return[v,y]}(n,t,o);e[a][u]=d}}function bg(e,t,n,r){const o=t.getType().runtime.bin,i=r==null?void 0:r.delimited;return o.readMessage(t,e,i?r.no:e.uint32(),n,i),t}function rie(e,t){const n=yg(e,t);return typeof n=="bigint"?n.toString():n}function yg(e,t){switch(t){case je.STRING:return e.string();case je.BOOL:return e.bool();case je.DOUBLE:return e.double();case je.FLOAT:return e.float();case je.INT32:return e.int32();case je.INT64:return e.int64();case je.UINT64:return e.uint64();case je.FIXED64:return e.fixed64();case je.BYTES:return e.bytes();case je.FIXED32:return e.fixed32();case je.SFIXED32:return e.sfixed32();case je.SFIXED64:return e.sfixed64();case je.SINT64:return e.sint64();case je.UINT32:return e.uint32();case je.SINT32:return e.sint32()}}function YA(e,t,n,r){Wn(t!==void 0);const o=e.repeated;switch(e.kind){case"scalar":case"enum":let i=e.kind=="enum"?je.INT32:e.T;if(o)if(Wn(Array.isArray(t)),e.packed)(function(a,s,l,c){if(!c.length)return;a.tag(l,Jn.LengthDelimited).fork();let[,u]=JA(s);for(let d=0;d<c.length;d++)a[u](c[d]);a.join()})(n,i,e.no,t);else for(const a of t)vm(n,i,e.no,a);else vm(n,i,e.no,t);break;case"message":if(o){Wn(Array.isArray(t));for(const a of t)QA(n,r,e,a)}else QA(n,r,e,t);break;case"map":Wn(typeof t=="object"&&t!=null);for(const[a,s]of Object.entries(t))oie(n,r,e,a,s)}}function oie(e,t,n,r,o){e.tag(n.no,Jn.LengthDelimited),e.fork();let i=r;switch(n.K){case je.INT32:case je.FIXED32:case je.UINT32:case je.SFIXED32:case je.SINT32:i=Number.parseInt(r);break;case je.BOOL:Wn(r=="true"||r=="false"),i=r=="true"}switch(vm(e,n.K,1,i),n.V.kind){case"scalar":vm(e,n.V.T,2,o);break;case"enum":vm(e,je.INT32,2,o);break;case"message":Wn(o!==void 0),e.tag(2,Jn.LengthDelimited).bytes(o.toBinary(t))}e.join()}function QA(e,t,n,r){const o=UA(n.T,r);n.delimited?e.tag(n.no,Jn.StartGroup).raw(o.toBinary(t)).tag(n.no,Jn.EndGroup):e.tag(n.no,Jn.LengthDelimited).bytes(o.toBinary(t))}function vm(e,t,n,r){Wn(r!==void 0);let[o,i]=JA(t);e.tag(n,o)[i](r)}function JA(e){let t=Jn.Varint;switch(e){case je.BYTES:case je.STRING:t=Jn.LengthDelimited;break;case je.DOUBLE:case je.FIXED64:case je.SFIXED64:t=Jn.Bit64;break;case je.FIXED32:case je.SFIXED32:case je.FLOAT:t=Jn.Bit32}return[t,je[e].toLowerCase()]}function wg(e){if(e===void 0)return e;if(Ps(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function bm(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class iie{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}}function XA(e,t){const n=ZA(e);return t?n:uie(cie(n))}const aie=ZA;function ZA(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let o=e.charAt(r);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),n.push(o)}}return n.join("")}const sie=new Set(["constructor","toString","toJSON","valueOf"]),lie=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),eP=e=>"".concat(e,"$"),cie=e=>lie.has(e)?eP(e):e,uie=e=>sie.has(e)?eP(e):e;class die{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=XA(t,!1)}addField(t){Wn(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}const we=(tP=e=>new iie(e,t=>function(n){var r,o,i,a,s,l;const c=[];let u;for(const d of typeof n=="function"?n():n){const p=d;if(p.localName=XA(d.name,d.oneof!==void 0),p.jsonName=(r=d.jsonName)!==null&&r!==void 0?r:aie(d.name),p.repeated=(o=d.repeated)!==null&&o!==void 0&&o,d.kind=="scalar"&&(p.L=(i=d.L)!==null&&i!==void 0?i:Pl.BIGINT),p.delimited=(a=d.delimited)!==null&&a!==void 0&&a,p.req=(s=d.req)!==null&&s!==void 0&&s,p.opt=(l=d.opt)!==null&&l!==void 0&&l,d.packed===void 0&&(p.packed=d.kind=="enum"||d.kind=="scalar"&&d.T!=je.BYTES&&d.T!=je.STRING),d.oneof!==void 0){const h=typeof d.oneof=="string"?d.oneof:d.oneof.name;u&&u.name==h||(u=new die(h)),p.oneof=u,u.addField(p)}c.push(p)}return c}(t)),nP=e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated)r[n]=[];else switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=kd(t.T,t.L)}}},{syntax:"proto3",json:{makeReadOptions:Joe,makeWriteOptions:Xoe,readMessage(e,t,n,r){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(Ca(t)));r=r??new e;const o=new Map,i=n.typeRegistry;for(const[a,s]of Object.entries(t)){const l=e.fields.findJsonName(a);if(l){if(l.oneof){if(s===null&&l.kind=="scalar")continue;const c=o.get(l.oneof);if(c!==void 0)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(l.oneof.name,'" present: "').concat(c,'", "').concat(a,'"'));o.set(l.oneof,a)}VA(r,s,l,n,e)}else{let c=!1;if(i!=null&&i.findExtension&&a.startsWith("[")&&a.endsWith("]")){const u=i.findExtension(a.substring(1,a.length-1));if(u&&u.extendee.typeName==e.typeName){c=!0;const[d,p]=DA(u);VA(d,s,u.field,n,u),Qoe(r,u,p(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(a,'" is unknown'))}}return r},writeMessage(e,t){const n=e.getType(),r={};let o;try{for(o of n.fields.byNumber()){if(!FA(o,e)){if(o.req)throw"required field not set";if(!t.emitDefaultValues||!eie(o))continue}const a=qA(o,o.oneof?e[o.oneof.localName].value:e[o.localName],t);a!==void 0&&(r[t.useProtoFieldName?o.name:o.jsonName]=a)}const i=t.typeRegistry;if(i!=null&&i.findExtensionFor)for(const a of n.runtime.bin.listUnknownFields(e)){const s=i.findExtensionFor(n.typeName,a.no);if(s&&jA(e,s)){const l=Yoe(e,s,t),c=qA(s.field,l,t);c!==void 0&&(r[s.field.jsonName]=c)}}}catch(i){const a=o?"cannot encode field ".concat(n.typeName,".").concat(o.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),s=i instanceof Error?i.message:String(i);throw new Error(a+(s.length>0?": ".concat(s):""))}return r},readScalar:(e,t,n)=>gm(e,t,n??Pl.BIGINT,!0),writeScalar(e,t,n){if(t!==void 0)return n||MA(e,t)?vg(e,t):void 0},debug:Ca},bin:{makeReadOptions:tie,makeWriteOptions:nie,listUnknownFields(e){var t;return(t=e[_d])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[_d]},writeUnknownFields(e,t){const n=e[_d];if(n)for(const r of n)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,r){const o=e;Array.isArray(o[_d])||(o[_d]=[]),o[_d].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,o){const i=e.getType(),a=o?t.len:t.pos+n;let s,l;for(;t.pos<a&&([s,l]=t.tag(),o!==!0||l!=Jn.EndGroup);){const c=i.fields.find(s);if(!c){const u=t.skip(l,s);r.readUnknownFields&&this.onUnknownField(e,s,l,u);continue}GA(e,t,c,l,r)}if(o&&(l!=Jn.EndGroup||s!==n))throw new Error("invalid end group tag")},readField:GA,writeMessage(e,t,n){const r=e.getType();for(const o of r.fields.byNumber())if(FA(o,e))YA(o,o.oneof?e[o.oneof.localName].value:e[o.localName],t,n);else if(o.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(o.name," to binary: required field not set"));return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,r){t!==void 0&&YA(e,t,n,r)}},util:Object.assign(Object.assign({},{setEnumType:TA,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const r of n.fields.byMember()){const o=r.localName,i=t,a=e;if(a[o]!=null)switch(r.kind){case"oneof":const s=a[o].case;if(s===void 0)continue;const l=r.findField(s);let c=a[o].value;l&&l.kind=="message"&&!Ps(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===je.BYTES&&(c=bm(c)),i[o]={case:s,value:c};break;case"scalar":case"enum":let u=a[o];r.T===je.BYTES&&(u=r.repeated?u.map(bm):bm(u)),i[o]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===je.BYTES)for(const[h,m]of Object.entries(a[o]))i[o][h]=bm(m);else Object.assign(i[o],a[o]);break;case"message":const p=r.V.T;for(const h of Object.keys(a[o])){let m=a[o][h];p.fieldWrapper||(m=new p(m)),i[o][h]=m}}break;case"message":const d=r.T;if(r.repeated)i[o]=a[o].map(p=>Ps(p,d)?p:new d(p));else{const p=a[o];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?i[o]=bm(p):i[o]=p:i[o]=Ps(p,d)?p:new d(p)}}}},equals:(e,t,n)=>t===n||!(!t||!n)&&e.fields.byMember().every(r=>{const o=t[r.localName],i=n[r.localName];if(r.repeated){if(o.length!==i.length)return!1;switch(r.kind){case"message":return o.every((a,s)=>r.T.equals(a,i[s]));case"scalar":return o.every((a,s)=>Nl(r.T,a,i[s]));case"enum":return o.every((a,s)=>Nl(je.INT32,a,i[s]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":let a=o,s=i;return r.T.fieldWrapper&&(a===void 0||Ps(a)||(a=r.T.fieldWrapper.wrapField(a)),s===void 0||Ps(s)||(s=r.T.fieldWrapper.wrapField(s))),r.T.equals(a,s);case"enum":return Nl(je.INT32,o,i);case"scalar":return Nl(r.T,o,i);case"oneof":if(o.case!==i.case)return!1;const l=r.findField(o.case);if(l===void 0)return!0;switch(l.kind){case"message":return l.T.equals(o.value,i.value);case"enum":return Nl(je.INT32,o.value,i.value);case"scalar":return Nl(l.T,o.value,i.value)}throw new Error("oneof cannot contain ".concat(l.kind));case"map":const c=Object.keys(o).concat(Object.keys(i));switch(r.V.kind){case"message":const u=r.V.T;return c.every(p=>u.equals(o[p],i[p]));case"enum":return c.every(p=>Nl(je.INT32,o[p],i[p]));case"scalar":const d=r.V.T;return c.every(p=>Nl(d,o[p],i[p]))}}}),clone(e){const t=e.getType(),n=new t,r=n;for(const o of t.fields.byMember()){const i=e[o.localName];let a;if(o.repeated)a=i.map(wg);else if(o.kind=="map"){a=r[o.localName];for(const[s,l]of Object.entries(i))a[s]=wg(l)}else a=o.kind=="oneof"?o.findField(i.case)?{case:i.case,value:wg(i.value)}:{case:void 0}:wg(i);r[o.localName]=a}for(const o of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(r,o.no,o.wireType,o.data);return n}}),{newFieldList:tP,initFields:nP}),makeMessageType(e,t,n){return function(r,o,i,a){var s;const l=(s=a==null?void 0:a.localName)!==null&&s!==void 0?s:o.substring(o.lastIndexOf(".")+1),c={[l]:function(u){r.util.initFields(this),r.util.initPartial(u,this)}}[l];return Object.setPrototypeOf(c.prototype,new qk),Object.assign(c,{runtime:r,typeName:o,fields:r.util.newFieldList(i),fromBinary:(u,d)=>new c().fromBinary(u,d),fromJson:(u,d)=>new c().fromJson(u,d),fromJsonString:(u,d)=>new c().fromJsonString(u,d),equals:(u,d)=>r.util.equals(c,u,d)}),c}(this,e,t,n)},makeEnum:Voe,makeEnumType:EA,getEnumType:$oe,makeExtension(e,t,n){return function(r,o,i,a){let s;return{typeName:o,extendee:i,get field(){if(!s){const l=typeof a=="function"?a():a;l.name=o.split(".").pop(),l.jsonName="[".concat(o,"]"),s=r.util.newFieldList([l]).list()[0]}return s},runtime:r}}(this,e,t,n)}});var tP,nP;class wo extends qk{constructor(t){super(),this.seconds=Rn.zero,this.nanos=0,we.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(we.json.debug(t)));const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const o=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(o))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(o<Date.parse("0001-01-01T00:00:00Z")||o>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Rn.parse(o/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const n=1e3*Number(this.seconds);if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const o=(this.nanos+1e9).toString().substring(1);r=o.substring(3)==="000000"?"."+o.substring(0,3)+"Z":o.substring(6)==="000"?"."+o.substring(0,6)+"Z":"."+o+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return wo.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new wo({seconds:Rn.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new wo().fromBinary(t,n)}static fromJson(t,n){return new wo().fromJson(t,n)}static fromJsonString(t,n){return new wo().fromJsonString(t,n)}static equals(t,n){return we.util.equals(wo,t,n)}}wo.runtime=we,wo.typeName="google.protobuf.Timestamp",wo.fields=we.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const hie=we.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:wo},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:pie,repeated:!0},{no:5,name:"events",kind:"message",T:fie,repeated:!0}]),pie=we.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:mie,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),mie=we.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:wo},{no:3,name:"value",kind:"scalar",T:2}]),fie=we.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:wo},{no:7,name:"normalized_end_timestamp",kind:"message",T:wo,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),rP=we.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),qi=we.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),nr=we.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),Qk=we.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),ym=we.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),wm=we.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),Wi=we.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),xd=we.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),gie=we.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),_r=we.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),kg=we.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:_g,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:gP}]),_g=we.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),vie=we.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:we.getEnumType(nr),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),Rc=we.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:we.getEnumType(Cd)},{no:4,name:"tracks",kind:"message",T:Sd,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:vie},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:we.getEnumType(Mc)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:we.getEnumType(Wi)},{no:18,name:"kind_details",kind:"enum",T:we.getEnumType(bie),repeated:!0}]),Cd=we.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),Mc=we.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]),bie=we.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),ei=we.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),yie=we.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:Dc,repeated:!0}]),Sd=we.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:we.getEnumType(qi)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:we.getEnumType(nr)},{no:10,name:"layers",kind:"message",T:Dc,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:yie,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:we.getEnumType(ei)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:gP},{no:19,name:"audio_features",kind:"enum",T:we.getEnumType(_r),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:we.getEnumType(rP)}]),Dc=we.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:we.getEnumType(Qk)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),ko=we.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:we.getEnumType(Lt)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:iP,oneof:"value"},{no:3,name:"speaker",kind:"message",T:wie,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:aP,oneof:"value"},{no:7,name:"transcription",kind:"message",T:kie,oneof:"value"},{no:8,name:"metrics",kind:"message",T:hie,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:Jk,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:sP,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:lP,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:cP,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:Zk,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:e_,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:t_,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),Lt=we.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),wie=we.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:oP,repeated:!0}]),oP=we.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),iP=we.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),aP=we.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),kie=we.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:_ie,repeated:!0}]),_ie=we.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),Jk=we.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),sP=we.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),lP=we.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),cP=we.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:uP,oneof:"value"}]),uP=we.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),dP=we.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),hP=we.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:we.getEnumType(xie)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),xie=we.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),Cie=we.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:we.getEnumType(pP)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),pP=we.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),mP=we.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:fP},{no:2,name:"screen",kind:"message",T:fP},{no:3,name:"resume_connection",kind:"enum",T:we.getEnumType(wm)},{no:4,name:"disabled_codecs",kind:"message",T:Sie},{no:5,name:"force_relay",kind:"enum",T:we.getEnumType(wm)}]),fP=we.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:we.getEnumType(wm)}]),Sie=we.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:_g,repeated:!0},{no:2,name:"publish",kind:"message",T:_g,repeated:!0}]),gP=we.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),Xk=we.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),vP=we.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:we.getEnumType(Xk)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),bP=we.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),Zk=we.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:we.getEnumType(ei)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:vP,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:bP,oneof:"content_header"}],{localName:"DataStream_Header"}),e_=we.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),t_=we.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),Ki=we.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),n_=we.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),Tie=we.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),Eie=we.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:Lc,oneof:"message"},{no:2,name:"answer",kind:"message",T:Lc,oneof:"message"},{no:3,name:"trickle",kind:"message",T:i_,oneof:"message"},{no:4,name:"add_track",kind:"message",T:o_,oneof:"message"},{no:5,name:"mute",kind:"message",T:a_,oneof:"message"},{no:6,name:"subscription",kind:"message",T:xg,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:wP,oneof:"message"},{no:8,name:"leave",kind:"message",T:Cg,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:_P,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:TP,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:EP,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Sa,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:xP,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:PP,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:kP,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:Iie,oneof:"message"}]),yP=we.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:Oie,oneof:"message"},{no:2,name:"answer",kind:"message",T:Lc,oneof:"message"},{no:3,name:"offer",kind:"message",T:Lc,oneof:"message"},{no:4,name:"trickle",kind:"message",T:i_,oneof:"message"},{no:5,name:"update",kind:"message",T:Nie,oneof:"message"},{no:6,name:"track_published",kind:"message",T:s_,oneof:"message"},{no:8,name:"leave",kind:"message",T:Cg,oneof:"message"},{no:9,name:"mute",kind:"message",T:a_,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:Rie,oneof:"message"},{no:11,name:"room_update",kind:"message",T:Mie,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:Lie,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:zie,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:Bie,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:Uie,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:Pie,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:Aie,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:$ie,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:Wie,oneof:"message"},{no:22,name:"request_response",kind:"message",T:Kie,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:Gie,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:Hie,oneof:"message"}]),r_=we.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]),o_=we.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:we.getEnumType(qi)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:we.getEnumType(nr)},{no:9,name:"layers",kind:"message",T:Dc,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:r_,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:we.getEnumType(ei)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:we.getEnumType(rP)},{no:17,name:"audio_features",kind:"enum",T:we.getEnumType(_r),repeated:!0}]),i_=we.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:we.getEnumType(Ki)},{no:3,name:"final",kind:"scalar",T:8}]),a_=we.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),Oie=we.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:kg},{no:2,name:"participant",kind:"message",T:Rc},{no:3,name:"other_participants",kind:"message",T:Rc,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:CP,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:mP},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:hP},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:_g,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),Aie=we.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:CP,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:mP},{no:3,name:"server_info",kind:"message",T:hP},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),s_=we.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:Sd}]),Pie=we.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),Lc=we.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13}]),Nie=we.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:Rc,repeated:!0}]),xg=we.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:dP,repeated:!0}]),wP=we.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:we.getEnumType(Qk)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),kP=we.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:we.getEnumType(_r),repeated:!0}]),Iie=we.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),Cg=we.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:we.getEnumType(Wi)},{no:3,name:"action",kind:"enum",T:we.getEnumType(Td)},{no:4,name:"regions",kind:"message",T:Vie}]),Td=we.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),_P=we.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:Dc,repeated:!0}]),xP=we.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),CP=we.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),Rie=we.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:oP,repeated:!0}]),Mie=we.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:kg}]),Die=we.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:we.getEnumType(ym)},{no:3,name:"score",kind:"scalar",T:2}]),Lie=we.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:Die,repeated:!0}]),jie=we.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:we.getEnumType(n_)}]),zie=we.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:jie,repeated:!0}]),l_=we.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:we.getEnumType(Qk)},{no:2,name:"enabled",kind:"scalar",T:8}]),Fie=we.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:l_,repeated:!0}]),Bie=we.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:l_,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:Fie,repeated:!0}]),SP=we.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),TP=we.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:SP,repeated:!0}]),Uie=we.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),Hie=we.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:kg},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:Rc},{no:4,name:"other_participants",kind:"message",T:Rc,repeated:!0}]),EP=we.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:Lc},{no:2,name:"subscription",kind:"message",T:xg},{no:3,name:"publish_tracks",kind:"message",T:s_,repeated:!0},{no:4,name:"data_channels",kind:"message",T:AP,repeated:!0},{no:5,name:"offer",kind:"message",T:Lc},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:OP,repeated:!0}]),OP=we.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),AP=we.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:we.getEnumType(Ki)}]),Sa=we.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:we.getEnumType(Tie),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),PP=we.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),$ie=we.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),Vie=we.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:qie,repeated:!0}]),qie=we.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),Wie=we.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:we.getEnumType(gie)}]),Kie=we.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:we.getEnumType(c_)},{no:3,name:"message",kind:"scalar",T:9}]),c_=we.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"}]),Gie=we.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);function Yie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var NP,u_={exports:{}},Qie=u_.exports,d_,Gi,Sg=(NP||(NP=1,function(e){var t,n;t=Qie,n=function(){var r=function(){},o="undefined",i=typeof window!==o&&typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"],s={},l=null;function c(f,v){var y=f[v];if(typeof y.bind=="function")return y.bind(f);try{return Function.prototype.bind.call(y,f)}catch{return function(){return Function.prototype.apply.apply(y,[f,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(){for(var f=this.getLevel(),v=0;v<a.length;v++){var y=a[v];this[y]=v<f?r:this.methodFactory(y,f,this.name)}if(this.log=this.debug,typeof console===o&&f<this.levels.SILENT)return"No console available for logging"}function p(f){return function(){typeof console!==o&&(d.call(this),this[f].apply(this,arguments))}}function h(f,v,y){return function(b){return b==="debug"&&(b="log"),typeof console!==o&&(b==="trace"&&i?u:console[b]!==void 0?c(console,b):console.log!==void 0?c(console,"log"):r)}(f)||p.apply(this,arguments)}function m(f,v){var y,b,w,k=this,_="loglevel";function E(){var T;if(typeof window!==o&&_){try{T=window.localStorage[_]}catch{}if(typeof T===o)try{var M=window.document.cookie,D=encodeURIComponent(_),H=M.indexOf(D+"=");H!==-1&&(T=/^([^;]+)/.exec(M.slice(H+D.length+1))[1])}catch{}return k.levels[T]===void 0&&(T=void 0),T}}function S(T){var M=T;if(typeof M=="string"&&k.levels[M.toUpperCase()]!==void 0&&(M=k.levels[M.toUpperCase()]),typeof M=="number"&&M>=0&&M<=k.levels.SILENT)return M;throw new TypeError("log.setLevel() called with invalid level: "+T)}typeof f=="string"?_+=":"+f:typeof f=="symbol"&&(_=void 0),k.name=f,k.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},k.methodFactory=v||h,k.getLevel=function(){return w??b??y},k.setLevel=function(T,M){return w=S(T),M!==!1&&function(D){var H=(a[D]||"silent").toUpperCase();if(typeof window!==o&&_){try{return void(window.localStorage[_]=H)}catch{}try{window.document.cookie=encodeURIComponent(_)+"="+H+";"}catch{}}}(w),d.call(k)},k.setDefaultLevel=function(T){b=S(T),E()||k.setLevel(T,!1)},k.resetLevel=function(){w=null,function(){if(typeof window!==o&&_){try{window.localStorage.removeItem(_)}catch{}try{window.document.cookie=encodeURIComponent(_)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),d.call(k)},k.enableAll=function(T){k.setLevel(k.levels.TRACE,T)},k.disableAll=function(T){k.setLevel(k.levels.SILENT,T)},k.rebuild=function(){if(l!==k&&(y=S(l.getLevel())),d.call(k),l===k)for(var T in s)s[T].rebuild()},y=S(l?l.getLevel():"WARN");var O=E();O!=null&&(w=S(O)),d.call(k)}(l=new m).getLogger=function(f){if(typeof f!="symbol"&&typeof f!="string"||f==="")throw new TypeError("You must supply a name when creating a logger.");var v=s[f];return v||(v=s[f]=new m(f,l.methodFactory)),v};var g=typeof window!==o?window.log:void 0;return l.noConflict=function(){return typeof window!==o&&window.log===l&&(window.log=g),l},l.getLoggers=function(){return s},l.default=l,l},e.exports?e.exports=n():t.log=n()}(u_)),u_.exports);(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})(d_||(d_={})),function(e){e.Default="livekit",e.Room="livekit-room",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"}(Gi||(Gi={}));let Xt=Sg.getLogger("livekit");function Ns(e){const t=Sg.getLogger(e);return t.setDefaultLevel(Xt.getLevel()),t}Object.values(Gi).map(e=>Sg.getLogger(e)),Xt.setDefaultLevel(d_.info);const Jie=Sg.getLogger("lk-e2ee"),km=7e3,Xie=[0,300,1200,2700,4800,km,km,km,km,km];function se(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(c){try{l(r.next(c))}catch(u){i(u)}}function s(c){try{l(r.throw(c))}catch(u){i(u)}}function l(c){var u;c.done?o(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function Zie(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Is(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Zie(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(a,s){(function(l,c,u,d){Promise.resolve(d).then(function(p){l({value:p,done:u})},c)})(a,s,(i=e[o](i)).done,i.value)})}}}typeof SuppressedError=="function"&&SuppressedError;var IP,Tg={exports:{}},Ta=function(){if(IP)return Tg.exports;IP=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(g,f,v){return Function.prototype.apply.call(g,f,v)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var r=Number.isNaN||function(g){return g!=g};function o(){o.init.call(this)}Tg.exports=o,Tg.exports.once=function(g,f){return new Promise(function(v,y){function b(k){g.removeListener(f,w),y(k)}function w(){typeof g.removeListener=="function"&&g.removeListener("error",b),v([].slice.call(arguments))}m(g,f,w,{once:!0}),f!=="error"&&function(k,_,E){typeof k.on=="function"&&m(k,"error",_,E)}(g,b,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function a(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function s(g){return g._maxListeners===void 0?o.defaultMaxListeners:g._maxListeners}function l(g,f,v,y){var b,w,k,_;if(a(v),(w=g._events)===void 0?(w=g._events=Object.create(null),g._eventsCount=0):(w.newListener!==void 0&&(g.emit("newListener",f,v.listener?v.listener:v),w=g._events),k=w[f]),k===void 0)k=w[f]=v,++g._eventsCount;else if(typeof k=="function"?k=w[f]=y?[v,k]:[k,v]:y?k.unshift(v):k.push(v),(b=s(g))>0&&k.length>b&&!k.warned){k.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(f)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=g,E.type=f,E.count=k.length,_=E,console&&console.warn&&console.warn(_)}return g}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(g,f,v){var y={fired:!1,wrapFn:void 0,target:g,type:f,listener:v},b=c.bind(y);return b.listener=v,y.wrapFn=b,b}function d(g,f,v){var y=g._events;if(y===void 0)return[];var b=y[f];return b===void 0?[]:typeof b=="function"?v?[b.listener||b]:[b]:v?function(w){for(var k=new Array(w.length),_=0;_<k.length;++_)k[_]=w[_].listener||w[_];return k}(b):h(b,b.length)}function p(g){var f=this._events;if(f!==void 0){var v=f[g];if(typeof v=="function")return 1;if(v!==void 0)return v.length}return 0}function h(g,f){for(var v=new Array(f),y=0;y<f;++y)v[y]=g[y];return v}function m(g,f,v,y){if(typeof g.on=="function")y.once?g.once(f,v):g.on(f,v);else{if(typeof g.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(f,function b(w){y.once&&g.removeEventListener(f,b),v(w)})}}return Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(g){if(typeof g!="number"||g<0||r(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");i=g}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||r(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},o.prototype.getMaxListeners=function(){return s(this)},o.prototype.emit=function(g){for(var f=[],v=1;v<arguments.length;v++)f.push(arguments[v]);var y=g==="error",b=this._events;if(b!==void 0)y=y&&b.error===void 0;else if(!y)return!1;if(y){var w;if(f.length>0&&(w=f[0]),w instanceof Error)throw w;var k=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw k.context=w,k}var _=b[g];if(_===void 0)return!1;if(typeof _=="function")n(_,this,f);else{var E=_.length,S=h(_,E);for(v=0;v<E;++v)n(S[v],this,f)}return!0},o.prototype.addListener=function(g,f){return l(this,g,f,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(g,f){return l(this,g,f,!0)},o.prototype.once=function(g,f){return a(f),this.on(g,u(this,g,f)),this},o.prototype.prependOnceListener=function(g,f){return a(f),this.prependListener(g,u(this,g,f)),this},o.prototype.removeListener=function(g,f){var v,y,b,w,k;if(a(f),(y=this._events)===void 0)return this;if((v=y[g])===void 0)return this;if(v===f||v.listener===f)--this._eventsCount===0?this._events=Object.create(null):(delete y[g],y.removeListener&&this.emit("removeListener",g,v.listener||f));else if(typeof v!="function"){for(b=-1,w=v.length-1;w>=0;w--)if(v[w]===f||v[w].listener===f){k=v[w].listener,b=w;break}if(b<0)return this;b===0?v.shift():function(_,E){for(;E+1<_.length;E++)_[E]=_[E+1];_.pop()}(v,b),v.length===1&&(y[g]=v[0]),y.removeListener!==void 0&&this.emit("removeListener",g,k||f)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(g){var f,v,y;if((v=this._events)===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[g]),this;if(arguments.length===0){var b,w=Object.keys(v);for(y=0;y<w.length;++y)(b=w[y])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(f=v[g])=="function")this.removeListener(g,f);else if(f!==void 0)for(y=f.length-1;y>=0;y--)this.removeListener(g,f[y]);return this},o.prototype.listeners=function(g){return d(this,g,!0)},o.prototype.rawListeners=function(g){return d(this,g,!1)},o.listenerCount=function(g,f){return typeof g.listenerCount=="function"?g.listenerCount(f):p.call(g,f)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Tg.exports}();let RP=!0,MP=!0;function _m(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function jc(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(a,s){if(a!==t)return o.apply(this,arguments);const l=c=>{const u=n(c);u&&(s.handleEvent?s.handleEvent(u):s(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(s,l),o.apply(this,[a,l])};const i=r.removeEventListener;r.removeEventListener=function(a,s){if(a!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(s))return i.apply(this,arguments);const l=this._eventMap[t].get(s);return this._eventMap[t].delete(s),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[a,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function eae(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(RP=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function tae(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(MP=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function DP(){if(typeof window=="object"){if(RP)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function h_(e,t){MP&&console.warn(e+" is deprecated, please use "+t+" instead.")}function LP(e){return Object.prototype.toString.call(e)==="[object Object]"}function jP(e){return LP(e)?Object.keys(e).reduce(function(t,n){const r=LP(e[n]),o=r?jP(e[n]):e[n],i=r&&!Object.keys(o).length;return o===void 0||i?t:Object.assign(t,{[n]:o})},{}):e}function p_(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?p_(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(o=>{p_(e,e.get(o),n)})}))}function zP(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(t===null)return o;const i=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&i.push(a)}),i.forEach(a=>{e.forEach(s=>{s.type===r&&s.trackId===a.id&&p_(e,s,o)})}),o}const FP=DP;function BP(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const s={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const c=typeof a[l]=="object"?a[l]:{ideal:a[l]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);const u=function(d,p){return d?d+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(c.ideal!==void 0){s.optional=s.optional||[];let d={};typeof c.ideal=="number"?(d[u("min",l)]=c.ideal,s.optional.push(d),d={},d[u("max",l)]=c.ideal,s.optional.push(d)):(d[u("",l)]=c.ideal,s.optional.push(d))}c.exact!==void 0&&typeof c.exact!="number"?(s.mandatory=s.mandatory||{},s.mandatory[u("",l)]=c.exact):["min","max"].forEach(d=>{c[d]!==void 0&&(s.mandatory=s.mandatory||{},s.mandatory[u(d,l)]=c[d])})}),a.advanced&&(s.optional=(s.optional||[]).concat(a.advanced)),s},o=function(a,s){if(t.version>=61)return s(a);if((a=JSON.parse(JSON.stringify(a)))&&typeof a.audio=="object"){const l=function(c,u,d){u in c&&!(d in c)&&(c[d]=c[u],delete c[u])};l((a=JSON.parse(JSON.stringify(a))).audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const c=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c)){let u;if(delete a.video.facingMode,l.exact==="environment"||l.ideal==="environment"?u=["back","rear"]:l.exact!=="user"&&l.ideal!=="user"||(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(d=>{let p=(d=d.filter(h=>h.kind==="videoinput")).find(h=>u.some(m=>h.label.toLowerCase().includes(m)));return!p&&d.length&&u.includes("back")&&(p=d[d.length-1]),p&&(a.video.deviceId=l.exact?{exact:p.deviceId}:{ideal:p.deviceId}),a.video=r(a.video),FP("chrome: "+JSON.stringify(a)),s(a)})}a.video=r(a.video)}return FP("chrome: "+JSON.stringify(a)),s(a)},i=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=(function(a,s,l){o(a,c=>{n.webkitGetUserMedia(c,s,u=>{l&&l(i(u))})})}).bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(s){return o(s,l=>a(l).then(c=>{if(l.audio&&!c.getAudioTracks().length||l.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return c},c=>Promise.reject(i(c))))}}}function UP(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function HP(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",r=>{let o;o=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===r.track.id):{track:r.track};const i=new Event("track");i.track=r.track,i.receiver=o,i.transceiver={receiver:o},i.streams=[n.stream],this.dispatchEvent(i)}),n.stream.getTracks().forEach(r=>{let o;o=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===r.id):{track:r};const i=new Event("track");i.track=r,i.receiver=o,i.transceiver={receiver:o},i.streams=[n.stream],this.dispatchEvent(i)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else jc(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function $P(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(o,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=o.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:o}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const o=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,s){let l=o.apply(this,arguments);return l||(l=t(this,a),this._senders.push(l)),l};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const s=this._senders.indexOf(a);s!==-1&&this._senders.splice(s,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(i=>{this._senders.push(t(this,i))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(i=>{const a=this._senders.find(s=>s.track===i);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function VP(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(i=>i._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(i=>zP(i,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r}),jc(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(o=>zP(o,r.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const n=arguments[0];let r,o,i;return this.getSenders().forEach(a=>{a.track===n&&(r?i=!0:r=a)}),this.getReceivers().forEach(a=>(a.track===n&&(o?i=!0:o=a),a.track===n)),i||r&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function qP(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(i=>this._shimmedLocalStreams[i][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(i,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const s=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(s)===-1&&this._shimmedLocalStreams[a.id].push(s):this._shimmedLocalStreams[a.id]=[a,s],s};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._shimmedLocalStreams=this._shimmedLocalStreams||{},i.getTracks().forEach(l=>{if(this.getSenders().find(c=>c.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const s=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[i.id]=[i].concat(s)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[i.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(i){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},i&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const s=this._shimmedLocalStreams[a].indexOf(i);s!==-1&&this._shimmedLocalStreams[a].splice(s,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),o.apply(this,arguments)}}function WP(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return qP(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const l=n.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(c=>this._reverseStreams[c.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(c=>{if(this.getSenders().find(u=>u.track===c))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){const c=new e.MediaStream(l.getTracks());this._streams[l.id]=c,this._reverseStreams[c.id]=l,l=c}r.apply(this,[l])};const o=e.RTCPeerConnection.prototype.removeStream;function i(l,c){let u=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(d=>{const p=l._reverseStreams[d],h=l._streams[p.id];u=u.replace(new RegExp(h.id,"g"),p.id)}),new RTCSessionDescription({type:c.type,sdp:u})}e.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},e.RTCPeerConnection.prototype.addTrack=function(l,c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const u=[].slice.call(arguments,1);if(u.length!==1||!u[0].getTracks().find(p=>p===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const d=this._streams[c.id];if(d)d.addTrack(l),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new e.MediaStream([l]);this._streams[c.id]=p,this._reverseStreams[p.id]=c,this.addStream(p)}return this.getSenders().find(p=>p.track===l)},["createOffer","createAnswer"].forEach(function(l){const c=e.RTCPeerConnection.prototype[l],u={[l](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?c.apply(this,[p=>{const h=i(this,p);d[0].apply(null,[h])},p=>{d[1]&&d[1].apply(null,p)},arguments[2]]):c.apply(this,arguments).then(p=>i(this,p))}};e.RTCPeerConnection.prototype[l]=u[l]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(l,c){let u=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(d=>{const p=l._reverseStreams[d],h=l._streams[p.id];u=u.replace(new RegExp(p.id,"g"),h.id)}),new RTCSessionDescription({type:c.type,sdp:u})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const l=s.get.apply(this);return l.type===""?l:i(this,l)}}),e.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(l._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let c;this._streams=this._streams||{},Object.keys(this._streams).forEach(u=>{this._streams[u].getTracks().find(d=>l.track===d)&&(c=this._streams[u])}),c&&(c.getTracks().length===1?this.removeStream(this._reverseStreams[c.id]):c.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function m_(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],o={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=o[n]})}function KP(e,t){jc(e,"negotiationneeded",n=>{const r=n.target;if(!(t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")||r.signalingState==="stable")return n})}var GP=Object.freeze({__proto__:null,fixNegotiationNeeded:KP,shimAddTrackRemoveTrack:WP,shimAddTrackRemoveTrackWithNative:qP,shimGetSendersWithDtmf:$P,shimGetUserMedia:BP,shimMediaStream:UP,shimOnTrack:HP,shimPeerConnection:m_,shimSenderReceiverGetStats:VP});function YP(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(o,i,a){h_("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(o).then(i,a)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const o=function(a,s,l){s in a&&!(l in a)&&(a[l]=a[s],delete a[s])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),o(a.audio,"autoGainControl","mozAutoGainControl"),o(a.audio,"noiseSuppression","mozNoiseSuppression")),i(a)},r&&r.prototype.getSettings){const a=r.prototype.getSettings;r.prototype.getSettings=function(){const s=a.apply(this,arguments);return o(s,"mozAutoGainControl","autoGainControl"),o(s,"mozNoiseSuppression","noiseSuppression"),s}}if(r&&r.prototype.applyConstraints){const a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(s){return this.kind==="audio"&&typeof s=="object"&&(s=JSON.parse(JSON.stringify(s)),o(s,"autoGainControl","mozAutoGainControl"),o(s,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[s])}}}}function QP(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function f_(e,t){if(typeof e!="object"||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const i=e.RTCPeerConnection.prototype[o],a={[o](){return arguments[0]=new(o==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[o]=a[o]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,i,a]=arguments;return r.apply(this,[o||null]).then(s=>{if(t.version<53&&!i)try{s.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;s.forEach((c,u)=>{s.set(u,Object.assign({},c,{type:n[c.type]||c.type}))})}return s}).then(i,a)}}function JP(e){if(typeof e!="object"||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const r=n.apply(this,arguments);return r._pc=this,r}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function XP(e){if(typeof e!="object"||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n}),jc(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ZP(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(t){h_("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&t.getTracks().includes(n.track)&&this.removeTrack(n)})})}function eN(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function tN(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const r=n.length>0;r&&n.forEach(i=>{if("rid"in i&&!/^[a-z0-9]{0,16}$/i.test(i.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in i&&!(parseFloat(i.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in i&&!(parseFloat(i.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(r){const{sender:i}=o,a=i.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,i.sendEncodings=n,this.setParametersPromises.push(i.setParameters(a).then(()=>{delete i.sendEncodings}).catch(()=>{delete i.sendEncodings})))}return o})}function nN(e){if(typeof e!="object"||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function rN(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function oN(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var iN=Object.freeze({__proto__:null,shimAddTransceiver:tN,shimCreateAnswer:oN,shimCreateOffer:rN,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:nN,shimGetUserMedia:YP,shimOnTrack:QP,shimPeerConnection:f_,shimRTCDataChannel:eN,shimReceiverGetStats:XP,shimRemoveStream:ZP,shimSenderGetStats:JP});function aN(e){if(typeof e=="object"&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(r=>t.call(this,r,n)),n.getVideoTracks().forEach(r=>t.call(this,r,n))},e.RTCPeerConnection.prototype.addTrack=function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o&&o.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(t);if(n===-1)return;this._localStreams.splice(n,1);const r=t.getTracks();this.getSenders().forEach(o=>{r.includes(o.track)&&this.removeTrack(o)})})}}function sN(e){if(typeof e=="object"&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(o=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(o))return;this._remoteStreams.push(o);const i=new Event("addstream");i.stream=o,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(o=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(o)>=0)return;n._remoteStreams.push(o);const i=new Event("addstream");i.stream=o,n.dispatchEvent(i)})}),t.apply(n,arguments)}}}function lN(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(l,c){const u=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[u]);return c?(d.then(l,c),Promise.resolve()):d},t.createAnswer=function(l,c){const u=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[u]);return c?(d.then(l,c),Promise.resolve()):d};let s=function(l,c,u){const d=o.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d};t.setLocalDescription=s,s=function(l,c,u){const d=i.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},t.setRemoteDescription=s,s=function(l,c,u){const d=a.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},t.addIceCandidate=s}function cN(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=o=>r(uN(o))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(n,r,o){t.mediaDevices.getUserMedia(n).then(r,o)}).bind(t))}function uN(e){return e&&e.video!==void 0?Object.assign({},e,{video:jP(e.video)}):e}function dN(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,r){if(n&&n.iceServers){const o=[];for(let i=0;i<n.iceServers.length;i++){let a=n.iceServers[i];a.urls===void 0&&a.url?(h_("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(n.iceServers[i])}n.iceServers=o}return new t(n,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function hN(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pN(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){n.offerToReceiveAudio!==void 0&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const r=this.getTransceivers().find(i=>i.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveAudio!==!0||r||this.addTransceiver("audio",{direction:"recvonly"}),n.offerToReceiveVideo!==void 0&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const o=this.getTransceivers().find(i=>i.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):n.offerToReceiveVideo!==!0||o||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function mN(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var fN,gN=Object.freeze({__proto__:null,shimAudioContext:mN,shimCallbacksAPI:lN,shimConstraints:uN,shimCreateOfferLegacy:pN,shimGetUserMedia:cN,shimLocalStreamsAPI:aN,shimRTCIceServerUrls:dN,shimRemoteStreamsAPI:sN,shimTrackEventTransceiver:hN}),vN={exports:{}},bN=(fN||(fN=1,function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((r,o)=>(o>0?"m="+r:r).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(o=>o.indexOf(r)===0)},t.parseCandidate=function(n){let r;r=n.indexOf("a=candidate:")===0?n.substring(12).split(" "):n.substring(10).split(" ");const o={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":o.relatedAddress=r[i+1];break;case"rport":o.relatedPort=parseInt(r[i+1],10);break;case"tcptype":o.tcpType=r[i+1];break;case"ufrag":o.ufrag=r[i+1],o.usernameFragment=r[i+1];break;default:o[r[i]]===void 0&&(o[r[i]]=r[i+1])}return o},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const o=n.component;o==="rtp"?r.push(1):o==="rtcp"?r.push(2):r.push(o),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const o={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),o.name=r[0],o.clockRate=parseInt(r[1],10),o.channels=r.length===3?parseInt(r[2],10):1,o.numChannels=o.channels,o},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const o=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(o!==1?"/"+o:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let o;const i=n.substring(n.indexOf(" ")+1).split(";");for(let a=0;a<i.length;a++)o=i[a].trim().split("="),r[o[0].trim()]=o[1];return r},t.writeFmtp=function(n){let r="",o=n.payloadType;if(n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(a=>{n.parameters[a]!==void 0?i.push(a+"="+n.parameters[a]):i.push(a)}),r+="a=fmtp:"+o+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",o=n.payloadType;return n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+o+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),o={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(o.attribute=n.substring(r+1,i),o.value=n.substring(i+1)):o.attribute=n.substring(r+1),o},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(o=>parseInt(o,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let o="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{o+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),o},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const o=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return o&&i?{usernameFragment:o.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=t.splitLines(n)[0].split(" ");r.profile=o[2];for(let a=3;a<o.length;a++){const s=o[a],l=t.matchPrefix(n,"a=rtpmap:"+s+" ")[0];if(l){const c=t.parseRtpMap(l),u=t.matchPrefix(n,"a=fmtp:"+s+" ");switch(c.parameters=u.length?t.parseFmtp(u[0]):{},c.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+s+" ").map(t.parseRtcpFb),r.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(c.name.toUpperCase())}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const i=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{i.forEach(s=>{a.rtcpFeedback.find(l=>l.type===s.type&&l.parameter===s.parameter)||a.rtcpFeedback.push(s)})}),r},t.writeRtpDescription=function(n,r){let o="";o+="m="+n+" ",o+=r.codecs.length>0?"9":"0",o+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",o+=r.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,o+=`c=IN IP4 0.0.0.0\r
`,o+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(a=>{o+=t.writeRtpMap(a),o+=t.writeFmtp(a),o+=t.writeRtcpFb(a)});let i=0;return r.codecs.forEach(a=>{a.maxptime>i&&(i=a.maxptime)}),i>0&&(o+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(a=>{o+=t.writeExtmap(a)}),o},t.parseRtpEncodingParameters=function(n){const r=[],o=t.parseRtpParameters(n),i=o.fecMechanisms.indexOf("RED")!==-1,a=o.fecMechanisms.indexOf("ULPFEC")!==-1,s=t.matchPrefix(n,"a=ssrc:").map(p=>t.parseSsrcMedia(p)).filter(p=>p.attribute==="cname"),l=s.length>0&&s[0].ssrc;let c;const u=t.matchPrefix(n,"a=ssrc-group:FID").map(p=>p.substring(17).split(" ").map(h=>parseInt(h,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),o.codecs.forEach(p=>{if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(p.parameters.apt,10)};l&&c&&(h.rtx={ssrc:c}),r.push(h),i&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&l&&r.push({ssrc:l});let d=t.matchPrefix(n,"b=");return d.length&&(d=d[0].indexOf("b=TIAS:")===0?parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?1e3*parseInt(d[0].substring(5),10)*.95-16e3:void 0,r.forEach(p=>{p.maxBitrate=d})),r},t.parseRtcpParameters=function(n){const r={},o=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="cname")[0];o&&(r.cname=o.value,r.ssrc=o.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const a=t.matchPrefix(n,"a=rtcp-mux");return r.mux=a.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const o=t.matchPrefix(n,"a=msid:");if(o.length===1)return r=o[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");return i.length>0?(r=i[0].value.split(" "),{stream:r[0],track:r[1]}):void 0},t.parseSctpDescription=function(n){const r=t.parseMLine(n),o=t.matchPrefix(n,"a=max-message-size:");let i;o.length>0&&(i=parseInt(o[0].substring(19),10)),isNaN(i)&&(i=65536);const a=t.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const s=t.matchPrefix(n,"a=sctpmap:");if(s.length>0){const l=s[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let o=[];return o=n.protocol!=="DTLS/SCTP"?["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&o.push("a=max-message-size:"+r.maxMessageSize+`\r
`),o.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,o){let i;const a=r!==void 0?r:2;return i=n||t.generateSessionId(),`v=0\r
o=`+(o||"thisisadapterortc")+" "+i+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const o=t.splitLines(n);for(let i=0;i<o.length;i++)switch(o[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return o[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const r=t.splitLines(n)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(n){const r=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let o=0;o<r.length;o++)if(r[o].length<2||r[o].charAt(1)!=="=")return!1;return!0},e.exports=t}(vN)),vN.exports),Ed=Yie(bN),nae=Uoe({__proto__:null,default:Ed},[bN]);function Eg(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&((n=JSON.parse(JSON.stringify(n))).candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const r=new t(n),o=Ed.parseCandidate(n.candidate);for(const i in o)i in r||Object.defineProperty(r,i,{value:o[i]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(n)},e.RTCIceCandidate.prototype=t.prototype,jc(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function g_(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||jc(e,"icecandidate",t=>{if(t.candidate){const n=Ed.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Og(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:r}=this.getConfiguration();r==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(r){if(!r||!r.sdp)return!1;const o=Ed.splitSections(r.sdp);return o.shift(),o.some(i=>{const a=Ed.parseMLine(i);return a&&a.kind==="application"&&a.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const r=function(l){const c=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!=u?-1:u}(arguments[0]),o=function(l){let c=65536;return t.browser==="firefox"&&(c=t.version<57?l===-1?16384:2147483637:t.version<60?t.version===57?65535:65536:2147483637),c}(r),i=function(l,c){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const d=Ed.matchPrefix(l.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(u=2147483637),u}(arguments[0],r);let a;a=o===0&&i===0?Number.POSITIVE_INFINITY:o===0||i===0?Math.max(o,i):Math.min(o,i);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return n.apply(this,arguments)}}function Ag(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,o){const i=r.send;r.send=function(){const a=arguments[0],s=a.length||a.size||a.byteLength;if(r.readyState==="open"&&o.sctp&&s>o.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+o.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const r=n.apply(this,arguments);return t(r,this),r},jc(e,"datachannel",r=>(t(r.channel,r.target),r))}function v_(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=o=>{const i=o.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const a=new Event("connectionstatechange",o);i.dispatchEvent(a)}return o},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function b_(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=r.sdp.split(`
`).filter(i=>i.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&r instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:r.type,sdp:o}):r.sdp=o}return n.apply(this,arguments)}}function Pg(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&n.length!==0&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ng(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&n.length!==0&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return n.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer"}return r.sdp||r.type!=="offer"&&r.type!=="answer"?n.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}var rae=Object.freeze({__proto__:null,removeExtmapAllowMixed:b_,shimAddIceCandidateNullOrEmpty:Pg,shimConnectionState:v_,shimMaxMessageSize:Og,shimParameterlessSetLocalDescription:Ng,shimRTCIceCandidate:Eg,shimRTCIceCandidateRelayProtocol:g_,shimSendThrowTypeError:Ag});(function(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=DP,r=function(i){const a={browser:null,version:null};if(i===void 0||!i.navigator||!i.navigator.userAgent)return a.browser="Not a browser.",a;const{navigator:s}=i;if(s.userAgentData&&s.userAgentData.brands){const l=s.userAgentData.brands.find(c=>c.brand==="Chromium");if(l)return{browser:"chrome",version:parseInt(l.version,10)}}if(s.mozGetUserMedia)a.browser="firefox",a.version=parseInt(_m(s.userAgent,/Firefox\/(\d+)\./,1));else if(s.webkitGetUserMedia||i.isSecureContext===!1&&i.webkitRTCPeerConnection)a.browser="chrome",a.version=parseInt(_m(s.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else{if(!i.RTCPeerConnection||!s.userAgent.match(/AppleWebKit\/(\d+)\./))return a.browser="Not a supported browser.",a;a.browser="safari",a.version=parseInt(_m(s.userAgent,/AppleWebKit\/(\d+)\./,1)),a.supportsUnifiedPlan=i.RTCRtpTransceiver&&"currentDirection"in i.RTCRtpTransceiver.prototype,a._safariVersion=_m(s.userAgent,/Version\/(\d+(\.?\d+))/,1)}return a}(e),o={browserDetails:r,commonShim:rae,extractVersion:_m,disableLog:eae,disableWarnings:tae,sdp:nae};switch(r.browser){case"chrome":if(!GP||!m_||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),o;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),o;n("adapter.js shimming chrome."),o.browserShim=GP,Pg(e,r),Ng(e),BP(e,r),UP(e),m_(e,r),HP(e),WP(e,r),$P(e),VP(e),KP(e,r),Eg(e),g_(e),v_(e),Og(e,r),Ag(e),b_(e,r);break;case"firefox":if(!iN||!f_||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),o;n("adapter.js shimming firefox."),o.browserShim=iN,Pg(e,r),Ng(e),YP(e,r),f_(e,r),QP(e),ZP(e),JP(e),XP(e),eN(e),tN(e),nN(e),rN(e),oN(e),Eg(e),v_(e),Og(e,r),Ag(e);break;case"safari":if(!gN||!t.shimSafari)return n("Safari shim is not included in this adapter release."),o;n("adapter.js shimming safari."),o.browserShim=gN,Pg(e,r),Ng(e),dN(e),pN(e),lN(e),aN(e),sN(e),hN(e),cN(e),mN(e),Eg(e),g_(e),Og(e,r),Ag(e),b_(e,r);break;default:n("Unsupported browser!")}})({window:typeof window>"u"?void 0:window});const xm="lk_e2ee";var Cm,yN,Il,wN,Gt,Ig,kN,Ne,Pe,rt,Ge;function oae(){return window.RTCRtpSender!==void 0&&window.RTCRtpSender.prototype.createEncodedStreams!==void 0||y_()}function y_(){return window.RTCRtpScriptTransform!==void 0}(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(Cm||(Cm={})),function(e){e.KeyRatcheted="keyRatcheted"}(yN||(yN={})),function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"}(Il||(Il={})),function(e){e.Error="cryptorError"}(wN||(wN={})),Ta.EventEmitter;class Rl extends Error{constructor(t,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=t}}(function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest",e[e.Timeout=5]="Timeout"})(Gt||(Gt={}));class fn extends Rl{constructor(t,n,r,o){super(1,t),this.name="ConnectionError",this.status=r,this.reason=n,this.context=o,this.reasonName=Gt[n]}}class w_ extends Rl{constructor(t){super(21,t??"device is unsupported"),this.name="DeviceUnsupportedError"}}class Rs extends Rl{constructor(t){super(20,t??"track is invalid"),this.name="TrackInvalidError"}}class iae extends Rl{constructor(t){super(10,t??"unsupported server"),this.name="UnsupportedServer"}}class cr extends Rl{constructor(t){super(12,t??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class k_ extends Rl{constructor(t){super(13,t??"unable to negotiate"),this.name="NegotiationError"}}class _N extends Rl{constructor(t,n){super(15,t),this.name="PublishTrackError",this.status=n}}class xN extends Rl{constructor(t,n){super(15,t),this.reason=n,this.reasonName=typeof n=="string"?n:c_[n]}}(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(Ig||(Ig={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return t.name==="NotFoundError"||t.name==="DevicesNotFoundError"?e.NotFound:t.name==="NotAllowedError"||t.name==="PermissionDeniedError"?e.PermissionDenied:t.name==="NotReadableError"||t.name==="TrackStartError"?e.DeviceInUse:e.Other}}(Ig||(Ig={})),function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"}(kN||(kN={})),function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.Moved="moved",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.ParticipantActive="participantActive",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"}(Ne||(Ne={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackCpuConstrained="localTrackCpuConstrained",e.LocalSenderCreated="localSenderCreated",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.TrackCpuConstrained="trackCpuConstrained",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage",e.Active="active"}(Pe||(Pe={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected",e.RoomMoved="roomMoved"}(rt||(rt={})),function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.CpuConstrained="cpuConstrained",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate",e.PreConnectBufferFlushed="preConnectBufferFlushed"}(Ge||(Ge={}));const aae=/version\/(\d+(\.?_?\d+)+)/i;let __;function ti(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e===void 0&&typeof navigator>"u")return;const n=(e??navigator.userAgent).toLowerCase();if(__===void 0||t){const r=sae.find(o=>{let{test:i}=o;return i.test(n)});__=r==null?void 0:r.describe(n)}return __}const sae=[{test:/firefox|iceweasel|fxios/i,describe:e=>({name:"Firefox",version:Rg(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:x_(e)})},{test:/chrom|crios|crmo/i,describe:e=>({name:"Chrome",version:Rg(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:x_(e)})},{test:/safari|applewebkit/i,describe:e=>({name:"Safari",version:Rg(aae,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:x_(e)})}];function Rg(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}function x_(e){return e.includes("mac os")?Rg(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}class Nr{}Nr.setTimeout=function(){return setTimeout(...arguments)},Nr.setInterval=function(){return setInterval(...arguments)},Nr.clearTimeout=function(){return clearTimeout(...arguments)},Nr.clearInterval=function(){return clearInterval(...arguments)};const Sm=[];var ki;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"})(ki||(ki={}));class Se extends Ta.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var o;super(),this.attachedElements=[],this.isMuted=!1,this.streamState=Se.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=Xt,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),5e3):this.handleAppVisibilityChanged()},this.log=Ns((o=r.loggerName)!==null&&o!==void 0?o:Gi.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=Se.Source.Unknown}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Ut(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===Se.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===Se.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(Sm.forEach(i=>{i.parentElement!==null||t||(t=i)}),t&&Sm.splice(Sm.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),Od(this.mediaStreamTrack,t);const r=t.srcObject.getTracks(),o=r.some(i=>i.kind==="audio");return t.play().then(()=>{this.emit(o?Ge.AudioPlaybackStarted:Ge.VideoPlaybackStarted)}).catch(i=>{i.name==="NotAllowedError"?this.emit(o?Ge.AudioPlaybackFailed:Ge.VideoPlaybackFailed,i):i.name==="AbortError"?Xt.debug("".concat(o?"audio":"video"," playback aborted, likely due to new play request")):Xt.warn("could not playback ".concat(o?"audio":"video"),i),o&&t&&r.some(a=>a.kind==="video")&&i.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(Ge.ElementAttached,t),t}detach(t){try{if(t){Ad(this.mediaStreamTrack,t);const r=this.attachedElements.indexOf(t);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(t),this.emit(Ge.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(r=>{Ad(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(Ge.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(t){t.loggerName&&(this.log=Ns(t.loggerName)),t.loggerContextCb&&(this.loggerContextCb=t.loggerContextCb)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),Sm.forEach(r=>{r.parentElement||(n=!1)}),n&&Sm.push(t)}}handleAppVisibilityChanged(){return se(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",this.isInBackground||this.kind!==Se.Kind.Video||setTimeout(()=>this.attachedElements.forEach(t=>t.play().catch(()=>{})),0)})}addAppVisibilityListener(){_o()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){_o()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function Od(e,t){let n,r;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,r=e.kind==="audio"?n.getAudioTracks():n.getVideoTracks(),r.includes(e)||(r.forEach(o=>{n.removeTrack(o)}),n.addTrack(e)),zc()&&t instanceof HTMLVideoElement||(t.autoplay=!0),t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(zc()||Pd())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function Ad(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t,n,r;(function(o){o.Audio="audio",o.Video="video",o.Unknown="unknown"})(t=e.Kind||(e.Kind={})),function(o){o.Camera="camera",o.Microphone="microphone",o.ScreenShare="screen_share",o.ScreenShareAudio="screen_share_audio",o.Unknown="unknown"}(n=e.Source||(e.Source={})),function(o){o.Active="active",o.Paused="paused",o.Unknown="unknown"}(r=e.StreamState||(e.StreamState={})),e.kindToProto=function(o){switch(o){case t.Audio:return qi.AUDIO;case t.Video:return qi.VIDEO;default:return qi.DATA}},e.kindFromProto=function(o){switch(o){case qi.AUDIO:return t.Audio;case qi.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(o){switch(o){case n.Camera:return nr.CAMERA;case n.Microphone:return nr.MICROPHONE;case n.ScreenShare:return nr.SCREEN_SHARE;case n.ScreenShareAudio:return nr.SCREEN_SHARE_AUDIO;default:return nr.UNKNOWN}},e.sourceFromProto=function(o){switch(o){case nr.CAMERA:return n.Camera;case nr.MICROPHONE:return n.Microphone;case nr.SCREEN_SHARE:return n.ScreenShare;case nr.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}},e.streamStateFromProto=function(o){switch(o){case n_.ACTIVE:return r.Active;case n_.PAUSED:return r.Paused;default:return r.Unknown}}})(Se||(Se={}));class mn{constructor(t,n,r,o,i){if(typeof t=="object")this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRatio,this.encoding={maxBitrate:t.maxBitrate,maxFramerate:t.maxFramerate,priority:t.priority};else{if(n===void 0||r===void 0)throw new TypeError("Unsupported options: provide at least width, height and maxBitrate");this.width=t,this.height=n,this.aspectRatio=t/n,this.encoding={maxBitrate:r,maxFramerate:o,priority:i}}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const lae=["vp8","h264"],cae=["vp8","h264","vp9","av1","h265"];function uae(e){return!!lae.find(t=>t===e)}var CN,C_;(function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"})(CN||(CN={})),function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}}(C_||(C_={}));const Tm={h90:new mn(160,90,9e4,20),h180:new mn(320,180,16e4,20),h216:new mn(384,216,18e4,20),h360:new mn(640,360,45e4,20),h540:new mn(960,540,8e5,25),h720:new mn(1280,720,17e5,30),h1080:new mn(1920,1080,3e6,30),h1440:new mn(2560,1440,5e6,30),h2160:new mn(3840,2160,8e6,30)},S_={h120:new mn(160,120,7e4,20),h180:new mn(240,180,125e3,20),h240:new mn(320,240,14e4,20),h360:new mn(480,360,33e4,20),h480:new mn(640,480,5e5,20),h540:new mn(720,540,6e5,25),h720:new mn(960,720,13e5,30),h1080:new mn(1440,1080,23e5,30),h1440:new mn(1920,1440,38e5,30)},T_={h360fps3:new mn(640,360,2e5,3,"medium"),h360fps15:new mn(640,360,4e5,15,"medium"),h720fps5:new mn(1280,720,8e5,5,"medium"),h720fps15:new mn(1280,720,15e5,15,"medium"),h720fps30:new mn(1280,720,2e6,30,"medium"),h1080fps15:new mn(1920,1080,25e5,15,"medium"),h1080fps30:new mn(1920,1080,5e6,30,"medium"),original:new mn(0,0,7e6,30,"medium")},SN="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function ni(e){return se(this,void 0,void 0,function*(){return new Promise(t=>Nr.setTimeout(t,e))})}function E_(){return"addTransceiver"in RTCPeerConnection.prototype}function O_(){return"addTrack"in RTCPeerConnection.prototype}function Ea(e){return e==="av1"||e==="vp9"}function A_(e){return!(!document||Mg())&&(e||(e=document.createElement("audio")),"setSinkId"in e)}function Pd(){var e;return((e=ti())===null||e===void 0?void 0:e.name)==="Firefox"}function zc(){var e;return((e=ti())===null||e===void 0?void 0:e.name)==="Safari"}function Mg(){const e=ti();return(e==null?void 0:e.name)==="Safari"||(e==null?void 0:e.os)==="iOS"}function TN(){var e,t;return!!_o()&&((t=(e=navigator.userAgentData)===null||e===void 0?void 0:e.mobile)!==null&&t!==void 0?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent))}function _o(){return typeof document<"u"}function Oa(){return navigator.product=="ReactNative"}function P_(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function EN(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function ON(){if(!Oa())return;let e=EN();return e?e.platform:void 0}function AN(){if(_o())return window.devicePixelRatio;if(Oa()){let e=EN();if(e)return e.devicePixelRatio}return 1}function Aa(e,t){const n=e.split("."),r=t.split("."),o=Math.min(n.length,r.length);for(let i=0;i<o;++i){const a=parseInt(n[i],10),s=parseInt(r[i],10);if(a>s)return 1;if(a<s)return-1;if(i===o-1&&a===s)return 0}return e===""&&t!==""?-1:t===""?1:n.length==r.length?0:n.length<r.length?-1:1}function dae(e){for(const t of e)t.target.handleResize(t)}function hae(e){for(const t of e)t.target.handleVisibilityChanged(t)}let N_=null;const PN=()=>(N_||(N_=new ResizeObserver(dae)),N_);let I_=null;const NN=()=>(I_||(I_=new IntersectionObserver(hae,{root:null,rootMargin:"0px"})),I_);function IN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];const o=document.createElement("canvas");o.width=e,o.height=t;const i=o.getContext("2d");i==null||i.fillRect(0,0,o.width,o.height),r&&i&&(i.beginPath(),i.arc(e/2,t/2,50,0,2*Math.PI,!0),i.closePath(),i.fillStyle="grey",i.fill());const a=o.captureStream(),[s]=a.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=n,s}let Em;function R_(){if(!Em){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[Em]=r.stream.getAudioTracks(),!Em)throw Error("Could not get empty media stream audio track");Em.enabled=!1}return Em.clone()}class Nd{get isResolved(){return this._isResolved}constructor(t,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((r,o)=>se(this,void 0,void 0,function*(){this.resolve=r,this.reject=o,t&&(yield t(r,o))})).finally(()=>{var r;this._isResolved=!0,(r=this.onFinally)===null||r===void 0||r.call(this)})}}function RN(e,t){const n=Object.assign({cloneTrack:!1,fftSize:2048,smoothingTimeConstant:.8,minDecibels:-100,maxDecibels:-80},t),r=F_();if(!r)throw new Error("Audio Context not supported on this browser");const o=n.cloneTrack?e.mediaStreamTrack.clone():e.mediaStreamTrack,i=r.createMediaStreamSource(new MediaStream([o])),a=r.createAnalyser();a.minDecibels=n.minDecibels,a.maxDecibels=n.maxDecibels,a.fftSize=n.fftSize,a.smoothingTimeConstant=n.smoothingTimeConstant,i.connect(a);const s=new Uint8Array(a.frequencyBinCount);return{calculateVolume:()=>{a.getByteFrequencyData(s);let l=0;for(const c of s)l+=Math.pow(c/255,2);return Math.sqrt(l/s.length)},analyser:a,cleanup:()=>se(this,void 0,void 0,function*(){yield r.close(),n.cloneTrack&&o.stop()})}}function Ml(e){if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function M_(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function MN(e){switch(e.reason){case Gt.LeaveRequest:return e.context;case Gt.Cancelled:return Wi.CLIENT_INITIATED;case Gt.NotAllowed:return Wi.USER_REJECTED;case Gt.ServerUnreachable:return Wi.JOIN_FAILURE;default:return Wi.UNKNOWN_REASON}}function Dg(e){return e!==void 0?Number(e):void 0}function Fc(e){return e!==void 0?BigInt(e):void 0}function Id(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function Pa(e){return!!e&&e.kind==Se.Kind.Audio}function Bc(e){return!!e&&e.kind==Se.Kind.Video}function Dl(e){return Id(e)&&Bc(e)}function Ms(e){return Id(e)&&Pa(e)}function D_(e){return!!e&&!e.isLocal}function pae(e){return!!e&&!e.isLocal}function L_(e){return D_(e)&&Bc(e)}function DN(e,t,n){var r,o,i,a;const{optionsWithoutProcessor:s,audioProcessor:l,videoProcessor:c}=LN(e??{}),u=t==null?void 0:t.processor,d=n==null?void 0:n.processor,p=s??{};return p.audio===!0&&(p.audio={}),p.video===!0&&(p.video={}),p.audio&&(j_(p.audio,t),(r=(i=p.audio).deviceId)!==null&&r!==void 0||(i.deviceId={ideal:"default"}),(l||u)&&(p.audio.processor=l??u)),p.video&&(j_(p.video,n),(o=(a=p.video).deviceId)!==null&&o!==void 0||(a.deviceId={ideal:"default"}),(c||d)&&(p.video.processor=c??d)),p}function j_(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function z_(e){var t,n,r,o;const i={};if(e.video)if(typeof e.video=="object"){const a={},s=a,l=e.video;Object.keys(l).forEach(c=>{c==="resolution"?j_(s,l.resolution):s[c]=l[c]}),i.video=a,(t=(r=i.video).deviceId)!==null&&t!==void 0||(r.deviceId={ideal:"default"})}else i.video=!!e.video&&{deviceId:{ideal:"default"}};else i.video=!1;return e.audio?typeof e.audio=="object"?(i.audio=e.audio,(n=(o=i.audio).deviceId)!==null&&n!==void 0||(o.deviceId={ideal:"default"})):i.audio={deviceId:{ideal:"default"}}:i.audio=!1,i}function mae(e){return se(this,arguments,void 0,function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){const r=F_();if(r){const o=r.createAnalyser();o.fftSize=2048;const i=o.frequencyBinCount,a=new Uint8Array(i);r.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(o),yield ni(n),o.getByteTimeDomainData(a);const s=a.some(l=>l!==128&&l!==0);return r.close(),!s}return!1}()})}function F_(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((e=window.document)===null||e===void 0)&&e.body)){const r=()=>se(this,void 0,void 0,function*(){var o;try{n.state==="suspended"&&(yield n.resume())}catch(i){console.warn("Error trying to auto-resume audio context",i)}(o=window.document.body)===null||o===void 0||o.removeEventListener("click",r)});window.document.body.addEventListener("click",r)}return n}}function fae(e){return e==="audioinput"?Se.Source.Microphone:e==="videoinput"?Se.Source.Camera:Se.Source.Unknown}function B_(e){return e===Se.Source.Microphone?"audioinput":e===Se.Source.Camera?"videoinput":void 0}function Lg(e){return e.split("/")[1].toLowerCase()}function gae(e){const t=[];return e.forEach(n=>{n.track!==void 0&&t.push(new s_({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}function Ut(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?Ut(e.track):{})}}function LN(e){const t=Object.assign({},e);let n,r;return typeof t.audio=="object"&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),typeof t.video=="object"&&t.video.processor&&(r=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:(o=t,o===void 0?o:typeof structuredClone=="function"?typeof o=="object"&&o!==null?structuredClone(Object.assign({},o)):structuredClone(o):JSON.parse(JSON.stringify(o)))};var o}function jN(e,t){return e.width*e.height<t.width*t.height}class vae extends Ta.EventEmitter{constructor(t){super(),this.onWorkerMessage=n=>{var r,o;const{kind:i,data:a}=n.data;switch(i){case"error":Xt.error(a.error.message),this.emit(Il.EncryptionError,a.error);break;case"initAck":a.enabled&&this.keyProvider.getKeys().forEach(s=>{this.postKey(s)});break;case"enable":if(a.enabled&&this.keyProvider.getKeys().forEach(s=>{this.postKey(s)}),this.encryptionEnabled!==a.enabled&&a.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(Il.ParticipantEncryptionStatusChanged,a.enabled,this.room.localParticipant),this.encryptionEnabled=a.enabled;else if(a.participantIdentity){const s=(o=this.room)===null||o===void 0?void 0:o.getParticipantByIdentity(a.participantIdentity);if(!s)throw TypeError("couldn't set encryption status, participant not found".concat(a.participantIdentity));this.emit(Il.ParticipantEncryptionStatusChanged,a.enabled,s)}break;case"ratchetKey":this.keyProvider.emit(Cm.KeyRatcheted,a.ratchetResult,a.participantIdentity,a.keyIndex)}},this.onWorkerError=n=>{Xt.error("e2ee worker encountered an error:",{error:n.error}),this.emit(Il.EncryptionError,n.error)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1}setup(t){if(!oae())throw new w_("tried to setup end-to-end encryption on an unsupported browser");if(Xt.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:Jie.getLevel()}};this.worker&&(Xt.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){Xt.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){t&&t.length!==0?this.postSifTrailer(t):Xt.warn("ignoring server sent trailer as it's empty")}setupEngine(t){t.on(rt.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(Ne.TrackPublished,(r,o)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==ei.NONE,o.identity)),t.on(Ne.ConnectionStateChanged,r=>{r===ln.Connected&&t.remoteParticipants.forEach(o=>{o.trackPublications.forEach(i=>{this.setParticipantCryptorEnabled(i.trackInfo.encryption!==ei.NONE,o.identity)})})}).on(Ne.TrackUnsubscribed,(r,o,i)=>{var a;const s={kind:"removeTransform",data:{participantIdentity:i.identity,trackId:r.mediaStreamID}};(a=this.worker)===null||a===void 0||a.postMessage(s)}).on(Ne.TrackSubscribed,(r,o,i)=>{this.setupE2EEReceiver(r,i.identity,o.trackInfo)}).on(Ne.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),t.localParticipant.on(Pe.LocalSenderCreated,(r,o)=>se(this,void 0,void 0,function*(){this.setupE2EESender(o,r)})),n.on(Cm.SetKey,r=>this.postKey(r)).on(Cm.RatchetRequest,(r,o)=>this.postRatchetRequest(r,o))}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(r)}postKey(t){let{key:n,participantIdentity:r,keyIndex:o}=t;var i;if(!this.worker)throw Error("could not set key, worker is missing");const a={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((i=this.room)===null||i===void 0?void 0:i.localParticipant.identity),key:n,keyIndex:o}};this.worker.postMessage(a)}postEnable(t,n){if(!this.worker)throw new ReferenceError("failed to enable e2ee, worker is not ready");{const r={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(r)}}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,r){if(t.receiver){if(!(r!=null&&r.mimeType)||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?Lg(r.mimeType):void 0)}}setupE2EESender(t,n){Id(t)&&n?this.handleSender(n,t.mediaStreamID,void 0):n||Xt.warn("early return because sender is not ready")}handleReceiver(t,n,r,o){return se(this,void 0,void 0,function*(){if(this.worker){if(y_()){const i={kind:"decode",participantIdentity:r,trackId:n,codec:o};t.transform=new RTCRtpScriptTransform(this.worker,i)}else{if(xm in t&&o){const l={kind:"updateCodec",data:{trackId:n,codec:o,participantIdentity:r}};return void this.worker.postMessage(l)}let i=t.writableStream,a=t.readableStream;if(!i||!a){const l=t.createEncodedStreams();t.writableStream=l.writable,i=l.writable,t.readableStream=l.readable,a=l.readable}const s={kind:"decode",data:{readableStream:a,writableStream:i,trackId:n,codec:o,participantIdentity:r,isReuse:xm in t}};this.worker.postMessage(s,[a,i])}t[xm]=!0}})}handleSender(t,n,r){var o;if(!(xm in t)&&this.worker){if(!(!((o=this.room)===null||o===void 0)&&o.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(y_()){Xt.info("initialize script transform");const i={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,i)}else{Xt.info("initialize encoded streams");const i=t.createEncodedStreams(),a={kind:"encode",data:{readableStream:i.readable,writableStream:i.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(a,[i.readable,i.writable])}t[xm]=!0}}}const U_="default";class xr{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new xr),this.instance}get previousDevices(){return this._previousDevices}getDevices(t){return se(this,arguments,void 0,function(n){var r=this;let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){var i;if(((i=xr.userMediaPromiseMap)===null||i===void 0?void 0:i.size)>0){Xt.debug("awaiting getUserMedia promise");try{n?yield xr.userMediaPromiseMap.get(n):yield Promise.all(xr.userMediaPromiseMap.values())}catch{Xt.warn("error waiting for media permissons")}}let a=yield navigator.mediaDevices.enumerateDevices();if(o&&(!zc()||!r.hasDeviceInUse(n))&&(a.filter(s=>s.kind===n).length===0||a.some(s=>{const l=s.label==="",c=!n||s.kind===n;return l&&c}))){const s={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},l=yield navigator.mediaDevices.getUserMedia(s);a=yield navigator.mediaDevices.enumerateDevices(),l.getTracks().forEach(c=>{c.stop()})}return r._previousDevices=a,n&&(a=a.filter(s=>s.kind===n)),a}()})}normalizeDeviceId(t,n,r){return se(this,void 0,void 0,function*(){if(n!==U_)return n;const o=yield this.getDevices(t),i=o.find(s=>s.deviceId===U_);if(!i)return void Xt.warn("could not reliably determine default device");const a=o.find(s=>s.deviceId!==U_&&s.groupId===(r??i.groupId));if(a)return a==null?void 0:a.deviceId;Xt.warn("could not reliably determine default device")})}hasDeviceInUse(t){return t?xr.userMediaPromiseMap.has(t):xr.userMediaPromiseMap.size>0}}var Om;xr.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],xr.userMediaPromiseMap=new Map,function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"}(Om||(Om={}));class bae{constructor(){this.pendingTasks=new Map,this.taskMutex=new oo,this.nextTaskIndex=0}run(t){return se(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:Om.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=Om.RUNNING,yield t()}finally{n.status=Om.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return se(this,void 0,void 0,function*(){return this.run(()=>se(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}function zN(e,t){return e.pathname="".concat(function(n){return n.endsWith("/")?n:"".concat(n,"/")}(e.pathname)).concat(t),e.toString()}const yae=["syncState","trickle","offer","answer","simulate","leave"];var Tn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"})(Tn||(Tn={}));class wae{get currentState(){return this.state}get isDisconnected(){return this.state===Tn.DISCONNECTING||this.state===Tn.DISCONNECTED}get isEstablishingConnection(){return this.state===Tn.CONNECTING||this.state===Tn.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=Tn.DISCONNECTED,this.log=Xt,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=Ns((r=n.loggerName)!==null&&r!==void 0?r:Gi.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new bae,this.queuedRequests=[],this.closingLock=new oo,this.connectionLock=new oo,this.state=Tn.DISCONNECTED}get logContext(){var t,n;return(n=(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:{}}join(t,n,r,o){return se(this,void 0,void 0,function*(){return this.state=Tn.CONNECTING,this.options=r,yield this.connect(t,n,r,o)})}reconnect(t,n,r,o){return se(this,void 0,void 0,function*(){return this.options?(this.state=Tn.RECONNECTING,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:o}))):void this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext)})}connect(t,n,r,o){this.connectOptions=r;const i=function(){var c;const u=new Cie({sdk:pP.JS,protocol:16,version:"2.15.4"});return Oa()&&(u.os=(c=ON())!==null&&c!==void 0?c:""),u}(),a=function(c,u,d){var p;const h=new URLSearchParams;return h.set("access_token",c),d.reconnect&&(h.set("reconnect","1"),d.sid&&h.set("sid",d.sid)),h.set("auto_subscribe",d.autoSubscribe?"1":"0"),h.set("sdk",Oa()?"reactnative":"js"),h.set("version",u.version),h.set("protocol",u.protocol.toString()),u.deviceModel&&h.set("device_model",u.deviceModel),u.os&&h.set("os",u.os),u.osVersion&&h.set("os_version",u.osVersion),u.browser&&h.set("browser",u.browser),u.browserVersion&&h.set("browser_version",u.browserVersion),d.adaptiveStream&&h.set("adaptive_stream","1"),d.reconnectReason&&h.set("reconnect_reason",d.reconnectReason.toString()),!((p=navigator.connection)===null||p===void 0)&&p.type&&h.set("network",navigator.connection.type),h}(n,i,r),s=function(c,u){const d=new URL(function(p){return p.startsWith("http")?p.replace(/^(http)/,"ws"):p}(c));return u.forEach((p,h)=>{d.searchParams.set(h,p)}),zN(d,"rtc")}(t,a),l=zN(new URL(M_(s)),"validate");return new Promise((c,u)=>se(this,void 0,void 0,function*(){const d=yield this.connectionLock.lock();try{const p=()=>se(this,void 0,void 0,function*(){this.close(),clearTimeout(h),u(new fn("room connection has been cancelled (signal)",Gt.Cancelled))}),h=setTimeout(()=>{this.close(),u(new fn("room connection has timed out (signal)",Gt.ServerUnreachable))},r.websocketTimeout);o!=null&&o.aborted&&p(),o==null||o.addEventListener("abort",p);const m=new URL(s);m.searchParams.has("access_token")&&m.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(m),Object.assign({reconnect:r.reconnect,reconnectReason:r.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(s),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(h)},this.ws.onerror=g=>se(this,void 0,void 0,function*(){if(this.state===Tn.CONNECTED)this.handleWSError(g);else{this.state=Tn.DISCONNECTED,clearTimeout(h);try{const f=yield fetch(l);if(f.status.toFixed(0).startsWith("4")){const v=yield f.text();u(new fn(v,Gt.NotAllowed,f.status))}else u(new fn("Encountered unknown websocket error during connection: ".concat(g.toString()),Gt.InternalError,f.status))}catch(f){u(new fn(f instanceof Error?f.message:"server was not reachable",Gt.ServerUnreachable))}}}),this.ws.onmessage=g=>se(this,void 0,void 0,function*(){var f,v,y;let b;if(typeof g.data=="string"){const w=JSON.parse(g.data);b=yP.fromJson(w,{ignoreUnknownFields:!0})}else{if(!(g.data instanceof ArrayBuffer))return void this.log.error("could not decode websocket message: ".concat(typeof g.data),this.logContext);b=yP.fromBinary(new Uint8Array(g.data))}if(this.state!==Tn.CONNECTED){let w=!1;if(((f=b.message)===null||f===void 0?void 0:f.case)==="join"?(this.state=Tn.CONNECTED,o==null||o.removeEventListener("abort",p),this.pingTimeoutDuration=b.message.value.pingTimeout,this.pingIntervalDuration=b.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),c(b.message.value)):this.state===Tn.RECONNECTING&&b.message.case!=="leave"?(this.state=Tn.CONNECTED,o==null||o.removeEventListener("abort",p),this.startPingInterval(),((v=b.message)===null||v===void 0?void 0:v.case)==="reconnect"?c(b.message.value):(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),c(void 0),w=!0)):this.isEstablishingConnection&&b.message.case==="leave"?u(new fn("Received leave request while trying to (re)connect",Gt.LeaveRequest,void 0,b.message.value.reason)):r.reconnect||u(new fn("did not receive join response, got ".concat((y=b.message)===null||y===void 0?void 0:y.case," instead"),Gt.InternalError)),!w)return}this.signalLatency&&(yield ni(this.signalLatency)),this.handleSignalResponse(b)}),this.ws.onclose=g=>{this.isEstablishingConnection&&u(new fn("Websocket got closed during a (re)connection attempt",Gt.InternalError)),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:g.reason,code:g.code,wasClean:g.wasClean,state:this.state})),this.handleOnClose(g.reason)}}finally{d()}}))}close(){return se(this,arguments,void 0,function(){var t=this;let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){const r=yield t.closingLock.lock();try{if(t.clearPingInterval(),n&&(t.state=Tn.DISCONNECTING),t.ws){t.ws.onmessage=null,t.ws.onopen=null,t.ws.onclose=null;const o=new Promise(i=>{t.ws?t.ws.onclose=()=>{i()}:i()});t.ws.readyState<t.ws.CLOSING&&(t.ws.close(),yield Promise.race([o,ni(250)])),t.ws=void 0}}finally{n&&(t.state=Tn.DISCONNECTED),r()}}()})}sendOffer(t,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:t.sdp})),this.sendRequest({case:"offer",value:jg(t,n)})}sendAnswer(t,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:t.sdp})),this.sendRequest({case:"answer",value:jg(t,n)})}sendIceCandidate(t,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:t})),this.sendRequest({case:"trickle",value:new i_({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new a_({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return se(this,arguments,void 0,function(r,o){var i=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){const s=i.getNextRequestId();return yield i.sendRequest({case:"updateMetadata",value:new xP({requestId:s,metadata:r,name:o,attributes:a})}),s}()})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new _P({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new TP({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Rn.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new PP({timestamp:Rn.parse(Date.now()),rtt:Rn.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(t,n){return this.sendRequest({case:"updateAudioTrack",value:new kP({trackSid:t,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new Cg({reason:Wi.CLIENT_INITIATED,action:Td.DISCONNECT})})}sendRequest(t){return se(this,arguments,void 0,function(n){var r=this;let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return function*(){if(!o&&!function(s){const l=yae.indexOf(s.case)>=0;return Xt.trace("request allowed to bypass queue:",{canPass:l,req:s}),l}(n)&&r.state===Tn.RECONNECTING)return void r.queuedRequests.push(()=>se(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));if(o||(yield r.requestQueue.flush()),r.signalLatency&&(yield ni(r.signalLatency)),r.isDisconnected)return void r.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));if(!r.ws||r.ws.readyState!==r.ws.OPEN)return void r.log.error("cannot send signal request before connected, type: ".concat(n==null?void 0:n.case),r.logContext);const a=new Eie({message:n});try{r.useJSON?r.ws.send(a.toJsonString()):r.ws.send(a.toBinary())}catch(s){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:s}))}}()})}handleSignalResponse(t){var n,r;const o=t.message;if(o==null)return void this.log.debug("received unsupported message",this.logContext);let i=!1;if(o.case==="answer"){const a=FN(o.value);this.onAnswer&&this.onAnswer(a,o.value.id)}else if(o.case==="offer"){const a=FN(o.value);this.onOffer&&this.onOffer(a,o.value.id)}else if(o.case==="trickle"){const a=JSON.parse(o.value.candidateInit);this.onTrickle&&this.onTrickle(a,o.value.target)}else o.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=o.value.participants)!==null&&n!==void 0?n:[]):o.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(o.value):o.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=o.value.speakers)!==null&&r!==void 0?r:[]):o.case==="leave"?this.onLeave&&this.onLeave(o.value):o.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(o.value.sid,o.value.muted):o.case==="roomUpdate"?this.onRoomUpdate&&o.value.room&&this.onRoomUpdate(o.value.room):o.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(o.value):o.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(o.value):o.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(o.value):o.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(o.value):o.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(o.value):o.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(o.value):o.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(o.value):o.case==="pong"||(o.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(o.value.lastPingTimestamp.toString()),this.resetPingTimeout(),i=!0):o.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(o.value):o.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(o.value.trackSid):o.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(o.value.token),this.onRoomMoved&&this.onRoomMoved(o.value)):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:o.case})));i||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}}handleOnClose(t){return se(this,void 0,void 0,function*(){if(this.state===Tn.DISCONNECTED)return;const n=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(t),Object.assign(Object.assign({},this.logContext),{reason:t})),n&&n(t)})}handleWSError(t){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:t}))}resetPingTimeout(){this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=Nr.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},1e3*this.pingTimeoutDuration):this.log.warn("ping timeout duration not set",this.logContext)}clearPingTimeout(){this.pingTimeout&&Nr.clearTimeout(this.pingTimeout)}startPingInterval(){this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(this.log.debug("start ping interval",this.logContext),this.pingInterval=Nr.setInterval(()=>{this.sendPing()},1e3*this.pingIntervalDuration)):this.log.warn("ping interval duration not set",this.logContext)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&Nr.clearInterval(this.pingInterval)}}function FN(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function jg(e,t){return new Lc({sdp:e.sdp,type:e.type,id:t})}class BN{constructor(){this.buffer=[],this._totalSize=0}push(t){this.buffer.push(t),this._totalSize+=t.data.byteLength}pop(){const t=this.buffer.shift();return t&&(this._totalSize-=t.data.byteLength),t}getAll(){return this.buffer.slice()}popToSequence(t){for(;this.buffer.length>0&&this.buffer[0].sequence<=t;)this.pop()}alignBufferedAmount(t){for(;this.buffer.length>0;){const n=this.buffer[0];if(this._totalSize-n.data.byteLength<=t)break;this.pop()}}get length(){return this.buffer.length}}class kae{constructor(t){this._map=new Map,this._lastCleanup=0,this.ttl=t}set(t,n){const r=Date.now();r-this._lastCleanup>this.ttl/2&&this.cleanup();const o=r+this.ttl;return this._map.set(t,{value:n,expiresAt:o}),this}get(t){const n=this._map.get(t);if(n){if(!(n.expiresAt<Date.now()))return n.value;this._map.delete(t)}}has(t){const n=this._map.get(t);return!!n&&(!(n.expiresAt<Date.now())||(this._map.delete(t),!1))}delete(t){return this._map.delete(t)}clear(){this._map.clear()}cleanup(){const t=Date.now();for(const[n,r]of this._map.entries())r.expiresAt<t&&this._map.delete(n);this._lastCleanup=t}get size(){return this.cleanup(),this._map.size}forEach(t){this.cleanup();for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t(r.value,n,this.asValueMap())}map(t){this.cleanup();const n=[],r=this.asValueMap();for(const[o,i]of r.entries())n.push(t(i,o,r));return n}asValueMap(){const t=new Map;for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t.set(n,r.value);return t}}var UN,HN,H_,$N,VN,Yi={},qN={},$_={exports:{}};function V_(){if(UN)return $_.exports;UN=1;var e=$_.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=t.raddr!=null?" raddr %s rport %d":"%v%v",n+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(n+=" generation %d"),n+=t["network-id"]!=null?" network-id %d":"%v",n+=t["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return t.attribute!=null&&(n+=" %s",t.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=t.id!=null?"id=%s %s":"%v%s",n+=t.mediaClockValue!=null?"=%s":"",n+=t.rateNumerator!=null?" rate=%s":"",n+=t.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){e[t].forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),$_.exports}function _ae(){return HN||(HN=1,function(e){var t=function(a){return String(Number(a))===a?Number(a):a},n=function(a,s,l){var c=a.name&&a.names;a.push&&!s[a.push]?s[a.push]=[]:c&&!s[a.name]&&(s[a.name]={});var u=a.push?{}:c?s[a.name]:s;(function(d,p,h,m){if(m&&!h)p[m]=t(d[1]);else for(var g=0;g<h.length;g+=1)d[g+1]!=null&&(p[h[g]]=t(d[g+1]))})(l.match(a.reg),u,a.names,a.name),a.push&&s[a.push].push(u)},r=V_(),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var s={},l=[],c=s;return a.split(/(\r\n|\r|\n)/).filter(o).forEach(function(u){var d=u[0],p=u.slice(2);d==="m"&&(l.push({rtp:[],fmtp:[]}),c=l[l.length-1]);for(var h=0;h<(r[d]||[]).length;h+=1){var m=r[d][h];if(m.reg.test(p))return n(m,c,p)}}),s.media=l,s};var i=function(a,s){var l=s.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&s.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(i,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var s=[],l=a.split(" ").map(t),c=0;c<l.length;c+=3)s.push({component:l[c],ip:l[c+1],port:l[c+2]});return s},e.parseImageAttributes=function(a){return a.split(" ").map(function(s){return s.substring(1,s.length-1).split(",").reduce(i,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(s){return s.split(",").map(function(l){var c,u=!1;return l[0]!=="~"?c=t(l):(c=t(l.substring(1,l.length)),u=!0),{scid:c,paused:u}})})}}(qN)),qN}function xae(){if($N)return H_;$N=1;var e=V_(),t=/%[sdv%]/g,n=function(a){var s=1,l=arguments,c=l.length;return a.replace(t,function(u){if(s>=c)return u;var d=l[s];switch(s+=1,u){case"%%":return"%";case"%s":return String(d);case"%d":return Number(d);case"%v":return""}})},r=function(a,s,l){var c=[a+"="+(s.format instanceof Function?s.format(s.push?l:l[s.name]):s.format)];if(s.names)for(var u=0;u<s.names.length;u+=1){var d=s.names[u];s.name?c.push(l[s.name][d]):c.push(l[s.names[u]])}else c.push(l[s.name]);return n.apply(null,c)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],i=["i","c","b","a"];return H_=function(a,s){s=s||{},a.version==null&&(a.version=0),a.name==null&&(a.name=" "),a.media.forEach(function(d){d.payloads==null&&(d.payloads="")});var l=s.outerOrder||o,c=s.innerOrder||i,u=[];return l.forEach(function(d){e[d].forEach(function(p){p.name in a&&a[p.name]!=null?u.push(r(d,p,a)):p.push in a&&a[p.push]!=null&&a[p.push].forEach(function(h){u.push(r(d,p,h))})})}),a.media.forEach(function(d){u.push(r("m",e.m[0],d)),c.forEach(function(p){e[p].forEach(function(h){h.name in d&&d[h.name]!=null?u.push(r(p,h,d)):h.push in d&&d[h.push]!=null&&d[h.push].forEach(function(m){u.push(r(p,h,m))})})})}),u.join(`\r
`)+`\r
`},H_}var Ll=function(){if(VN)return Yi;VN=1;var e=_ae(),t=xae(),n=V_();return Yi.grammar=n,Yi.write=t,Yi.parse=e.parse,Yi.parseParams=e.parseParams,Yi.parseFmtpConfig=e.parseFmtpConfig,Yi.parsePayloads=e.parsePayloads,Yi.parseRemoteCandidates=e.parseRemoteCandidates,Yi.parseImageAttributes=e.parseImageAttributes,Yi.parseSimulcastStreamList=e.parseSimulcastStreamList,Yi}();function q_(e,t,n){var r,o,i;t===void 0&&(t=50),n===void 0&&(n={});var a=(r=n.isImmediate)!=null&&r,s=(o=n.callback)!=null&&o,l=n.maxWait,c=Date.now(),u=[];function d(){if(l!==void 0){var h=Date.now()-c;if(h+t>=l)return l-h}return t}var p=function(){var h=[].slice.call(arguments),m=this;return new Promise(function(g,f){var v=a&&i===void 0;if(i!==void 0&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,c=Date.now(),!a){var b=e.apply(m,h);s&&s(b),u.forEach(function(w){return(0,w.resolve)(b)}),u=[]}},d()),v){var y=e.apply(m,h);return s&&s(y),g(y)}u.push({resolve:g,reject:f})})};return p.cancel=function(h){i!==void 0&&clearTimeout(i),u.forEach(function(m){return(0,m.reject)(h)}),u=[]},p}const WN="negotiationStarted",KN="negotiationComplete",GN="rtpVideoPayloadTypes";class YN extends Ta.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=Xt,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=q_(o=>se(this,void 0,void 0,function*(){this.emit(WN);try{yield this.createAndSendOffer()}catch(i){if(!o)throw i;o(i)}}),20),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=Ns((r=n.loggerName)!==null&&r!==void 0?r:Gi.PCTransport),this.loggerOptions=n,this.config=t,this._pc=this.createPC(),this.offerLock=new oo}createPC(){const t=new RTCPeerConnection(this.config);return t.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},t.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},t.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,t.iceConnectionState)},t.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,t.signalingState)},t.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,t.connectionState)},t.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},t.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},t}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return se(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t,n){return se(this,void 0,void 0,function*(){var r;if(t.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let o;if(t.type==="offer"){let{stereoMids:i,nackMids:a}=function(s){var l;const c=[],u=[],d=Ll.parse((l=s.sdp)!==null&&l!==void 0?l:"");let p=0;return d.media.forEach(h=>{var m;h.type==="audio"&&(h.rtp.some(g=>g.codec==="opus"&&(p=g.payload,!0)),!((m=h.rtcpFb)===null||m===void 0)&&m.some(g=>g.payload===p&&g.type==="nack")&&u.push(h.mid),h.fmtp.some(g=>g.payload===p&&(g.config.includes("sprop-stereo=1")&&c.push(h.mid),!0)))}),{stereoMids:c,nackMids:u}}(t);this.remoteStereoMids=i,this.remoteNackMids=a}else if(t.type==="answer"){const i=Ll.parse((r=t.sdp)!==null&&r!==void 0?r:"");i.media.forEach(a=>{a.type==="audio"&&this.trackBitrates.some(s=>{if(!s.transceiver||a.mid!=s.transceiver.mid)return!1;let l=0;if(a.rtp.some(u=>u.codec.toUpperCase()===s.codec.toUpperCase()&&(l=u.payload,!0)),l===0)return!0;let c=!1;for(const u of a.fmtp)if(u.payload===l){u.config=u.config.split(";").filter(d=>!d.includes("maxaveragebitrate")).join(";"),s.maxbr>0&&(u.config+=";maxaveragebitrate=".concat(1e3*s.maxbr)),c=!0;break}return c||s.maxbr>0&&a.fmtp.push({payload:l,config:"maxaveragebitrate=".concat(1e3*s.maxbr)}),!0})}),o=Ll.write(i)}return yield this.setMungedSDP(t,o,!0),this.pendingCandidates.forEach(i=>{this.pc.addIceCandidate(i)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):t.type==="answer"&&(this.emit(KN),t.sdp)&&Ll.parse(t.sdp).media.forEach(i=>{i.type==="video"&&this.emit(GN,i.rtp)}),!0})}createAndSendOffer(t){return se(this,void 0,void 0,function*(){var n;const r=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(t!=null&&t.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const s=this._pc.remoteDescription;if(!(t!=null&&t.iceRestart)||!s)return void(this.renegotiate=!0);yield this._pc.setRemoteDescription(s)}else if(!this._pc||this._pc.signalingState==="closed")return void this.log.warn("could not createOffer with closed peer connection",this.logContext);this.log.debug("starting to negotiate",this.logContext);const o=this.latestOfferId+1;this.latestOfferId=o;const i=yield this.pc.createOffer(t);this.log.debug("original offer",Object.assign({sdp:i.sdp},this.logContext));const a=Ll.parse((n=i.sdp)!==null&&n!==void 0?n:"");if(a.media.forEach(s=>{JN(s),s.type==="audio"?QN(s,[],[]):s.type==="video"&&this.trackBitrates.some(l=>{if(!s.msid||!l.cid||!s.msid.includes(l.cid))return!1;let c=0;if(s.rtp.some(d=>d.codec.toUpperCase()===l.codec.toUpperCase()&&(c=d.payload,!0)),c===0||(Ea(l.codec)&&!zc()&&this.ensureVideoDDExtensionForSVC(s,a),l.codec!=="av1"))return!0;const u=Math.round(.7*l.maxbr);for(const d of s.fmtp)if(d.payload===c){d.config.includes("x-google-start-bitrate")||(d.config+=";x-google-start-bitrate=".concat(u));break}return!0})}),this.latestOfferId>o)return void this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:o}));yield this.setMungedSDP(i,Ll.write(a)),this.onOffer(i,this.latestOfferId)}finally{r()}})}createAndSetAnswer(){return se(this,void 0,void 0,function*(){var t;const n=yield this.pc.createAnswer(),r=Ll.parse((t=n.sdp)!==null&&t!==void 0?t:"");return r.media.forEach(o=>{JN(o),o.type==="audio"&&QN(o,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,Ll.write(r)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){if(!this._pc)throw new cr("PC closed, cannot add track");return this._pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){var n;if(!this._pc)throw new cr("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(t)}canRemoveTrack(){var t;return!!(!((t=this._pc)===null||t===void 0)&&t.removeTrack)}removeTrack(t){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(t)}getConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var t;return(t=this._pc)===null||t===void 0?void 0:t.localDescription}getRemoteDescription(){var t;return(t=this.pc)===null||t===void 0?void 0:t.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return se(this,void 0,void 0,function*(){var t;if(!this._pc)return;let n="";const r=new Map,o=new Map;if((yield this._pc.getStats()).forEach(a=>{switch(a.type){case"transport":n=a.selectedCandidatePairId;break;case"candidate-pair":n===""&&a.selected&&(n=a.id),r.set(a.id,a);break;case"remote-candidate":o.set(a.id,"".concat(a.address,":").concat(a.port))}}),n==="")return;const i=(t=r.get(n))===null||t===void 0?void 0:t.remoteCandidateId;return i!==void 0?o.get(i):void 0})}setMungedSDP(t,n,r){return se(this,void 0,void 0,function*(){if(n){const o=t.sdp;t.sdp=n;try{return this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),void(r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t))}catch(i){this.log.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:i,sdp:n})),t.sdp=o}}try{r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(o){let i="unknown error";o instanceof Error?i=o.message:typeof o=="string"&&(i=o);const a={error:i,sdp:t.sdp};throw!r&&this.pc.remoteDescription&&(a.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(t.type),Object.assign(Object.assign({},this.logContext),{fields:a})),new k_(i)}})}ensureVideoDDExtensionForSVC(t,n){var r,o;if(!(!((r=t.ext)===null||r===void 0)&&r.some(i=>i.uri===SN))){if(this.ddExtID===0){let i=0;n.media.forEach(a=>{var s;a.type==="video"&&((s=a.ext)===null||s===void 0||s.forEach(l=>{l.value>i&&(i=l.value)}))}),this.ddExtID=i+1}(o=t.ext)===null||o===void 0||o.push({value:this.ddExtID,uri:SN})}}}function QN(e,t,n){let r=0;e.rtp.some(o=>o.codec==="opus"&&(r=o.payload,!0)),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some(o=>o.payload===r&&o.type==="nack")&&e.rtcpFb.push({payload:r,type:"nack"}),t.includes(e.mid)&&e.fmtp.some(o=>o.payload===r&&(o.config.includes("stereo=1")||(o.config+=";stereo=1"),!0)))}function JN(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(e.connection.version===4&&t||e.connection.version===6&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}const W_="vp8",Cae={audioPreset:C_.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:T_.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:W_,backupCodec:!0,preConnectBuffer:!1},XN={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},ZN={deviceId:{ideal:"default"},resolution:Tm.h720.resolution},Sae={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new class{constructor(e){this._retryDelays=e!==void 0?[...e]:Xie}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}},disconnectOnPageLeave:!0,webAudioMix:!1},K_={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var Kn;(function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"})(Kn||(Kn={}));class Tae{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(t,n,r){var o;this.peerConnectionTimeout=K_.peerConnectionTimeout,this.log=Xt,this.updateState=()=>{var i;const a=this.state,s=this.requiredTransports.map(l=>l.getConnectionState());s.every(l=>l==="connected")?this.state=Kn.CONNECTED:s.some(l=>l==="failed")?this.state=Kn.FAILED:s.some(l=>l==="connecting")?this.state=Kn.CONNECTING:s.every(l=>l==="closed")?this.state=Kn.CLOSED:s.some(l=>l==="closed")?this.state=Kn.CLOSING:s.every(l=>l==="new")&&(this.state=Kn.NEW),a!==this.state&&(this.log.debug("pc state change: from ".concat(Kn[a]," to ").concat(Kn[this.state]),this.logContext),(i=this.onStateChange)===null||i===void 0||i.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=Ns((o=r.loggerName)!==null&&o!==void 0?o:Gi.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=!n,this.isSubscriberConnectionRequired=n,this.publisher=new YN(t,r),this.subscriber=new YN(t,r),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=i=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,i,Ki.PUBLISHER)},this.subscriber.onIceCandidate=i=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,i,Ki.SUBSCRIBER)},this.subscriber.onDataChannel=i=>{var a;(a=this.onDataChannel)===null||a===void 0||a.call(this,i)},this.subscriber.onTrack=i=>{var a;(a=this.onTrack)===null||a===void 0||a.call(this,i)},this.publisher.onOffer=(i,a)=>{var s;(s=this.onPublisherOffer)===null||s===void 0||s.call(this,i,a)},this.state=Kn.NEW,this.connectionLock=new oo,this.remoteOfferLock=new oo}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}requirePublisher(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isPublisherConnectionRequired=t,this.updateState()}requireSubscriber(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSubscriberConnectionRequired=t,this.updateState()}createAndSendPublisherOffer(t){return this.publisher.createAndSendOffer(t)}setPublisherAnswer(t,n){return this.publisher.setRemoteDescription(t,n)}removeTrack(t){return this.publisher.removeTrack(t)}close(){return se(this,void 0,void 0,function*(){if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const t=this.publisher;for(const n of t.getSenders())try{t.canRemoveTrack()&&t.removeTrack(n)}catch(r){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:r}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return se(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(t,n){return se(this,void 0,void 0,function*(){n===Ki.PUBLISHER?yield this.publisher.addIceCandidate(t):yield this.subscriber.addIceCandidate(t)})}createSubscriberAnswerFromOffer(t,n){return se(this,void 0,void 0,function*(){this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,signalingState:this.subscriber.getSignallingState().toString()}));const r=yield this.remoteOfferLock.lock();try{return(yield this.subscriber.setRemoteDescription(t,n))?yield this.subscriber.createAndSetAnswer():void 0}finally{r()}})}updateConfiguration(t,n){this.publisher.setConfiguration(t),this.subscriber.setConfiguration(t),n&&this.triggerIceRestart()}ensurePCTransportConnection(t,n){return se(this,void 0,void 0,function*(){var r;const o=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(i=>this.ensureTransportConnected(i,t,n)))}finally{o()}})}negotiate(t){return se(this,void 0,void 0,function*(){return new Promise((n,r)=>se(this,void 0,void 0,function*(){const o=setTimeout(()=>{r("negotiation timed out")},this.peerConnectionTimeout);t.signal.addEventListener("abort",()=>{clearTimeout(o),r("negotiation aborted")}),this.publisher.once(WN,()=>{t.signal.aborted||this.publisher.once(KN,()=>{clearTimeout(o),n()})}),yield this.publisher.negotiate(i=>{clearTimeout(o),r(i)})}))})}addPublisherTransceiver(t,n){return this.publisher.addTransceiver(t,n)}addPublisherTrack(t){return this.publisher.addTrack(t)}createPublisherDataChannel(t,n){return this.publisher.createDataChannel(t,n)}getConnectedAddress(t){return t===Ki.PUBLISHER||t===Ki.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const t=[];return this.isPublisherConnectionRequired&&t.push(this.publisher),this.isSubscriberConnectionRequired&&t.push(this.subscriber),t}ensureTransportConnected(t,n){return se(this,arguments,void 0,function(r,o){var i=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(r.getConnectionState()!=="connected")return new Promise((s,l)=>se(i,void 0,void 0,function*(){const c=()=>{this.log.warn("abort transport connection",this.logContext),Nr.clearTimeout(u),l(new fn("room connection has been cancelled",Gt.Cancelled))};o!=null&&o.signal.aborted&&c(),o==null||o.signal.addEventListener("abort",c);const u=Nr.setTimeout(()=>{o==null||o.signal.removeEventListener("abort",c),l(new fn("could not establish pc connection",Gt.InternalError))},a);for(;this.state!==Kn.CONNECTED;)if(yield ni(50),o==null?void 0:o.signal.aborted)return void l(new fn("room connection has been cancelled",Gt.Cancelled));Nr.clearTimeout(u),o==null||o.signal.removeEventListener("abort",c),s()}))}()})}}class Gn extends Error{constructor(t,n,r){super(n),this.code=t,this.message=eI(n,Gn.MAX_MESSAGE_BYTES),this.data=r?eI(r,Gn.MAX_DATA_BYTES):void 0}static fromProto(t){return new Gn(t.code,t.message,t.data)}toProto(){return new uP({code:this.code,message:this.message,data:this.data})}static builtIn(t,n){return new Gn(Gn.ErrorCode[t],Gn.ErrorMessage[t],n)}}Gn.MAX_MESSAGE_BYTES=256,Gn.MAX_DATA_BYTES=15360,Gn.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404},Gn.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};function G_(e){return new TextEncoder().encode(e).length}function eI(e,t){if(G_(e)<=t)return e;let n=0,r=e.length;const o=new TextEncoder;for(;n<r;){const i=Math.floor((n+r+1)/2);o.encode(e.slice(0,i)).length<=t?n=i:r=i-1}return e.slice(0,n)}const Y_=2e3;function zg(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),n===void 0||r===void 0||e.timestamp===void 0||t.timestamp===void 0?0:8*(n-r)*1e3/(e.timestamp-t.timestamp)}const Q_=typeof MediaRecorder<"u",Eae=Q_?MediaRecorder:class{constructor(){throw new Error("MediaRecorder is not available in this environment")}};class Oae extends Eae{constructor(t,n){if(!Q_)throw new Error("MediaRecorder is not available in this environment");let r,o;super(new MediaStream([t.mediaStreamTrack]),n);const i=()=>{this.removeEventListener("dataavailable",r),this.removeEventListener("stop",i),this.removeEventListener("error",a),o==null||o.close(),o=void 0},a=s=>{o==null||o.error(s),this.removeEventListener("dataavailable",r),this.removeEventListener("stop",i),this.removeEventListener("error",a),o=void 0};this.byteStream=new ReadableStream({start:s=>{o=s,r=l=>se(this,void 0,void 0,function*(){let c;if(l.data.arrayBuffer){const u=yield l.data.arrayBuffer();c=new Uint8Array(u)}else{if(!l.data.byteArray)throw new Error("no data available!");c=l.data.byteArray}o!==void 0&&s.enqueue(c)}),this.addEventListener("dataavailable",r)},cancel:()=>{i()}}),this.addEventListener("stop",i),this.addEventListener("error",a)}}class tI extends Se{get sender(){return this._sender}set sender(t){this._sender=t}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0&&arguments[3];super(t,n,arguments.length>4?arguments[4]:void 0),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=q_(()=>se(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>se(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(Ge.Ended,this)},this.reacquireTrack=!1,this.providedByUser=o,this.muteLock=new oo,this.pauseUpstreamLock=new oo,this.processorLock=new oo,this.restartLock=new oo,this.setMediaStreamTrack(t,!0),this._constraints=t.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==Se.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();return t&&n?{width:t,height:n}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(t,n){return se(this,void 0,void 0,function*(){var r;if(t===this._mediaStreamTrack&&!n)return;let o;if(this._mediaStreamTrack&&(this.attachedElements.forEach(i=>{Ad(this._mediaStreamTrack,i)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints()),this.processor&&t){const i=yield this.processorLock.lock();try{if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(Od(t,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),o=this.processor.processedTrack}finally{i()}}this.sender&&((r=this.sender.transport)===null||r===void 0?void 0:r.state)!=="closed"&&(yield this.sender.replaceTrack(o??t)),this.providedByUser||this._mediaStreamTrack===t||this._mediaStreamTrack.stop(),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(i=>{Od(o??t,i)}))})}waitForDimensions(){return se(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e3;return function*(){var r;if(t.kind===Se.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=ti())===null||r===void 0?void 0:r.os)==="iOS"&&(yield ni(10));const o=Date.now();for(;Date.now()-o<n;){const i=t.dimensions;if(i)return i;yield ni(50)}throw new Rs("unable to get track dimensions after timeout")}()})}setDeviceId(t){return se(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===Ml(t)||(this._constraints.deviceId=t,!!this.isMuted||(yield this.restartTrack(),Ml(t)===this._mediaStreamTrack.getSettings().deviceId))})}getDeviceId(){return se(this,arguments,void 0,function(){var t=this;let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){if(t.source===Se.Source.ScreenShare)return;const{deviceId:r,groupId:o}=t._mediaStreamTrack.getSettings(),i=t.kind===Se.Kind.Audio?"audioinput":"videoinput";return n?xr.getInstance().normalizeDeviceId(i,r,o):r}()})}mute(){return se(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return se(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t,n){return se(this,void 0,void 0,function*(){if(!this.sender)throw new Rs("unable to replace an unpublished track");let r,o;return typeof n=="boolean"?r=n:n!==void 0&&(r=n.userProvidedTrack,o=n.stopProcessor),this.providedByUser=r==null||r,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(t),o&&this.processor&&(yield this.stopProcessor()),this})}restart(t){return se(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.restartLock.lock();try{t||(t=this._constraints);const{deviceId:r,facingMode:o}=t,i=function(l,c){var u={};for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&c.indexOf(d)<0&&(u[d]=l[d]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(d=Object.getOwnPropertySymbols(l);p<d.length;p++)c.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(l,d[p])&&(u[d[p]]=l[d[p]])}return u}(t,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:t}));const a={audio:!1,video:!1};this.kind===Se.Kind.Video?a.video=!r&&!o||{deviceId:r,facingMode:o}:a.audio=!r||{deviceId:r},this.attachedElements.forEach(l=>{Ad(this.mediaStreamTrack,l)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const s=(yield navigator.mediaDevices.getUserMedia(a)).getTracks()[0];return yield s.applyConstraints(i),s.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(s),this._constraints=t,this.emit(Ge.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(t){this.log.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted"),this.logContext),this.isMuted===t&&this._mediaStreamTrack.enabled!==t||(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Ge.Muted:Ge.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return se(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),TN()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),this.isInBackground||!this.needsReAcquisition||this.isUserProvided||this.isMuted||(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return se(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender)return void this.log.warn("unable to pause upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!0,this.emit(Ge.UpstreamPaused,this);const r=ti();if((r==null?void 0:r.name)==="Safari"&&Aa(r.version,"12.0")<0)throw new w_("pauseUpstream is not supported on Safari < 12.");((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return se(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender)return void this.log.warn("unable to resume upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!1,this.emit(Ge.UpstreamResumed,this),((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return se(this,void 0,void 0,function*(){var t;if(!((t=this.sender)===null||t===void 0)&&t.getStats)return yield this.sender.getStats()})}setProcessor(t){return se(this,arguments,void 0,function(n){var r=this;let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){var i;const a=yield r.processorLock.lock();try{r.log.debug("setting up processor",r.logContext);const s=document.createElement(r.kind),l={kind:r.kind,track:r._mediaStreamTrack,element:s,audioContext:r.audioContext};if(yield n.init(l),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.stopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(Od(r._mediaStreamTrack,s),s.muted=!0,s.play().catch(c=>{c instanceof DOMException&&c.name==="AbortError"?(r.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},r.logContext),{error:c})),setTimeout(()=>{s.play().catch(u=>{r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{err:u}))})},100)):r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:c}))}),r.processor=n,r.processorElement=s,r.processor.processedTrack){for(const c of r.attachedElements)c!==r.processorElement&&o&&(Ad(r._mediaStreamTrack,c),Od(r.processor.processedTrack,c));yield(i=r.sender)===null||i===void 0?void 0:i.replaceTrack(r.processor.processedTrack)}r.emit(Ge.TrackProcessorUpdate,r.processor)}finally{a()}}()})}getProcessor(){return this.processor}stopProcessor(){return se(this,arguments,void 0,function(){var t=this;let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){var r,o;t.processor&&(t.log.debug("stopping processor",t.logContext),(r=t.processor.processedTrack)===null||r===void 0||r.stop(),yield t.processor.destroy(),t.processor=void 0,n||((o=t.processorElement)===null||o===void 0||o.remove(),t.processorElement=void 0),yield t._mediaStreamTrack.applyConstraints(t._constraints),yield t.setMediaStreamTrack(t._mediaStreamTrack,!0),t.emit(Ge.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(Q_)if(this.localTrackRecorder)this.log.warn("preconnect buffer already started");else{{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new Oae(this,{mimeType:n})}this.localTrackRecorder.start(t),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},1e4)}else this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.byteStream}getPreConnectBufferMimeType(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.mimeType}}class Fg extends tI{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;super(t,Se.Kind.Audio,n,r,i),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>se(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let a;try{a=yield this.getSenderStats()}catch(s){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:s}))}a&&this.prevStats&&(this._currentBitrate=zg(a,this.prevStats)),this.prevStats=a}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(Ge.AudioTrackFeatureUpdate,this,_r.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(Ge.AudioTrackFeatureUpdate,this,_r.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=o,this.checkForSilence()}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return se(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Se.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return se(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==Ml(this._constraints.deviceId);return this.source!==Se.Source.Microphone||!this.stopOnMute&&this._mediaStreamTrack.readyState!=="ended"&&!r||this.isUserProvided||(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}restartTrack(t){return se(this,void 0,void 0,function*(){let n;if(t){const r=z_({audio:t});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return se(this,void 0,void 0,function*(){const r=yield n.restart.call(this,t);return this.checkForSilence(),r})}startMonitor(){_o()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},Y_)))}setProcessor(t){return se(this,void 0,void 0,function*(){var n;const r=yield this.processorLock.lock();try{if(!Oa()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.stopProcessor());const o={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(t.name),this.logContext),yield t.init(o),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(Ge.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){return se(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return;let n;return(yield this.sender.getStats()).forEach(r=>{r.type==="outbound-rtp"&&(n={type:"audio",streamId:r.id,packetsSent:r.packetsSent,packetsLost:r.packetsLost,bytesSent:r.bytesSent,timestamp:r.timestamp,roundTripTime:r.roundTripTime,jitter:r.jitter})}),n})}checkForSilence(){return se(this,void 0,void 0,function*(){const t=yield mae(this);return t&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(Ge.AudioSilenceDetected)),t})}}const Aae=Object.values(Tm),Pae=Object.values(S_),Nae=Object.values(T_),Iae=[Tm.h180,Tm.h360],Rae=[S_.h180,S_.h360],J_=["q","h","f"];function X_(e,t,n,r){var o,i;let a=r==null?void 0:r.videoEncoding;e&&(a=r==null?void 0:r.screenShareEncoding);const s=r==null?void 0:r.simulcast,l=r==null?void 0:r.scalabilityMode,c=r==null?void 0:r.videoCodec;if(!a&&!s&&!l||!t||!n)return[{}];a||(a=function(m,g,f,v){const y=function(k,_,E){if(k)return Nae;const S=_>E?_/E:E/_;return Math.abs(S-1.7777777777777777)<Math.abs(S-1.3333333333333333)?Aae:Pae}(m,g,f);let{encoding:b}=y[0];const w=Math.max(g,f);for(let k=0;k<y.length;k+=1){const _=y[k];if(b=_.encoding,_.width>=w)break}if(v)switch(v){case"av1":case"h265":b=Object.assign({},b),b.maxBitrate=.7*b.maxBitrate;break;case"vp9":b=Object.assign({},b),b.maxBitrate=.85*b.maxBitrate}return b}(e,t,n,c),Xt.debug("using video encoding",a));const u=a.maxFramerate,d=new mn(t,n,a.maxBitrate,a.maxFramerate,a.priority);if(l&&Ea(c)){const m=new oI(l),g=[];if(m.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(l));const f=ti();if(Mg()||Oa()||(f==null?void 0:f.name)==="Chrome"&&Aa(f==null?void 0:f.version,"113")<0){const v=m.suffix=="h"?2:3,y=function(b){return b||(b=ti()),(b==null?void 0:b.name)==="Safari"&&Aa(b.version,"18.3")>0||(b==null?void 0:b.os)==="iOS"&&!!(b!=null&&b.osVersion)&&Aa(b.osVersion,"18.3")>0}(f);for(let b=0;b<m.spatial;b+=1)g.push({rid:J_[2-b],maxBitrate:a.maxBitrate/Math.pow(v,b),maxFramerate:d.encoding.maxFramerate,scaleResolutionDownBy:y?Math.pow(2,b):void 0});g[0].scalabilityMode=l}else g.push({maxBitrate:a.maxBitrate,maxFramerate:d.encoding.maxFramerate,scalabilityMode:l});return d.encoding.priority&&(g[0].priority=d.encoding.priority,g[0].networkPriority=d.encoding.priority),Xt.debug("using svc encoding",{encodings:g}),g}if(!s)return[a];let p,h=[];if(h=e?(o=rI(r==null?void 0:r.screenShareSimulcastLayers))!==null&&o!==void 0?o:nI(e,d):(i=rI(r==null?void 0:r.videoSimulcastLayers))!==null&&i!==void 0?i:nI(e,d),h.length>0){const m=h[0];h.length>1&&([,p]=h);const g=Math.max(t,n);if(g>=960&&p)return Z_(t,n,[m,p,d],u);if(g>=480)return Z_(t,n,[m,d],u)}return Z_(t,n,[d])}function nI(e,t){if(e)return[{scaleResolutionDownBy:2,fps:(n=t).encoding.maxFramerate}].map(a=>{var s,l;return new mn(Math.floor(n.width/a.scaleResolutionDownBy),Math.floor(n.height/a.scaleResolutionDownBy),Math.max(15e4,Math.floor(n.encoding.maxBitrate/(Math.pow(a.scaleResolutionDownBy,2)*(((s=n.encoding.maxFramerate)!==null&&s!==void 0?s:30)/((l=a.fps)!==null&&l!==void 0?l:30))))),a.fps,n.encoding.priority)});var n;const{width:r,height:o}=t,i=r>o?r/o:o/r;return Math.abs(i-16/9)<Math.abs(i-4/3)?Iae:Rae}function Z_(e,t,n,r){const o=[];if(n.forEach((i,a)=>{if(a>=J_.length)return;const s=Math.min(e,t),l={rid:J_[a],scaleResolutionDownBy:Math.max(1,s/Math.min(i.width,i.height)),maxBitrate:i.encoding.maxBitrate},c=r&&i.encoding.maxFramerate?Math.min(r,i.encoding.maxFramerate):i.encoding.maxFramerate;c&&(l.maxFramerate=c);const u=Pd()||a===0;i.encoding.priority&&u&&(l.priority=i.encoding.priority,l.networkPriority=i.encoding.priority),o.push(l)}),Oa()&&ON()==="ios"){let i;o.forEach(s=>{i?s.maxFramerate&&s.maxFramerate>i&&(i=s.maxFramerate):i=s.maxFramerate});let a=!0;o.forEach(s=>{var l;s.maxFramerate!=i&&(a&&(a=!1,Xt.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),Xt.info('Setting framerate of encoding "'.concat((l=s.rid)!==null&&l!==void 0?l:"",'" to ').concat(i)),s.maxFramerate=i)})}return o}function rI(e){if(e)return e.sort((t,n)=>{const{encoding:r}=t,{encoding:o}=n;return r.maxBitrate>o.maxBitrate?1:r.maxBitrate<o.maxBitrate?-1:r.maxBitrate===o.maxBitrate&&r.maxFramerate&&o.maxFramerate?r.maxFramerate>o.maxFramerate?1:-1:0})}class oI{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}class Bg extends tI{get sender(){return this._sender}set sender(t){this._sender=t,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=arguments.length>3?arguments[3]:void 0;super(t,Se.Kind.Video,n,r,o),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>se(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let i;try{i=yield this.getSenderStats()}catch(l){return void this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:l}))}const a=new Map(i.map(l=>[l.rid,l])),s=i.some(l=>l.qualityLimitationReason==="cpu");if(s!==this.isCpuConstrained&&(this.isCpuConstrained=s,this.isCpuConstrained&&this.emit(Ge.CpuConstrained)),this.prevStats){let l=0;a.forEach((c,u)=>{var d;const p=(d=this.prevStats)===null||d===void 0?void 0:d.get(u);l+=zg(c,p)}),this._currentBitrate=l}this.prevStats=a}),this.senderLock=new oo}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!_o())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},Y_))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return se(this,void 0,void 0,function*(){var n,r,o,i,a;yield t.pauseUpstream.call(this);try{for(var s,l=!0,c=Is(this.simulcastCodecs.values());!(n=(s=yield c.next()).done);l=!0)i=s.value,l=!1,yield(a=i.sender)===null||a===void 0?void 0:a.replaceTrack(null)}catch(u){r={error:u}}finally{try{l||n||!(o=c.return)||(yield o.call(c))}finally{if(r)throw r.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return se(this,void 0,void 0,function*(){var n,r,o,i,a;yield t.resumeUpstream.call(this);try{for(var s,l=!0,c=Is(this.simulcastCodecs.values());!(n=(s=yield c.next()).done);l=!0){i=s.value,l=!1;const u=i;yield(a=u.sender)===null||a===void 0?void 0:a.replaceTrack(u.mediaStreamTrack)}}catch(u){r={error:u}}finally{try{l||n||!(o=c.return)||(yield o.call(c))}finally{if(r)throw r.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return se(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source!==Se.Source.Camera||this.isUserProvided||(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return se(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source!==Se.Source.Camera||this.isUserProvided||(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){return se(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(o=>{var i;if(o.type==="outbound-rtp"){const a={type:"video",streamId:o.id,frameHeight:o.frameHeight,frameWidth:o.frameWidth,framesPerSecond:o.framesPerSecond,framesSent:o.framesSent,firCount:o.firCount,pliCount:o.pliCount,nackCount:o.nackCount,packetsSent:o.packetsSent,bytesSent:o.bytesSent,qualityLimitationReason:o.qualityLimitationReason,qualityLimitationDurations:o.qualityLimitationDurations,qualityLimitationResolutionChanges:o.qualityLimitationResolutionChanges,rid:(i=o.rid)!==null&&i!==void 0?i:o.id,retransmittedPacketsSent:o.retransmittedPacketsSent,targetBitrate:o.targetBitrate,timestamp:o.timestamp},s=r.get(o.remoteId);s&&(a.jitter=s.jitter,a.packetsLost=s.packetsLost,a.roundTripTime=s.roundTripTime),n.push(a)}}),n.sort((o,i)=>{var a,s;return((a=i.frameWidth)!==null&&a!==void 0?a:0)-((s=o.frameWidth)!==null&&s!==void 0?s:0)}),n})}setPublishingQuality(t){const n=[];for(let r=ki.LOW;r<=ki.HIGH;r+=1)n.push(new l_({quality:r,enabled:r<=t}));this.log.debug("setting publishing quality. max quality ".concat(t),this.logContext),this.setPublishingLayers(Ea(this.codec),n)}restartTrack(t){return se(this,void 0,void 0,function*(){var n,r,o,i,a;let s;if(t){const d=z_({video:t});typeof d.video!="boolean"&&(s=d.video)}yield this.restart(s),this.isCpuConstrained=!1;try{for(var l,c=!0,u=Is(this.simulcastCodecs.values());!(n=(l=yield u.next()).done);c=!0){i=l.value,c=!1;const d=i;d.sender&&((a=d.sender.transport)===null||a===void 0?void 0:a.state)!=="closed"&&(d.mediaStreamTrack=this.mediaStreamTrack.clone(),yield d.sender.replaceTrack(d.mediaStreamTrack))}}catch(d){r={error:d}}finally{try{c||n||!(o=u.return)||(yield o.call(u))}finally{if(r)throw r.error}}})}setProcessor(t){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return se(this,arguments,void 0,function(r){var o=this;let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){var a,s,l,c,u,d;if(yield n.setProcessor.call(o,r,i),(u=o.processor)===null||u===void 0?void 0:u.processedTrack)try{for(var p,h=!0,m=Is(o.simulcastCodecs.values());!(a=(p=yield m.next()).done);h=!0)c=p.value,h=!1,yield(d=c.sender)===null||d===void 0?void 0:d.replaceTrack(o.processor.processedTrack)}catch(g){s={error:g}}finally{try{h||a||!(l=m.return)||(yield l.call(m))}finally{if(s)throw s.error}}}()})}setDegradationPreference(t){return se(this,void 0,void 0,function*(){if(this.degradationPreference=t,this.sender)try{this.log.debug("setting degradationPreference to ".concat(t),this.logContext);const n=this.sender.getParameters();n.degradationPreference=t,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t))return void this.log.error("".concat(t," already added, skipping adding simulcast codec"),this.logContext);const r={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,r),r}setSimulcastTrackSender(t,n){const r=this.simulcastCodecs.get(t);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},5e3))}setPublishingCodecs(t){return se(this,void 0,void 0,function*(){var n,r,o,i,a,s,l;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:t,currentCodec:this.codec})),!this.codec&&t.length>0)return yield this.setPublishingLayers(Ea(t[0].codec),t[0].qualities),[];this.subscribedCodecs=t;const c=[];try{for(n=!0,r=Is(t);!(i=(o=yield r.next()).done);n=!0){l=o.value,n=!1;const u=l;if(this.codec&&this.codec!==u.codec){const d=this.simulcastCodecs.get(u.codec);if(this.log.debug("try setPublishingCodec for ".concat(u.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:d})),d&&d.sender)d.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(u.codec),this.logContext),yield iI(d.sender,d.encodings,u.qualities,this.senderLock,Ea(u.codec),this.log,this.logContext));else for(const p of u.qualities)if(p.enabled){c.push(u.codec);break}}else yield this.setPublishingLayers(Ea(u.codec),u.qualities)}}catch(u){a={error:u}}finally{try{n||i||!(s=r.return)||(yield s.call(r))}finally{if(a)throw a.error}}return c})}setPublishingLayers(t,n){return se(this,void 0,void 0,function*(){this.optimizeForPerformance?this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n})):(this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),this.sender&&this.encodings&&(yield iI(this.sender,this.encodings,n,this.senderLock,t,this.log,this.logContext)))})}prioritizePerformance(){return se(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const t=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const n=this.sender.getParameters();n.encodings=n.encodings.map((r,o)=>{var i;return Object.assign(Object.assign({},r),{active:o===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((i=this.mediaStreamTrack.getSettings().height)!==null&&i!==void 0?i:360)/360)),scalabilityMode:o===0&&Ea(this.codec)?"L1T3":void 0,maxFramerate:o===0?15:0,maxBitrate:o===0?r.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{t()}})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return se(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),TN()&&this.isInBackground&&this.source===Se.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function iI(e,t,n,r,o,i,a){return se(this,void 0,void 0,function*(){const s=yield r.lock();i.debug("setPublishingLayersForSender",Object.assign(Object.assign({},a),{sender:e,qualities:n,senderEncodings:t}));try{const l=e.getParameters(),{encodings:c}=l;if(!c)return;if(c.length!==t.length)return void i.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},a),{encodings:c,senderEncodings:t}));let u=!1;o&&n.some(p=>p.enabled)&&n.forEach(p=>p.enabled=!0),c.forEach((d,p)=>{var h;let m=(h=d.rid)!==null&&h!==void 0?h:"";m===""&&(m="q");const g=aI(m),f=n.find(v=>v.quality===g);f&&d.active!==f.enabled&&(u=!0,d.active=f.enabled,i.debug("setting layer ".concat(f.quality," to ").concat(d.active?"enabled":"disabled"),a),Pd()&&(f.enabled?(d.scaleResolutionDownBy=t[p].scaleResolutionDownBy,d.maxBitrate=t[p].maxBitrate,d.maxFrameRate=t[p].maxFrameRate):(d.scaleResolutionDownBy=4,d.maxBitrate=10,d.maxFrameRate=2)))}),u&&(l.encodings=c,i.debug("setting encodings",Object.assign(Object.assign({},a),{encodings:l.encodings})),yield e.setParameters(l))}finally{s()}})}function aI(e){switch(e){case"f":default:return ki.HIGH;case"h":return ki.MEDIUM;case"q":return ki.LOW}}function sI(e,t,n,r){if(!n)return[new Dc({quality:ki.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const o=n[0].scalabilityMode,i=new oI(o),a=[],s=i.suffix=="h"?1.5:2,l=i.suffix=="h"?2:3;for(let c=0;c<i.spatial;c+=1)a.push(new Dc({quality:Math.min(ki.HIGH,i.spatial-1)-c,width:Math.ceil(e/Math.pow(s,c)),height:Math.ceil(t/Math.pow(s,c)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(l,c)):0,ssrc:0}));return a}return n.map(o=>{var i,a,s;const l=(i=o.scaleResolutionDownBy)!==null&&i!==void 0?i:1;let c=aI((a=o.rid)!==null&&a!==void 0?a:"");return new Dc({quality:c,width:Math.ceil(e/l),height:Math.ceil(t/l),bitrate:(s=o.maxBitrate)!==null&&s!==void 0?s:0,ssrc:0})})}const lI="_lossy",cI="_reliable",ex="leave-reconnect";var Qi;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(Qi||(Qi={}));class Mae extends Ta.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(t){var n;super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=K_.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=Qi.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=Xt,this.reliableDataSequence=1,this.reliableMessageBuffer=new BN,this.reliableReceivedState=new kae(3e4),this.handleDataChannel=r=>se(this,[r],void 0,function(o){var i=this;let{channel:a}=o;return function*(){if(a){if(a.label===cI)i.reliableDCSub=a;else{if(a.label!==lI)return;i.lossyDCSub=a}i.log.debug("on data channel ".concat(a.id,", ").concat(a.label),i.logContext),a.onmessage=i.handleDataMessage}}()}),this.handleDataMessage=r=>se(this,void 0,void 0,function*(){var o,i;const a=yield this.dataProcessLock.lock();try{let s;if(r.data instanceof ArrayBuffer)s=r.data;else{if(!(r.data instanceof Blob))return void this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));s=yield r.data.arrayBuffer()}const l=ko.fromBinary(new Uint8Array(s));if(l.sequence>0&&l.participantSid!==""){const c=this.reliableReceivedState.get(l.participantSid);if(c&&l.sequence<=c)return;this.reliableReceivedState.set(l.participantSid,l.sequence)}((o=l.value)===null||o===void 0?void 0:o.case)==="speaker"?this.emit(rt.ActiveSpeakersUpdate,l.value.value.speakers):(((i=l.value)===null||i===void 0?void 0:i.case)==="user"&&function(c,u){const d=c.participantIdentity?c.participantIdentity:u.participantIdentity;c.participantIdentity=d,u.participantIdentity=d;const p=c.destinationIdentities.length!==0?c.destinationIdentities:u.destinationIdentities;c.destinationIdentities=p,u.destinationIdentities=p}(l,l.value.value),this.emit(rt.DataPacketReceived,l))}finally{a()}}),this.handleDataError=r=>{const o=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:i}=r.error;this.log.error("DataChannel error on ".concat(o,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:i}))}else this.log.error("Unknown DataChannel error on ".concat(o),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const o=r.currentTarget.maxRetransmits===0?Lt.LOSSY:Lt.RELIABLE;this.updateAndEmitDCBufferStatus(o)},this.handleDisconnect=(r,o)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const i=l=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(l,"ms. giving up"),this.logContext),this.emit(rt.Disconnected),this.close()},a=Date.now()-this.reconnectStart;let s=this.getNextRetryDelay({elapsedMs:a,retryCount:this.reconnectAttempts});s!==null?(r===ex&&(s=0),this.log.debug("reconnecting in ".concat(s,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Nr.setTimeout(()=>this.attemptReconnect(o).finally(()=>this.reconnectTimeout=void 0),s)):i(a)},this.waitForRestarted=()=>new Promise((r,o)=>{this.pcState===Qi.Connected&&r();const i=()=>{this.off(rt.Disconnected,a),r()},a=()=>{this.off(rt.Restarted,i),o()};this.once(rt.Restarted,i),this.once(rt.Disconnected,a)}),this.updateAndEmitDCBufferStatus=r=>{const o=this.isBufferStatusLow(r);o!==void 0&&o!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,o),this.emit(rt.DCBufferStatusChanged,o,r))},this.isBufferStatusLow=r=>{const o=this.dataChannelForKind(r);if(o)return r===Lt.RELIABLE&&this.reliableMessageBuffer.alignBufferedAmount(o.bufferedAmount),o.bufferedAmount<=o.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===Tn.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(xd.RR_SIGNAL_DISCONNECTED))},this.log=Ns((n=t.loggerName)!==null&&n!==void 0?n:Gi.Engine),this.loggerOptions={loggerName:t.loggerName,loggerContextCb:()=>this.logContext},this.client=new wae(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new oo,this.dataProcessLock=new oo,this.dcBufferStatus=new Map([[Lt.LOSSY,!0],[Lt.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(rt.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(rt.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(rt.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(rt.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(rt.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(rt.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(rt.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(rt.SignalRequestResponse,r)}get logContext(){var t,n,r,o,i,a;return{room:(n=(t=this.latestJoinResponse)===null||t===void 0?void 0:t.room)===null||n===void 0?void 0:n.name,roomID:(o=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||o===void 0?void 0:o.sid,participant:(a=(i=this.latestJoinResponse)===null||i===void 0?void 0:i.participant)===null||a===void 0?void 0:a.identity,pID:this.participantSid}}join(t,n,r,o){return se(this,void 0,void 0,function*(){this.url=t,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const i=yield this.client.join(t,n,r,o);return this._isClosed=!1,this.latestJoinResponse=i,this.subscriberPrimary=i.subscriberPrimary,this.pcManager||(yield this.configure(i)),this.subscriberPrimary&&!i.fastPublish||this.negotiate(),this.clientConfiguration=i.clientConfiguration,this.emit(rt.SignalConnected,i),i}catch(i){if(i instanceof fn&&i.reason===Gt.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(t,n,r,o);throw i}})}close(){return se(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed)t();else try{this._isClosed=!0,this.joinAttempts=0,this.emit(rt.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return se(this,void 0,void 0,function*(){var t;yield(t=this.pcManager)===null||t===void 0?void 0:t.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new BN,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupClient(){return se(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new Rs("a track with the same ID has already been published");return new Promise((n,r)=>{const o=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],r(new fn("publication of local track timed out, no response from server",Gt.Timeout))},1e4);this.pendingTrackResolvers[t.cid]={resolve:i=>{clearTimeout(o),n(i)},reject:()=>{clearTimeout(o),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:n}=this.pendingTrackResolvers[t.track.id];n&&n(),delete this.pendingTrackResolvers[t.track.id]}try{return this.pcManager.removeTrack(t),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return se(this,void 0,void 0,function*(){var t;return(t=this.pcManager)===null||t===void 0?void 0:t.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t){return se(this,void 0,void 0,function*(){var n,r;if(this.pcManager&&this.pcManager.currentState!==Kn.NEW)return;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid;const o=this.makeRTCConfiguration(t);var i;this.pcManager=new Tae(o,t.subscriberPrimary,this.loggerOptions),this.emit(rt.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(a,s)=>{this.client.sendIceCandidate(a,s)},this.pcManager.onPublisherOffer=(a,s)=>{this.client.sendOffer(a,s)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(a,s,l)=>se(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(a),this.logContext),["closed","disconnected","failed"].includes(s)&&(this.publisherConnectionPromise=void 0),a===Kn.CONNECTED){const d=this.pcState===Qi.New;this.pcState=Qi.Connected,d&&this.emit(rt.Connected,t)}else a===Kn.FAILED&&this.pcState===Qi.Connected&&(this.pcState=Qi.Disconnected,this.handleDisconnect("peerconnection failed",l==="failed"?xd.RR_SUBSCRIBER_FAILED:xd.RR_PUBLISHER_FAILED));const c=this.client.isDisconnected||this.client.currentState===Tn.RECONNECTING,u=[Kn.FAILED,Kn.CLOSING,Kn.CLOSED].includes(a);c&&u&&!this._isClosed&&this.emit(rt.Offline)}),this.pcManager.onTrack=a=>{this.emit(rt.MediaTrackAdded,a.track,a.streams[0],a.receiver)},(i=(r=t.serverInfo)===null||r===void 0?void 0:r.protocol)!==void 0&&i>13||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(t,n)=>se(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type})),yield this.pcManager.setPublisherAnswer(t,n))}),this.client.onTrickle=(t,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:t,target:n})),this.pcManager.addIceCandidate(t,n))},this.client.onOffer=(t,n)=>se(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;const r=yield this.pcManager.createSubscriberAnswerFromOffer(t,n);r&&this.client.sendAnswer(r,n)}),this.client.onLocalTrackPublished=t=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:t.cid,track:(n=t.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[t.cid])return void this.log.error("missing track resolver for ".concat(t.cid),Object.assign(Object.assign({},this.logContext),{cid:t.cid}));const{resolve:r}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],r(t.track)},this.client.onLocalTrackUnpublished=t=>{this.emit(rt.LocalTrackUnpublished,t)},this.client.onLocalTrackSubscribed=t=>{this.emit(rt.LocalTrackSubscribed,t)},this.client.onTokenRefresh=t=>{this.token=t},this.client.onRemoteMuteChanged=(t,n)=>{this.emit(rt.RemoteMute,t,n)},this.client.onSubscribedQualityUpdate=t=>{this.emit(rt.SubscribedQualityUpdate,t)},this.client.onRoomMoved=t=>{var n;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=t.room),this.emit(rt.RoomMoved,t)},this.client.onClose=()=>{this.handleDisconnect("signal",xd.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:t==null?void 0:t.reason})),t.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions(t.regions)),t.action){case Td.DISCONNECT:this.emit(rt.Disconnected,t==null?void 0:t.reason),this.close();break;case Td.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(ex);break;case Td.RESUME:this.handleDisconnect(ex)}}}makeRTCConfiguration(t){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),t.iceServers&&!r.iceServers){const o=[];t.iceServers.forEach(i=>{const a={urls:i.urls};i.username&&(a.username=i.username),i.credential&&(a.credential=i.credential),o.push(a)}),r.iceServers=o}return t.clientConfiguration&&t.clientConfiguration.forceRelay===wm.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(lI,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(cI,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(t,n,r){return se(this,void 0,void 0,function*(){if(E_())return yield this.createTransceiverRTCRtpSender(t,n,r);if(O_())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new cr("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,r,o){return se(this,void 0,void 0,function*(){if(E_())return this.createSimulcastTransceiverSender(t,n,r,o);if(O_())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(t.mediaStreamTrack);throw new cr("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,r){return se(this,void 0,void 0,function*(){if(!this.pcManager)throw new cr("publisher is closed");const o=[];t.mediaStream&&o.push(t.mediaStream),Bc(t)&&(t.codec=n.videoCodec);const i={direction:"sendonly",streams:o};return r&&(i.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,i)).sender})}createSimulcastTransceiverSender(t,n,r,o){return se(this,void 0,void 0,function*(){if(!this.pcManager)throw new cr("publisher is closed");const i={direction:"sendonly"};o&&(i.sendEncodings=o);const a=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,i);if(r.videoCodec)return t.setSimulcastTrackSender(r.videoCodec,a.sender),a.sender})}createRTCRtpSender(t){return se(this,void 0,void 0,function*(){if(!this.pcManager)throw new cr("publisher is closed");return this.pcManager.addPublisherTrack(t)})}attemptReconnect(t){return se(this,void 0,void 0,function*(){var n,r,o;if(!this._isClosed)if(this.attemptingReconnect)Xt.warn("already attempting reconnect, returning early",this.logContext);else{((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)!==wm.DISABLED&&((o=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&o!==void 0?o:Kn.NEW)!==Kn.NEW||(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(i){this.reconnectAttempts+=1;let a=!0;i instanceof cr?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:i})),a=!1):i instanceof Rd||(this.fullReconnectOnNext=!0),a?this.handleDisconnect("reconnect",xd.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(rt.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(t){return se(this,void 0,void 0,function*(){var n,r,o;try{if(!this.url||!this.token)throw new cr("could not reconnect, url or token not saved");let i;this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(rt.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new Rd;i=yield this.join(t??this.url,this.token,this.signalOpts)}catch(a){throw a instanceof fn&&a.reason===Gt.NotAllowed?new cr("could not reconnect, token might be expired"):new Rd}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(rt.SignalRestarted,i),yield this.waitForPCReconnected(),this.client.currentState!==Tn.CONNECTED)throw new Rd("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(rt.Restarted)}catch(i){const a=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(a)return void(yield this.restartConnection(a));throw(o=this.regionUrlProvider)===null||o===void 0||o.resetAttempts(),i}})}resumeConnection(t){return se(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new cr("could not reconnect, url or token not saved");if(!this.pcManager)throw new cr("publisher and subscriber connections unset");let r;this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(rt.Resuming);try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,t)}catch(o){let i="";throw o instanceof Error&&(i=o.message,this.log.error(o.message,Object.assign(Object.assign({},this.logContext),{error:o}))),o instanceof fn&&o.reason===Gt.NotAllowed?new cr("could not reconnect, token might be expired"):o instanceof fn&&o.reason===Gt.LeaveRequest?o:new Rd(i)}if(this.emit(rt.SignalResumed),r){const o=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(o),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=r.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Tn.CONNECTED)throw new Rd("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),r!=null&&r.lastMessageSeq&&this.resendReliableMessagesForResume(r.lastMessageSeq),this.emit(rt.Resumed)})}waitForPCInitialConnection(t,n){return se(this,void 0,void 0,function*(){if(!this.pcManager)throw new cr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,t)})}waitForPCReconnected(){return se(this,void 0,void 0,function*(){this.pcState=Qi.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield ni(2e3),!this.pcManager)throw new cr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Qi.Connected}catch(t){throw this.pcState=Qi.Disconnected,new fn("could not establish PC connection, ".concat(t.message),Gt.InternalError)}})}publishRpcResponse(t,n,r,o){return se(this,void 0,void 0,function*(){const i=new ko({destinationIdentities:[t],kind:Lt.RELIABLE,value:{case:"rpcResponse",value:new cP({requestId:n,value:o?{case:"error",value:o.toProto()}:{case:"payload",value:r??""}})}});yield this.sendDataPacket(i,Lt.RELIABLE)})}publishRpcAck(t,n){return se(this,void 0,void 0,function*(){const r=new ko({destinationIdentities:[t],kind:Lt.RELIABLE,value:{case:"rpcAck",value:new lP({requestId:n})}});yield this.sendDataPacket(r,Lt.RELIABLE)})}sendDataPacket(t,n){return se(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(n),n===Lt.RELIABLE&&(t.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const r=t.toBinary(),o=this.dataChannelForKind(n);if(o){if(n===Lt.RELIABLE&&this.reliableMessageBuffer.push({data:r,sequence:t.sequence}),this.attemptingReconnect)return;o.send(r)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(t){return se(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(Lt.RELIABLE);const n=this.dataChannelForKind(Lt.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(t),this.reliableMessageBuffer.getAll().forEach(r=>{n.send(r.data)})),this.updateAndEmitDCBufferStatus(Lt.RELIABLE)})}waitForBufferStatusLow(t){return new Promise((n,r)=>se(this,void 0,void 0,function*(){if(this.isBufferStatusLow(t))n();else{const o=()=>r("Engine closed");for(this.once(rt.Closing,o);!this.dcBufferStatus.get(t);)yield ni(10);this.off(rt.Closing,o),n()}}))}ensureDataTransportConnected(t){return se(this,arguments,void 0,function(n){var r=this;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var i;if(!r.pcManager)throw new cr("PC manager is closed");const a=o?r.pcManager.subscriber:r.pcManager.publisher,s=o?"Subscriber":"Publisher";if(!a)throw new fn("".concat(s," connection not set"),Gt.InternalError);let l=!1;o||r.dataChannelForKind(n,o)||(r.createDataChannels(),l=!0),l||o||r.pcManager.publisher.isICEConnected||r.pcManager.publisher.getICEConnectionState()==="checking"||(l=!0),l&&r.negotiate();const c=r.dataChannelForKind(n,o);if((c==null?void 0:c.readyState)==="open")return;const u=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<u;){if(a.isICEConnected&&((i=r.dataChannelForKind(n,o))===null||i===void 0?void 0:i.readyState)==="open")return;yield ni(50)}throw new fn("could not establish ".concat(s," connection, state: ").concat(a.getICEConnectionState()),Gt.InternalError)}()})}ensurePublisherConnected(t){return se(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(t,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!!this.pcManager&&this.pcManager.currentState===Kn.CONNECTED&&!(!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return se(this,void 0,void 0,function*(){return new Promise((t,n)=>se(this,void 0,void 0,function*(){if(!this.pcManager)return void n(new k_("PC manager is closed"));this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length!=0||this.lossyDC||this.reliableDC||this.createDataChannels();const r=new AbortController,o=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),t()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(rt.Closing,o),this.pcManager.publisher.once(GN,i=>{const a=new Map;i.forEach(s=>{const l=s.codec.toLowerCase();var c;c=l,cae.includes(c)&&a.set(s.payload,l)}),this.emit(rt.RTPVideoMapUpdate,a)});try{yield this.pcManager.negotiate(r),t()}catch(i){i instanceof k_&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",xd.RR_UNKNOWN),n(i)}finally{this.off(rt.Closing,o)}}))})}dataChannelForKind(t,n){if(n){if(t===Lt.LOSSY)return this.lossyDCSub;if(t===Lt.RELIABLE)return this.reliableDCSub}else{if(t===Lt.LOSSY)return this.lossyDC;if(t===Lt.RELIABLE)return this.reliableDC}}sendSyncState(t,n){var r,o;if(!this.pcManager)return void this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);const i=this.pcManager.subscriber.getLocalDescription(),a=this.pcManager.subscriber.getRemoteDescription(),s=(o=(r=this.signalOpts)===null||r===void 0?void 0:r.autoSubscribe)===null||o===void 0||o,l=new Array,c=new Array;t.forEach(u=>{u.isDesired!==s&&l.push(u.trackSid),u.isEnabled||c.push(u.trackSid)}),this.client.sendSyncState(new EP({answer:i?jg({sdp:i.sdp,type:i.type}):void 0,offer:a?jg({sdp:a.sdp,type:a.type}):void 0,subscription:new xg({trackSids:l,subscribe:!s,participantTracks:[]}),publishTracks:gae(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:c,datachannelReceiveStates:this.reliableReceivedState.map((u,d)=>new OP({publisherSid:d,lastSeq:u}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const t=[],n=(r,o)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&t.push(new AP({label:r.label,id:r.id,target:o}))};return n(this.dataChannelForKind(Lt.LOSSY),Ki.PUBLISHER),n(this.dataChannelForKind(Lt.RELIABLE),Ki.PUBLISHER),n(this.dataChannelForKind(Lt.LOSSY,!0),Ki.SUBSCRIBER),n(this.dataChannelForKind(Lt.RELIABLE,!0),Ki.SUBSCRIBER),t}clearReconnectTimeout(){this.reconnectTimeout&&Nr.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){_o()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){_o()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class Rd extends Error{}class uI{constructor(t,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return P_(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(t){return se(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(t));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(o=>o.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),Xt.debug("next region: ".concat(r.region)),r.url}return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(t){return se(this,void 0,void 0,function*(){const n=yield fetch("".concat((r=this.serverUrl,"".concat(r.protocol.replace("ws","http"),"//").concat(r.host,"/settings")),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:t});var r;if(n.ok){const o=yield n.json();return this.lastUpdateAt=Date.now(),o}throw new fn("Could not fetch region settings: ".concat(n.statusText),n.status===401?Gt.NotAllowed:Gt.InternalError,n.status)})}setServerReportedRegions(t){this.regionSettings=t,this.lastUpdateAt=Date.now()}}class dI{get info(){return this._info}constructor(t,n,r){this.reader=n,this.totalByteSize=r,this._info=t,this.bytesReceived=0}}class Dae extends dI{handleChunkReceived(t){var n;this.bytesReceived+=t.content.byteLength;const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,r)}[Symbol.asyncIterator](){const t=this.reader.getReader();return{next:()=>se(this,void 0,void 0,function*(){try{const{done:n,value:r}=yield t.read();return n?{done:!0,value:void 0}:(this.handleChunkReceived(r),{done:!1,value:r.content})}catch{return{done:!0,value:void 0}}}),return(){return se(this,void 0,void 0,function*(){return t.releaseLock(),{done:!0,value:void 0}})}}}readAll(){return se(this,void 0,void 0,function*(){var t,n,r,o;let i=new Set;try{for(var a,s=!0,l=Is(this);!(t=(a=yield l.next()).done);s=!0){o=a.value,s=!1;const c=o;i.add(c)}}catch(c){n={error:c}}finally{try{s||t||!(r=l.return)||(yield r.call(l))}finally{if(n)throw n.error}}return Array.from(i)})}}class Lae extends dI{constructor(t,n,r){super(t,n,r),this.receivedChunks=new Map}handleChunkReceived(t){var n;const r=Dg(t.chunkIndex),o=this.receivedChunks.get(r);if(o&&o.version>t.version)return;this.receivedChunks.set(r,t),this.bytesReceived+=t.content.byteLength;const i=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,i)}[Symbol.asyncIterator](){const t=this.reader.getReader(),n=new TextDecoder;return{next:()=>se(this,void 0,void 0,function*(){try{const{done:r,value:o}=yield t.read();return r?{done:!0,value:void 0}:(this.handleChunkReceived(o),{done:!1,value:n.decode(o.content)})}catch{return{done:!0,value:void 0}}}),return(){return se(this,void 0,void 0,function*(){return t.releaseLock(),{done:!0,value:void 0}})}}}readAll(){return se(this,void 0,void 0,function*(){var t,n,r,o;let i="";try{for(var a,s=!0,l=Is(this);!(t=(a=yield l.next()).done);s=!0)o=a.value,s=!1,i+=o}catch(c){n={error:c}}finally{try{s||t||!(r=l.return)||(yield r.call(l))}finally{if(n)throw n.error}}return i})}}class hI{constructor(t,n,r){this.writableStream=t,this.defaultWriter=t.getWriter(),this.onClose=r,this.info=n}write(t){return this.defaultWriter.write(t)}close(){return se(this,void 0,void 0,function*(){var t;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(t=this.onClose)===null||t===void 0||t.call(this)})}}class jae extends hI{}class zae extends hI{}class pI extends Se{constructor(t,n,r,o,i){super(t,r,i),this.sid=n,this.receiver=o}get isLocal(){return!1}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Ge.Muted:Ge.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=r=>{r.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(Ge.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return se(this,void 0,void 0,function*(){var t;if(!((t=this.receiver)===null||t===void 0)&&t.getStats)return yield this.receiver.getStats()})}setPlayoutDelay(t){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=t:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),Y_)),typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const t=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>t());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:o,rtpTimestamp:i}=r;i&&this.rtpTimestamp!==i&&(this.emit(Ge.TimeSyncUpdate,{timestamp:o,rtpTimestamp:i}),this.rtpTimestamp=i)}};t()}}class mI extends pI{constructor(t,n,r,o,i,a){super(t,n,Se.Kind.Audio,r,a),this.monitorReceiver=()=>se(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=zg(s,this.prevStats)),this.prevStats=s}),this.audioContext=o,this.webAudioPluginNodes=[],i&&(this.sinkId=i.deviceId)}setVolume(t){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):r.volume=t;Oa()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(Oa())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return se(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(A_(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.sinkId&&A_(t)&&t.setSinkId(this.sinkId).catch(r=>{this.log.error("Failed to set sink id on remote audio track",r,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(o=>{r.connect(o),r=o}),this.gainNode=t.createGain(),r.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(Ge.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(o=>{this.emit(Ge.AudioPlaybackFailed,o)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return se(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;let t;return(yield this.receiver.getStats()).forEach(n=>{n.type==="inbound-rtp"&&(t={type:"audio",streamId:n.id,timestamp:n.timestamp,jitter:n.jitter,bytesReceived:n.bytesReceived,concealedSamples:n.concealedSamples,concealmentEvents:n.concealmentEvents,silentConcealedSamples:n.silentConcealedSamples,silentConcealmentEvents:n.silentConcealmentEvents,totalAudioEnergy:n.totalAudioEnergy,totalSamplesDuration:n.totalSamplesDuration})}),t})}}class Fae extends pI{constructor(t,n,r,o,i){super(t,n,Se.Kind.Video,r,i),this.elementInfos=[],this.monitorReceiver=()=>se(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const a=yield this.getReceiverStats();a&&this.prevStats&&this.receiver&&(this._currentBitrate=zg(a,this.prevStats)),this.prevStats=a}),this.debouncedHandleResize=q_(()=>{this.updateDimensions()},100),this.adaptiveStreamSettings=o}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?Ad(this._mediaStreamTrack,n):Od(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new Bae(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(t){if(!this.isAdaptiveStream)return void this.log.warn("stopObservingElementInfo ignored",this.logContext);const n=this.elementInfos.filter(r=>r===t);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return se(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n,r="",o=new Map;return t.forEach(i=>{i.type==="inbound-rtp"?(r=i.codecId,n={type:"video",streamId:i.id,framesDecoded:i.framesDecoded,framesDropped:i.framesDropped,framesReceived:i.framesReceived,packetsReceived:i.packetsReceived,packetsLost:i.packetsLost,frameWidth:i.frameWidth,frameHeight:i.frameHeight,pliCount:i.pliCount,firCount:i.firCount,nackCount:i.nackCount,jitter:i.jitter,timestamp:i.timestamp,bytesReceived:i.bytesReceived,decoderImplementation:i.decoderImplementation}):i.type==="codec"&&o.set(i.id,i)}),n&&r!==""&&o.get(r)&&(n.mimeType=o.get(r).mimeType),n})}stopObservingElement(t){const n=this.elementInfos.filter(r=>r.element===t);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return se(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var t,n;const r=this.elementInfos.reduce((s,l)=>Math.max(s,l.visibilityChangedAt||0),0),o=!((n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pauseVideoInBackground)!==null&&n!==void 0&&!n)&&this.isInBackground,i=this.elementInfos.some(s=>s.pictureInPicture),a=this.elementInfos.some(s=>s.visible)&&!o||i;this.lastVisible!==a&&(!a&&Date.now()-r<100?Nr.setTimeout(()=>{this.updateVisibility()},100):(this.lastVisible=a,this.emit(Ge.VisibilityChanged,a,this)))}updateDimensions(){var t,n;let r=0,o=0;const i=this.getPixelDensity();for(const a of this.elementInfos){const s=a.width()*i,l=a.height()*i;s+l>r+o&&(r=s,o=l)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===o||(this.lastDimensions={width:r,height:o},this.emit(Ge.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?AN():n||(AN()>2?2:1)}}class Bae{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=r=>{var o;const{target:i,isIntersecting:a}=r;i===this.element&&(this.isIntersecting=a,this.isPiP=Am(this.element),this.visibilityChangedAt=Date.now(),(o=this.handleVisibilityChanged)===null||o===void 0||o.call(this))},this.onEnterPiP=()=>{var r,o,i;(o=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||o===void 0||o.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Am(this.element),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=Am(this.element),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=t,this.isIntersecting=n??tx(t),this.isPiP=_o()&&Am(t),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var t,n,r;this.isIntersecting=tx(this.element),this.isPiP=Am(this.element),this.element.handleResize=()=>{var o;(o=this.handleResize)===null||o===void 0||o.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,NN().observe(this.element),PN().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(t=window.documentPictureInPicture)===null||t===void 0||t.addEventListener("enter",this.onEnterPiP),(r=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var t,n,r,o,i;(t=NN())===null||t===void 0||t.unobserve(this.element),(n=PN())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(r=window.documentPictureInPicture)===null||r===void 0||r.removeEventListener("enter",this.onEnterPiP),(i=(o=window.documentPictureInPicture)===null||o===void 0?void 0:o.window)===null||i===void 0||i.removeEventListener("pagehide",this.onLeavePiP)}}function Am(e){var t,n;return document.pictureInPictureElement===e||!!(!((t=window.documentPictureInPicture)===null||t===void 0)&&t.window)&&tx(e,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)}function tx(e,t){const n=t||window;let r=e.offsetTop,o=e.offsetLeft;const i=e.offsetWidth,a=e.offsetHeight,{hidden:s}=e,{display:l}=getComputedStyle(e);for(;e.offsetParent;)r+=(e=e.offsetParent).offsetTop,o+=e.offsetLeft;return r<n.pageYOffset+n.innerHeight&&o<n.pageXOffset+n.innerWidth&&r+a>n.pageYOffset&&o+i>n.pageXOffset&&!s&&l!=="none"}class Ds extends Ta.EventEmitter{constructor(t,n,r,o){var i;super(),this.metadataMuted=!1,this.encryption=ei.NONE,this.log=Xt,this.handleMuted=()=>{this.emit(Ge.Muted)},this.handleUnmuted=()=>{this.emit(Ge.Unmuted)},this.log=Ns((i=o==null?void 0:o.loggerName)!==null&&i!==void 0?i:Gi.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=r,this.source=Se.Source.Unknown}setTrack(t){this.track&&(this.track.off(Ge.Muted,this.handleMuted),this.track.off(Ge.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(Ge.Muted,this.handleMuted),t.on(Ge.Unmuted,this.handleUnmuted))}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Ut(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==ei.NONE}get audioTrack(){if(Pa(this.track))return this.track}get videoTrack(){if(Bc(this.track))return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=Se.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===Se.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:t}))}}(function(e){var t,n;(t=e.SubscriptionStatus||(e.SubscriptionStatus={})).Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",(n=e.PermissionStatus||(e.PermissionStatus={})).Allowed="allowed",n.NotAllowed="not_allowed"})(Ds||(Ds={}));class nx extends Ds{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,r,o){super(t,n.sid,n.name,o),this.track=void 0,this.handleTrackEnded=()=>{this.emit(Ge.Ended)},this.handleCpuConstrained=()=>{this.track&&Bc(this.track)&&this.emit(Ge.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(r)}setTrack(t){this.track&&(this.track.off(Ge.Ended,this.handleTrackEnded),this.track.off(Ge.CpuConstrained,this.handleCpuConstrained)),super.setTrack(t),t&&(t.on(Ge.Ended,this.handleTrackEnded),t.on(Ge.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return se(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){return se(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){return se(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){return se(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}getTrackFeatures(){var t;if(Pa(this.track)){const n=this.track.getSourceTrackSettings(),r=new Set;return n.autoGainControl&&r.add(_r.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(_r.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(_r.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(_r.TF_STEREO),!((t=this.options)===null||t===void 0)&&t.dtx||r.add(_r.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(_r.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}return[]}}function fI(e,t){return se(this,void 0,void 0,function*(){e!=null||(e={});let n=!1;const{audioProcessor:r,videoProcessor:o,optionsWithoutProcessor:i}=LN(e);let a=i.audio,s=i.video;if(r&&typeof i.audio=="object"&&(i.audio.processor=r),o&&typeof i.video=="object"&&(i.video.processor=o),e.audio&&typeof i.audio=="object"&&typeof i.audio.deviceId=="string"){const d=i.audio.deviceId;i.audio.deviceId={exact:d},n=!0,a=Object.assign(Object.assign({},i.audio),{deviceId:{ideal:d}})}if(i.video&&typeof i.video=="object"&&typeof i.video.deviceId=="string"){const d=i.video.deviceId;i.video.deviceId={exact:d},n=!0,s=Object.assign(Object.assign({},i.video),{deviceId:{ideal:d}})}(i.audio===!0||typeof i.audio=="object"&&!i.audio.deviceId)&&(i.audio={deviceId:"default"}),i.video===!0?i.video={deviceId:"default"}:typeof i.video!="object"||i.video.deviceId||(i.video.deviceId="default");const l=DN(i,XN,ZN),c=z_(l),u=navigator.mediaDevices.getUserMedia(c);i.audio&&(xr.userMediaPromiseMap.set("audioinput",u),u.catch(()=>xr.userMediaPromiseMap.delete("audioinput"))),i.video&&(xr.userMediaPromiseMap.set("videoinput",u),u.catch(()=>xr.userMediaPromiseMap.delete("videoinput")));try{const d=yield u;return yield Promise.all(d.getTracks().map(p=>se(this,void 0,void 0,function*(){const h=p.kind==="audio";let m,g=h?l.audio:l.video;typeof g!="boolean"&&g||(g={});const f=h?c.audio:c.video;typeof f!="boolean"&&(m=f);const v=p.getSettings().deviceId;m!=null&&m.deviceId&&Ml(m.deviceId)!==v?m.deviceId=v:m||(m={deviceId:v});const y=function(b,w,k){switch(b.kind){case"audio":return new Fg(b,w,!1,void 0,k);case"video":return new Bg(b,w,!1,k);default:throw new Rs("unsupported track type: ".concat(b.kind))}}(p,m,t);return y.kind===Se.Kind.Video?y.source=Se.Source.Camera:y.kind===Se.Kind.Audio&&(y.source=Se.Source.Microphone),y.mediaStream=d,Pa(y)&&r?yield y.setProcessor(r):Bc(y)&&o&&(yield y.setProcessor(o)),y})))}catch(d){if(!n)throw d;return fI(Object.assign(Object.assign({},e),{audio:a,video:s}),t)}})}var jl;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"})(jl||(jl={}));class gI extends Ta.EventEmitter{get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions)===null||t===void 0?void 0:t.loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(t=>t.isEncrypted)}get isAgent(){var t;return((t=this.permissions)===null||t===void 0?void 0:t.agent)||this.kind===Mc.AGENT}get isActive(){var t;return((t=this.participantInfo)===null||t===void 0?void 0:t.state)===Cd.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(t,n,r,o,i,a){let s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Mc.STANDARD;var l;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=jl.Unknown,this.log=Xt,this.log=Ns((l=a==null?void 0:a.loggerName)!==null&&l!==void 0?l:Gi.Participant),this.loggerOptions=a,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=r,this.metadata=o,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=s,this._attributes=i??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(t){for(const[,n]of this.trackPublications)if(n.source===t)return n}getTrackPublicationByName(t){for(const[,n]of this.trackPublications)if(n.trackName===t)return n}waitUntilActive(){return this.isActive?Promise.resolve():(this.activeFuture||(this.activeFuture=new Nd,this.once(Pe.Active,()=>{var t,n;(n=(t=this.activeFuture)===null||t===void 0?void 0:t.resolve)===null||n===void 0||n.call(t),this.activeFuture=void 0})),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrackPublication(Se.Source.Camera);return!((t=n==null?void 0:n.isMuted)===null||t===void 0||t)}get isMicrophoneEnabled(){var t;const n=this.getTrackPublication(Se.Source.Microphone);return!((t=n==null?void 0:n.isMuted)===null||t===void 0||t)}get isScreenShareEnabled(){return!!this.getTrackPublication(Se.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*Number.parseInt(this.participantInfo.joinedAt.toString())):new Date}updateInfo(t){var n;return!(this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version)&&(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),this._setAttributes(t.attributes),t.state===Cd.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==Cd.ACTIVE&&this.emit(Pe.Active),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,!0)}_setMetadata(t){const n=this.metadata!==t,r=this.metadata;this.metadata=t,n&&this.emit(Pe.ParticipantMetadataChanged,r)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit(Pe.ParticipantNameChanged,t)}_setAttributes(t){const n=function(r,o){var i;r===void 0&&(r={}),o===void 0&&(o={});const a=[...Object.keys(o),...Object.keys(r)],s={};for(const l of a)r[l]!==o[l]&&(s[l]=(i=o[l])!==null&&i!==void 0?i:"");return s}(this.attributes,t);this._attributes=t,Object.keys(n).length>0&&this.emit(Pe.AttributesChanged,n)}setPermissions(t){var n,r,o,i,a,s;const l=this.permissions,c=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||t.canPublishData!==((o=this.permissions)===null||o===void 0?void 0:o.canPublishData)||t.hidden!==((i=this.permissions)===null||i===void 0?void 0:i.hidden)||t.recorder!==((a=this.permissions)===null||a===void 0?void 0:a.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((u,d)=>{var p;return u!==((p=this.permissions)===null||p===void 0?void 0:p.canPublishSources[d])})||t.canSubscribeMetrics!==((s=this.permissions)===null||s===void 0?void 0:s.canSubscribeMetrics);return this.permissions=t,c&&this.emit(Pe.ParticipantPermissionsChanged,l),c}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit(Pe.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=function(r){switch(r){case ym.EXCELLENT:return jl.Excellent;case ym.GOOD:return jl.Good;case ym.POOR:return jl.Poor;case ym.LOST:return jl.Lost;default:return jl.Unknown}}(t),n!==this._connectionQuality&&this.emit(Pe.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var t,n;this.activeFuture&&((n=(t=this.activeFuture).reject)===null||n===void 0||n.call(t,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(t){this.audioContext=t,this.audioTrackPublications.forEach(n=>Pa(n.track)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(Ge.Muted,()=>{this.emit(Pe.TrackMuted,t)}),t.on(Ge.Unmuted,()=>{this.emit(Pe.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.trackPublications.set(t.trackSid,t),t.kind){case Se.Kind.Audio:this.audioTrackPublications.set(t.trackSid,t);break;case Se.Kind.Video:this.videoTrackPublications.set(t.trackSid,t)}}}class Uae extends gI{constructor(t,n,r,o,i){super(t,n,void 0,void 0,void 0,{loggerName:o.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=ei.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new Nd)},this.handleReconnected=()=>{var a,s;(s=(a=this.reconnectFuture)===null||a===void 0?void 0:a.resolve)===null||s===void 0||s.call(a),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var a,s,l,c,u,d;this.reconnectFuture&&(this.reconnectFuture.promise.catch(p=>this.log.warn(p.message,this.logContext)),(s=(a=this.reconnectFuture)===null||a===void 0?void 0:a.reject)===null||s===void 0||s.call(a,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0),this.signalConnectedFuture&&((c=(l=this.signalConnectedFuture).reject)===null||c===void 0||c.call(l,"Got disconnected without signal connected"),this.signalConnectedFuture=void 0),(d=(u=this.activeAgentFuture)===null||u===void 0?void 0:u.reject)===null||d===void 0||d.call(u,"Got disconnected without active agent present"),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=a=>{var s,l;a.participant&&this.updateInfo(a.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new Nd),(l=(s=this.signalConnectedFuture).resolve)===null||l===void 0||l.call(s)},this.handleSignalRequestResponse=a=>{const{requestId:s,reason:l,message:c}=a,u=this.pendingSignalRequests.get(s);u&&(l!==c_.OK&&u.reject(new xN(c,l)),this.pendingSignalRequests.delete(s))},this.handleDataPacket=a=>{switch(a.value.case){case"rpcResponse":let s=a.value.value,l=null,c=null;s.value.case==="payload"?l=s.value.value:s.value.case==="error"&&(c=Gn.fromProto(s.value.value)),this.handleIncomingRpcResponse(s.requestId,l,c);break;case"rpcAck":let u=a.value.value;this.handleIncomingRpcAck(u.requestId)}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(a=>function(s){var l,c,u;if(!s.participantSid&&!s.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new SP({participantIdentity:(l=s.participantIdentity)!==null&&l!==void 0?l:"",participantSid:(c=s.participantSid)!==null&&c!==void 0?c:"",allTracks:(u=s.allowAll)!==null&&u!==void 0&&u,trackSids:s.allowedTrackSids||[]})}(a)))},this.onTrackUnmuted=a=>{this.onTrackMuted(a,a.isUpstreamPaused)},this.onTrackMuted=(a,s)=>{s===void 0&&(s=!0),a.sid?this.engine.updateMuteStatus(a.sid,s):this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),Ut(a)))},this.onTrackUpstreamPaused=a=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),Ut(a))),this.onTrackMuted(a,!0)},this.onTrackUpstreamResumed=a=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),Ut(a))),this.onTrackMuted(a,a.isMuted)},this.onTrackFeatureUpdate=a=>{const s=this.audioTrackPublications.get(a.sid);s?this.engine.client.sendUpdateLocalAudioTrack(s.trackSid,s.getTrackFeatures()):this.log.warn("Could not update local audio track settings, missing publication for track ".concat(a.sid),this.logContext)},this.onTrackCpuConstrained=(a,s)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),Ut(s))),this.emit(Pe.LocalTrackCpuConstrained,a,s)},this.handleSubscribedQualityUpdate=a=>se(this,void 0,void 0,function*(){var s,l,c,u,d;if(!(!((d=this.roomOptions)===null||d===void 0)&&d.dynacast))return;const p=this.videoTrackPublications.get(a.trackSid);if(!p)return void this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}));if(!p.videoTrack)return;const h=yield p.videoTrack.setPublishingCodecs(a.subscribedCodecs);try{for(var m,g=!0,f=Is(h);!(s=(m=yield f.next()).done);g=!0){u=m.value,g=!1;const v=u;uae(v)&&(this.log.debug("publish ".concat(v," for ").concat(p.videoTrack.sid),Object.assign(Object.assign({},this.logContext),Ut(p))),yield this.publishAdditionalCodecForTrack(p.videoTrack,v,p.options))}}catch(v){l={error:v}}finally{try{g||s||!(c=f.return)||(yield c.call(f))}finally{if(l)throw l.error}}}),this.handleLocalTrackUnpublished=a=>{const s=this.trackPublications.get(a.trackSid);s?this.unpublishTrack(s.track):this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}))},this.handleTrackEnded=a=>se(this,void 0,void 0,function*(){if(a.source===Se.Source.ScreenShare||a.source===Se.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),Ut(a))),this.unpublishTrack(a);else if(a.isUserProvided)yield a.mute();else if(Ms(a)||Dl(a))try{if(_o())try{const s=yield navigator==null?void 0:navigator.permissions.query({name:a.source===Se.Source.Camera?"camera":"microphone"});if(s&&s.state==="denied")throw this.log.warn("user has revoked access to ".concat(a.source),Object.assign(Object.assign({},this.logContext),Ut(a))),s.onchange=()=>{s.state!=="denied"&&(a.isMuted||a.restartTrack(),s.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}a.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),Ut(a))),Ms(a)?yield a.restartTrack({deviceId:"default"}):yield a.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),Ut(a))),yield a.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=o,this.setupEngine(r),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=i}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==ei.NONE}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setupEngine(t){var n;this.engine=t,this.engine.on(rt.RemoteMute,(r,o)=>{const i=this.trackPublications.get(r);i&&i.track&&(o?i.mute():i.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(rt.Connected,this.handleReconnected).on(rt.SignalConnected,this.handleSignalConnected).on(rt.SignalRestarted,this.handleReconnected).on(rt.SignalResumed,this.handleReconnected).on(rt.Restarting,this.handleReconnecting).on(rt.Resuming,this.handleReconnecting).on(rt.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(rt.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(rt.Closing,this.handleClosing).on(rt.SignalRequestResponse,this.handleSignalRequestResponse).on(rt.DataPacketReceived,this.handleDataPacket)}setMetadata(t){return se(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:t})})}setName(t){return se(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:t})})}setAttributes(t){return se(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:t})})}requestMetadataUpdate(t){return se(this,arguments,void 0,function(n){var r=this;let{metadata:o,name:i,attributes:a}=n;return function*(){return new Promise((s,l)=>se(r,void 0,void 0,function*(){var c,u;try{let d=!1;const p=yield this.engine.client.sendUpdateLocalMetadata((c=o??this.metadata)!==null&&c!==void 0?c:"",(u=i??this.name)!==null&&u!==void 0?u:"",a),h=performance.now();for(this.pendingSignalRequests.set(p,{resolve:s,reject:m=>{l(m),d=!0},values:{name:i,metadata:o,attributes:a}});performance.now()-h<5e3&&!d;){if((!i||this.name===i)&&(!o||this.metadata===o)&&(!a||Object.entries(a).every(m=>{let[g,f]=m;return this.attributes[g]===f||f===""&&!this.attributes[g]})))return this.pendingSignalRequests.delete(p),void s();yield ni(50)}l(new xN("Request to update local metadata timed out","TimeoutError"))}catch(d){d instanceof Error&&l(d)}}))}()})}setCameraEnabled(t,n,r){return this.setTrackEnabled(Se.Source.Camera,t,n,r)}setMicrophoneEnabled(t,n,r){return this.setTrackEnabled(Se.Source.Microphone,t,n,r)}setScreenShareEnabled(t,n,r){return this.setTrackEnabled(Se.Source.ScreenShare,t,n,r)}setPermissions(t){const n=this.permissions,r=super.setPermissions(t);return r&&n&&this.emit(Pe.ParticipantPermissionsChanged,n),r}setE2EEEnabled(t){return se(this,void 0,void 0,function*(){this.encryptionType=t?ei.GCM:ei.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,r,o){return se(this,void 0,void 0,function*(){var i,a;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:t,enabled:n})),this.republishPromise&&(yield this.republishPromise);let s=this.getTrackPublication(t);if(n)if(s)yield s.unmute();else{let l;if(this.pendingPublishing.has(t)){const c=yield this.waitForPendingPublicationOfSource(t);return c||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t})),yield c==null?void 0:c.unmute(),c}this.pendingPublishing.add(t);try{switch(t){case Se.Source.Camera:l=yield this.createTracks({video:(i=r)===null||i===void 0||i});break;case Se.Source.Microphone:l=yield this.createTracks({audio:(a=r)===null||a===void 0||a});break;case Se.Source.ScreenShare:l=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Rs(t)}}catch(c){throw l==null||l.forEach(u=>{u.stop()}),c instanceof Error&&this.emit(Pe.MediaDevicesError,c,B_(t)),this.pendingPublishing.delete(t),c}for(const c of l){const u=Object.assign(Object.assign({},this.roomOptions.publishDefaults),r);t===Se.Source.Microphone&&Pa(c)&&u.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),c.startPreConnectBuffer())}try{const c=[];for(const d of l)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),Ut(d))),c.push(this.publishTrack(d,o));[s]=yield Promise.all(c)}catch(c){throw l==null||l.forEach(u=>{u.stop()}),c}finally{this.pendingPublishing.delete(t)}}else if(!(s!=null&&s.track)&&this.pendingPublishing.has(t)&&(s=yield this.waitForPendingPublicationOfSource(t),s||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t}))),s&&s.track)if(t===Se.Source.ScreenShare){s=yield this.unpublishTrack(s.track);const l=this.getTrackPublication(Se.Source.ScreenShareAudio);l&&l.track&&this.unpublishTrack(l.track)}else yield s.mute();return s})}enableCameraAndMicrophone(){return se(this,void 0,void 0,function*(){if(!this.pendingPublishing.has(Se.Source.Camera)&&!this.pendingPublishing.has(Se.Source.Microphone)){this.pendingPublishing.add(Se.Source.Camera),this.pendingPublishing.add(Se.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(Se.Source.Camera),this.pendingPublishing.delete(Se.Source.Microphone)}}})}createTracks(t){return se(this,void 0,void 0,function*(){var n,r;t!=null||(t={});const o=DN(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults);try{return(yield fI(o,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(a=>(Pa(a)&&(this.microphoneError=void 0,a.setAudioContext(this.audioContext),a.source=Se.Source.Microphone,this.emit(Pe.AudioStreamAcquired)),Bc(a)&&(this.cameraError=void 0,a.source=Se.Source.Camera),a))}catch(i){throw i instanceof Error&&(t.audio&&(this.microphoneError=i),t.video&&(this.cameraError=i)),i}})}createScreenTracks(t){return se(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new w_("getDisplayMedia not supported");t.resolution!==void 0||function(){const s=ti();return(s==null?void 0:s.name)==="Safari"&&s.version.startsWith("17.")||(s==null?void 0:s.os)==="iOS"&&!!(s!=null&&s.osVersion)&&Aa(s.osVersion,"17")>=0}()||(t.resolution=T_.h1080fps30.resolution);const n=function(s){var l,c;let u=(l=s.video)===null||l===void 0||l;return s.resolution&&s.resolution.width>0&&s.resolution.height>0&&(u=typeof u=="boolean"?{}:u,u=zc()?Object.assign(Object.assign({},u),{width:{max:s.resolution.width},height:{max:s.resolution.height},frameRate:s.resolution.frameRate}):Object.assign(Object.assign({},u),{width:{ideal:s.resolution.width},height:{ideal:s.resolution.height},frameRate:s.resolution.frameRate})),{audio:(c=s.audio)!==null&&c!==void 0&&c,video:u,controller:s.controller,selfBrowserSurface:s.selfBrowserSurface,surfaceSwitching:s.surfaceSwitching,systemAudio:s.systemAudio,preferCurrentTab:s.preferCurrentTab}}(t),r=yield navigator.mediaDevices.getDisplayMedia(n),o=r.getVideoTracks();if(o.length===0)throw new Rs("no video track found");const i=new Bg(o[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});i.source=Se.Source.ScreenShare,t.contentHint&&(i.mediaStreamTrack.contentHint=t.contentHint);const a=[i];if(r.getAudioTracks().length>0){this.emit(Pe.AudioStreamAcquired);const s=new Fg(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});s.source=Se.Source.ScreenShareAudio,a.push(s)}return a})}publishTrack(t,n){return se(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(t,n)})}publishOrRepublishTrack(t,n){return se(this,arguments,void 0,function(r,o){var i=this;let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return function*(){var s,l,c,u;let d,p;if(Ms(r)&&r.setAudioContext(i.audioContext),yield(s=i.reconnectFuture)===null||s===void 0?void 0:s.promise,i.republishPromise&&!a&&(yield i.republishPromise),Id(r)&&i.pendingPublishPromises.has(r)&&(yield i.pendingPublishPromises.get(r)),r instanceof MediaStreamTrack)d=r.getConstraints();else{let v;switch(d=r.constraints,r.source){case Se.Source.Microphone:v="audioinput";break;case Se.Source.Camera:v="videoinput"}v&&i.activeDeviceMap.has(v)&&(d=Object.assign(Object.assign({},d),{deviceId:i.activeDeviceMap.get(v)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new Fg(r,d,!0,i.audioContext,{loggerName:i.roomOptions.loggerName,loggerContextCb:()=>i.logContext});break;case"video":r=new Bg(r,d,!0,{loggerName:i.roomOptions.loggerName,loggerContextCb:()=>i.logContext});break;default:throw new Rs("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:i.roomOptions.loggerName,loggerContextCb:()=>i.logContext});if(i.trackPublications.forEach(v=>{v.track&&v.track===r&&(p=v)}),p)return i.log.warn("track has already been published, skipping",Object.assign(Object.assign({},i.logContext),Ut(p))),p;const h="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,m=(l=o==null?void 0:o.forceStereo)!==null&&l!==void 0?l:h;m&&(o||(o={}),o.dtx===void 0&&i.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},i.logContext),Ut(r))),o.red===void 0&&i.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(c=o.dtx)!==null&&c!==void 0||(o.dtx=!1),(u=o.red)!==null&&u!==void 0||(o.red=!1));const g=Object.assign(Object.assign({},i.roomOptions.publishDefaults),o);!function(){const v=ti(),y="17.2";if(v)return v.name!=="Safari"&&v.os!=="iOS"||!!(v.os==="iOS"&&v.osVersion&&Aa(y,v.osVersion)>=0)||v.name==="Safari"&&Aa(y,v.version)>=0}()&&i.roomOptions.e2ee&&(i.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},i.logContext)),g.simulcast=!1),g.source&&(r.source=g.source);const f=new Promise((v,y)=>se(i,void 0,void 0,function*(){try{if(this.engine.client.currentState!==Tn.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:Ut(r)}));const b=setTimeout(()=>{y(new _N("publishing rejected as engine not connected within timeout",408))},15e3);yield this.waitUntilEngineConnected(),clearTimeout(b);const w=yield this.publish(r,g,m);v(w)}else try{const b=yield this.publish(r,g,m);v(b)}catch(b){y(b)}}catch(b){y(b)}}));i.pendingPublishPromises.set(r,f);try{return yield f}catch(v){throw v}finally{i.pendingPublishPromises.delete(r)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new Nd),this.signalConnectedFuture.promise}hasPermissionsToPublish(t){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),Ut(t))),!1;const{canPublish:n,canPublishSources:r}=this.permissions;return!(!n||r.length!==0&&!r.map(o=>function(i){switch(i){case nr.CAMERA:return Se.Source.Camera;case nr.MICROPHONE:return Se.Source.Microphone;case nr.SCREEN_SHARE:return Se.Source.ScreenShare;case nr.SCREEN_SHARE_AUDIO:return Se.Source.ScreenShareAudio;default:return Se.Source.Unknown}}(o)).includes(t.source))||(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),Ut(t))),!1)}publish(t,n,r){return se(this,void 0,void 0,function*(){var o,i,a,s,l,c,u,d,p,h;if(!this.hasPermissionsToPublish(t))throw new _N("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(S=>Id(t)&&S.source===t.source)&&t.source!==Se.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(t.source),Object.assign(Object.assign({},this.logContext),Ut(t))),n.stopMicTrackOnMute&&Pa(t)&&(t.stopOnMute=!0),t.source===Se.Source.ScreenShare&&Pd()&&(n.simulcast=!1),n.videoCodec!=="av1"||function(){if(!("getCapabilities"in RTCRtpSender)||zc())return!1;const S=RTCRtpSender.getCapabilities("video");let O=!1;if(S){for(const T of S.codecs)if(T.mimeType==="video/AV1"){O=!0;break}}return O}()||(n.videoCodec=void 0),n.videoCodec!=="vp9"||function(){if(!("getCapabilities"in RTCRtpSender)||Pd())return!1;if(zc()){const T=ti();if(T!=null&&T.version&&Aa(T.version,"16")<0||(T==null?void 0:T.os)==="iOS"&&(T!=null&&T.osVersion)&&Aa(T.osVersion,"16")<0)return!1}const S=RTCRtpSender.getCapabilities("video");let O=!1;if(S){for(const T of S.codecs)if(T.mimeType==="video/VP9"){O=!0;break}}return O}()||(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=W_),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(S=>n.videoCodec===Lg(S.mime))||(n.videoCodec=Lg(this.enabledPublishVideoCodecs[0].mime)));const m=n.videoCodec;t.on(Ge.Muted,this.onTrackMuted),t.on(Ge.Unmuted,this.onTrackUnmuted),t.on(Ge.Ended,this.handleTrackEnded),t.on(Ge.UpstreamPaused,this.onTrackUpstreamPaused),t.on(Ge.UpstreamResumed,this.onTrackUpstreamResumed),t.on(Ge.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const g=[],f=!((o=n.dtx)===null||o===void 0||o),v=t.getSourceTrackSettings();v.autoGainControl&&g.push(_r.TF_AUTO_GAIN_CONTROL),v.echoCancellation&&g.push(_r.TF_ECHO_CANCELLATION),v.noiseSuppression&&g.push(_r.TF_NOISE_SUPPRESSION),v.channelCount&&v.channelCount>1&&g.push(_r.TF_STEREO),f&&g.push(_r.TF_NO_DTX),Ms(t)&&t.hasPreConnectBuffer&&g.push(_r.TF_PRECONNECT_BUFFER);const y=new o_({cid:t.mediaStreamTrack.id,name:n.name,type:Se.kindToProto(t.kind),muted:t.isMuted,source:Se.sourceToProto(t.source),disableDtx:f,encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!((i=n.red)===null||i===void 0||i),stream:n==null?void 0:n.stream,backupCodecPolicy:n==null?void 0:n.backupCodecPolicy,audioFeatures:g});let b;if(t.kind===Se.Kind.Video){let S={width:0,height:0};try{S=yield t.waitForDimensions()}catch{const T=(s=(a=this.roomOptions.videoCaptureDefaults)===null||a===void 0?void 0:a.resolution)!==null&&s!==void 0?s:Tm.h720.resolution;S={width:T.width,height:T.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),Ut(t)),{dims:S}))}y.width=S.width,y.height=S.height,Dl(t)&&(Ea(m)&&(t.source===Se.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in t.mediaStreamTrack&&(t.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),Ut(t))))),n.scalabilityMode=(l=n.scalabilityMode)!==null&&l!==void 0?l:"L3T3_KEY"),y.simulcastCodecs=[new r_({codec:m,cid:t.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:W_}),n.backupCodec&&m!==n.backupCodec.codec&&y.encryption===ei.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),y.simulcastCodecs.push(new r_({codec:n.backupCodec.codec,cid:""})))),b=X_(t.source===Se.Source.ScreenShare,y.width,y.height,n),y.layers=sI(y.width,y.height,b,Ea(n.videoCodec))}else t.kind===Se.Kind.Audio&&(b=[{maxBitrate:(c=n.audioPreset)===null||c===void 0?void 0:c.maxBitrate,priority:(d=(u=n.audioPreset)===null||u===void 0?void 0:u.priority)!==null&&d!==void 0?d:"high",networkPriority:(h=(p=n.audioPreset)===null||p===void 0?void 0:p.priority)!==null&&h!==void 0?h:"high"}]);if(!this.engine||this.engine.isClosed)throw new cr("cannot publish track when not connected");const w=()=>se(this,void 0,void 0,function*(){var S,O,T;if(!this.engine.pcManager)throw new cr("pcManager is not ready");if(t.sender=yield this.engine.createSender(t,n,b),this.emit(Pe.LocalSenderCreated,t.sender,t),Dl(t)&&((S=n.degradationPreference)!==null&&S!==void 0||(n.degradationPreference=function(M){return M.source===Se.Source.ScreenShare||M.constraints.height&&Ml(M.constraints.height)>=1080?"maintain-resolution":"balanced"}(t)),t.setDegradationPreference(n.degradationPreference)),b)if(Pd()&&t.kind===Se.Kind.Audio){let M;for(const D of this.engine.pcManager.publisher.getTransceivers())if(D.sender===t.sender){M=D;break}M&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:M,codec:"opus",maxbr:!((O=b[0])===null||O===void 0)&&O.maxBitrate?b[0].maxBitrate/1e3:0})}else t.codec&&Ea(t.codec)&&(!((T=b[0])===null||T===void 0)&&T.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:y.cid,codec:t.codec,maxbr:b[0].maxBitrate/1e3});yield this.engine.negotiate()});let k;const _=new Promise((S,O)=>se(this,void 0,void 0,function*(){var T;try{k=yield this.engine.addTrack(y),S(k)}catch(M){t.sender&&(!((T=this.engine.pcManager)===null||T===void 0)&&T.publisher)&&(this.engine.pcManager.publisher.removeTrack(t.sender),yield this.engine.negotiate().catch(D=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),Ut(t)),{error:D}))})),O(M)}}));if(this.enabledPublishVideoCodecs.length>0)k=(yield Promise.all([_,w()]))[0];else{let S;if(k=yield _,k.codecs.forEach(O=>{S===void 0&&(S=O.mimeType)}),S&&t.kind===Se.Kind.Video){const O=Lg(S);O!==m&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),Ut(t)),{codec:O})),n.videoCodec=O,b=X_(t.source===Se.Source.ScreenShare,y.width,y.height,n))}yield w()}const E=new nx(t.kind,k,t,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(E.on(Ge.CpuConstrained,S=>this.onTrackCpuConstrained(S,E)),E.options=n,t.sid=k.sid,this.log.debug("publishing ".concat(t.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:b,trackInfo:k})),Dl(t)?t.startMonitor(this.engine.client):Ms(t)&&t.startMonitor(),this.addTrackPublication(E),this.emit(Pe.LocalTrackPublished,E),Ms(t)&&k.audioFeatures.includes(_r.TF_PRECONNECT_BUFFER)){const S=t.getPreConnectBuffer(),O=t.getPreConnectBufferMimeType();this.on(Pe.LocalTrackSubscribed,T=>{if(T.trackSid===k.sid){if(!t.hasPreConnectBuffer)return void this.log.warn("subscribe event came to late, buffer already closed",this.logContext);this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),Ut(t))),t.stopPreConnectBuffer()}}),S&&new Promise((M,D)=>se(this,void 0,void 0,function*(){var H,$,R,U,B,L;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),Ut(t)));const q=setTimeout(()=>{D(new Error("agent not active within 10 seconds"))},1e4),J=yield this.waitUntilActiveAgentPresent();clearTimeout(q),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),Ut(t)));const Q=yield this.streamBytes({name:"preconnect-buffer",mimeType:O,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[J.identity],attributes:{trackId:E.trackSid,sampleRate:String((B=v.sampleRate)!==null&&B!==void 0?B:"48000"),channels:String((L=v.channelCount)!==null&&L!==void 0?L:"1")}});try{for(var C,V=!0,N=Is(S);!(H=(C=yield N.next()).done);V=!0){U=C.value,V=!1;const te=U;yield Q.write(te)}}catch(te){$={error:te}}finally{try{V||H||!(R=N.return)||(yield R.call(N))}finally{if($)throw $.error}}yield Q.close(),M()}catch(q){D(q)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),Ut(t)))}).catch(M=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),Ut(t)),{error:M}))})}return E})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,r){return se(this,void 0,void 0,function*(){var o;if(this.encryptionType!==ei.NONE)return;let i;if(this.trackPublications.forEach(d=>{d.track&&d.track===t&&(i=d)}),!i)throw new Rs("track is not published");if(!Dl(t))throw new Rs("track is not a video track");const a=Object.assign(Object.assign({},(o=this.roomOptions)===null||o===void 0?void 0:o.publishDefaults),r),s=function(d,p,h){var m,g,f,v;if(!h.backupCodec||h.backupCodec===!0||h.backupCodec.codec===h.videoCodec)return;p!==h.backupCodec.codec&&Xt.warn("requested a different codec than specified as backup",{serverRequested:p,backup:h.backupCodec.codec}),h.videoCodec=p,h.videoEncoding=h.backupCodec.encoding;const y=d.mediaStreamTrack.getSettings(),b=(m=y.width)!==null&&m!==void 0?m:(g=d.dimensions)===null||g===void 0?void 0:g.width,w=(f=y.height)!==null&&f!==void 0?f:(v=d.dimensions)===null||v===void 0?void 0:v.height;return d.source===Se.Source.ScreenShare&&h.simulcast&&(h.simulcast=!1),X_(d.source===Se.Source.ScreenShare,b,w,h)}(t,n,a);if(!s)return void this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),Ut(t)));const l=t.addSimulcastTrack(n,s);if(!l)return;const c=new o_({cid:l.mediaStreamTrack.id,type:Se.kindToProto(t.kind),muted:t.isMuted,source:Se.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:a.videoCodec,cid:l.mediaStreamTrack.id}]});if(c.layers=sI(c.width,c.height,s),!this.engine||this.engine.isClosed)throw new cr("cannot publish track when not connected");const u=(yield Promise.all([this.engine.addTrack(c),(()=>se(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(t,l,a,s),yield this.engine.negotiate()}))()]))[0];this.log.debug("published ".concat(n," for track ").concat(t.sid),Object.assign(Object.assign({},this.logContext),{encodings:s,trackInfo:u}))})}unpublishTrack(t,n){return se(this,void 0,void 0,function*(){var r,o;if(Id(t)){const c=this.pendingPublishPromises.get(t);c&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),Ut(t))),yield c)}const i=this.getPublicationForTrack(t),a=i?Ut(i):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),a)),!i||!i.track)return void this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),a));(t=i.track).off(Ge.Muted,this.onTrackMuted),t.off(Ge.Unmuted,this.onTrackUnmuted),t.off(Ge.Ended,this.handleTrackEnded),t.off(Ge.UpstreamPaused,this.onTrackUpstreamPaused),t.off(Ge.UpstreamResumed,this.onTrackUpstreamResumed),t.off(Ge.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(o=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)===null||o===void 0||o),n?t.stop():t.stopMonitor();let s=!1;const l=t.sender;if(t.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<Kn.FAILED&&l)try{for(const c of this.engine.pcManager.publisher.getTransceivers())c.sender===l&&(c.direction="inactive",s=!0);if(this.engine.removeTrack(l)&&(s=!0),Dl(t)){for(const[,c]of t.simulcastCodecs)c.sender&&(this.engine.removeTrack(c.sender)&&(s=!0),c.sender=void 0);t.simulcastCodecs.clear()}}catch(c){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),a),{error:c}))}switch(this.trackPublications.delete(i.trackSid),i.kind){case Se.Kind.Audio:this.audioTrackPublications.delete(i.trackSid);break;case Se.Kind.Video:this.videoTrackPublications.delete(i.trackSid)}return this.emit(Pe.LocalTrackUnpublished,i),i.setTrack(void 0),s&&(yield this.engine.negotiate()),i})}unpublishTracks(t){return se(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>this.unpublishTrack(n)))).filter(n=>!!n)})}republishAllTracks(t){return se(this,arguments,void 0,function(n){var r=this;let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new Promise((i,a)=>se(r,void 0,void 0,function*(){try{const s=[];this.trackPublications.forEach(l=>{l.track&&(n&&(l.options=Object.assign(Object.assign({},l.options),n)),s.push(l))}),yield Promise.all(s.map(l=>se(this,void 0,void 0,function*(){const c=l.track;yield this.unpublishTrack(c,!1),!o||c.isMuted||c.source===Se.Source.ScreenShare||c.source===Se.Source.ScreenShareAudio||!Ms(c)&&!Dl(c)||c.isUserProvided||(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:l.trackSid})),yield c.restartTrack()),yield this.publishOrRepublishTrack(c,l.options,!0)}))),i()}catch(s){a(s)}finally{this.republishPromise=void 0}})),yield r.republishPromise}()})}publishData(t){return se(this,arguments,void 0,function(n){var r=this;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const i=o.reliable?Lt.RELIABLE:Lt.LOSSY,a=o.destinationIdentities,s=o.topic,l=new ko({kind:i,value:{case:"user",value:new iP({participantIdentity:r.identity,payload:n,destinationIdentities:a,topic:s})}});yield r.engine.sendDataPacket(l,i)}()})}publishDtmf(t,n){return se(this,void 0,void 0,function*(){const r=new ko({kind:Lt.RELIABLE,value:{case:"sipDtmf",value:new aP({code:t,digit:n})}});yield this.engine.sendDataPacket(r,Lt.RELIABLE)})}sendChatMessage(t,n){return se(this,void 0,void 0,function*(){const r={id:crypto.randomUUID(),message:t,timestamp:Date.now(),attachedFiles:n==null?void 0:n.attachments},o=new ko({value:{case:"chatMessage",value:new Jk(Object.assign(Object.assign({},r),{timestamp:Rn.parse(r.timestamp)}))}});return yield this.engine.sendDataPacket(o,Lt.RELIABLE),this.emit(Pe.ChatMessage,r),r})}editChatMessage(t,n){return se(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:t,editTimestamp:Date.now()}),o=new ko({value:{case:"chatMessage",value:new Jk(Object.assign(Object.assign({},r),{timestamp:Rn.parse(r.timestamp),editTimestamp:Rn.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(o,Lt.RELIABLE),this.emit(Pe.ChatMessage,r),r})}sendText(t,n){return se(this,void 0,void 0,function*(){var r;const o=crypto.randomUUID(),i=new TextEncoder().encode(t).byteLength,a=(r=n==null?void 0:n.attachments)===null||r===void 0?void 0:r.map(()=>crypto.randomUUID()),s=new Array(a?a.length+1:1).fill(0),l=(u,d)=>{var p;s[d]=u;const h=s.reduce((m,g)=>m+g,0);(p=n==null?void 0:n.onProgress)===null||p===void 0||p.call(n,h)},c=yield this.streamText({streamId:o,totalSize:i,destinationIdentities:n==null?void 0:n.destinationIdentities,topic:n==null?void 0:n.topic,attachedStreamIds:a,attributes:n==null?void 0:n.attributes});return yield c.write(t),l(1,0),yield c.close(),n!=null&&n.attachments&&a&&(yield Promise.all(n.attachments.map((u,d)=>se(this,void 0,void 0,function*(){return this._sendFile(a[d],u,{topic:n.topic,mimeType:u.type,onProgress:p=>{l(p,d+1)}})})))),c.info})}streamText(t){return se(this,void 0,void 0,function*(){var n,r;const o=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),i={id:o,mimeType:"text/plain",timestamp:Date.now(),topic:(r=t==null?void 0:t.topic)!==null&&r!==void 0?r:"",size:t==null?void 0:t.totalSize,attributes:t==null?void 0:t.attributes},a=new Zk({streamId:o,mimeType:i.mimeType,topic:i.topic,timestamp:Fc(i.timestamp),totalLength:Fc(t==null?void 0:t.totalSize),attributes:i.attributes,contentHeader:{case:"textHeader",value:new vP({version:t==null?void 0:t.version,attachedStreamIds:t==null?void 0:t.attachedStreamIds,replyToStreamId:t==null?void 0:t.replyToStreamId,operationType:(t==null?void 0:t.type)==="update"?Xk.UPDATE:Xk.CREATE})}}),s=t==null?void 0:t.destinationIdentities,l=new ko({destinationIdentities:s,value:{case:"streamHeader",value:a}});yield this.engine.sendDataPacket(l,Lt.RELIABLE);let c=0;const u=this,d=new WritableStream({write(m){return se(this,void 0,void 0,function*(){for(const g of function(f,v){const y=[];let b=new TextEncoder().encode(f);for(;b.length>v;){let w=v;for(;w>0;){const k=b[w];if(k!==void 0&&(192&k)!=128)break;w--}y.push(b.slice(0,w)),b=b.slice(w)}return b.length>0&&y.push(b),y}(m,15e3)){yield u.engine.waitForBufferStatusLow(Lt.RELIABLE);const f=new e_({content:g,streamId:o,chunkIndex:Fc(c)}),v=new ko({destinationIdentities:s,value:{case:"streamChunk",value:f}});yield u.engine.sendDataPacket(v,Lt.RELIABLE),c+=1}})},close(){return se(this,void 0,void 0,function*(){const m=new t_({streamId:o}),g=new ko({destinationIdentities:s,value:{case:"streamTrailer",value:m}});yield u.engine.sendDataPacket(g,Lt.RELIABLE)})},abort(m){console.log("Sink error:",m)}});let p=()=>se(this,void 0,void 0,function*(){yield h.close()});u.engine.once(rt.Closing,p);const h=new jae(d,i,()=>this.engine.off(rt.Closing,p));return h})}sendFile(t,n){return se(this,void 0,void 0,function*(){const r=crypto.randomUUID();return yield this._sendFile(r,t,n),{id:r}})}_sendFile(t,n,r){return se(this,void 0,void 0,function*(){var o;const i=yield this.streamBytes({streamId:t,totalSize:n.size,name:n.name,mimeType:(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:n.type,topic:r==null?void 0:r.topic,destinationIdentities:r==null?void 0:r.destinationIdentities}),a=n.stream().getReader();for(;;){const{done:s,value:l}=yield a.read();if(s)break;yield i.write(l)}return yield i.close(),i.info})}streamBytes(t){return se(this,void 0,void 0,function*(){var n,r,o,i,a;const s=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),l=t==null?void 0:t.destinationIdentities,c={id:s,mimeType:(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:"application/octet-stream",topic:(o=t==null?void 0:t.topic)!==null&&o!==void 0?o:"",timestamp:Date.now(),attributes:t==null?void 0:t.attributes,size:t==null?void 0:t.totalSize,name:(i=t==null?void 0:t.name)!==null&&i!==void 0?i:"unknown"},u=new Zk({totalLength:Fc((a=c.size)!==null&&a!==void 0?a:0),mimeType:c.mimeType,streamId:s,topic:c.topic,timestamp:Fc(Date.now()),attributes:c.attributes,contentHeader:{case:"byteHeader",value:new bP({name:c.name})}}),d=new ko({destinationIdentities:l,value:{case:"streamHeader",value:u}});yield this.engine.sendDataPacket(d,Lt.RELIABLE);let p=0;const h=new oo,m=this.engine,g=this.log,f=new WritableStream({write(v){return se(this,void 0,void 0,function*(){const y=yield h.lock();let b=0;try{for(;b<v.byteLength;){const w=v.slice(b,b+15e3);yield m.waitForBufferStatusLow(Lt.RELIABLE);const k=new ko({destinationIdentities:l,value:{case:"streamChunk",value:new e_({content:w,streamId:s,chunkIndex:Fc(p)})}});yield m.sendDataPacket(k,Lt.RELIABLE),p+=1,b+=w.byteLength}}finally{y()}})},close(){return se(this,void 0,void 0,function*(){const v=new t_({streamId:s}),y=new ko({destinationIdentities:l,value:{case:"streamTrailer",value:v}});yield m.sendDataPacket(y,Lt.RELIABLE)})},abort(v){g.error("Sink error:",v)}});return new zae(f,c)})}performRpc(t){return se(this,arguments,void 0,function(n){var r=this;let{destinationIdentity:o,method:i,payload:a,responseTimeout:s=1e4}=n;return function*(){return new Promise((l,c)=>se(r,void 0,void 0,function*(){var u,d,p,h;if(G_(a)>15360)return void c(Gn.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));if(!((d=(u=this.engine.latestJoinResponse)===null||u===void 0?void 0:u.serverInfo)===null||d===void 0)&&d.version&&Aa((h=(p=this.engine.latestJoinResponse)===null||p===void 0?void 0:p.serverInfo)===null||h===void 0?void 0:h.version,"1.8.0")<0)return void c(Gn.builtIn("UNSUPPORTED_SERVER"));const m=crypto.randomUUID();yield this.publishRpcRequest(o,m,i,a,s-2e3);const g=setTimeout(()=>{this.pendingAcks.delete(m),c(Gn.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(m),clearTimeout(f)},2e3);this.pendingAcks.set(m,{resolve:()=>{clearTimeout(g)},participantIdentity:o});const f=setTimeout(()=>{this.pendingResponses.delete(m),c(Gn.builtIn("RESPONSE_TIMEOUT"))},s);this.pendingResponses.set(m,{resolve:(v,y)=>{clearTimeout(f),this.pendingAcks.has(m)&&(console.warn("RPC response received before ack",m),this.pendingAcks.delete(m),clearTimeout(g)),y?c(y):l(v??"")},participantIdentity:o})}))}()})}registerRpcMethod(t,n){this.rpcHandlers.has(t)&&this.log.warn("you're overriding the RPC handler for method ".concat(t,", in the future this will throw an error")),this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(t){const n=this.pendingAcks.get(t);n?(n.resolve(),this.pendingAcks.delete(t)):console.error("Ack received for unexpected RPC request",t)}handleIncomingRpcResponse(t,n,r){const o=this.pendingResponses.get(t);o?(o.resolve(n,r),this.pendingResponses.delete(t)):console.error("Response received for unexpected RPC request",t)}publishRpcRequest(t,n,r,o,i){return se(this,void 0,void 0,function*(){const a=new ko({destinationIdentities:[t],kind:Lt.RELIABLE,value:{case:"rpcRequest",value:new sP({id:n,method:r,payload:o,responseTimeoutMs:i,version:1})}});yield this.engine.sendDataPacket(a,Lt.RELIABLE)})}handleParticipantDisconnected(t){for(const[n,{participantIdentity:r}]of this.pendingAcks)r===t&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:r,resolve:o}]of this.pendingResponses)r===t&&(o(null,Gn.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(t){this.enabledPublishVideoCodecs=t.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(t){return!!super.updateInfo(t)&&(t.tracks.forEach(n=>{var r,o;const i=this.trackPublications.get(n.sid);if(i){const a=i.isMuted||(o=(r=i.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&o!==void 0&&o;a!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),Ut(i)),{mutedOnServer:a})),this.engine.client.sendMuteTrack(n.sid,a))}}),!0)}setActiveAgent(t){var n,r,o,i;this.firstActiveAgent=t,t&&!this.firstActiveAgent&&(this.firstActiveAgent=t),t?(r=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||r===void 0||r.call(n,t):(i=(o=this.activeAgentFuture)===null||o===void 0?void 0:o.reject)===null||i===void 0||i.call(o,"Agent disconnected"),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new Nd),this.activeAgentFuture.promise)}getPublicationForTrack(t){let n;return this.trackPublications.forEach(r=>{const o=r.track;o&&(t instanceof MediaStreamTrack?(Ms(o)||Dl(o))&&o.mediaStreamTrack===t&&(n=r):t===o&&(n=r))}),n}waitForPendingPublicationOfSource(t){return se(this,void 0,void 0,function*(){const n=Date.now();for(;Date.now()<n+1e4;){const r=Array.from(this.pendingPublishPromises.entries()).find(o=>{let[i]=o;return i.source===t});if(r)return r[1];yield ni(20)}})}}class Ug extends Ds{constructor(t,n,r,o){super(t,n.sid,n.name,o),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=i=>{this.setTrack(void 0),this.emit(Ge.Ended,i)},this.handleVisibilityChange=i=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(i),this.logContext),this.visible=i,this.emitTrackUpdate()},this.handleVideoDimensionsChange=i=>{this.log.debug("adaptivestream video dimensions ".concat(i.width,"x").concat(i.height),this.logContext),this.videoDimensionsAdaptiveStream=i,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const o=new xg({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new dP({participantSid:"",trackSids:[this.trackSid]})]});this.emit(Ge.UpdateSubscription,o),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?Ds.SubscriptionStatus.Unsubscribed:super.isSubscribed?Ds.SubscriptionStatus.Subscribed:Ds.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Ds.PermissionStatus.Allowed:Ds.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed!==!1&&super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:!this.isAdaptiveStream||this.visible}get isLocal(){return!1}setEnabled(t){this.isManualOperationAllowed()&&this.requestedDisabled!==!t&&(this.requestedDisabled=!t,this.emitTrackUpdate())}setVideoQuality(t){this.isManualOperationAllowed()&&this.requestedMaxQuality!==t&&(this.requestedMaxQuality=t,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,r;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((r=this.requestedVideoDimensions)===null||r===void 0?void 0:r.height)===t.height||(L_(this.track)&&(this.requestedVideoDimensions=t),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&L_(this.track)&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){var t;return(t=this.requestedMaxQuality)!==null&&t!==void 0?t:ki.HIGH}setTrack(t){const n=this.subscriptionStatus,r=this.permissionStatus,o=this.track;o!==t&&(o&&(o.off(Ge.VideoDimensionsChanged,this.handleVideoDimensionsChange),o.off(Ge.VisibilityChanged,this.handleVisibilityChange),o.off(Ge.Ended,this.handleEnded),o.detach(),o.stopMonitor(),this.emit(Ge.Unsubscribed,o)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(Ge.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(Ge.VisibilityChanged,this.handleVisibilityChange),t.on(Ge.Ended,this.handleEnded),this.emit(Ge.Subscribed,t)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(Ge.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?Ge.Muted:Ge.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(Ge.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(Ge.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return!!this.isDesired||(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return L_(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new wP({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===Se.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)jN(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){const r=function(o,i){var a;return(a=o.layers)===null||a===void 0?void 0:a.find(s=>s.quality===i)}(this.trackInfo,this.requestedMaxQuality);r&&jN(this.videoDimensionsAdaptiveStream,r)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(t.width=Math.ceil(n.width),t.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),t.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:ki.HIGH})),t.quality=ki.HIGH)}this.emit(Ge.UpdateSettings,t)}}class Hg extends gI{static fromParticipantInfo(t,n,r){return new Hg(t,n.sid,n.identity,n.name,n.metadata,n.attributes,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(t,n,r,o,i,a,s){super(n,r||"",o,i,a,s,arguments.length>7&&arguments[7]!==void 0?arguments[7]:Mc.STANDARD),this.signalClient=t,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(Ge.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),Ut(t)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),t.on(Ge.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(Ge.SubscriptionPermissionChanged,n=>{this.emit(Pe.TrackSubscriptionPermissionChanged,t,n)}),t.on(Ge.SubscriptionStatusChanged,n=>{this.emit(Pe.TrackSubscriptionStatusChanged,t,n)}),t.on(Ge.Subscribed,n=>{this.emit(Pe.TrackSubscribed,n,t)}),t.on(Ge.Unsubscribed,n=>{this.emit(Pe.TrackUnsubscribed,n,t)}),t.on(Ge.SubscriptionFailed,n=>{this.emit(Pe.TrackSubscriptionFailed,t.trackSid,n)})}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Se.Source.Microphone;this.volumeMap.set(n,t);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se.Source.Microphone;const n=this.getTrackPublication(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,r,o,i,a){let s=this.getTrackPublicationBySid(n);if(s||n.startsWith("TR")||this.trackPublications.forEach(c=>{s||t.kind!==c.kind.toString()||(s=c)}),!s)return a===0?(this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),void this.emit(Pe.TrackSubscriptionFailed,n)):(a===void 0&&(a=20),void setTimeout(()=>{this.addSubscribedMediaTrack(t,n,r,o,i,a-1)},150));if(t.readyState==="ended")return this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),Ut(s))),void this.emit(Pe.TrackSubscriptionFailed,n);let l;return l=t.kind==="video"?new Fae(t,n,o,i):new mI(t,n,o,this.audioContext,this.audioOutput),l.source=s.source,l.isMuted=s.isMuted,l.setMediaStream(r),l.start(),s.setTrack(l),this.volumeMap.has(s.source)&&D_(l)&&Pa(l)&&l.setVolume(this.volumeMap.get(s.source)),s}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(t){return this.trackPublications.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,r=new Map;return t.tracks.forEach(o=>{var i,a;let s=this.getTrackPublicationBySid(o.sid);if(s)s.updateInfo(o);else{const l=Se.kindFromProto(o.type);if(!l)return;s=new Ug(l,o,(i=this.signalClient.connectOptions)===null||i===void 0?void 0:i.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(a=this.loggerOptions)===null||a===void 0?void 0:a.loggerName}),s.updateInfo(o),r.set(o.sid,s);const c=Array.from(this.trackPublications.values()).find(u=>u.source===(s==null?void 0:s.source));c&&s.source!==Se.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(s.source),Object.assign(Object.assign({},this.logContext),{oldTrack:Ut(c),newTrack:Ut(s)})),this.addTrackPublication(s)}n.set(o.sid,s)}),this.trackPublications.forEach(o=>{n.has(o.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),Ut(o))),this.unpublishTrack(o.trackSid,!0))}),r.forEach(o=>{this.emit(Pe.TrackPublished,o)}),!0}unpublishTrack(t,n){const r=this.trackPublications.get(t);if(!r)return;const{track:o}=r;switch(o&&(o.stop(),r.setTrack(void 0)),this.trackPublications.delete(t),r.kind){case Se.Kind.Audio:this.audioTrackPublications.delete(t);break;case Se.Kind.Video:this.videoTrackPublications.delete(t)}n&&this.emit(Pe.TrackUnpublished,r)}setAudioOutput(t){return se(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTrackPublications.forEach(r=>{var o;Pa(r.track)&&D_(r.track)&&n.push(r.track.setSinkId((o=t.deviceId)!==null&&o!==void 0?o:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:t,args:r})),super.emit(t,...r)}}var ln;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"})(ln||(ln={}));class $g extends Ta.EventEmitter{constructor(t){var n,r,o,i;if(super(),n=this,this.state=ln.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=Xt,this.bufferedEvents=[],this.isResuming=!1,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map,this.rpcHandlers=new Map,this.connect=(a,s,l)=>se(this,void 0,void 0,function*(){var c;if(typeof RTCPeerConnection>"u"||!E_()&&!O_())throw Oa()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const u=yield this.disconnectLock.lock();if(this.state===ln.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),u(),Promise.resolve();if(this.connectFuture)return u(),this.connectFuture.promise;this.setAndEmitConnectionState(ln.Connecting),((c=this.regionUrlProvider)===null||c===void 0?void 0:c.getServerUrl().toString())!==a&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),P_(new URL(a))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new uI(a,s):this.regionUrlProvider.updateToken(s),this.regionUrlProvider.fetchRegionSettings().then(h=>{var m;(m=this.regionUrlProvider)===null||m===void 0||m.setServerReportedRegions(h)}).catch(h=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:h}))}));const d=(h,m,g)=>se(this,void 0,void 0,function*(){var f,v;this.abortController&&this.abortController.abort();const y=new AbortController;this.abortController=y,u==null||u();try{yield this.attemptConnection(g??a,s,l,y),this.abortController=void 0,h()}catch(b){if(this.regionUrlProvider&&b instanceof fn&&b.reason!==Gt.Cancelled&&b.reason!==Gt.NotAllowed){let w=null;try{w=yield this.regionUrlProvider.getNextBestRegionUrl((f=this.abortController)===null||f===void 0?void 0:f.signal)}catch(k){if(k instanceof fn&&(k.status===401||k.reason===Gt.Cancelled))return this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),void m(k)}w&&!(!((v=this.abortController)===null||v===void 0)&&v.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(b.message,". Retrying with another region: ").concat(w),this.logContext),this.recreateEngine(),yield d(h,m,w)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,MN(b)),m(b))}else{let w=Wi.UNKNOWN_REASON;b instanceof fn&&(w=MN(b)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,w),m(b)}}}),p=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new Nd((h,m)=>{d(h,m,p)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(a,s,l,c,u,d)=>se(this,void 0,void 0,function*(){var p,h,m;const g=yield l.join(a,s,{autoSubscribe:c.autoSubscribe,adaptiveStream:typeof u.adaptiveStream=="object"||u.adaptiveStream,maxRetries:c.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:c.websocketTimeout},d.signal);let f=g.serverInfo;if(f||(f={version:g.serverVersion,region:g.serverRegion}),this.serverInfo=f,this.log.debug("connected to Livekit Server ".concat(Object.entries(f).map(v=>{let[y,b]=v;return"".concat(y,": ").concat(b)}).join(", ")),{room:(p=g.room)===null||p===void 0?void 0:p.name,roomSid:(h=g.room)===null||h===void 0?void 0:h.sid,identity:(m=g.participant)===null||m===void 0?void 0:m.identity}),!f.version)throw new iae("unknown server version");return f.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),u.dynacast=!1),g}),this.applyJoinResponse=a=>{const s=a.participant;if(this.localParticipant.sid=s.sid,this.localParticipant.identity=s.identity,this.localParticipant.setEnabledPublishCodecs(a.enabledPublishCodecs),this.options.e2ee&&this.e2eeManager)try{this.e2eeManager.setSifTrailer(a.sifTrailer)}catch(l){this.log.error(l instanceof Error?l.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:l}))}this.handleParticipantUpdates([s,...a.otherParticipants]),a.room&&this.handleRoomUpdate(a.room)},this.attemptConnection=(a,s,l,c)=>se(this,void 0,void 0,function*(){var u,d;this.state===ln.Reconnecting||this.isResuming||!((u=this.engine)===null||u===void 0)&&u.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((d=this.regionUrlProvider)===null||d===void 0)&&d.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},K_),l),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const p=yield this.connectSignal(a,s,this.engine,this.connOptions,this.options,c);this.applyJoinResponse(p),this.setupLocalParticipantEvents(),this.emit(Ne.SignalConnected)}catch(p){yield this.engine.close(),this.recreateEngine();const h=new fn("could not establish signal connection",Gt.ServerUnreachable);throw p instanceof Error&&(h.message="".concat(h.message,": ").concat(p.message)),p instanceof fn&&(h.reason=p.reason,h.status=p.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:p})),h}if(c.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new fn("Connection attempt aborted",Gt.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,c)}catch(p){throw yield this.engine.close(),this.recreateEngine(),p}_o()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),_o()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(ln.Connected),this.emit(Ne.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return se(n,[...s],void 0,function(){var c=this;let u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){var d,p,h,m;const g=yield c.disconnectLock.lock();try{if(c.state===ln.Disconnected)return void c.log.debug("already disconnected",c.logContext);c.log.info("disconnect from room",Object.assign({},c.logContext)),(c.state===ln.Connecting||c.state===ln.Reconnecting||c.isResuming)&&(c.log.warn("abort connection attempt",c.logContext),(d=c.abortController)===null||d===void 0||d.abort(),(h=(p=c.connectFuture)===null||p===void 0?void 0:p.reject)===null||h===void 0||h.call(p,new fn("Client initiated disconnect",Gt.Cancelled)),c.connectFuture=void 0),!((m=c.engine)===null||m===void 0)&&m.client.isDisconnected||(yield c.engine.client.sendLeave()),c.engine&&(yield c.engine.close()),c.handleDisconnect(u,Wi.CLIENT_INITIATED),c.engine=void 0}finally{g()}}()})},this.onPageLeave=()=>se(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>se(this,void 0,void 0,function*(){const a=[],s=ti();if(s&&s.os==="iOS"){const l="livekit-dummy-audio-el";let c=document.getElementById(l);if(!c){c=document.createElement("audio"),c.id=l,c.autoplay=!0,c.hidden=!0;const u=R_();u.enabled=!0;const d=new MediaStream([u]);c.srcObject=d,document.addEventListener("visibilitychange",()=>{c&&(c.srcObject=document.hidden?null:d,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(c),this.once(Ne.Disconnected,()=>{c==null||c.remove(),c=null})}a.push(c)}this.remoteParticipants.forEach(l=>{l.audioTrackPublications.forEach(c=>{c.track&&c.track.attachedElements.forEach(u=>{a.push(u)})})});try{yield Promise.all([this.acquireAudioContext(),...a.map(l=>(l.muted=!1,l.play()))]),this.handleAudioPlaybackStarted()}catch(l){throw this.handleAudioPlaybackFailed(l),l}}),this.startVideo=()=>se(this,void 0,void 0,function*(){const a=[];for(const s of this.remoteParticipants.values())s.videoTrackPublications.forEach(l=>{var c;(c=l.track)===null||c===void 0||c.attachedElements.forEach(u=>{a.includes(u)||a.push(u)})});yield Promise.all(a.map(s=>s.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(s=>{s.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const a of this.remoteParticipants.values())this.handleParticipantDisconnected(a.identity,a);this.setAndEmitConnectionState(ln.Reconnecting)&&this.emit(Ne.Reconnecting)},this.handleSignalRestarted=a=>se(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(a.serverRegion),Object.assign(Object.assign({},this.logContext),{region:a.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(a);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(s){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:s}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:a.serverRegion}))}catch{return}this.setAndEmitConnectionState(ln.Connected),this.emit(Ne.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=a=>{a.forEach(s=>{var l;if(s.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(s);s.identity===""&&(s.identity=(l=this.sidToIdentity.get(s.sid))!==null&&l!==void 0?l:"");let c=this.remoteParticipants.get(s.identity);s.state===Cd.DISCONNECTED?this.handleParticipantDisconnected(s.identity,c):c=this.getOrCreateParticipant(s.identity,s)})},this.handleActiveSpeakersUpdate=a=>{const s=[],l={};a.forEach(c=>{if(l[c.sid]=!0,c.sid===this.localParticipant.sid)this.localParticipant.audioLevel=c.level,this.localParticipant.setIsSpeaking(!0),s.push(this.localParticipant);else{const u=this.getRemoteParticipantBySid(c.sid);u&&(u.audioLevel=c.level,u.setIsSpeaking(!0),s.push(u))}}),l[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(c=>{l[c.sid]||(c.audioLevel=0,c.setIsSpeaking(!1))}),this.activeSpeakers=s,this.emitWhenConnected(Ne.ActiveSpeakersChanged,s)},this.handleSpeakersChanged=a=>{const s=new Map;this.activeSpeakers.forEach(c=>{const u=this.remoteParticipants.get(c.identity);u&&u.sid!==c.sid||s.set(c.sid,c)}),a.forEach(c=>{let u=this.getRemoteParticipantBySid(c.sid);c.sid===this.localParticipant.sid&&(u=this.localParticipant),u&&(u.audioLevel=c.level,u.setIsSpeaking(c.active),c.active?s.set(c.sid,u):s.delete(c.sid))});const l=Array.from(s.values());l.sort((c,u)=>u.audioLevel-c.audioLevel),this.activeSpeakers=l,this.emitWhenConnected(Ne.ActiveSpeakersChanged,l)},this.handleStreamStateUpdate=a=>{a.streamStates.forEach(s=>{const l=this.getRemoteParticipantBySid(s.participantSid);if(!l)return;const c=l.getTrackPublicationBySid(s.trackSid);if(!c||!c.track)return;const u=Se.streamStateFromProto(s.state);u!==c.track.streamState&&(c.track.streamState=u,l.emit(Pe.TrackStreamStateChanged,c,c.track.streamState),this.emitWhenConnected(Ne.TrackStreamStateChanged,c,c.track.streamState,l))})},this.handleSubscriptionPermissionUpdate=a=>{const s=this.getRemoteParticipantBySid(a.participantSid);if(!s)return;const l=s.getTrackPublicationBySid(a.trackSid);l&&l.setAllowed(a.allowed)},this.handleSubscriptionError=a=>{const s=Array.from(this.remoteParticipants.values()).find(c=>c.trackPublications.has(a.trackSid));if(!s)return;const l=s.getTrackPublicationBySid(a.trackSid);l&&l.setSubscriptionError(a.err)},this.handleDataPacket=a=>{const s=this.remoteParticipants.get(a.participantIdentity);if(a.value.case==="user")this.handleUserPacket(s,a.value.value,a.kind);else if(a.value.case==="transcription")this.handleTranscription(s,a.value.value);else if(a.value.case==="sipDtmf")this.handleSipDtmf(s,a.value.value);else if(a.value.case==="chatMessage")this.handleChatMessage(s,a.value.value);else if(a.value.case==="metrics")this.handleMetrics(a.value.value,s);else if(a.value.case==="streamHeader")this.handleStreamHeader(a.value.value,a.participantIdentity);else if(a.value.case==="streamChunk")this.handleStreamChunk(a.value.value);else if(a.value.case==="streamTrailer")this.handleStreamTrailer(a.value.value);else if(a.value.case==="rpcRequest"){const l=a.value.value;this.handleIncomingRpcRequest(a.participantIdentity,l.id,l.method,l.payload,l.responseTimeoutMs,l.version)}},this.handleUserPacket=(a,s,l)=>{this.emit(Ne.DataReceived,s.payload,a,l,s.topic),a==null||a.emit(Pe.DataReceived,s.payload,l)},this.handleSipDtmf=(a,s)=>{this.emit(Ne.SipDTMFReceived,s,a),a==null||a.emit(Pe.SipDTMFReceived,s)},this.bufferedSegments=new Map,this.handleTranscription=(a,s)=>{const l=s.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(s.transcribedParticipantIdentity),c=l==null?void 0:l.trackPublications.get(s.trackId),u=function(d,p){return d.segments.map(h=>{let{id:m,text:g,language:f,startTime:v,endTime:y,final:b}=h;var w;const k=(w=p.get(m))!==null&&w!==void 0?w:Date.now(),_=Date.now();return b?p.delete(m):p.set(m,k),{id:m,text:g,startTime:Number.parseInt(v.toString()),endTime:Number.parseInt(y.toString()),final:b,language:f,firstReceivedTime:k,lastReceivedTime:_}})}(s,this.transcriptionReceivedTimes);c==null||c.emit(Ge.TranscriptionReceived,u),l==null||l.emit(Pe.TranscriptionReceived,u,c),this.emit(Ne.TranscriptionReceived,u,l,c)},this.handleChatMessage=(a,s)=>{const l=function(c){const{id:u,timestamp:d,message:p,editTimestamp:h}=c;return{id:u,timestamp:Number.parseInt(d.toString()),editTimestamp:h?Number.parseInt(h.toString()):void 0,message:p}}(s);this.emit(Ne.ChatMessage,l,a)},this.handleMetrics=(a,s)=>{this.emit(Ne.MetricsReceived,a,s)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(Ne.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=a=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:a})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(Ne.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(Ne.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(Ne.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>se(this,void 0,void 0,function*(){var a;((a=ti())===null||a===void 0?void 0:a.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(Ne.MediaDevicesChanged)}),this.handleRoomUpdate=a=>{const s=this.roomInfo;this.roomInfo=a,s&&s.metadata!==a.metadata&&this.emitWhenConnected(Ne.RoomMetadataChanged,a.metadata),(s==null?void 0:s.activeRecording)!==a.activeRecording&&this.emitWhenConnected(Ne.RecordingStatusChanged,a.activeRecording)},this.handleConnectionQualityUpdate=a=>{a.updates.forEach(s=>{if(s.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(s.quality);const l=this.getRemoteParticipantBySid(s.participantSid);l&&l.setConnectionQuality(s.quality)})},this.onLocalParticipantMetadataChanged=a=>{this.emit(Ne.ParticipantMetadataChanged,a,this.localParticipant)},this.onLocalParticipantNameChanged=a=>{this.emit(Ne.ParticipantNameChanged,a,this.localParticipant)},this.onLocalAttributesChanged=a=>{this.emit(Ne.ParticipantAttributesChanged,a,this.localParticipant)},this.onLocalTrackMuted=a=>{this.emit(Ne.TrackMuted,a,this.localParticipant)},this.onLocalTrackUnmuted=a=>{this.emit(Ne.TrackUnmuted,a,this.localParticipant)},this.onTrackProcessorUpdate=a=>{var s;(s=a==null?void 0:a.onPublish)===null||s===void 0||s.call(a,this)},this.onLocalTrackPublished=a=>se(this,void 0,void 0,function*(){var s,l,c,u,d,p;(s=a.track)===null||s===void 0||s.on(Ge.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=a.track)===null||l===void 0||l.on(Ge.Restarted,this.onLocalTrackRestarted),(d=(u=(c=a.track)===null||c===void 0?void 0:c.getProcessor())===null||u===void 0?void 0:u.onPublish)===null||d===void 0||d.call(u,this),this.emit(Ne.LocalTrackPublished,a,this.localParticipant),Ms(a.track)&&(yield a.track.checkForSilence())&&this.emit(Ne.LocalAudioSilenceDetected,a);const h=yield(p=a.track)===null||p===void 0?void 0:p.getDeviceId(!1),m=B_(a.source);m&&h&&h!==this.localParticipant.activeDeviceMap.get(m)&&(this.localParticipant.activeDeviceMap.set(m,h),this.emit(Ne.ActiveDeviceChanged,m,h))}),this.onLocalTrackUnpublished=a=>{var s,l;(s=a.track)===null||s===void 0||s.off(Ge.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=a.track)===null||l===void 0||l.off(Ge.Restarted,this.onLocalTrackRestarted),this.emit(Ne.LocalTrackUnpublished,a,this.localParticipant)},this.onLocalTrackRestarted=a=>se(this,void 0,void 0,function*(){const s=yield a.getDeviceId(!1),l=B_(a.source);l&&s&&s!==this.localParticipant.activeDeviceMap.get(l)&&(this.log.debug("local track restarted, setting ".concat(l," ").concat(s," active"),this.logContext),this.localParticipant.activeDeviceMap.set(l,s),this.emit(Ne.ActiveDeviceChanged,l,s))}),this.onLocalConnectionQualityChanged=a=>{this.emit(Ne.ConnectionQualityChanged,a,this.localParticipant)},this.onMediaDevicesError=(a,s)=>{this.emit(Ne.MediaDevicesError,a,s)},this.onLocalParticipantPermissionsChanged=a=>{this.emit(Ne.ParticipantPermissionsChanged,a,this.localParticipant)},this.onLocalChatMessageSent=a=>{this.emit(Ne.ChatMessage,a,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},Sae),t),this.log=Ns((r=this.options.loggerName)!==null&&r!==void 0?r:Gi.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},XN),t==null?void 0:t.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},ZN),t==null?void 0:t.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},Cae),t==null?void 0:t.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new oo,this.localParticipant=new Uae("","",this.engine,this.options,this.rpcHandlers),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",Ml(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",Ml(this.options.audioCaptureDefaults.deviceId)),!((o=this.options.audioOutput)===null||o===void 0)&&o.deviceId&&this.switchActiveDevice("audiooutput",Ml(this.options.audioOutput.deviceId)).catch(a=>this.log.warn("Could not set audio output: ".concat(a.message),this.logContext)),this.options.e2ee&&this.setupE2EE(),_o()){const a=new AbortController;(i=navigator.mediaDevices)===null||i===void 0||i.addEventListener("devicechange",this.handleDeviceChange,{signal:a.signal}),$g.cleanupRegistry&&$g.cleanupRegistry.register(this,()=>{a.abort()})}}registerTextStreamHandler(t,n){if(this.textStreamHandlers.has(t))throw new TypeError('A text stream handler for topic "'.concat(t,'" has already been set.'));this.textStreamHandlers.set(t,n)}unregisterTextStreamHandler(t){this.textStreamHandlers.delete(t)}registerByteStreamHandler(t,n){if(this.byteStreamHandlers.has(t))throw new TypeError('A byte stream handler for topic "'.concat(t,'" has already been set.'));this.byteStreamHandlers.set(t,n)}unregisterByteStreamHandler(t){this.byteStreamHandlers.delete(t)}registerRpcMethod(t,n){if(this.rpcHandlers.has(t))throw Error("RPC handler already registered for method ".concat(t,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}handleIncomingRpcRequest(t,n,r,o,i,a){return se(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(t,n),a!==1)return void(yield this.engine.publishRpcResponse(t,n,null,Gn.builtIn("UNSUPPORTED_VERSION")));const s=this.rpcHandlers.get(r);if(!s)return void(yield this.engine.publishRpcResponse(t,n,null,Gn.builtIn("UNSUPPORTED_METHOD")));let l=null,c=null;try{const u=yield s({requestId:n,callerIdentity:t,payload:o,responseTimeout:i});G_(u)>15360?(l=Gn.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(r))):c=u}catch(u){u instanceof Gn?l=u:(console.warn("Uncaught error returned by RPC handler for ".concat(r,". Returning APPLICATION_ERROR instead."),u),l=Gn.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(t,n,c,l)})}setE2EEEnabled(t){return se(this,void 0,void 0,function*(){if(!this.e2eeManager)throw Error("e2ee not configured, please set e2ee settings within the room options");yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity)})}setupE2EE(){var t;this.options.e2ee&&("e2eeManager"in this.options.e2ee?this.e2eeManager=this.options.e2ee.e2eeManager:this.e2eeManager=new vae(this.options.e2ee),this.e2eeManager.on(Il.ParticipantEncryptionStatusChanged,(n,r)=>{(function(o){return o.isLocal})(r)&&(this.isE2EEEnabled=n),this.emit(Ne.ParticipantEncryptionStatusChanged,n,r)}),this.e2eeManager.on(Il.EncryptionError,n=>this.emit(Ne.EncryptionError,n)),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get logContext(){var t;return{room:this.name,roomID:(t=this.roomInfo)===null||t===void 0?void 0:t.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0&&n}getSid(){return se(this,void 0,void 0,function*(){return this.state===ln.Disconnected?"":this.roomInfo&&this.roomInfo.sid!==""?this.roomInfo.sid:new Promise((t,n)=>{const r=o=>{o.sid!==""&&(this.engine.off(rt.RoomUpdate,r),t(o.sid))};this.engine.on(rt.RoomUpdate,r),this.once(Ne.Disconnected,()=>{this.engine.off(rt.RoomUpdate,r),n("Room disconnected before room server id was available")})})})}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new Mae(this.options),this.engine.on(rt.ParticipantUpdate,this.handleParticipantUpdates).on(rt.RoomUpdate,this.handleRoomUpdate).on(rt.SpeakersChanged,this.handleSpeakersChanged).on(rt.StreamStateChanged,this.handleStreamStateUpdate).on(rt.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(rt.SubscriptionError,this.handleSubscriptionError).on(rt.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(rt.MediaTrackAdded,(t,n,r)=>{this.onTrackAdded(t,n,r)}).on(rt.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(rt.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(rt.DataPacketReceived,this.handleDataPacket).on(rt.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(ln.SignalReconnecting)&&this.emit(Ne.SignalReconnecting)}).on(rt.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(ln.Connected)&&this.emit(Ne.Reconnected)}).on(rt.SignalResumed,()=>{this.bufferedEvents=[],(this.state===ln.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(rt.Restarting,this.handleRestarting).on(rt.SignalRestarted,this.handleSignalRestarted).on(rt.Offline,()=>{this.setAndEmitConnectionState(ln.Reconnecting)&&this.emit(Ne.Reconnecting)}).on(rt.DCBufferStatusChanged,(t,n)=>{this.emit(Ne.DCBufferStatusChanged,t,n)}).on(rt.LocalTrackSubscribed,t=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:o}=r;return o===t});n?(this.localParticipant.emit(Pe.LocalTrackSubscribed,n),this.emitWhenConnected(Ne.LocalTrackSubscribed,n,this.localParticipant)):this.log.warn("could not find local track subscription for subscribed event",this.logContext)}).on(rt.RoomMoved,t=>{this.log.debug("room moved",t),t.room&&this.handleRoomUpdate(t.room),this.remoteParticipants.forEach((n,r)=>{this.handleParticipantDisconnected(r,n)}),this.emit(Ne.Moved,t.room.name),t.participant?this.handleParticipantUpdates([t.participant,...t.otherParticipants]):this.handleParticipantUpdates(t.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return xr.getInstance().getDevices(t,n)}prepareConnection(t,n){return se(this,void 0,void 0,function*(){if(this.state===ln.Disconnected){this.log.debug("prepareConnection to ".concat(t),this.logContext);try{if(P_(new URL(t))&&n){this.regionUrlProvider=new uI(t,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===ln.Disconnected&&(this.regionUrl=r,yield fetch(M_(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(M_(t),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(t){return this.localParticipant.identity===t?this.localParticipant:this.remoteParticipants.get(t)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return se(this,void 0,void 0,function*(){let r,o=()=>{};switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":r=new Sa({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":r=new Sa({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":r=new Sa({scenario:{case:"serverLeave",value:!0}});break;case"migration":r=new Sa({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":o=()=>se(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new Sa({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":o=()=>se(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new Sa({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":r=new Sa({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),o=()=>se(this,void 0,void 0,function*(){const i=this.engine.client.onLeave;i&&i(new Cg({reason:Wi.CLIENT_INITIATED,action:Td.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");r=new Sa({scenario:{case:"subscriberBandwidth",value:Fc(n)}});break;case"leave-full-reconnect":r=new Sa({scenario:{case:"leaveRequestFullReconnect",value:!0}})}r&&(yield this.engine.client.sendSimulateScenario(r),yield o())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){return se(this,arguments,void 0,function(r,o){var i=this;let a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return function*(){var s,l,c,u,d,p,h;let m=!0,g=!1;const f=a?{exact:o}:o;if(r==="audioinput"){g=i.localParticipant.audioTrackPublications.size===0;const v=(s=i.getActiveDevice(r))!==null&&s!==void 0?s:i.options.audioCaptureDefaults.deviceId;i.options.audioCaptureDefaults.deviceId=f;const y=Array.from(i.localParticipant.audioTrackPublications.values()).filter(w=>w.source===Se.Source.Microphone);try{m=(yield Promise.all(y.map(w=>{var k;return(k=w.audioTrack)===null||k===void 0?void 0:k.setDeviceId(f)}))).every(w=>w===!0)}catch(w){throw i.options.audioCaptureDefaults.deviceId=v,w}const b=y.some(w=>{var k,_;return(_=(k=w.track)===null||k===void 0?void 0:k.isMuted)!==null&&_!==void 0&&_});m&&b&&(g=!0)}else if(r==="videoinput"){g=i.localParticipant.videoTrackPublications.size===0;const v=(l=i.getActiveDevice(r))!==null&&l!==void 0?l:i.options.videoCaptureDefaults.deviceId;i.options.videoCaptureDefaults.deviceId=f;const y=Array.from(i.localParticipant.videoTrackPublications.values()).filter(w=>w.source===Se.Source.Camera);try{m=(yield Promise.all(y.map(w=>{var k;return(k=w.videoTrack)===null||k===void 0?void 0:k.setDeviceId(f)}))).every(w=>w===!0)}catch(w){throw i.options.videoCaptureDefaults.deviceId=v,w}const b=y.some(w=>{var k,_;return(_=(k=w.track)===null||k===void 0?void 0:k.isMuted)!==null&&_!==void 0&&_});m&&b&&(g=!0)}else if(r==="audiooutput"){if(g=!0,!A_()&&!i.options.webAudioMix||i.options.webAudioMix&&i.audioContext&&!("setSinkId"in i.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");i.options.webAudioMix&&(o=(c=yield xr.getInstance().normalizeDeviceId("audiooutput",o))!==null&&c!==void 0?c:""),(u=(h=i.options).audioOutput)!==null&&u!==void 0||(h.audioOutput={});const v=(d=i.getActiveDevice(r))!==null&&d!==void 0?d:i.options.audioOutput.deviceId;i.options.audioOutput.deviceId=o;try{i.options.webAudioMix&&((p=i.audioContext)===null||p===void 0||p.setSinkId(o)),yield Promise.all(Array.from(i.remoteParticipants.values()).map(y=>y.setAudioOutput({deviceId:o})))}catch(y){throw i.options.audioOutput.deviceId=v,y}}return g&&(i.localParticipant.activeDeviceMap.set(r,o),i.emit(Ne.ActiveDeviceChanged,r,o)),m}()})}setupLocalParticipantEvents(){this.localParticipant.on(Pe.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Pe.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Pe.AttributesChanged,this.onLocalAttributesChanged).on(Pe.TrackMuted,this.onLocalTrackMuted).on(Pe.TrackUnmuted,this.onLocalTrackUnmuted).on(Pe.LocalTrackPublished,this.onLocalTrackPublished).on(Pe.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Pe.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Pe.MediaDevicesError,this.onMediaDevicesError).on(Pe.AudioStreamAcquired,this.startAudio).on(Pe.ChatMessage,this.onLocalChatMessageSent).on(Pe.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(t,n,r){if(this.state===ln.Connecting||this.state===ln.Reconnecting){const u=()=>{this.onTrackAdded(t,n,r),d()},d=()=>{this.off(Ne.Reconnected,u),this.off(Ne.Connected,u),this.off(Ne.Disconnected,d)};return this.once(Ne.Reconnected,u),this.once(Ne.Connected,u),void this.once(Ne.Disconnected,d)}if(this.state===ln.Disconnected)return void this.log.warn("skipping incoming track after Room disconnected",this.logContext);if(t.readyState==="ended")return void this.log.info("skipping incoming track as it already ended",this.logContext);const o=function(u){const d=u.split("|");return d.length>1?[d[0],u.substr(d[0].length+1)]:[u,""]}(n.id),i=o[0];let a=o[1],s=t.id;if(a&&a.startsWith("TR")&&(s=a),i===this.localParticipant.sid)return void this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);const l=Array.from(this.remoteParticipants.values()).find(u=>u.sid===i);if(!l)return void this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(i),this.logContext);let c;this.options.adaptiveStream&&(c=typeof this.options.adaptiveStream=="object"?this.options.adaptiveStream:{}),l.addSubscribedMediaTrack(t,s,n,r,c)}handleDisconnect(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.state!==ln.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach(o=>{o.trackPublications.forEach(i=>{o.unpublishTrack(i.trackSid)})}),this.localParticipant.trackPublications.forEach(o=>{var i,a,s;o.track&&this.localParticipant.unpublishTrack(o.track,t),t?((i=o.track)===null||i===void 0||i.detach(),(a=o.track)===null||a===void 0||a.stop()):(s=o.track)===null||s===void 0||s.stopMonitor()}),this.localParticipant.off(Pe.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Pe.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Pe.AttributesChanged,this.onLocalAttributesChanged).off(Pe.TrackMuted,this.onLocalTrackMuted).off(Pe.TrackUnmuted,this.onLocalTrackUnmuted).off(Pe.LocalTrackPublished,this.onLocalTrackPublished).off(Pe.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Pe.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Pe.MediaDevicesError,this.onMediaDevicesError).off(Pe.AudioStreamAcquired,this.startAudio).off(Pe.ChatMessage,this.onLocalChatMessageSent).off(Pe.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),_o()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(ln.Disconnected),this.emit(Ne.Disconnected,n)}}}handleParticipantDisconnected(t,n){var r;this.remoteParticipants.delete(t),n&&(n.trackPublications.forEach(o=>{n.unpublishTrack(o.trackSid,!0)}),this.emit(Ne.ParticipantDisconnected,n),n.setDisconnected(),(r=this.localParticipant)===null||r===void 0||r.handleParticipantDisconnected(n.identity))}handleStreamHeader(t,n){return se(this,void 0,void 0,function*(){var r;if(t.contentHeader.case==="byteHeader"){const o=this.byteStreamHandlers.get(t.topic);if(!o)return void this.log.debug("ignoring incoming byte stream due to no handler for topic",t.topic);let i;const a={id:t.streamId,name:(r=t.contentHeader.value.name)!==null&&r!==void 0?r:"unknown",mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Dg(t.timestamp),attributes:t.attributes},s=new ReadableStream({start:l=>{i=l,this.byteStreamControllers.set(t.streamId,{info:a,controller:i,startTime:Date.now()})}});o(new Dae(a,s,Dg(t.totalLength)),{identity:n})}else if(t.contentHeader.case==="textHeader"){const o=this.textStreamHandlers.get(t.topic);if(!o)return void this.log.debug("ignoring incoming text stream due to no handler for topic",t.topic);let i;const a={id:t.streamId,mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Number(t.timestamp),attributes:t.attributes},s=new ReadableStream({start:l=>{i=l,this.textStreamControllers.set(t.streamId,{info:a,controller:i,startTime:Date.now()})}});o(new Lae(a,s,Dg(t.totalLength)),{identity:n})}})}handleStreamChunk(t){const n=this.byteStreamControllers.get(t.streamId);n&&t.content.length>0&&n.controller.enqueue(t);const r=this.textStreamControllers.get(t.streamId);r&&t.content.length>0&&r.controller.enqueue(t)}handleStreamTrailer(t){const n=this.textStreamControllers.get(t.streamId);n&&(n.info.attributes=Object.assign(Object.assign({},n.info.attributes),t.attributes),n.controller.close(),this.textStreamControllers.delete(t.streamId));const r=this.byteStreamControllers.get(t.streamId);r&&(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),t.attributes),r.controller.close(),this.byteStreamControllers.delete(t.streamId))}selectDefaultDevices(){return se(this,void 0,void 0,function*(){var t,n,r;const o=xr.getInstance().previousDevices,i=yield xr.getInstance().getDevices(void 0,!1),a=ti();if((a==null?void 0:a.name)==="Chrome"&&a.os!=="iOS")for(let l of i){const c=o.find(u=>u.deviceId===l.deviceId);c&&c.label!==""&&c.kind===l.kind&&c.label!==l.label&&this.getActiveDevice(l.kind)==="default"&&this.emit(Ne.ActiveDeviceChanged,l.kind,l.deviceId)}const s=["audiooutput","audioinput","videoinput"];for(let l of s){const c=fae(l),u=this.localParticipant.getTrackPublication(c);if(u&&(!((t=u.track)===null||t===void 0)&&t.isUserProvided))continue;const d=i.filter(h=>h.kind===l),p=this.getActiveDevice(l);p===((n=o.filter(h=>h.kind===l)[0])===null||n===void 0?void 0:n.deviceId)&&d.length>0&&((r=d[0])===null||r===void 0?void 0:r.deviceId)!==p?yield this.switchActiveDevice(l,d[0].deviceId):l==="audioinput"&&!Mg()||l==="videoinput"||!(d.length>0)||d.find(h=>h.deviceId===this.getActiveDevice(l))||l==="audiooutput"&&Mg()||(yield this.switchActiveDevice(l,d[0].deviceId))}})}acquireAudioContext(){return se(this,void 0,void 0,function*(){var t,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:this.audioContext&&this.audioContext.state!=="closed"||(this.audioContext=(t=F_())!==null&&t!==void 0?t:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(o=>o.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),ni(200)])}catch(o){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:o}))}const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(Ne.AudioPlaybackStatusChanged,r))})}createParticipant(t,n){var r;let o;return o=n?Hg.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):new Hg(this.engine.client,"",t,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&o.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&o.setAudioOutput(this.options.audioOutput).catch(i=>this.log.warn("Could not set audio output: ".concat(i.message),this.logContext)),o}getOrCreateParticipant(t,n){if(this.remoteParticipants.has(t)){const o=this.remoteParticipants.get(t);return n&&o.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),o}const r=this.createParticipant(t,n);return this.remoteParticipants.set(t,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(Ne.ParticipantConnected,r),r.on(Pe.TrackPublished,o=>{this.emitWhenConnected(Ne.TrackPublished,o,r)}).on(Pe.TrackSubscribed,(o,i)=>{o.kind===Se.Kind.Audio?(o.on(Ge.AudioPlaybackStarted,this.handleAudioPlaybackStarted),o.on(Ge.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):o.kind===Se.Kind.Video&&(o.on(Ge.VideoPlaybackFailed,this.handleVideoPlaybackFailed),o.on(Ge.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(Ne.TrackSubscribed,o,i,r)}).on(Pe.TrackUnpublished,o=>{this.emit(Ne.TrackUnpublished,o,r)}).on(Pe.TrackUnsubscribed,(o,i)=>{this.emit(Ne.TrackUnsubscribed,o,i,r)}).on(Pe.TrackMuted,o=>{this.emitWhenConnected(Ne.TrackMuted,o,r)}).on(Pe.TrackUnmuted,o=>{this.emitWhenConnected(Ne.TrackUnmuted,o,r)}).on(Pe.ParticipantMetadataChanged,o=>{this.emitWhenConnected(Ne.ParticipantMetadataChanged,o,r)}).on(Pe.ParticipantNameChanged,o=>{this.emitWhenConnected(Ne.ParticipantNameChanged,o,r)}).on(Pe.AttributesChanged,o=>{this.emitWhenConnected(Ne.ParticipantAttributesChanged,o,r)}).on(Pe.ConnectionQualityChanged,o=>{this.emitWhenConnected(Ne.ConnectionQualityChanged,o,r)}).on(Pe.ParticipantPermissionsChanged,o=>{this.emitWhenConnected(Ne.ParticipantPermissionsChanged,o,r)}).on(Pe.TrackSubscriptionStatusChanged,(o,i)=>{this.emitWhenConnected(Ne.TrackSubscriptionStatusChanged,o,i,r)}).on(Pe.TrackSubscriptionFailed,(o,i)=>{this.emit(Ne.TrackSubscriptionFailed,o,r,i)}).on(Pe.TrackSubscriptionPermissionChanged,(o,i)=>{this.emitWhenConnected(Ne.TrackSubscriptionPermissionChanged,o,i,r)}).on(Pe.Active,()=>{this.emitWhenConnected(Ne.ParticipantActive,r),r.kind===Mc.AGENT&&this.localParticipant.setActiveAgent(r)}),n&&r.updateInfo(n),r}sendSyncState(){const t=Array.from(this.remoteParticipants.values()).reduce((r,o)=>(r.push(...o.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(t,n)}updateSubscriptions(){for(const t of this.remoteParticipants.values())for(const n of t.videoTrackPublications.values())n.isSubscribed&&pae(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(t){const n=this.sidToIdentity.get(t);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=Nr.setInterval(()=>{this.engine&&!this.engine.isClosed&&this.engine.verifyTransport()?t=0:(t++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:t,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Wi.STATE_MISMATCH)))},4e3)}clearConnectionReconcile(){this.connectionReconcileInterval&&Nr.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t!==this.state&&(this.state=t,this.emit(Ne.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(t=>{let[n,r]=t;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(this.state===ln.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([t,r]);else if(this.state===ln.Connected)return this.emit(t,...r);return!1}simulateParticipants(t){return se(this,void 0,void 0,function*(){var n,r;const o=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),i=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new kg({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Rn.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new Rc({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(Ne.SignalConnected),this.emit(Ne.Connected),this.setAndEmitConnectionState(ln.Connected),o.video){const a=new nx(Se.Kind.Video,new Sd({source:nr.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:qi.AUDIO,name:"video-dummy"}),new Bg(o.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:IN(160*((n=i.aspectRatios[0])!==null&&n!==void 0?n:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(Pe.LocalTrackPublished,a)}if(o.audio){const a=new nx(Se.Kind.Audio,new Sd({source:nr.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:qi.AUDIO}),new Fg(o.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:R_(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(Pe.LocalTrackPublished,a)}for(let a=0;a<i.count-1;a+=1){let s=new Rc({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(a),state:Cd.ACTIVE,tracks:[],joinedAt:Rn.parse(Date.now())});const l=this.getOrCreateParticipant(s.identity,s);if(i.video){const c=IN(160*((r=i.aspectRatios[a%i.aspectRatios.length])!==null&&r!==void 0?r:1),160,!1,!0),u=new Sd({source:nr.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:qi.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c]),new RTCRtpReceiver),s.tracks=[...s.tracks,u]}if(i.audio){const c=R_(),u=new Sd({source:nr.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:qi.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c]),new RTCRtpReceiver),s.tracks=[...s.tracks,u]}l.updateInfo(s)}})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t!==Ne.ActiveSpeakersChanged&&t!==Ne.TranscriptionReceived){const i=vI(r).filter(a=>a!==void 0);this.log.debug("room event ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:i}))}return super.emit(t,...r)}}function vI(e){return e.map(t=>{if(t)return Array.isArray(t)?vI(t):typeof t=="object"?"logContext"in t?t.logContext:void 0:t})}var bI;$g.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()}),function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"}(bI||(bI={})),Ta.EventEmitter,Ta.EventEmitter;var Hae=Object.defineProperty,$ae=Object.defineProperties,Vae=Object.getOwnPropertyDescriptors,Vg=Object.getOwnPropertySymbols,yI=Object.prototype.hasOwnProperty,wI=Object.prototype.propertyIsEnumerable,Md=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),rx=e=>{throw TypeError(e)},ox=(e,t,n)=>t in e?Hae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))yI.call(t,n)&&ox(e,n,t[n]);if(Vg)for(var n of Vg(t))wI.call(t,n)&&ox(e,n,t[n]);return e},K=(e,t)=>$ae(e,Vae(t)),kI=e=>typeof e=="symbol"?e:e+"",ye=(e,t)=>{var n={};for(var r in e)yI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vg)for(var r of Vg(e))t.indexOf(r)<0&&wI.call(e,r)&&(n[r]=e[r]);return n},ix=(e,t,n)=>t.has(e)||rx("Cannot "+n),oe=(e,t,n)=>(ix(e,t,"read from private field"),n?n.call(e):t.get(e)),kt=(e,t,n)=>t.has(e)?rx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ct=(e,t,n,r)=>(ix(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),jt=(e,t,n)=>(ix(e,t,"access private method"),n),ax=(e,t,n,r)=>({set _(o){ct(e,t,o,n)},get _(){return oe(e,t,r)}}),Dd=function(e,t){this[0]=e,this[1]=t},_I=(e,t,n)=>{var r=(a,s,l,c)=>{try{var u=n[a](s),d=(s=u.value)instanceof Dd,p=u.done;Promise.resolve(d?s[0]:s).then(h=>d?r(a==="return"?a:"next",s[1]?{done:h.done,value:h.value}:h,l,c):l({value:h,done:p})).catch(h=>r("throw",h,l,c))}catch(h){c(h)}},o=a=>i[a]=s=>new Promise((l,c)=>r(a,s,l,c)),i={};return n=n.apply(e,t),i[Md("asyncIterator")]=()=>i,o("next"),o("throw"),o("return"),i},xI=e=>{var t,n=e[Md("asyncIterator")],r=!1,o={};return n==null?(n=e[Md("iterator")](),t=i=>o[i]=a=>n[i](a)):(n=n.call(e),t=i=>o[i]=a=>{if(r){if(r=!1,i==="throw")throw a;return a}return r=!0,{done:!1,value:new Dd(new Promise(s=>{var l=n[i](a);l instanceof Object||rx("Object expected"),s(l)}),1)}}),o[Md("iterator")]=()=>o,t("next"),"throw"in n?t("throw"):o.throw=i=>{throw i},"return"in n&&t("return"),o},qae=function(){function e(n){var r=this;this._insertTag=function(o){var i;i=r.tags.length===0?r.insertionPoint?r.insertionPoint.nextSibling:r.prepend?r.container.firstChild:r.before:r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0||n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(i){var a=document.createElement("style");return a.setAttribute("data-emotion",i.key),i.nonce!==void 0&&a.setAttribute("nonce",i.nonce),a.appendChild(document.createTextNode("")),a.setAttribute("data-s",""),a}(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(i){if(i.sheet)return i.sheet;for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].ownerNode===i)return document.styleSheets[a]}(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ur="-ms-",CI="-moz-",nn="-webkit-",SI="comm",sx="rule",lx="decl",TI="@keyframes",Wae=Math.abs,qg=String.fromCharCode,Kae=Object.assign;function EI(e){return e.trim()}function rn(e,t,n){return e.replace(t,n)}function cx(e,t){return e.indexOf(t)}function Ir(e,t){return 0|e.charCodeAt(t)}function Pm(e,t,n){return e.slice(t,n)}function Na(e){return e.length}function ux(e){return e.length}function Wg(e,t){return t.push(e),e}var Kg=1,Ld=1,OI=0,xo=0,rr=0,jd="";function Gg(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Kg,column:Ld,length:a,return:""}}function Nm(e,t){return Kae(Gg("",null,null,"",null,null,0),e,{length:-e.length},t)}function Gae(){return rr=xo>0?Ir(jd,--xo):0,Ld--,rr===10&&(Ld=1,Kg--),rr}function ri(){return rr=xo<OI?Ir(jd,xo++):0,Ld++,rr===10&&(Ld=1,Kg++),rr}function Ia(){return Ir(jd,xo)}function Yg(){return xo}function Im(e,t){return Pm(jd,e,t)}function Rm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AI(e){return Kg=Ld=1,OI=Na(jd=e),xo=0,[]}function PI(e){return jd="",e}function Qg(e){return EI(Im(xo-1,dx(e===91?e+2:e===40?e+1:e)))}function Yae(e){for(;(rr=Ia())&&rr<33;)ri();return Rm(e)>2||Rm(rr)>3?"":" "}function Qae(e,t){for(;--t&&ri()&&!(rr<48||rr>102||rr>57&&rr<65||rr>70&&rr<97););return Im(e,Yg()+(t<6&&Ia()==32&&ri()==32))}function dx(e){for(;ri();)switch(rr){case e:return xo;case 34:case 39:e!==34&&e!==39&&dx(rr);break;case 40:e===41&&dx(e);break;case 92:ri()}return xo}function Jae(e,t){for(;ri()&&e+rr!==57&&(e+rr!==84||Ia()!==47););return"/*"+Im(t,xo-1)+"*"+qg(e===47?e:ri())}function Xae(e){for(;!Rm(Ia());)ri();return Im(e,xo)}function Zae(e){return PI(Jg("",null,null,null,[""],e=AI(e),0,[0],e))}function Jg(e,t,n,r,o,i,a,s,l){for(var c=0,u=0,d=a,p=0,h=0,m=0,g=1,f=1,v=1,y=0,b="",w=o,k=i,_=r,E=b;f;)switch(m=y,y=ri()){case 40:if(m!=108&&Ir(E,d-1)==58){cx(E+=rn(Qg(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=Qg(y);break;case 9:case 10:case 13:case 32:E+=Yae(m);break;case 92:E+=Qae(Yg()-1,7);continue;case 47:switch(Ia()){case 42:case 47:Wg(ese(Jae(ri(),Yg()),t,n),l);break;default:E+="/"}break;case 123*g:s[c++]=Na(E)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:f=0;case 59+u:v==-1&&(E=rn(E,/\f/g,"")),h>0&&Na(E)-d&&Wg(h>32?II(E+";",r,n,d-1):II(rn(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Wg(_=NI(E,t,n,c,u,o,s,b,w=[],k=[],d),i),y===123)if(u===0)Jg(E,t,_,_,w,i,d,s,k);else switch(p===99&&Ir(E,3)===110?100:p){case 100:case 108:case 109:case 115:Jg(e,_,_,r&&Wg(NI(e,_,_,0,0,o,s,b,o,w=[],d),k),o,k,d,s,r?w:k);break;default:Jg(E,_,_,_,[""],k,0,s,k)}}c=u=h=0,g=v=1,b=E="",d=a;break;case 58:d=1+Na(E),h=m;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&Gae()==125)continue}switch(E+=qg(y),y*g){case 38:v=u>0?1:(E+="\f",-1);break;case 44:s[c++]=(Na(E)-1)*v,v=1;break;case 64:Ia()===45&&(E+=Qg(ri())),p=Ia(),u=d=Na(b=E+=Xae(Yg())),y++;break;case 45:m===45&&Na(E)==2&&(g=0)}}return i}function NI(e,t,n,r,o,i,a,s,l,c,u){for(var d=o-1,p=o===0?i:[""],h=ux(p),m=0,g=0,f=0;m<r;++m)for(var v=0,y=Pm(e,d+1,d=Wae(g=a[m])),b=e;v<h;++v)(b=EI(g>0?p[v]+" "+y:rn(y,/&\f/g,p[v])))&&(l[f++]=b);return Gg(e,t,n,o===0?sx:s,l,c,u)}function ese(e,t,n){return Gg(e,t,n,SI,qg(rr),Pm(e,2,-2),0)}function II(e,t,n,r){return Gg(e,t,n,lx,Pm(e,0,r),Pm(e,r+1,-1),r)}function zd(e,t){for(var n="",r=ux(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function tse(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case lx:return e.return=e.return||e.value;case SI:return"";case TI:return e.return=e.value+"{"+zd(e.children,r)+"}";case sx:e.value=e.props.join(",")}return Na(n=zd(e.children,r))?e.return=e.value+"{"+n+"}":""}function nse(e){return function(t){t.root||(t=t.return)&&e(t)}}function RI(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var rse=function(e,t,n){for(var r=0,o=0;r=o,o=Ia(),r===38&&o===12&&(t[n]=1),!Rm(o);)ri();return Im(e,xo)},ose=function(e,t){return PI(function(n,r){var o=-1,i=44;do switch(Rm(i)){case 0:i===38&&Ia()===12&&(r[o]=1),n[o]+=rse(xo-1,r,o);break;case 2:n[o]+=Qg(i);break;case 4:if(i===44){n[++o]=Ia()===58?"&\f":"",r[o]=n[o].length;break}default:n[o]+=qg(i)}while(i=ri());return n}(AI(e),t))},MI=new WeakMap,ise=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(!(n=n.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||MI.get(n))&&!r){MI.set(e,!0);for(var o=[],i=ose(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},ase=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function DI(e,t){switch(function(n,r){return 45^Ir(n,0)?(((r<<2^Ir(n,0))<<2^Ir(n,1))<<2^Ir(n,2))<<2^Ir(n,3):0}(e,t)){case 5103:return nn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nn+e+CI+e+Ur+e+e;case 6828:case 4268:return nn+e+Ur+e+e;case 6165:return nn+e+Ur+"flex-"+e+e;case 5187:return nn+e+rn(e,/(\w+).+(:[^]+)/,nn+"box-$1$2"+Ur+"flex-$1$2")+e;case 5443:return nn+e+Ur+"flex-item-"+rn(e,/flex-|-self/,"")+e;case 4675:return nn+e+Ur+"flex-line-pack"+rn(e,/align-content|flex-|-self/,"")+e;case 5548:return nn+e+Ur+rn(e,"shrink","negative")+e;case 5292:return nn+e+Ur+rn(e,"basis","preferred-size")+e;case 6060:return nn+"box-"+rn(e,"-grow","")+nn+e+Ur+rn(e,"grow","positive")+e;case 4554:return nn+rn(e,/([^-])(transform)/g,"$1"+nn+"$2")+e;case 6187:return rn(rn(rn(e,/(zoom-|grab)/,nn+"$1"),/(image-set)/,nn+"$1"),e,"")+e;case 5495:case 3959:return rn(e,/(image-set\([^]*)/,nn+"$1$`$1");case 4968:return rn(rn(e,/(.+:)(flex-)?(.*)/,nn+"box-pack:$3"+Ur+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nn+e+e;case 4095:case 3583:case 4068:case 2532:return rn(e,/(.+)-inline(.+)/,nn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Na(e)-1-t>6)switch(Ir(e,t+1)){case 109:if(Ir(e,t+4)!==45)break;case 102:return rn(e,/(.+:)(.+)-([^]+)/,"$1"+nn+"$2-$3$1"+CI+(Ir(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cx(e,"stretch")?DI(rn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ir(e,t+1)!==115)break;case 6444:switch(Ir(e,Na(e)-3-(~cx(e,"!important")&&10))){case 107:return rn(e,":",":"+nn)+e;case 101:return rn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nn+(Ir(e,14)===45?"inline-":"")+"box$3$1"+nn+"$2$3$1"+Ur+"$2box$3")+e}break;case 5936:switch(Ir(e,t+11)){case 114:return nn+e+Ur+rn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nn+e+Ur+rn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nn+e+Ur+rn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nn+e+Ur+e+e}return e}var sse=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case lx:e.return=DI(e.value,e.length);break;case TI:return zd([Nm(e,{value:rn(e.value,"@","@"+nn)})],r);case sx:if(e.length)return function(o,i){return o.map(i).join("")}(e.props,function(o){switch(function(i,a){return(i=a.exec(i))?i[0]:i}(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zd([Nm(e,{props:[rn(o,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return zd([Nm(e,{props:[rn(o,/:(plac\w+)/,":"+nn+"input-$1")]}),Nm(e,{props:[rn(o,/:(plac\w+)/,":-moz-$1")]}),Nm(e,{props:[rn(o,/:(plac\w+)/,Ur+"input-$1")]})],r)}return""})}}],LI=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(h){h.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var r,o=e.stylisPlugins||sse,i={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(h){for(var m=h.getAttribute("data-emotion").split(" "),g=1;g<m.length;g++)i[m[g]]=!0;a.push(h)});var s,l,c=[ise,ase],u=[tse,nse(function(h){l.insert(h)})],d=function(h){var m=ux(h);return function(g,f,v,y){for(var b="",w=0;w<m;w++)b+=h[w](g,f,v,y)||"";return b}}(c.concat(o,u));s=function(h,m,g,f){l=g,function(v){zd(Zae(v),d)}(h?h+"{"+m.styles+"}":m.styles),f&&(p.inserted[m.name]=!0)};var p={key:t,sheet:new qae({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return p.sheet.hydrate(a),p};function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(null,arguments)}var Xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jI,zI,FI,BI,UI={exports:{}},cn={};/** @license React v16.13.1
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function lse(){return zI||(zI=1,UI.exports=function(){if(jI)return cn;jI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,f=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function b(k){if(typeof k=="object"&&k!==null){var _=k.$$typeof;switch(_){case t:switch(k=k.type){case l:case c:case r:case i:case o:case d:return k;default:switch(k=k&&k.$$typeof){case s:case u:case m:case h:case a:return k;default:return _}}case n:return _}}}function w(k){return b(k)===c}return cn.AsyncMode=l,cn.ConcurrentMode=c,cn.ContextConsumer=s,cn.ContextProvider=a,cn.Element=t,cn.ForwardRef=u,cn.Fragment=r,cn.Lazy=m,cn.Memo=h,cn.Portal=n,cn.Profiler=i,cn.StrictMode=o,cn.Suspense=d,cn.isAsyncMode=function(k){return w(k)||b(k)===l},cn.isConcurrentMode=w,cn.isContextConsumer=function(k){return b(k)===s},cn.isContextProvider=function(k){return b(k)===a},cn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},cn.isForwardRef=function(k){return b(k)===u},cn.isFragment=function(k){return b(k)===r},cn.isLazy=function(k){return b(k)===m},cn.isMemo=function(k){return b(k)===h},cn.isPortal=function(k){return b(k)===n},cn.isProfiler=function(k){return b(k)===i},cn.isStrictMode=function(k){return b(k)===o},cn.isSuspense=function(k){return b(k)===d},cn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===c||k===i||k===o||k===d||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===h||k.$$typeof===a||k.$$typeof===s||k.$$typeof===u||k.$$typeof===f||k.$$typeof===v||k.$$typeof===y||k.$$typeof===g)},cn.typeOf=b,cn}()),UI.exports}(function(){if(BI)return FI;BI=1;var e=lse(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function i(p){return e.isMemo(p)?r:o[p.$$typeof]||t}o[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[e.Memo]=r;var a=Object.defineProperty,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,d=Object.prototype;FI=function p(h,m,g){if(typeof m!="string"){if(d){var f=u(m);f&&f!==d&&p(h,f,g)}var v=s(m);l&&(v=v.concat(l(m)));for(var y=i(h),b=i(m),w=0;w<v.length;++w){var k=v[w];if(!(n[k]||g&&g[k]||b&&b[k]||y&&y[k])){var _=c(m,k);try{a(h,k,_)}catch{}}}}return h}})();function HI(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var hx=function(e,t,n){var r=e.key+"-"+t.name;n===!1&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},$I=function(e,t,n){hx(e,t,n);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}},cse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},use=/[A-Z]|^ms/g,dse=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VI=function(e){return e.charCodeAt(1)===45},qI=function(e){return e!=null&&typeof e!="boolean"},px=RI(function(e){return VI(e)?e:e.replace(use,"-$&").toLowerCase()}),WI=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(dse,function(n,r,o){return Ra={name:r,styles:o,next:Ra},r})}return cse[e]===1||VI(e)||typeof t!="number"||t===0?t:t+"px"};function Mm(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(o.anim===1)return Ra={name:o.name,styles:o.styles,next:Ra},o.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Ra={name:a.name,styles:a.styles,next:Ra},a=a.next;return i.styles+";"}return function(d,p,h){var m="";if(Array.isArray(h))for(var g=0;g<h.length;g++)m+=Mm(d,p,h[g])+";";else for(var f in h){var v=h[f];if(typeof v!="object"){var y=v;p!=null&&p[y]!==void 0?m+=f+"{"+p[y]+"}":qI(y)&&(m+=px(f)+":"+WI(f,y)+";")}else if(!Array.isArray(v)||typeof v[0]!="string"||p!=null&&p[v[0]]!==void 0){var b=Mm(d,p,v);switch(f){case"animation":case"animationName":m+=px(f)+":"+b+";";break;default:m+=f+"{"+b+"}"}}else for(var w=0;w<v.length;w++)qI(v[w])&&(m+=px(f)+":"+WI(f,v[w])+";")}return m}(e,t,n);case"function":if(e!==void 0){var s=Ra,l=n(e);return Ra=s,Mm(e,t,l)}}var c=n;if(t==null)return c;var u=t[c];return u!==void 0?u:c}var Ra,KI=/label:\s*([^\s;{]+)\s*(;|$)/g;function mx(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";Ra=void 0;var i=e[0];i==null||i.raw===void 0?(r=!1,o+=Mm(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=Mm(n,t,e[a]),r&&(o+=i[a]);KI.lastIndex=0;for(var s,l="";(s=KI.exec(o))!==null;)l+="-"+s[1];var c=function(u){for(var d,p=0,h=0,m=u.length;m>=4;++h,m-=4)d=1540483477*(65535&(d=255&u.charCodeAt(h)|(255&u.charCodeAt(++h))<<8|(255&u.charCodeAt(++h))<<16|(255&u.charCodeAt(++h))<<24))+(59797*(d>>>16)<<16),p=1540483477*(65535&(d^=d>>>24))+(59797*(d>>>16)<<16)^1540483477*(65535&p)+(59797*(p>>>16)<<16);switch(m){case 3:p^=(255&u.charCodeAt(h+2))<<16;case 2:p^=(255&u.charCodeAt(h+1))<<8;case 1:p=1540483477*(65535&(p^=255&u.charCodeAt(h)))+(59797*(p>>>16)<<16)}return(((p=1540483477*(65535&(p^=p>>>13))+(59797*(p>>>16)<<16))^p>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:Ra}}var GI=!!x.useInsertionEffect&&x.useInsertionEffect||function(e){return e()},YI=x.createContext(typeof HTMLElement<"u"?LI({key:"css"}):null),hse=YI.Provider,QI=function(e){return x.forwardRef(function(t,n){var r=x.useContext(YI);return e(t,r,n)})},JI=x.createContext({}),Dm={}.hasOwnProperty,fx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gx=function(e,t){var n={};for(var r in t)Dm.call(t,r)&&(n[r]=t[r]);return n[fx]=e,n},pse=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return hx(t,n,r),GI(function(){return $I(t,n,r)}),null},mse=QI(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[fx],i=[r],a="";typeof e.className=="string"?a=HI(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=mx(i,void 0,x.useContext(JI));a+=t.key+"-"+s.name;var l={};for(var c in e)Dm.call(e,c)&&c!=="css"&&c!==fx&&(l[c]=e[c]);return l.className=a,n&&(l.ref=n),x.createElement(x.Fragment,null,x.createElement(pse,{cache:t,serialized:s,isStringTag:typeof o=="string"}),x.createElement(o,l))}),vx=mse,Yn=W.Fragment,A=function(e,t,n){return Dm.call(t,"css")?W.jsx(vx,gx(e,t),n):W.jsx(e,t,n)},le=function(e,t,n){return Dm.call(t,"css")?W.jsxs(vx,gx(e,t),n):W.jsxs(e,t,n)},XI=function(e,t){var n=arguments;if(t==null||!Dm.call(t,"css"))return x.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=vx,o[1]=gx(e,t);for(var i=2;i<r;i++)o[i]=n[i];return x.createElement.apply(null,o)};function ZI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mx(t)}function bx(){var e=ZI.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(XI||(XI={}));var eR,tR,fse=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gse=RI(function(e){return fse.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),vse=gse,bse=function(e){return e!=="theme"},nR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?vse:bse},rR=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(i){return e.__emotion_forwardProp(i)&&o(i)}:o}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},yse=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return hx(t,n,r),GI(function(){return $I(t,n,r)}),null},Ae=function e(t,n){var r,o,i=t.__emotion_real===t,a=i&&t.__emotion_base||t;n!==void 0&&(r=n.label,o=n.target);var s=rR(t,n,i),l=s||nR(a),c=!l("as");return function(){var u=arguments,d=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(r!==void 0&&d.push("label:"+r+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var p=u[0];d.push(p[0]);for(var h=u.length,m=1;m<h;m++)d.push(u[m],p[m])}var g=QI(function(f,v,y){var b=c&&f.as||a,w="",k=[],_=f;if(f.theme==null){for(var E in _={},f)_[E]=f[E];_.theme=x.useContext(JI)}typeof f.className=="string"?w=HI(v.registered,k,f.className):f.className!=null&&(w=f.className+" ");var S=mx(d.concat(k),v.registered,_);w+=v.key+"-"+S.name,o!==void 0&&(w+=" "+o);var O=c&&s===void 0?nR(b):l,T={};for(var M in f)c&&M==="as"||O(M)&&(T[M]=f[M]);return T.className=w,y&&(T.ref=y),x.createElement(x.Fragment,null,x.createElement(yse,{cache:v,serialized:S,isStringTag:typeof b=="string"}),x.createElement(b,T))});return g.displayName=r!==void 0?r:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=d,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(f,v){return e(f,Hr({},n,v,{shouldForwardProp:rR(g,v,!0)})).apply(void 0,d)},g}},oR={exports:{}},yx={};/**
     * @license React
     * use-sync-external-store-shim.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function iR(){return tR||(tR=1,oR.exports=function(){if(eR)return yx;eR=1;var e=Bt,t=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},n=e.useState,r=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(l){var c=l.getSnapshot;l=l.value;try{var u=c();return!t(l,u)}catch{return!0}}var s=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(l,c){return c()}:function(l,c){var u=c(),d=n({inst:{value:u,getSnapshot:c}}),p=d[0].inst,h=d[1];return o(function(){p.value=u,p.getSnapshot=c,a(p)&&h({inst:p})},[l,u,c]),r(function(){return a(p)&&h({inst:p}),l(function(){a(p)&&h({inst:p})})},[l]),i(u),u};return yx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:s,yx}()),oR.exports}iR();var aR,sR,lR={exports:{}},wx={};/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var wse=(sR||(sR=1,lR.exports=function(){if(aR)return wx;aR=1;var e=Bt,t=iR(),n=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},r=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,s=e.useDebugValue;return wx.useSyncExternalStoreWithSelector=function(l,c,u,d,p){var h=o(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=a(function(){function f(k){if(!b){if(b=!0,v=k,k=d(k),p!==void 0&&m.hasValue){var _=m.value;if(p(_,k))return y=_}return y=k}if(_=y,n(v,k))return _;var E=d(k);return p!==void 0&&p(_,E)?(v=k,_):(v=k,y=E)}var v,y,b=!1,w=u===void 0?null:u;return[function(){return f(c())},w===null?void 0:function(){return f(w())}]},[c,u,d,p]);var g=r(l,h[0],h[1]);return i(function(){m.hasValue=!0,m.value=g},[g]),s(g),g},wx}()),lR.exports);let cR=function(e){e()};const uR=Symbol.for("react-redux-context"),dR=typeof globalThis<"u"?globalThis:{};function kse(){var e;if(!x.createContext)return{};const t=(e=dR[uR])!=null?e:dR[uR]=new Map;let n=t.get(x.createContext);return n||(n=x.createContext(null),t.set(x.createContext,n)),n}const zl=kse();function kx(e=zl){return function(){return x.useContext(e)}}const hR=kx();let pR=()=>{throw new Error("uSES not initialized!")};const _se=(e,t)=>e===t;function xse(e=zl){const t=e===zl?hR:kx(e);return function(n,r={}){const{equalityFn:o=_se,stabilityCheck:i,noopCheck:a}=typeof r=="function"?{equalityFn:r}:r,{store:s,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=t();x.useRef(!0);const p=x.useCallback({[n.name]:m=>n(m)}[n.name],[n,u,i]),h=pR(l.addNestedSub,s.getState,c||s.getState,p,o);return x.useDebugValue(h),h}}const mR=xse();var fR,gR,vR={exports:{}},un={};/**
     * @license React
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function Cse(){const e=cR;let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],o=t;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){!o||t===null||(o=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}gR||(gR=1,vR.exports=function(){if(fR)return un;fR=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(f){if(typeof f=="object"&&f!==null){var v=f.$$typeof;switch(v){case t:switch(f=f.type){case r:case i:case o:case u:case d:return f;default:switch(f=f&&f.$$typeof){case l:case s:case c:case h:case p:case a:return f;default:return v}}case n:return v}}}return e=Symbol.for("react.module.reference"),un.ContextConsumer=s,un.ContextProvider=a,un.Element=t,un.ForwardRef=c,un.Fragment=r,un.Lazy=h,un.Memo=p,un.Portal=n,un.Profiler=i,un.StrictMode=o,un.Suspense=u,un.SuspenseList=d,un.isAsyncMode=function(){return!1},un.isConcurrentMode=function(){return!1},un.isContextConsumer=function(f){return g(f)===s},un.isContextProvider=function(f){return g(f)===a},un.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===t},un.isForwardRef=function(f){return g(f)===c},un.isFragment=function(f){return g(f)===r},un.isLazy=function(f){return g(f)===h},un.isMemo=function(f){return g(f)===p},un.isPortal=function(f){return g(f)===n},un.isProfiler=function(f){return g(f)===i},un.isStrictMode=function(f){return g(f)===o},un.isSuspense=function(f){return g(f)===u},un.isSuspenseList=function(f){return g(f)===d},un.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===r||f===i||f===o||f===u||f===d||f===m||typeof f=="object"&&f!==null&&(f.$$typeof===h||f.$$typeof===p||f.$$typeof===a||f.$$typeof===s||f.$$typeof===c||f.$$typeof===e||f.getModuleId!==void 0)},un.typeOf=g,un}()),vR.exports;const bR={notify(){},get:()=>[]},Sse=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?x.useLayoutEffect:x.useEffect;function Tse({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",noopCheck:i="once"}){const a=x.useMemo(()=>{const c=function(u){let d,p=bR,h=0,m=!1;function g(){y.onStateChange&&y.onStateChange()}function f(){h++,d||(d=u.subscribe(g),p=Cse())}function v(){h--,d&&h===0&&(d(),d=void 0,p.clear(),p=bR)}const y={addNestedSub:function(b){f();const w=p.subscribe(b);let k=!1;return()=>{k||(k=!0,w(),v())}},notifyNestedSubs:function(){p.notify()},handleChangeWrapper:g,isSubscribed:function(){return m},trySubscribe:function(){m||(m=!0,f())},tryUnsubscribe:function(){m&&(m=!1,v())},getListeners:()=>p};return y}(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:i}},[e,r,o,i]),s=x.useMemo(()=>e.getState(),[e]);Sse(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=t||zl;return x.createElement(l.Provider,{value:a},n)}function yR(e=zl){const t=e===zl?hR:kx(e);return function(){const{store:n}=t();return n}}const Ese=yR();function Ose(e=zl){const t=e===zl?Ese:yR(e);return function(){return t().dispatch}}const Ase=Ose();function Lm(e,t){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lm(e,t)}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_x(e)}function wR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!e})()}function xx(e){var t=typeof Map=="function"?new Map:void 0;return xx=function(n){if(n===null||!function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch{return typeof o=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(o,i,a){if(wR())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,i);var l=new(o.bind.apply(o,s));return a&&Lm(l,a.prototype),l}(n,arguments,_x(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Lm(r,n)},xx(e)}(e=>{pR=e})(wse.useSyncExternalStoreWithSelector),(e=>{cR=e})(Os.unstable_batchedUpdates);var Ma=function(e){function t(n){return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this)}return function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,Lm(n,r)}(t,e),t}(xx(Error));function Cx(e){return Math.round(255*e)}function Pse(e,t,n){return Cx(e)+","+Cx(t)+","+Cx(n)}function Zg(e,t,n,r){if(r===void 0&&(r=Pse),t===0)return r(n,n,n);var o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,l=0,c=0;o>=0&&o<1?(s=i,l=a):o>=1&&o<2?(s=a,l=i):o>=2&&o<3?(l=i,c=a):o>=3&&o<4?(l=a,c=i):o>=4&&o<5?(s=a,c=i):o>=5&&o<6&&(s=i,c=a);var u=n-i/2;return r(s+u,l+u,c+u)}var kR={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Nse=/^#[a-fA-F0-9]{6}$/,Ise=/^#[a-fA-F0-9]{8}$/,Rse=/^#[a-fA-F0-9]{3}$/,Mse=/^#[a-fA-F0-9]{4}$/,Sx=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,Dse=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,Lse=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,jse=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function Fd(e){if(typeof e!="string")throw new Ma(3);var t=function(p){if(typeof p!="string")return p;var h=p.toLowerCase();return kR[h]?"#"+kR[h]:p}(e);if(t.match(Nse))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Ise)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Rse))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Mse)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=Sx.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=Dse.exec(t.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])>1?parseFloat(""+i[4])/100:parseFloat(""+i[4])};var a=Lse.exec(t);if(a){var s="rgb("+Zg(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=Sx.exec(s);if(!l)throw new Ma(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=jse.exec(t.substring(0,50));if(c){var u="rgb("+Zg(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=Sx.exec(u);if(!d)throw new Ma(4,t,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new Ma(5)}function Fl(e){return function(t){var n=t.red/255,r=t.green/255,o=t.blue/255,i=Math.max(n,r,o),a=Math.min(n,r,o),s=(i+a)/2;if(i===a)return t.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:t.alpha}:{hue:0,saturation:0,lightness:s};var l,c=i-a,u=s>.5?c/(2-i-a):c/(i+a);switch(i){case n:l=(r-o)/c+(r<o?6:0);break;case r:l=(o-n)/c+2;break;default:l=(n-r)/c+4}return l*=60,t.alpha!==void 0?{hue:l,saturation:u,lightness:s,alpha:t.alpha}:{hue:l,saturation:u,lightness:s}}(Fd(e))}var Tx=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function Uc(e){var t=e.toString(16);return t.length===1?"0"+t:t}function Ex(e){return Uc(Math.round(255*e))}function zse(e,t,n){return Tx("#"+Ex(e)+Ex(t)+Ex(n))}function _R(e,t,n){return Zg(e,t,n,zse)}function xR(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Tx("#"+Uc(e)+Uc(t)+Uc(n));if(typeof e=="object"&&t===void 0&&n===void 0)return Tx("#"+Uc(e.red)+Uc(e.green)+Uc(e.blue));throw new Ma(6)}function ev(e,t,n,r){if(typeof e=="object"&&t===void 0&&n===void 0&&r===void 0)return e.alpha>=1?xR(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Ma(7)}function Bl(e){if(typeof e!="object")throw new Ma(8);if(function(t){return typeof t.red=="number"&&typeof t.green=="number"&&typeof t.blue=="number"&&typeof t.alpha=="number"}(e))return ev(e);if(function(t){return typeof t.red=="number"&&typeof t.green=="number"&&typeof t.blue=="number"&&(typeof t.alpha!="number"||t.alpha===void 0)}(e))return xR(e);if(function(t){return typeof t.hue=="number"&&typeof t.saturation=="number"&&typeof t.lightness=="number"&&typeof t.alpha=="number"}(e))return function(t,n,r,o){if(typeof t=="object"&&n===void 0&&r===void 0&&o===void 0)return t.alpha>=1?_R(t.hue,t.saturation,t.lightness):"rgba("+Zg(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new Ma(2)}(e);if(function(t){return typeof t.hue=="number"&&typeof t.saturation=="number"&&typeof t.lightness=="number"&&(typeof t.alpha!="number"||t.alpha===void 0)}(e))return function(t,n,r){if(typeof t=="object"&&n===void 0&&r===void 0)return _R(t.hue,t.saturation,t.lightness);throw new Ma(1)}(e);throw new Ma(8)}function CR(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):CR(e,t,r)}}function oi(e){return CR(e,e.length,[])}function Bd(e,t,n){return Math.max(e,Math.min(t,n))}oi(function(e,t){if(t==="transparent")return t;var n=Fl(t);return Bl(Hr({},n,{hue:n.hue+parseFloat(e)}))});var Fse=oi(function(e,t){if(t==="transparent")return t;var n=Fl(t);return Bl(Hr({},n,{lightness:Bd(0,1,n.lightness-parseFloat(e))}))}),Bse=Fse;oi(function(e,t){if(t==="transparent")return t;var n=Fl(t);return Bl(Hr({},n,{saturation:Bd(0,1,n.saturation-parseFloat(e))}))});var Use=oi(function(e,t){if(t==="transparent")return t;var n=Fl(t);return Bl(Hr({},n,{lightness:Bd(0,1,n.lightness+parseFloat(e))}))}),Hse=Use,$se=oi(function(e,t,n){if(t==="transparent")return n;if(n==="transparent")return t;if(e===0)return n;var r=Fd(t),o=Hr({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),i=Fd(n),a=Hr({},i,{alpha:typeof i.alpha=="number"?i.alpha:1}),s=o.alpha-a.alpha,l=2*parseFloat(e)-1,c=((l*s===-1?l:l+s)/(1+l*s)+1)/2,u=1-c;return ev({red:Math.floor(o.red*c+a.red*u),green:Math.floor(o.green*c+a.green*u),blue:Math.floor(o.blue*c+a.blue*u),alpha:o.alpha*parseFloat(e)+a.alpha*(1-parseFloat(e))})}),SR=$se;function Ji(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ul(e){return!!e&&!!e[Mn]}function Ls(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Yse}(e)||Array.isArray(e)||!!e[DR]||!((t=e.constructor)===null||t===void 0||!t[DR])||Ox(e)||Ax(e))}function Hc(e,t,n){n===void 0&&(n=!1),Ud(e)===0?(n?Object.keys:$d)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function Ud(e){var t=e[Mn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ox(e)?2:Ax(e)?3:0}function Hd(e,t){return Ud(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function TR(e,t,n){var r=Ud(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ER(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Ox(e){return Kse&&e instanceof Map}function Ax(e){return Gse&&e instanceof Set}function $c(e){return e.o||e.t}function Px(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=LR(e);delete t[Mn];for(var n=$d(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Nx(e,t){return t===void 0&&(t=!1),Ix(e)||Ul(e)||!Ls(e)||(Ud(e)>1&&(e.set=e.add=e.clear=e.delete=Vse),Object.freeze(e),t&&Hc(e,function(n,r){return Nx(r,!0)},!0)),e}function Vse(){Ji(2)}function Ix(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Da(e){var t=Ux[e];return t||Ji(18,e),t}function Rx(){return jm}function Mx(e,t){t&&(Da("Patches"),e.u=[],e.s=[],e.v=t)}function tv(e){Dx(e),e.p.forEach(qse),e.p=null}function Dx(e){e===jm&&(jm=e.l)}function OR(e){return jm={p:[],l:jm,h:e,m:!0,_:0}}function qse(e){var t=e[Mn];t.i===0||t.i===1?t.j():t.g=!0}function Lx(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Da("ES5").S(t,e,r),r?(n[Mn].P&&(tv(t),Ji(4)),Ls(e)&&(e=nv(t,e),t.l||rv(t,e)),t.u&&Da("Patches").M(n[Mn].t,e,t.u,t.s)):e=nv(t,n,[]),tv(t),t.u&&t.v(t.u,t.s),e!==MR?e:void 0}function nv(e,t,n){if(Ix(t))return t;var r=t[Mn];if(!r)return Hc(t,function(s,l){return AR(e,r,t,s,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return rv(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=Px(r.k):r.o,i=o,a=!1;r.i===3&&(i=new Set(o),o.clear(),a=!0),Hc(i,function(s,l){return AR(e,r,o,s,l,n,a)}),rv(e,o,!1),n&&e.u&&Da("Patches").N(r,n,e.u,e.s)}return r.o}function AR(e,t,n,r,o,i,a){if(Ul(o)){var s=nv(e,o,i&&t&&t.i!==3&&!Hd(t.R,r)?i.concat(r):void 0);if(TR(n,r,s),!Ul(s))return;e.m=!1}else a&&n.add(o);if(Ls(o)&&!Ix(o)){if(!e.h.D&&e._<1)return;nv(e,o),t&&t.A.l||rv(e,o)}}function rv(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Nx(t,n)}function jx(e,t){var n=e[Mn];return(n?$c(n):e)[t]}function PR(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Hl(e){e.P||(e.P=!0,e.l&&Hl(e.l))}function zx(e){e.o||(e.o=Px(e.t))}function Fx(e,t,n){var r=Ox(t)?Da("MapSet").F(t,n):Ax(t)?Da("MapSet").T(t,n):e.O?function(o,i){var a=Array.isArray(o),s={i:a?1:0,A:i?i.A:Rx(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},l=s,c=zm;a&&(l=[s],c=Fm);var u=Proxy.revocable(l,c),d=u.revoke,p=u.proxy;return s.k=p,s.j=d,p}(t,n):Da("ES5").J(t,n);return(n?n.A:Rx()).p.push(r),r}function Wse(e){return Ul(e)||Ji(22,e),function t(n){if(!Ls(n))return n;var r,o=n[Mn],i=Ud(n);if(o){if(!o.P&&(o.i<4||!Da("ES5").K(o)))return o.t;o.I=!0,r=NR(n,i),o.I=!1}else r=NR(n,i);return Hc(r,function(a,s){o&&function(l,c){return Ud(l)===2?l.get(c):l[c]}(o.t,a)===s||TR(r,a,t(s))}),i===3?new Set(r):r}(e)}function NR(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Px(e)}oi(function(e,t){if(t==="transparent")return t;var n=Fd(t);return ev(Hr({},n,{alpha:Bd(0,1,(100*(typeof n.alpha=="number"?n.alpha:1)+100*parseFloat(e))/100)}))}),oi(function(e,t){if(t==="transparent")return t;var n=Fl(t);return Bl(Hr({},n,{saturation:Bd(0,1,n.saturation+parseFloat(e))}))}),oi(function(e,t){return t==="transparent"?t:Bl(Hr({},Fl(t),{hue:parseFloat(e)}))}),oi(function(e,t){return t==="transparent"?t:Bl(Hr({},Fl(t),{lightness:parseFloat(e)}))}),oi(function(e,t){return t==="transparent"?t:Bl(Hr({},Fl(t),{saturation:parseFloat(e)}))}),oi(function(e,t){return t==="transparent"?t:SR(parseFloat(e),"rgb(0, 0, 0)",t)}),oi(function(e,t){return t==="transparent"?t:SR(parseFloat(e),"rgb(255, 255, 255)",t)}),oi(function(e,t){if(t==="transparent")return t;var n=Fd(t);return ev(Hr({},n,{alpha:Bd(0,1,+(100*(typeof n.alpha=="number"?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))});var IR,jm,Bx=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Kse=typeof Map<"u",Gse=typeof Set<"u",RR=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",MR=Bx?Symbol.for("immer-nothing"):((IR={})["immer-nothing"]=!0,IR),DR=Bx?Symbol.for("immer-draftable"):"__$immer_draftable",Mn=Bx?Symbol.for("immer-state"):"__$immer_state",Yse=""+Object.prototype.constructor,$d=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,LR=Object.getOwnPropertyDescriptors||function(e){var t={};return $d(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ux={},zm={get:function(e,t){if(t===Mn)return e;var n=$c(e);if(!Hd(n,t))return function(o,i,a){var s,l=PR(i,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Ls(r)?r:r===jx(e.t,t)?(zx(e),e.o[t]=Fx(e.A.h,r,e)):r},has:function(e,t){return t in $c(e)},ownKeys:function(e){return Reflect.ownKeys($c(e))},set:function(e,t,n){var r=PR($c(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=jx($c(e),t),i=o==null?void 0:o[Mn];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ER(n,o)&&(n!==void 0||Hd(e.t,t)))return!0;zx(e),Hl(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return jx(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,zx(e),Hl(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=$c(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ji(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ji(12)}},Fm={};Hc(zm,function(e,t){Fm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Fm.deleteProperty=function(e,t){return Fm.set.call(this,e,t,void 0)},Fm.set=function(e,t,n){return zm.set.call(this,e[0],t,n,e[0])};var Qse=function(){function e(n){var r=this;this.O=RR,this.D=!0,this.produce=function(o,i,a){if(typeof o=="function"&&typeof i!="function"){var s=i;i=o;var l=r;return function(g){var f=this;g===void 0&&(g=s);for(var v=arguments.length,y=Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return l.produce(g,function(w){var k;return(k=i).call.apply(k,[f,w].concat(y))})}}var c;if(typeof i!="function"&&Ji(6),a!==void 0&&typeof a!="function"&&Ji(7),Ls(o)){var u=OR(r),d=Fx(r,o,void 0),p=!0;try{c=i(d),p=!1}finally{p?tv(u):Dx(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return Mx(u,a),Lx(g,u)},function(g){throw tv(u),g}):(Mx(u,a),Lx(c,u))}if(!o||typeof o!="object"){if((c=i(o))===void 0&&(c=o),c===MR&&(c=void 0),r.D&&Nx(c,!0),a){var h=[],m=[];Da("Patches").M(o,c,h,m),a(h,m)}return c}Ji(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(c){for(var u=arguments.length,d=Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];return r.produceWithPatches(c,function(h){return o.apply(void 0,[h].concat(d))})};var a,s,l=r.produce(o,i,function(c,u){a=c,s=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,a,s]}):[l,a,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Ls(n)||Ji(8),Ul(n)&&(n=Wse(n));var r=OR(this),o=Fx(this,n,void 0);return o[Mn].C=!0,Dx(r),o},t.finishDraft=function(n,r){var o=(n&&n[Mn]).A;return Mx(o,r),Lx(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!RR&&Ji(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var a=Da("Patches").$;return Ul(n)?a(n,r):this.produce(n,function(s){return a(s,r)})},e}(),ii=new Qse,jR=ii.produce;function Bm(e){return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function Jse(e){var t=function(n,r){if(Bm(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var i=o.call(n,r);if(Bm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Bm(t)=="symbol"?t:t+""}function Xse(e,t,n){return(t=Jse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function FR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(r){Xse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}ii.produceWithPatches.bind(ii),ii.setAutoFreeze.bind(ii),ii.setUseProxies.bind(ii),ii.applyPatches.bind(ii),ii.createDraft.bind(ii),ii.finishDraft.bind(ii);var BR=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hx=function(){return Math.random().toString(36).substring(7).split("").join(".")},ov={INIT:"@@redux/INIT"+Hx(),REPLACE:"@@redux/REPLACE"+Hx(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Hx()}};function UR(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vr(0));if(typeof t=="function"&&n===void 0&&(n=t,t=void 0),n!==void 0){if(typeof n!="function")throw new Error(Vr(1));return n(UR)(e,t)}if(typeof e!="function")throw new Error(Vr(2));var o=e,i=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Vr(3));return i}function d(h){if(typeof h!="function")throw new Error(Vr(4));if(l)throw new Error(Vr(5));var m=!0;return c(),s.push(h),function(){if(m){if(l)throw new Error(Vr(6));m=!1,c();var g=s.indexOf(h);s.splice(g,1),a=null}}}function p(h){if(!function(f){if(typeof f!="object"||f===null)return!1;for(var v=f;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(f)===v}(h))throw new Error(Vr(7));if(h.type===void 0)throw new Error(Vr(8));if(l)throw new Error(Vr(9));try{l=!0,i=o(i,h)}finally{l=!1}for(var m=a=s,g=0;g<m.length;g++)(0,m[g])();return h}return p({type:ov.INIT}),r={dispatch:p,subscribe:d,getState:u,replaceReducer:function(h){if(typeof h!="function")throw new Error(Vr(10));o=h,p({type:ov.REPLACE})}},r[BR]=function(){var h,m=d;return h={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Vr(11));function f(){g.next&&g.next(u())}return f(),{unsubscribe:m(f)}}},h[BR]=function(){return this},h},r}function Zse(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];typeof e[o]=="function"&&(n[o]=e[o])}var i,a=Object.keys(n);try{(function(s){Object.keys(s).forEach(function(l){var c=s[l];if(c(void 0,{type:ov.INIT})===void 0)throw new Error(Vr(12));if(c(void 0,{type:ov.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(Vr(13))})})(n)}catch(s){i=s}return function(s,l){if(s===void 0&&(s={}),i)throw i;for(var c=!1,u={},d=0;d<a.length;d++){var p=a[d],h=n[p],m=s[p],g=h(m,l);if(g===void 0)throw l&&l.type,new Error(Vr(14));u[p]=g,c=c||g!==m}return(c=c||a.length!==Object.keys(s).length)?u:s}}function iv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,o){return function(){return r(o.apply(void 0,arguments))}})}function ele(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var o=r.apply(void 0,arguments),i=function(){throw new Error(Vr(15))},a={getState:o.getState,dispatch:function(){return i.apply(void 0,arguments)}},s=t.map(function(l){return l(a)});return i=iv.apply(void 0,s)(o.dispatch),FR(FR({},o),{},{dispatch:i})}}}var av="NOT_FOUND",tle=function(e,t){return e===t};function nle(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,o=r===void 0?tle:r,i=n.maxSize,a=i===void 0?1:i,s=n.resultEqualityCheck,l=function(d){return function(p,h){if(p===null||h===null||p.length!==h.length)return!1;for(var m=p.length,g=0;g<m;g++)if(!d(p[g],h[g]))return!1;return!0}}(o),c=a===1?function(d){var p;return{get:function(h){return p&&d(p.key,h)?p.value:av},put:function(h,m){p={key:h,value:m}},getEntries:function(){return p?[p]:[]},clear:function(){p=void 0}}}(l):function(d,p){var h=[];function m(g){var f=h.findIndex(function(y){return p(g,y.key)});if(f>-1){var v=h[f];return f>0&&(h.splice(f,1),h.unshift(v)),v.value}return av}return{get:m,put:function(g,f){m(g)===av&&(h.unshift({key:g,value:f}),h.length>d&&h.pop())},getEntries:function(){return h},clear:function(){h=[]}}}(a,l);function u(){var d=c.get(arguments);if(d===av){if(d=e.apply(null,arguments),s){var p=c.getEntries().find(function(h){return s(h.value,d)});p&&(d=p.value)}c.put(arguments,d)}return d}return u.clearCache=function(){return c.clear()},u}function rle(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s,l=0,c={memoizeOptions:void 0},u=i.pop();if(typeof u=="object"&&(c=u,u=i.pop()),typeof u!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var d=c.memoizeOptions,p=d===void 0?n:d,h=Array.isArray(p)?p:[p],m=function(v){var y=Array.isArray(v[0])?v[0]:v;if(!y.every(function(w){return typeof w=="function"})){var b=y.map(function(w){return typeof w=="function"?"function "+(w.name||"unnamed")+"()":typeof w}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+b+"]")}return y}(i),g=e.apply(void 0,[function(){return l++,u.apply(null,arguments)}].concat(h)),f=e(function(){for(var v=[],y=m.length,b=0;b<y;b++)v.push(m[b].apply(null,arguments));return s=g.apply(null,v)});return Object.assign(f,{resultFunc:u,memoizedResultFunc:g,dependencies:m,lastResult:function(){return s},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),f}}var HR=rle(nle);function $R(e){return function(t){var n=t.dispatch,r=t.getState;return function(o){return function(i){return typeof i=="function"?i(n,r,e):o(i)}}}}var $x=$R();$x.withExtraArgument=$R;var VR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ole=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(u[0]===6&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(d){u=[6,d],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}},Vd=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},ile=Object.defineProperty,ale=Object.defineProperties,sle=Object.getOwnPropertyDescriptors,qR=Object.getOwnPropertySymbols,lle=Object.prototype.hasOwnProperty,cle=Object.prototype.propertyIsEnumerable,WR=function(e,t,n){return t in e?ile(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$l=function(e,t){for(var n in t||(t={}))lle.call(t,n)&&WR(e,n,t[n]);if(qR)for(var r=0,o=qR(t);r<o.length;r++)n=o[r],cle.call(t,n)&&WR(e,n,t[n]);return e},Vx=function(e,t){return ale(e,sle(t))},ule=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iv:iv.apply(null,arguments)};function Vl(e,t){function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t){var i=t.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return $l($l({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var dle=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return VR(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Vd([void 0],n[0].concat(this)))):new(t.bind.apply(t,Vd([void 0],n.concat(this))))},t}(Array),hle=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return VR(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Vd([void 0],n[0].concat(this)))):new(t.bind.apply(t,Vd([void 0],n.concat(this))))},t}(Array);function qx(e){return Ls(e)?jR(e,function(){}):e}function ple(){return function(e){return function(t){t===void 0&&(t={});var n=t.thunk,r=n===void 0||n;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var o=new dle;return r&&(function(i){return typeof i=="boolean"}(r)?o.push($x):o.push($x.withExtraArgument(r.extraArgument))),o}(e)}}function KR(e){var t,n={},r=[],o={addCase:function(i,a){var s=typeof i=="string"?i:i.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[s]=a,o},addMatcher:function(i,a){return r.push({matcher:i,reducer:a}),o},addDefaultCase:function(i){return t=i,o}};return e(o),[n,r,t]}function sv(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r=typeof e.initialState=="function"?e.initialState:qx(e.initialState),o=e.reducers||{},i=Object.keys(o),a={},s={},l={};function c(){var u=typeof e.extraReducers=="function"?KR(e.extraReducers):[e.extraReducers],d=u[0],p=d===void 0?{}:d,h=u[1],m=h===void 0?[]:h,g=u[2],f=g===void 0?void 0:g,v=$l($l({},p),s);return function(y,b,w,k){w===void 0&&(w=[]);var _,E=typeof b=="function"?KR(b):[b,w,k],S=E[0],O=E[1],T=E[2];if(function(H){return typeof H=="function"}(y))_=function(){return qx(y())};else{var M=qx(y);_=function(){return M}}function D(H,$){H===void 0&&(H=_());var R=Vd([S[$.type]],O.filter(function(U){return(0,U.matcher)($)}).map(function(U){return U.reducer}));return R.filter(function(U){return!!U}).length===0&&(R=[T]),R.reduce(function(U,B){if(B){var L;if(Ul(U))return(L=B(U,$))===void 0?U:L;if(Ls(U))return jR(U,function(C){return B(C,$)});if((L=B(U,$))===void 0){if(U===null)return U;throw Error("A case reducer on a non-draftable value must not return undefined")}return L}return U},H)}return D.getInitialState=_,D}(r,function(y){for(var b in v)y.addCase(b,v[b]);for(var w=0,k=m;w<k.length;w++){var _=k[w];y.addMatcher(_.matcher,_.reducer)}f&&y.addDefaultCase(f)})}return i.forEach(function(u){var d,p,h=o[u],m=function(g,f){return g+"/"+f}(t,u);"reducer"in h?(d=h.reducer,p=h.prepare):d=h,a[u]=d,s[m]=d,l[u]=p?Vl(m,p):Vl(m)}),{name:t,reducer:function(u,d){return n||(n=c()),n(u,d)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var mle=["name","message","stack","code"],Wx=function(){return function(e,t){this.payload=e,this.meta=t}}(),GR=function(){return function(e,t){this.payload=e,this.meta=t}}(),fle=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=mle;n<r.length;n++){var o=r[n];typeof e[o]=="string"&&(t[o]=e[o])}return t}return{message:String(e)}},ql=function(){function e(t,n,r){var o=Vl(t+"/fulfilled",function(l,c,u,d){return{payload:l,meta:Vx($l({},d||{}),{arg:u,requestId:c,requestStatus:"fulfilled"})}}),i=Vl(t+"/pending",function(l,c,u){return{payload:void 0,meta:Vx($l({},u||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),a=Vl(t+"/rejected",function(l,c,u,d,p){return{payload:d,error:(r&&r.serializeError||fle)(l||"Rejected"),meta:Vx($l({},p||{}),{arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();return Object.assign(function(l){return function(c,u,d){var p,h=r!=null&&r.idGenerator?r.idGenerator(l):function(v){v===void 0&&(v=21);for(var y="",b=v;b--;)y+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return y}(),m=new s;function g(v){p=v,m.abort()}var f=function(){return function(v,y,b){return new Promise(function(w,k){var _=function(O){try{S(b.next(O))}catch(T){k(T)}},E=function(O){try{S(b.throw(O))}catch(T){k(T)}},S=function(O){return O.done?w(O.value):Promise.resolve(O.value).then(_,E)};S((b=b.apply(v,y)).next())})}(this,null,function(){var v,y,b,w,k,_;return ole(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),function(S){return S!==null&&typeof S=="object"&&typeof S.then=="function"}(w=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:u,extra:d}))?[4,w]:[3,2];case 1:w=E.sent(),E.label=2;case 2:if(w===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return k=new Promise(function(S,O){return m.signal.addEventListener("abort",function(){return O({name:"AbortError",message:p||"Aborted"})})}),c(i(h,l,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:h,arg:l},{getState:u,extra:d}))),[4,Promise.race([k,Promise.resolve(n(l,{dispatch:c,getState:u,extra:d,requestId:h,signal:m.signal,abort:g,rejectWithValue:function(S,O){return new Wx(S,O)},fulfillWithValue:function(S,O){return new GR(S,O)}})).then(function(S){if(S instanceof Wx)throw S;return S instanceof GR?o(S.payload,h,l,S.meta):o(S,h,l)})])];case 3:return b=E.sent(),[3,5];case 4:return _=E.sent(),b=_ instanceof Wx?a(null,h,l,_.payload,_.meta):a(_,h,l),[3,5];case 5:return r&&!r.dispatchConditionRejection&&a.match(b)&&b.meta.condition||c(b),[2,b]}})})}();return Object.assign(f,{abort:g,requestId:h,arg:l,unwrap:function(){return f.then(gle)}})}},{pending:i,rejected:a,fulfilled:o,typePrefix:t})}return e.withTypes=function(){return e},e}();function gle(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Kx="listenerMiddleware";Vl(Kx+"/add"),Vl(Kx+"/removeAll"),Vl(Kx+"/remove"),typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis),function(){function e(i,a){var s=o[i];return s?s.enumerable=a:o[i]=s={configurable:!0,enumerable:a,get:function(){var l=this[Mn];return zm.get(l,i)},set:function(l){var c=this[Mn];zm.set(c,i,l)}},s}function t(i){for(var a=i.length-1;a>=0;a--){var s=i[a][Mn];if(!s.P)switch(s.i){case 5:r(s)&&Hl(s);break;case 4:n(s)&&Hl(s)}}}function n(i){for(var a=i.t,s=i.k,l=$d(s),c=l.length-1;c>=0;c--){var u=l[c];if(u!==Mn){var d=a[u];if(d===void 0&&!Hd(a,u))return!0;var p=s[u],h=p&&p[Mn];if(h?h.t!==d:!ER(p,d))return!0}}var m=!!a[Mn];return l.length!==$d(a).length+(m?0:1)}function r(i){var a=i.k;if(a.length!==i.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var o={};(function(i,a){Ux[i]||(Ux[i]=a)})("ES5",{J:function(i,a){var s=Array.isArray(i),l=function(u,d){if(u){for(var p=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(p,""+h,e(h,!0));return p}var m=LR(d);delete m[Mn];for(var g=$d(m),f=0;f<g.length;f++){var v=g[f];m[v]=e(v,u||!!m[v].enumerable)}return Object.create(Object.getPrototypeOf(d),m)}(s,i),c={i:s?5:4,A:a?a.A:Rx(),P:!1,I:!1,R:{},l:a,t:i,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Mn,{value:c,writable:!0}),l},S:function(i,a,s){s?Ul(a)&&a[Mn].A===i&&t(i.p):(i.u&&function l(c){if(c&&typeof c=="object"){var u=c[Mn];if(u){var d=u.t,p=u.k,h=u.R,m=u.i;if(m===4)Hc(p,function(b){b!==Mn&&(d[b]!==void 0||Hd(d,b)?h[b]||l(p[b]):(h[b]=!0,Hl(u)))}),Hc(d,function(b){p[b]!==void 0||Hd(p,b)||(h[b]=!1,Hl(u))});else if(m===5){if(r(u)&&(Hl(u),h.length=!0),p.length<d.length)for(var g=p.length;g<d.length;g++)h[g]=!1;else for(var f=d.length;f<p.length;f++)h[f]=!0;for(var v=Math.min(p.length,d.length),y=0;y<v;y++)p.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&l(p[y])}}}}(i.p[0]),t(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}();const YR={autoScrollToBottom:!0,enableClose:!0,showAgreement:!1,expiredTime:3600,style:{width:400,height:650}};var QR=typeof global=="object"&&global&&global.Object===Object&&global,vle=typeof self=="object"&&self&&self.Object===Object&&self,La=QR||vle||Function("return this")(),ja=La.Symbol,JR=Object.prototype,ble=JR.hasOwnProperty,yle=JR.toString,Um=ja?ja.toStringTag:void 0,wle=Object.prototype.toString,XR=ja?ja.toStringTag:void 0;function Vc(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":XR&&XR in Object(e)?function(t){var n=ble.call(t,Um),r=t[Um];try{t[Um]=void 0;var o=!0}catch{}var i=yle.call(t);return o&&(n?t[Um]=r:delete t[Um]),i}(e):function(t){return wle.call(t)}(e)}function za(e){return e!=null&&typeof e=="object"}function Gx(e){return typeof e=="symbol"||za(e)&&Vc(e)=="[object Symbol]"}function ZR(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Cr=Array.isArray,eM=ja?ja.prototype:void 0,tM=eM?eM.toString:void 0;function nM(e){if(typeof e=="string")return e;if(Cr(e))return ZR(e,nM)+"";if(Gx(e))return tM?tM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function _i(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Yx(e){return e}function lv(e){if(!_i(e))return!1;var t=Vc(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"}var Qx=La["__core-js_shared__"],rM=function(){var e=/[^.]+$/.exec(Qx&&Qx.keys&&Qx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),kle=Function.prototype.toString;function qc(e){if(e!=null){try{return kle.call(e)}catch{}try{return e+""}catch{}}return""}var _le=/^\[object .+?Constructor\]$/,xle=Function.prototype,Cle=Object.prototype,Sle=xle.toString,Tle=Cle.hasOwnProperty,Ele=RegExp("^"+Sle.call(Tle).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ole(e){return!(!_i(e)||function(t){return!!rM&&rM in t}(e))&&(lv(e)?Ele:_le).test(qc(e))}function Wc(e,t){var n=function(r,o){return r==null?void 0:r[o]}(e,t);return Ole(n)?n:void 0}var Jx=Wc(La,"WeakMap"),oM=Object.create,iM=function(){function e(){}return function(t){if(!_i(t))return{};if(oM)return oM(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ale=Date.now;function Ple(e){return function(){return e}}var cv=function(){try{var e=Wc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Nle=cv?function(e,t){return cv(e,"toString",{configurable:!0,enumerable:!1,value:Ple(t),writable:!0})}:Yx,Ile=function(e){var t=0,n=0;return function(){var r=Ale(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Nle);function aM(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Rle=/^(?:0|[1-9]\d*)$/;function uv(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&Rle.test(e))&&e>-1&&e%1==0&&e<t}function Xx(e,t,n){t=="__proto__"&&cv?cv(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Hm(e,t){return e===t||e!=e&&t!=t}var Mle=Object.prototype.hasOwnProperty;function Zx(e,t,n){var r=e[t];(!Mle.call(e,t)||!Hm(r,n)||n===void 0&&!(t in e))&&Xx(e,t,n)}var sM=Math.max;function Dle(e,t){return Ile(function(n,r,o){return r=sM(r===void 0?n.length-1:r,0),function(){for(var i=arguments,a=-1,s=sM(i.length-r,0),l=Array(s);++a<s;)l[a]=i[r+a];a=-1;for(var c=Array(r+1);++a<r;)c[a]=i[a];return c[r]=o(l),function(u,d,p){switch(p.length){case 0:return u.call(d);case 1:return u.call(d,p[0]);case 2:return u.call(d,p[0],p[1]);case 3:return u.call(d,p[0],p[1],p[2])}return u.apply(d,p)}(n,this,c)}}(e,t,Yx),e+"")}function e9(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}function $m(e){return e!=null&&e9(e.length)&&!lv(e)}var Lle=Object.prototype;function dv(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Lle)}function lM(e){return za(e)&&Vc(e)=="[object Arguments]"}var cM=Object.prototype,jle=cM.hasOwnProperty,zle=cM.propertyIsEnumerable,Vm=lM(function(){return arguments}())?lM:function(e){return za(e)&&jle.call(e,"callee")&&!zle.call(e,"callee")},uM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dM=uM&&typeof module=="object"&&module&&!module.nodeType&&module,hM=dM&&dM.exports===uM?La.Buffer:void 0,Kc=(hM?hM.isBuffer:void 0)||function(){return!1},En={};function t9(e){return function(t){return e(t)}}En["[object Float32Array]"]=En["[object Float64Array]"]=En["[object Int8Array]"]=En["[object Int16Array]"]=En["[object Int32Array]"]=En["[object Uint8Array]"]=En["[object Uint8ClampedArray]"]=En["[object Uint16Array]"]=En["[object Uint32Array]"]=!0,En["[object Arguments]"]=En["[object Array]"]=En["[object ArrayBuffer]"]=En["[object Boolean]"]=En["[object DataView]"]=En["[object Date]"]=En["[object Error]"]=En["[object Function]"]=En["[object Map]"]=En["[object Number]"]=En["[object Object]"]=En["[object RegExp]"]=En["[object Set]"]=En["[object String]"]=En["[object WeakMap]"]=!1;var pM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qm=pM&&typeof module=="object"&&module&&!module.nodeType&&module,n9=qm&&qm.exports===pM&&QR.process,qd=function(){try{return qm&&qm.require&&qm.require("util").types||n9&&n9.binding&&n9.binding("util")}catch{}}(),mM=qd&&qd.isTypedArray,Wm=mM?t9(mM):function(e){return za(e)&&e9(e.length)&&!!En[Vc(e)]},Fle=Object.prototype.hasOwnProperty;function fM(e,t){var n=Cr(e),r=!n&&Vm(e),o=!n&&!r&&Kc(e),i=!n&&!r&&!o&&Wm(e),a=n||r||o||i,s=a?function(u,d){for(var p=-1,h=Array(u);++p<u;)h[p]=d(p);return h}(e.length,String):[],l=s.length;for(var c in e)(t||Fle.call(e,c))&&(!a||!(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||uv(c,l)))&&s.push(c);return s}function gM(e,t){return function(n){return e(t(n))}}var Ble=gM(Object.keys,Object),Ule=Object.prototype.hasOwnProperty;function vM(e){if(!dv(e))return Ble(e);var t=[];for(var n in Object(e))Ule.call(e,n)&&n!="constructor"&&t.push(n);return t}function r9(e){return $m(e)?fM(e):vM(e)}var Hle=Object.prototype.hasOwnProperty;function $le(e){if(!_i(e))return function(o){var i=[];if(o!=null)for(var a in Object(o))i.push(a);return i}(e);var t=dv(e),n=[];for(var r in e)r=="constructor"&&(t||!Hle.call(e,r))||n.push(r);return n}function o9(e){return $m(e)?fM(e,!0):$le(e)}var Vle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qle=/^\w*$/;function i9(e,t){if(Cr(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!Gx(e))||qle.test(e)||!Vle.test(e)||t!=null&&e in Object(t)}var Km=Wc(Object,"create"),Wle=Object.prototype.hasOwnProperty,Kle=Object.prototype.hasOwnProperty;function Gc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hv(e,t){for(var n=e.length;n--;)if(Hm(e[n][0],t))return n;return-1}Gc.prototype.clear=function(){this.__data__=Km?Km(null):{},this.size=0},Gc.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gc.prototype.get=function(e){var t=this.__data__;if(Km){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Wle.call(t,e)?t[e]:void 0},Gc.prototype.has=function(e){var t=this.__data__;return Km?t[e]!==void 0:Kle.call(t,e)},Gc.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Km&&t===void 0?"__lodash_hash_undefined__":t,this};var Gle=Array.prototype.splice;function js(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}js.prototype.clear=function(){this.__data__=[],this.size=0},js.prototype.delete=function(e){var t=this.__data__,n=hv(t,e);return!(n<0)&&(n==t.length-1?t.pop():Gle.call(t,n,1),--this.size,!0)},js.prototype.get=function(e){var t=this.__data__,n=hv(t,e);return n<0?void 0:t[n][1]},js.prototype.has=function(e){return hv(this.__data__,e)>-1},js.prototype.set=function(e,t){var n=this.__data__,r=hv(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Gm=Wc(La,"Map");function pv(e,t){var n=e.__data__;return function(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}(t)?n[typeof t=="string"?"string":"hash"]:n.map}function zs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zs.prototype.clear=function(){this.size=0,this.__data__={hash:new Gc,map:new(Gm||js),string:new Gc}},zs.prototype.delete=function(e){var t=pv(this,e).delete(e);return this.size-=t?1:0,t},zs.prototype.get=function(e){return pv(this,e).get(e)},zs.prototype.has=function(e){return pv(this,e).has(e)},zs.prototype.set=function(e,t){var n=pv(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function a9(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(a9.Cache||zs),n}a9.Cache=zs;var Yle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qle=/\\(\\)?/g,Jle=function(e){var t=a9(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yle,function(n,r,o,i){t.push(o?i.replace(Qle,"$1"):r||n)}),t});function mv(e,t){return Cr(e)?e:i9(e,t)?[e]:Jle(function(n){return n==null?"":nM(n)}(e))}function Ym(e){if(typeof e=="string"||Gx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function s9(e,t){for(var n=0,r=(t=mv(t,e)).length;e!=null&&n<r;)e=e[Ym(t[n++])];return n&&n==r?e:void 0}function bM(e,t,n){var r=e==null?void 0:s9(e,t);return r===void 0?n:r}function yM(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var fv=gM(Object.getPrototypeOf,Object),Xle=Function.prototype,Zle=Object.prototype,wM=Xle.toString,ece=Zle.hasOwnProperty,tce=wM.call(Object);function Xi(e){var t=this.__data__=new js(e);this.size=t.size}Xi.prototype.clear=function(){this.__data__=new js,this.size=0},Xi.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xi.prototype.get=function(e){return this.__data__.get(e)},Xi.prototype.has=function(e){return this.__data__.has(e)},Xi.prototype.set=function(e,t){var n=this.__data__;if(n instanceof js){var r=n.__data__;if(!Gm||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zs(r)}return n.set(e,t),this.size=n.size,this};var kM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_M=kM&&typeof module=="object"&&module&&!module.nodeType&&module,xM=_M&&_M.exports===kM?La.Buffer:void 0,CM=xM?xM.allocUnsafe:void 0;function SM(e,t){if(t)return e.slice();var n=e.length,r=CM?CM(n):new e.constructor(n);return e.copy(r),r}function TM(){return[]}var nce=Object.prototype.propertyIsEnumerable,EM=Object.getOwnPropertySymbols,OM=EM?function(e){return e==null?[]:(e=Object(e),function(t,n){for(var r=-1,o=t==null?0:t.length,i=0,a=[];++r<o;){var s=t[r];n(s,r,t)&&(a[i++]=s)}return a}(EM(e),function(t){return nce.call(e,t)}))}:TM,rce=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)yM(t,OM(e)),e=fv(e);return t}:TM;function AM(e,t,n){var r=t(e);return Cr(e)?r:yM(r,n(e))}function l9(e){return AM(e,r9,OM)}var c9=Wc(La,"DataView"),u9=Wc(La,"Promise"),d9=Wc(La,"Set"),PM="[object Map]",NM="[object Promise]",IM="[object Set]",RM="[object WeakMap]",MM="[object DataView]",oce=qc(c9),ice=qc(Gm),ace=qc(u9),sce=qc(d9),lce=qc(Jx),xi=Vc;(c9&&xi(new c9(new ArrayBuffer(1)))!=MM||Gm&&xi(new Gm)!=PM||u9&&xi(u9.resolve())!=NM||d9&&xi(new d9)!=IM||Jx&&xi(new Jx)!=RM)&&(xi=function(e){var t=Vc(e),n=t=="[object Object]"?e.constructor:void 0,r=n?qc(n):"";if(r)switch(r){case oce:return MM;case ice:return PM;case ace:return NM;case sce:return IM;case lce:return RM}return t});var cce=Object.prototype.hasOwnProperty,gv=La.Uint8Array;function h9(e){var t=new e.constructor(e.byteLength);return new gv(t).set(new gv(e)),t}var uce=/\w*$/,DM=ja?ja.prototype:void 0,LM=DM?DM.valueOf:void 0;function jM(e,t){var n=t?h9(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function dce(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return h9(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(o){var i=h9(o.buffer);return new o.constructor(i,o.byteOffset,o.byteLength)}(e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return jM(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(o){var i=new o.constructor(o.source,uce.exec(o));return i.lastIndex=o.lastIndex,i}(e);case"[object Symbol]":return function(o){return LM?Object(LM.call(o)):{}}(e)}}function zM(e){return typeof e.constructor!="function"||dv(e)?{}:iM(fv(e))}var FM=qd&&qd.isMap,hce=FM?t9(FM):function(e){return za(e)&&xi(e)=="[object Map]"},BM=qd&&qd.isSet,pce=BM?t9(BM):function(e){return za(e)&&xi(e)=="[object Set]"},UM="[object Arguments]",HM="[object Function]",$M="[object Object]",yn={};function vv(e,t,n,r,o,i){var a,s=1&t;if(a!==void 0)return a;if(!_i(e))return e;var l=Cr(e);if(l)a=function(h){var m=h.length,g=new h.constructor(m);return m&&typeof h[0]=="string"&&cce.call(h,"index")&&(g.index=h.index,g.input=h.input),g}(e);else{var c=xi(e),u=c==HM||c=="[object GeneratorFunction]";if(Kc(e))return SM(e,s);if(c==$M||c==UM||u&&!o)a=u?{}:zM(e);else{if(!yn[c])return o?e:{};a=dce(e,c,s)}}i||(i=new Xi);var d=i.get(e);if(d)return d;i.set(e,a),pce(e)?e.forEach(function(h){a.add(vv(h,t,n,h,e,i))}):hce(e)&&e.forEach(function(h,m){a.set(m,vv(h,t,n,m,e,i))});var p=l?void 0:l9(e);return aM(p||e,function(h,m){p&&(h=e[m=h]),Zx(a,m,vv(h,t,n,m,e,i))}),a}yn[UM]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object DataView]"]=yn["[object Boolean]"]=yn["[object Date]"]=yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Map]"]=yn["[object Number]"]=yn[$M]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object Symbol]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Error]"]=yn[HM]=yn["[object WeakMap]"]=!1;function Zi(e){return vv(e,5)}function bv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new zs;++t<n;)this.add(e[t])}function mce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function fce(e,t){return e.has(t)}bv.prototype.add=bv.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},bv.prototype.has=function(e){return this.__data__.has(e)};function VM(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=2&n?new bv:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var m=e[d],g=t[d];if(r)var f=a?r(g,m,d,t,e,i):r(m,g,d,e,t,i);if(f!==void 0){if(f)continue;p=!1;break}if(h){if(!mce(t,function(v,y){if(!fce(h,y)&&(m===v||o(m,v,n,r,i)))return h.push(y)})){p=!1;break}}else if(m!==g&&!o(m,g,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function gce(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function vce(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var qM=ja?ja.prototype:void 0,p9=qM?qM.valueOf:void 0,bce=Object.prototype.hasOwnProperty,WM="[object Arguments]",KM="[object Array]",yv="[object Object]",GM=Object.prototype.hasOwnProperty;function yce(e,t,n,r,o,i){var a=Cr(e),s=Cr(t),l=a?KM:xi(e),c=s?KM:xi(t),u=(l=l==WM?yv:l)==yv,d=(c=c==WM?yv:c)==yv,p=l==c;if(p&&Kc(e)){if(!Kc(t))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new Xi),a||Wm(e)?VM(e,t,n,r,o,i):function(v,y,b,w,k,_,E){switch(b){case"[object DataView]":if(v.byteLength!=y.byteLength||v.byteOffset!=y.byteOffset)return!1;v=v.buffer,y=y.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=y.byteLength||!_(new gv(v),new gv(y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Hm(+v,+y);case"[object Error]":return v.name==y.name&&v.message==y.message;case"[object RegExp]":case"[object String]":return v==y+"";case"[object Map]":var S=gce;case"[object Set]":var O=1&w;if(S||(S=vce),v.size!=y.size&&!O)return!1;var T=E.get(v);if(T)return T==y;w|=2,E.set(v,y);var M=VM(S(v),S(y),w,k,_,E);return E.delete(v),M;case"[object Symbol]":if(p9)return p9.call(v)==p9.call(y)}return!1}(e,t,l,n,r,o,i);if(!(1&n)){var h=u&&GM.call(e,"__wrapped__"),m=d&&GM.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,f=m?t.value():t;return i||(i=new Xi),o(g,f,n,r,i)}}return!!p&&(i||(i=new Xi),function(v,y,b,w,k,_){var E=1&b,S=l9(v),O=S.length;if(O!=l9(y).length&&!E)return!1;for(var T=O;T--;){var M=S[T];if(!(E?M in y:bce.call(y,M)))return!1}var D=_.get(v),H=_.get(y);if(D&&H)return D==y&&H==v;var $=!0;_.set(v,y),_.set(y,v);for(var R=E;++T<O;){var U=v[M=S[T]],B=y[M];if(w)var L=E?w(B,U,M,y,v,_):w(U,B,M,v,y,_);if(!(L===void 0?U===B||k(U,B,b,w,_):L)){$=!1;break}R||(R=M=="constructor")}if($&&!R){var C=v.constructor,V=y.constructor;C!=V&&"constructor"in v&&"constructor"in y&&!(typeof C=="function"&&C instanceof C&&typeof V=="function"&&V instanceof V)&&($=!1)}return _.delete(v),_.delete(y),$}(e,t,n,r,o,i))}function m9(e,t,n,r,o){return e===t||(e==null||t==null||!za(e)&&!za(t)?e!=e&&t!=t:yce(e,t,n,r,m9,o))}function YM(e){return e==e&&!_i(e)}function QM(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}}function wce(e){var t=function(n){for(var r=r9(n),o=r.length;o--;){var i=r[o],a=n[i];r[o]=[i,a,YM(a)]}return r}(e);return t.length==1&&t[0][2]?QM(t[0][0],t[0][1]):function(n){return n===e||function(r,o,i,a){var s=i.length,l=s;if(r==null)return!l;for(r=Object(r);s--;){var c=i[s];if(c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++s<l;){var u=(c=i[s])[0],d=r[u],p=c[1];if(c[2]){if(d===void 0&&!(u in r))return!1}else if(!m9(p,d,3,a,new Xi))return!1}return!0}(n,0,t)}}function kce(e,t){return e!=null&&t in Object(e)}function _ce(e,t){return e!=null&&function(n,r,o){for(var i=-1,a=(r=mv(r,n)).length,s=!1;++i<a;){var l=Ym(r[i]);if(!(s=n!=null&&o(n,l)))break;n=n[l]}return s||++i!=a?s:!!(a=n==null?0:n.length)&&e9(a)&&uv(l,a)&&(Cr(n)||Vm(n))}(e,t,kce)}function xce(e){return i9(e)?function(t){return function(n){return n==null?void 0:n[t]}}(Ym(e)):function(t){return function(n){return s9(n,t)}}(e)}function f9(e){return typeof e=="function"?e:e==null?Yx:typeof e=="object"?Cr(e)?function(t,n){return i9(t)&&YM(n)?QM(Ym(t),n):function(r){var o=bM(r,t);return o===void 0&&o===n?_ce(r,t):m9(n,o,3)}}(e[0],e[1]):wce(e):xce(e)}var JM=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(t(o[s],s,o)===!1)break}return e};function Cce(e,t){return e&&JM(e,t,r9)}function g9(e,t,n){(n!==void 0&&!Hm(e[t],n)||n===void 0&&!(t in e))&&Xx(e,t,n)}function v9(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function Sce(e){return function(t,n,r){var o=!r;r||(r={});for(var i=-1,a=n.length;++i<a;){var s=n[i],l=void 0;l===void 0&&(l=t[s]),o?Xx(r,s,l):Zx(r,s,l)}return r}(e,o9(e))}function Tce(e,t,n,r,o,i,a){var s=v9(e,n),l=v9(t,n),c=a.get(l);if(c)g9(e,n,c);else{var u=i?i(s,l,n+"",e,t,a):void 0,d=u===void 0;if(d){var p=Cr(l),h=!p&&Kc(l),m=!p&&!h&&Wm(l);u=l,p||h||m?Cr(s)?u=s:function(g){return za(g)&&$m(g)}(s)?u=function(g,f){var v=-1,y=g.length;for(f||(f=Array(y));++v<y;)f[v]=g[v];return f}(s):h?(d=!1,u=SM(l,!0)):m?(d=!1,u=jM(l,!0)):u=[]:function(g){if(!za(g)||Vc(g)!="[object Object]")return!1;var f=fv(g);if(f===null)return!0;var v=ece.call(f,"constructor")&&f.constructor;return typeof v=="function"&&v instanceof v&&wM.call(v)==tce}(l)||Vm(l)?(u=s,Vm(s)?u=Sce(s):(!_i(s)||lv(s))&&(u=zM(l))):d=!1}d&&(a.set(l,u),o(u,l,r,i,a),a.delete(l)),g9(e,n,u)}}function XM(e,t,n,r,o){e!==t&&JM(t,function(i,a){if(o||(o=new Xi),_i(i))Tce(e,t,a,n,XM,r,o);else{var s=r?r(v9(e,a),i,a+"",e,t,o):void 0;s===void 0&&(s=i),g9(e,a,s)}},o9)}function Qm(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ece=Object.prototype.hasOwnProperty;function bt(e){if(e==null)return!0;if($m(e)&&(Cr(e)||typeof e=="string"||typeof e.splice=="function"||Kc(e)||Wm(e)||Vm(e)))return!e.length;var t=xi(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(dv(e))return!vM(e).length;for(var n in e)if(Ece.call(e,n))return!1;return!0}function ZM(e){return e==null}var Ci=function(e){return Dle(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&function(l,c,u){if(!_i(u))return!1;var d=typeof c;return!!(d=="number"?$m(u)&&uv(c,u.length):d=="string"&&c in u)&&Hm(u[c],l)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}(function(e,t,n){XM(e,t,n)});function eD(e,t,n,r){if(!_i(e))return e;for(var o=-1,i=(t=mv(t,e)).length,a=i-1,s=e;s!=null&&++o<i;){var l=Ym(t[o]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=a){var u=s[l];(c=void 0)==void 0&&(c=_i(u)?u:uv(t[o+1])?[]:{})}Zx(s,l,c),s=s[l]}return e}function tD(e,t){if(e==null)return{};var n=ZR(function(r){return AM(r,o9,rce)}(e),function(r){return[r]});return t=f9(t),function(r,o,i){for(var a=-1,s=o.length,l={};++a<s;){var c=o[a],u=s9(r,c);i(u,c)&&eD(l,mv(c,r),u)}return l}(e,n,function(r,o){return t(r,o[0])})}function nD(e,t){return tD(e,function(n){if(typeof n!="function")throw new TypeError("Expected a function");return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}(f9(t)))}function b9(e,t,n){return e==null?e:eD(e,t,n)}function Oce(e,t,n){var r=Cr(e),o=r||Kc(e)||Wm(e);if(t=f9(t),n==null){var i=e&&e.constructor;n=o?r?new i:[]:_i(e)&&lv(i)?iM(fv(e)):{}}return(o?aM:Cce)(e,function(a,s,l){return t(n,a,s,l)}),n}function rD(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ace}=Object.prototype,{getPrototypeOf:y9}=Object,{iterator:wv,toStringTag:oD}=Symbol,kv=(e=>t=>{const n=Ace.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ea=e=>(e=e.toLowerCase(),t=>kv(t)===e),_v=e=>t=>typeof t===e,{isArray:Wd}=Array,Kd=_v("undefined");function Jm(e){return e!==null&&!Kd(e)&&e.constructor!==null&&!Kd(e.constructor)&&Co(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const iD=ea("ArrayBuffer"),Pce=_v("string"),Co=_v("function"),aD=_v("number"),Xm=e=>e!==null&&typeof e=="object",xv=e=>{if(kv(e)!=="object")return!1;const t=y9(e);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||oD in e||wv in e)},Nce=ea("Date"),Ice=ea("File"),Rce=ea("Blob"),Mce=ea("FileList"),Dce=ea("URLSearchParams"),[Lce,jce,zce,Fce]=["ReadableStream","Request","Response","Headers"].map(ea);function Zm(e,t,{allOwnKeys:n=!1}={}){if(e==null)return;let r,o;if(typeof e!="object"&&(e=[e]),Wd(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(Jm(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,e[s],s,e)}}function sD(e,t){if(Jm(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Yc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lD=e=>!Kd(e)&&e!==Yc,Bce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&y9(Uint8Array)),Uce=ea("HTMLFormElement"),cD=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Hce=ea("RegExp"),uD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Zm(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},$ce=ea("AsyncFunction"),dD=((e,t)=>e?setImmediate:t?((n,r)=>(Yc.addEventListener("message",({source:o,data:i})=>{o===Yc&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Yc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Co(Yc.postMessage)),Vce=typeof queueMicrotask<"u"?queueMicrotask.bind(Yc):typeof process<"u"&&process.nextTick||dD,ke={isArray:Wd,isArrayBuffer:iD,isBuffer:Jm,isFormData:e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Co(e.append)&&((t=kv(e))==="formdata"||t==="object"&&Co(e.toString)&&e.toString()==="[object FormData]"))},isArrayBufferView:function(e){let t;return t=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&iD(e.buffer),t},isString:Pce,isNumber:aD,isBoolean:e=>e===!0||e===!1,isObject:Xm,isPlainObject:xv,isEmptyObject:e=>{if(!Xm(e)||Jm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},isReadableStream:Lce,isRequest:jce,isResponse:zce,isHeaders:Fce,isUndefined:Kd,isDate:Nce,isFile:Ice,isBlob:Rce,isRegExp:Hce,isFunction:Co,isStream:e=>Xm(e)&&Co(e.pipe),isURLSearchParams:Dce,isTypedArray:Bce,isFileList:Mce,forEach:Zm,merge:function e(){const{caseless:t,skipUndefined:n}=lD(this)&&this||{},r={},o=(i,a)=>{const s=t&&sD(r,a)||a;xv(r[s])&&xv(i)?r[s]=e(r[s],i):xv(i)?r[s]=e({},i):Wd(i)?r[s]=i.slice():(!n||!Kd(i))&&(r[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Zm(arguments[i],o);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(Zm(t,(o,i)=>{n&&Co(o)?e[i]=rD(o,n):e[i]=o},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=n!==!1&&y9(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:kv,kindOfTest:ea,endsWith:(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},toArray:e=>{if(!e)return null;if(Wd(e))return e;let t=e.length;if(!aD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[wv]).call(e);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},matchAll:(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},isHTMLForm:Uce,hasOwnProperty:cD,hasOwnProp:cD,reduceDescriptors:uD,freezeMethods:e=>{uD(e,(t,n)=>{if(Co(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Co(r)){if(t.enumerable=!1,"writable"in t)return void(t.writable=!1);t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Wd(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,findKey:sD,global:Yc,isContextDefined:lD,isSpecCompliantForm:function(e){return!!(e&&Co(e.append)&&e[oD]==="FormData"&&e[wv])},toJSONObject:e=>{const t=new Array(10),n=(r,o)=>{if(Xm(r)){if(t.indexOf(r)>=0)return;if(Jm(r))return r;if(!("toJSON"in r)){t[o]=r;const i=Wd(r)?[]:{};return Zm(r,(a,s)=>{const l=n(a,o+1);!Kd(l)&&(i[s]=l)}),t[o]=void 0,i}}return r};return n(e,0)},isAsyncFn:$ce,isThenable:e=>e&&(Xm(e)||Co(e))&&Co(e.then)&&Co(e.catch),setImmediate:dD,asap:Vce,isIterable:e=>e!=null&&Co(e[wv])};function Nt(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}ke.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}});const hD=Nt.prototype,pD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pD[e]={value:e}}),Object.defineProperties(Nt,pD),Object.defineProperty(hD,"isAxiosError",{value:!0}),Nt.from=(e,t,n,r,o,i)=>{const a=Object.create(hD);ke.toFlatObject(e,a,function(c){return c!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Nt.call(a,s,l,n,r,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};function w9(e){return ke.isPlainObject(e)||ke.isArray(e)}function mD(e){return ke.endsWith(e,"[]")?e.slice(0,-2):e}function fD(e,t,n){return e?e.concat(t).map(function(r,o){return r=mD(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}const qce=ke.toFlatObject(ke,{},null,function(e){return/^is[A-Z]/.test(e)});function Cv(e,t,n){if(!ke.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ke.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,h){return!ke.isUndefined(h[p])});const r=n.metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(t);if(!ke.isFunction(o))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(ke.isDate(p))return p.toISOString();if(ke.isBoolean(p))return p.toString();if(!s&&ke.isBlob(p))throw new Nt("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(p)||ke.isTypedArray(p)?s&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,h,m){let g=p;if(p&&!m&&typeof p=="object"){if(ke.endsWith(h,"{}"))h=r?h:h.slice(0,-2),p=JSON.stringify(p);else if(ke.isArray(p)&&function(f){return ke.isArray(f)&&!f.some(w9)}(p)||(ke.isFileList(p)||ke.endsWith(h,"[]"))&&(g=ke.toArray(p)))return h=mD(h),g.forEach(function(f,v){!ke.isUndefined(f)&&f!==null&&t.append(a===!0?fD([h],v,i):a===null?h:h+"[]",l(f))}),!1}return!!w9(p)||(t.append(fD(m,h,i),l(p)),!1)}const u=[],d=Object.assign(qce,{defaultVisitor:c,convertValue:l,isVisitable:w9});if(!ke.isObject(e))throw new TypeError("data must be an object");return function p(h,m){if(!ke.isUndefined(h)){if(u.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(h),ke.forEach(h,function(g,f){(!(ke.isUndefined(g)||g===null)&&o.call(t,g,ke.isString(f)?f.trim():f,m,d))===!0&&p(g,m?m.concat(f):[f])}),u.pop()}}(e),t}function gD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function k9(e,t){this._pairs=[],e&&Cv(e,this,t)}const vD=k9.prototype;function Wce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bD(e,t,n){if(!t)return e;const r=n&&n.encode||Wce;ke.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):ke.isURLSearchParams(t)?t.toString():new k9(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}vD.append=function(e,t){this._pairs.push([e,t])},vD.toString=function(e){const t=e?function(n){return e.call(this,n,gD)}:gD;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};class yD{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ke.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kce={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:k9,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},_9=typeof window<"u"&&typeof document<"u",x9=typeof navigator=="object"&&navigator||void 0,Gce=_9&&(!x9||["ReactNative","NativeScript","NS"].indexOf(x9.product)<0),Yce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qce=_9&&window.location.href||"http://localhost",Jce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_9,hasStandardBrowserEnv:Gce,hasStandardBrowserWebWorkerEnv:Yce,navigator:x9,origin:Qce},Symbol.toStringTag,{value:"Module"})),qr=I(I({},Jce),Kce);function kD(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=i>=n.length;return a=!a&&ke.isArray(o)?o.length:a,l?(ke.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!s):((!o[a]||!ke.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&ke.isArray(o[a])&&(o[a]=function(c){const u={},d=Object.keys(c);let p;const h=d.length;let m;for(p=0;p<h;p++)m=d[p],u[m]=c[m];return u}(o[a])),!s)}if(ke.isFormData(e)&&ke.isFunction(e.entries)){const n={};return ke.forEachEntry(e,(r,o)=>{t(function(i){return ke.matchAll(/\w+|\[(\w*)]/g,i).map(a=>a[0]==="[]"?"":a[1]||a[0])}(r),o,n,0)}),n}return null}const e1={transitional:wD,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=ke.isObject(e);if(o&&ke.isHTMLForm(e)&&(e=new FormData(e)),ke.isFormData(e))return r?JSON.stringify(kD(e)):e;if(ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e)||ke.isReadableStream(e))return e;if(ke.isArrayBufferView(e))return e.buffer;if(ke.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(a,s){return Cv(a,new qr.classes.URLSearchParams,I({visitor:function(l,c,u,d){return qr.isNode&&ke.isBuffer(l)?(this.append(c,l.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},s))}(e,this.formSerializer).toString();if((i=ke.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Cv(i?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(a,s,l){if(ke.isString(a))try{return(s||JSON.parse)(a),ke.trim(a)}catch(c){if(c.name!=="SyntaxError")throw c}return(l||JSON.stringify)(a)}(e)):e}],transformResponse:[function(e){const t=this.transitional||e1.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(ke.isResponse(e)||ke.isReadableStream(e))return e;if(e&&ke.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(i){if(o)throw i.name==="SyntaxError"?Nt.from(i,Nt.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qr.classes.FormData,Blob:qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],e=>{e1.headers[e]={}});const Xce=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_D=Symbol("internals");function t1(e){return e&&String(e).trim().toLowerCase()}function Sv(e){return e===!1||e==null?e:ke.isArray(e)?e.map(Sv):String(e)}function C9(e,t,n,r,o){if(ke.isFunction(r))return r.call(this,t,n);if(o&&(t=n),ke.isString(t)){if(ke.isString(r))return t.indexOf(r)!==-1;if(ke.isRegExp(r))return r.test(t)}}let So=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(a,s,l){const c=t1(s);if(!c)throw new Error("header name must be a non-empty string");const u=ke.findKey(r,c);(!u||r[u]===void 0||l===!0||l===void 0&&r[u]!==!1)&&(r[u||s]=Sv(a))}const i=(a,s)=>ke.forEach(a,(l,c)=>o(l,c,s));if(ke.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(ke.isString(e)&&(e=e.trim())&&!(a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim()))(e))i((a=>{const s={};let l,c,u;return a&&a.split(`
`).forEach(function(d){u=d.indexOf(":"),l=d.substring(0,u).trim().toLowerCase(),c=d.substring(u+1).trim(),!(!l||s[l]&&Xce[l])&&(l==="set-cookie"?s[l]?s[l].push(c):s[l]=[c]:s[l]=s[l]?s[l]+", "+c:c)}),s})(e),t);else if(ke.isObject(e)&&ke.isIterable(e)){let a,s,l={};for(const c of e){if(!ke.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[s=c[0]]=(a=l[s])?ke.isArray(a)?[...a,c[1]]:[a,c[1]]:c[1]}i(l,t)}else e!=null&&o(t,e,n);return this}get(e,t){if(e=t1(e)){const n=ke.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return function(o){const i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(o);)i[s[1]]=s[2];return i}(r);if(ke.isFunction(t))return t.call(this,r,n);if(ke.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=t1(e)){const n=ke.findKey(this,e);return!(!n||this[n]===void 0||t&&!C9(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(i){if(i=t1(i)){const a=ke.findKey(n,i);a&&(!t||C9(0,n[a],a,t))&&(delete n[a],r=!0)}}return ke.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];(!e||C9(0,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return ke.forEach(this,(r,o)=>{const i=ke.findKey(n,o);if(i)return t[i]=Sv(r),void delete t[o];const a=e?function(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,c,u)=>c.toUpperCase()+u)}(o):String(o).trim();a!==o&&delete t[o],t[a]=Sv(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ke.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&ke.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const t=(this[_D]=this[_D]={accessors:{}}).accessors,n=this.prototype;function r(o){const i=t1(o);t[i]||(function(a,s){const l=ke.toCamelCase(" "+s);["get","set","has"].forEach(c=>{Object.defineProperty(a,c+l,{value:function(u,d,p){return this[c].call(this,s,u,d,p)},configurable:!0})})}(n,o),t[i]=!0)}return ke.isArray(e)?e.forEach(r):r(e),this}};function S9(e,t){const n=this||e1,r=t||n,o=So.from(r.headers);let i=r.data;return ke.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function xD(e){return!(!e||!e.__CANCEL__)}function Gd(e,t,n){Nt.call(this,e??"canceled",Nt.ERR_CANCELED,t,n),this.name="CanceledError"}function CD(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}So.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ke.reduceDescriptors(So.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}}),ke.freezeMethods(So),ke.inherits(Gd,Nt,{__CANCEL__:!0});const Tv=(e,t,n=3)=>{let r=0;const o=function(i,a){i=i||10;const s=new Array(i),l=new Array(i);let c,u=0,d=0;return a=a!==void 0?a:1e3,function(p){const h=Date.now(),m=l[d];c||(c=h),s[u]=p,l[u]=h;let g=d,f=0;for(;g!==u;)f+=s[g++],g%=i;if(u=(u+1)%i,u===d&&(d=(d+1)%i),h-c<a)return;const v=m&&h-m;return v?Math.round(1e3*f/v):void 0}}(50,250);return function(i,a){let s,l,c=0,u=1e3/a;const d=(p,h=Date.now())=>{c=h,s=null,l&&(clearTimeout(l),l=null),i(...p)};return[(...p)=>{const h=Date.now(),m=h-c;m>=u?d(p,h):(s=p,l||(l=setTimeout(()=>{l=null,d(s)},u-m)))},()=>s&&d(s)]}(i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,l=a-r,c=o(l);r=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&a<=s?(s-a)/c:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0})},n)},SD=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},TD=e=>(...t)=>ke.asap(()=>e(...t)),Zce=qr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qr.origin),qr.navigator&&/(msie|trident)/i.test(qr.navigator.userAgent)):()=>!0,eue=qr.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];ke.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ke.isString(r)&&a.push("path="+r),ke.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ED(e,t,n){let r=!function(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}(t);return e&&(r||n==0)?function(o,i){return i?o.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):o}(e,t):t}const OD=e=>e instanceof So?I({},e):e;function Qc(e,t){t=t||{};const n={};function r(c,u,d,p){return ke.isPlainObject(c)&&ke.isPlainObject(u)?ke.merge.call({caseless:p},c,u):ke.isPlainObject(u)?ke.merge({},u):ke.isArray(u)?u.slice():u}function o(c,u,d,p){return ke.isUndefined(u)?ke.isUndefined(c)?void 0:r(void 0,c,0,p):r(c,u,0,p)}function i(c,u){if(!ke.isUndefined(u))return r(void 0,u)}function a(c,u){return ke.isUndefined(u)?ke.isUndefined(c)?void 0:r(void 0,c):r(void 0,u)}function s(c,u,d){return d in t?r(c,u):d in e?r(void 0,c):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,d)=>o(OD(c),OD(u),0,!0)};return ke.forEach(Object.keys(I(I({},e),t)),function(c){const u=l[c]||o,d=u(e[c],t[c],c);ke.isUndefined(d)&&u!==s||(n[c]=d)}),n}const AD=e=>{const t=Qc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:s}=t;if(t.headers=a=So.from(a),t.url=bD(ED(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),ke.isFormData(n)){if(qr.hasStandardBrowserEnv||qr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ke.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&a.set(u,d)})}}if(qr.hasStandardBrowserEnv&&(r&&ke.isFunction(r)&&(r=r(t)),r||r!==!1&&Zce(t.url))){const l=o&&i&&eue.read(i);l&&a.set(o,l)}return t},tue=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(t,n){const r=AD(e);let o=r.data;const i=So.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:p,onDownloadProgress:h}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function f(){if(!g)return;const y=So.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());CD(function(b){t(b),m()},function(b){n(b),m()},{data:d&&d!=="text"&&d!=="json"?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:y,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=f:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&(!g.responseURL||g.responseURL.indexOf("file:")!==0)||setTimeout(f)},g.onabort=function(){g&&(n(new Nt("Request aborted",Nt.ECONNABORTED,e,g)),g=null)},g.onerror=function(y){const b=new Nt(y&&y.message?y.message:"Network Error",Nt.ERR_NETWORK,e,g);b.event=y||null,n(b),g=null},g.ontimeout=function(){let y=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const b=r.transitional||wD;r.timeoutErrorMessage&&(y=r.timeoutErrorMessage),n(new Nt(y,b.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&ke.forEach(i.toJSON(),function(y,b){g.setRequestHeader(b,y)}),ke.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&d!=="json"&&(g.responseType=r.responseType),h&&([l,u]=Tv(h,!0),g.addEventListener("progress",l)),p&&g.upload&&([s,c]=Tv(p),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=y=>{g&&(n(!y||y.type?new Gd(null,e,g):y),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(y){const b=/^([-+\w]{1,25})(:?\/\/|:)/.exec(y);return b&&b[1]||""}(r.url);v&&qr.protocols.indexOf(v)===-1?n(new Nt("Unsupported protocol "+v+":",Nt.ERR_BAD_REQUEST,e)):g.send(o||null)})},nue=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r,o=new AbortController;const i=function(c){if(!r){r=!0,s();const u=c instanceof Error?c:this.reason;o.abort(u instanceof Nt?u:new Gd(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,i(new Nt(`timeout ${t} of ms exceeded`,Nt.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=o;return l.unsubscribe=()=>ke.asap(s),l}},rue=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},oue=function(e,t){return _I(this,null,function*(){try{for(var n,r,o,i=((a,s,l)=>(s=a[Md("asyncIterator")])?s.call(a):(a=a[Md("iterator")](),s={},l=(c,u)=>(u=a[c])&&(s[c]=d=>new Promise((p,h,m)=>(d=u.call(a,d),m=d.done,Promise.resolve(d.value).then(g=>p({value:g,done:m}),h)))),l("next"),l("return"),s))(iue(e));n=!(r=yield new Dd(i.next())).done;n=!1){const a=r.value;yield*xI(rue(a,t))}}catch(a){o=[a]}finally{try{n&&(r=i.return)&&(yield new Dd(r.call(i)))}finally{if(o)throw o[0]}}})},iue=function(e){return _I(this,null,function*(){if(e[Symbol.asyncIterator])return void(yield*xI(e));const t=e.getReader();try{for(;;){const{done:n,value:r}=yield new Dd(t.read());if(n)break;yield r}}finally{yield new Dd(t.cancel())}})},PD=(e,t,n,r)=>{const o=oue(e,t);let i,a=0,s=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await o.next();if(c)return s(),void l.close();let d=u.byteLength;if(n){let p=a+=d;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel:l=>(s(l),o.return())},{highWaterMark:2})},{isFunction:Ev}=ke,aue=(({Request:e,Response:t})=>({Request:e,Response:t}))(ke.global),{ReadableStream:ND,TextEncoder:ID}=ke.global,RD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},sue=e=>{e=ke.merge.call({skipUndefined:!0},aue,e);const{fetch:t,Request:n,Response:r}=e,o=t?Ev(t):typeof fetch=="function",i=Ev(n),a=Ev(r);if(!o)return!1;const s=o&&Ev(ND),l=o&&(typeof ID=="function"?(h=>m=>h.encode(m))(new ID):async h=>new Uint8Array(await new n(h).arrayBuffer())),c=i&&s&&RD(()=>{let h=!1;const m=new n(qr.origin,{body:new ND,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!m}),u=a&&s&&RD(()=>ke.isReadableStream(new r("").body)),d={stream:u&&(h=>h.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!d[h]&&(d[h]=(m,g)=>{let f=m&&m[h];if(f)return f.call(m);throw new Nt(`Response type '${h}' is not supported`,Nt.ERR_NOT_SUPPORT,g)})});const p=async(h,m)=>{const g=ke.toFiniteNumber(h.getContentLength());return g??(async f=>f==null?0:ke.isBlob(f)?f.size:ke.isSpecCompliantForm(f)?(await new n(qr.origin,{method:"POST",body:f}).arrayBuffer()).byteLength:ke.isArrayBufferView(f)||ke.isArrayBuffer(f)?f.byteLength:(ke.isURLSearchParams(f)&&(f+=""),ke.isString(f)?(await l(f)).byteLength:void 0))(m)};return async h=>{let{url:m,method:g,data:f,signal:v,cancelToken:y,timeout:b,onDownloadProgress:w,onUploadProgress:k,responseType:_,headers:E,withCredentials:S="same-origin",fetchOptions:O}=AD(h),T=t||fetch;_=_?(_+"").toLowerCase():"text";let M=nue([v,y&&y.toAbortSignal()],b),D=null;const H=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let $;try{if(k&&c&&g!=="get"&&g!=="head"&&($=await p(E,f))!==0){let V,N=new n(m,{method:"POST",body:f,duplex:"half"});if(ke.isFormData(f)&&(V=N.headers.get("content-type"))&&E.setContentType(V),N.body){const[q,J]=SD($,Tv(TD(k)));f=PD(N.body,65536,q,J)}}ke.isString(S)||(S=S?"include":"omit");const R=i&&"credentials"in n.prototype,U=K(I({},O),{signal:M,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:f,duplex:"half",credentials:R?S:void 0});D=i&&new n(m,U);let B=await(i?T(D,O):T(m,U));const L=u&&(_==="stream"||_==="response");if(u&&(w||L&&H)){const V={};["status","statusText","headers"].forEach(Q=>{V[Q]=B[Q]});const N=ke.toFiniteNumber(B.headers.get("content-length")),[q,J]=w&&SD(N,Tv(TD(w),!0))||[];B=new r(PD(B.body,65536,q,()=>{J&&J(),H&&H()}),V)}_=_||"text";let C=await d[ke.findKey(d,_)||"text"](B,h);return!L&&H&&H(),await new Promise((V,N)=>{CD(V,N,{data:C,headers:So.from(B.headers),status:B.status,statusText:B.statusText,config:h,request:D})})}catch(R){throw H&&H(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,h,D),{cause:R.cause||R}):Nt.from(R,R&&R.code,h,D)}}},lue=new Map,MD=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let a,s,l=i.length,c=lue;for(;l--;)a=i[l],s=c.get(a),s===void 0&&c.set(a,s=l?new Map:sue(t)),c=s;return s};MD();const DD={http:null,xhr:tue,fetch:{get:MD}};ke.forEach(DD,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const LD=e=>`- ${e}`,cue=e=>ke.isFunction(e)||e===null||e===!1,jD=(e,t)=>{e=ke.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let a=0;a<n;a++){let s;if(r=e[a],o=r,!cue(r)&&(o=DD[(s=String(r)).toLowerCase()],o===void 0))throw new Nt(`Unknown adapter '${s}'`);if(o&&(ke.isFunction(o)||(o=o.get(t))))break;i[s||"#"+a]=o}if(!o){const a=Object.entries(i).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));throw new Nt("There is no suitable adapter to dispatch the request "+(n?a.length>1?`since :
`+a.map(LD).join(`
`):" "+LD(a[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return o};function T9(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gd(null,e)}function zD(e){return T9(e),e.headers=So.from(e.headers),e.data=S9.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jD(e.adapter||e1.adapter,e)(e).then(function(t){return T9(e),t.data=S9.call(e,e.transformResponse,t),t.headers=So.from(t.headers),t},function(t){return xD(t)||(T9(e),t&&t.response&&(t.response.data=S9.call(e,e.transformResponse,t.response),t.response.headers=So.from(t.response.headers))),Promise.reject(t)})}const FD="1.12.2",Ov={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ov[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const BD={};Ov.transitional=function(e,t,n){return(r,o,i)=>{if(e===!1)throw new Nt(function(a,s){return"[Axios v"+FD+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}(o," has been removed"+(t?" in "+t:"")),Nt.ERR_DEPRECATED);return t&&!BD[o]&&(BD[o]=!0),!e||e(r,o,i)}},Ov.spelling=function(e){return(t,n)=>!0};const Av={assertOptions:function(e,t,n){if(typeof e!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const s=e[i],l=s===void 0||a(s,i,e);if(l!==!0)throw new Nt("option "+i+" must be "+l,Nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nt("Unknown option "+i,Nt.ERR_BAD_OPTION)}},validators:Ov},Fa=Av.validators;let Jc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new yD,response:new yD}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{}).url=e:t=e||{},t=Qc(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;n!==void 0&&Av.assertOptions(n,{silentJSONParsing:Fa.transitional(Fa.boolean),forcedJSONParsing:Fa.transitional(Fa.boolean),clarifyTimeoutError:Fa.transitional(Fa.boolean)},!1),r!=null&&(ke.isFunction(r)?t.paramsSerializer={serialize:r}:Av.assertOptions(r,{encode:Fa.function,serialize:Fa.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Av.assertOptions(t,{baseUrl:Fa.spelling("baseURL"),withXsrfToken:Fa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&ke.merge(o.common,o[t.method]);o&&ke.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),t.headers=So.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(s=s&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});const l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});let c,u,d=0;if(!s){const h=[zD.bind(this),void 0];for(h.unshift(...a),h.push(...l),u=h.length,c=Promise.resolve(t);d<u;)c=c.then(h[d++],h[d++]);return c}u=a.length;let p=t;for(;d<u;){const h=a[d++],m=a[d++];try{p=h(p)}catch(g){m.call(this,g);break}}try{c=zD.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return bD(ED((e=Qc(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(e){Jc.prototype[e]=function(t,n){return this.request(Qc(n||{},{method:e,url:t,data:(n||{}).data}))}}),ke.forEach(["post","put","patch"],function(e){function t(n){return function(r,o,i){return this.request(Qc(i||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Jc.prototype[e]=t(),Jc.prototype[e+"Form"]=t(!0)});const E9={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(E9).forEach(([e,t])=>{E9[t]=e});const xt=function e(t){const n=new Jc(t),r=rD(Jc.prototype.request,n);return ke.extend(r,Jc.prototype,n,{allOwnKeys:!0}),ke.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return e(Qc(t,o))},r}(e1);xt.Axios=Jc,xt.CanceledError=Gd,xt.CancelToken=class Gne{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(s=>{r.subscribe(s),i=s}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(o,i,a){r.reason||(r.reason=new Gd(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Gne(function(n){t=n}),cancel:t}}},xt.isCancel=xD,xt.VERSION=FD,xt.toFormData=Cv,xt.AxiosError=Nt,xt.Cancel=xt.CanceledError,xt.all=function(e){return Promise.all(e)},xt.spread=function(e){return function(t){return e.apply(null,t)}},xt.isAxiosError=function(e){return ke.isObject(e)&&e.isAxiosError===!0},xt.mergeConfig=Qc,xt.AxiosHeaders=So,xt.formToJSON=e=>kD(ke.isHTMLForm(e)?new FormData(e):e),xt.getAdapter=jD,xt.HttpStatusCode=E9,xt.default=xt;const UD=(e,t)=>{const n=localStorage.getItem(e);if(n){if(typeof t=="number")try{const r=parseInt(n);if(isNaN(r))throw new Error("NaN value");return r}catch(r){window.console.error("Error parsing local value for key:",e,"Error:",r),localStorage.removeItem(e)}return n}return t},O9=()=>{var e;return(e=document.querySelector("iframe#livex-chatbox-iframe"))==null?void 0:e.contentWindow},Yt=e=>e==="avataiOnly",HD=e=>!!e&&/\S+\s+\S+/.test(e),Wl={},A9=e=>{const t=Wl[e];t&&t.forEach(n=>n())};var Yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xc=typeof window>"u"||"Deno"in globalThis;function Rr(){}function P9(e){return typeof e=="number"&&e>=0&&e!==1/0}function $D(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kl(e,t){return typeof e=="function"?e(t):e}function ta(e,t){return typeof e=="function"?e(t):e}function VD(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:a,stale:s}=e;if(a){if(r){if(t.queryHash!==N9(a,t.options))return!1}else if(!n1(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||o&&o!==t.state.fetchStatus||i&&!i(t))}function qD(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Zc(t.options.mutationKey)!==Zc(i))return!1}else if(!n1(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function N9(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zc)(e)}function Zc(e){return JSON.stringify(e,(t,n)=>I9(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function n1(e,t){return e===t||typeof e==typeof t&&!(!e||!t||typeof e!="object"||typeof t!="object")&&Object.keys(t).every(n=>n1(e[n],t[n]))}function WD(e,t){if(e===t)return e;const n=KD(e)&&KD(t);if(n||I9(e)&&I9(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),a=i.length,s=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&l.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,c++):(s[d]=WD(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&c++)}return o===a&&c===o?e:s}return t}function Pv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function KD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I9(e){if(!GD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!GD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function GD(e){return Object.prototype.toString.call(e)==="[object Object]"}function R9(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?WD(e,t):t}function uue(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function due(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var M9=Symbol();function YD(e,t){return!e.queryFn&&t!=null&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==M9?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function QD(e,t){return typeof e=="function"?e(...t):!!e}var Qd,eu,r1,JD,o1,tu,i1,XD,hue=(JD=class extends Yd{constructor(){super(),kt(this,Qd),kt(this,eu),kt(this,r1),ct(this,r1,e=>{if(!Xc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){oe(this,eu)||this.setEventListener(oe(this,r1))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,eu))==null||e.call(this),ct(this,eu,void 0))}setEventListener(e){var t;ct(this,r1,e),(t=oe(this,eu))==null||t.call(this),ct(this,eu,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){oe(this,Qd)!==e&&(ct(this,Qd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof oe(this,Qd)=="boolean"?oe(this,Qd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qd=new WeakMap,eu=new WeakMap,r1=new WeakMap,JD),D9=new hue,pue=(XD=class extends Yd{constructor(){super(),kt(this,o1,!0),kt(this,tu),kt(this,i1),ct(this,i1,e=>{if(!Xc&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){oe(this,tu)||this.setEventListener(oe(this,i1))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,tu))==null||e.call(this),ct(this,tu,void 0))}setEventListener(e){var t;ct(this,i1,e),(t=oe(this,tu))==null||t.call(this),ct(this,tu,e(this.setOnline.bind(this)))}setOnline(e){oe(this,o1)!==e&&(ct(this,o1,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return oe(this,o1)}},o1=new WeakMap,tu=new WeakMap,i1=new WeakMap,XD),Nv=new pue;function L9(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function mue(e){return Math.min(1e3*2**e,3e4)}function ZD(e){return(e??"online")!=="online"||Nv.isOnline()}var eL=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function j9(e){return e instanceof eL}function tL(e){let t,n=!1,r=0,o=!1;const i=L9(),a=()=>D9.isFocused()&&(e.networkMode==="always"||Nv.isOnline())&&e.canRun(),s=()=>ZD(e.networkMode)&&e.canRun(),l=p=>{var h;o||(o=!0,(h=e.onSuccess)==null||h.call(e,p),t==null||t(),i.resolve(p))},c=p=>{var h;o||(o=!0,(h=e.onError)==null||h.call(e,p),t==null||t(),i.reject(p))},u=()=>new Promise(p=>{var h;t=m=>{(o||a())&&p(m)},(h=e.onPause)==null||h.call(e)}).then(()=>{var p;t=void 0,o||(p=e.onContinue)==null||p.call(e)}),d=()=>{if(o)return;let p;const h=r===0?e.initialPromise:void 0;try{p=h??e.fn()}catch(m){p=Promise.reject(m)}Promise.resolve(p).then(l).catch(m=>{var g,f,v;if(o)return;const y=(g=e.retry)!=null?g:Xc?0:3,b=(f=e.retryDelay)!=null?f:mue,w=typeof b=="function"?b(r,m):b,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,m);!n&&k?(r++,(v=e.onFail)==null||v.call(e,r,m),function(_){return new Promise(E=>{setTimeout(E,_)})}(w).then(()=>a()?void 0:u()).then(()=>{n?c(m):d()})):c(m)})};return{promise:i,cancel:p=>{var h;o||(c(new eL(p)),(h=e.abort)==null||h.call(e))},continue:()=>(t==null||t(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:s,start:()=>(s()?d():u().then(d),i)}}var fue=e=>setTimeout(e,0),Jd,nL,a1,s1,na,Xd,io,Iv,Zd,Ba,Fs,rL,ur=function(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=fue;const i=a=>{t?e.push(a):o(()=>{n(a)})};return{batch:a=>{let s;t++;try{s=a()}finally{t--,t||(()=>{const l=e;e=[],l.length&&o(()=>{r(()=>{l.forEach(c=>{n(c)})})})})()}return s},batchCalls:a=>(...s)=>{i(()=>{a(...s)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}(),oL=(nL=class{constructor(){kt(this,Jd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P9(this.gcTime)&&ct(this,Jd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xc?1/0:3e5))}clearGcTimeout(){oe(this,Jd)&&(clearTimeout(oe(this,Jd)),ct(this,Jd,void 0))}},Jd=new WeakMap,nL),gue=(rL=class extends oL{constructor(e){var t;super(),kt(this,Ba),kt(this,a1),kt(this,s1),kt(this,na),kt(this,Xd),kt(this,io),kt(this,Iv),kt(this,Zd),ct(this,Zd,!1),ct(this,Iv,e.defaultOptions),this.setOptions(e.options),this.observers=[],ct(this,Xd,e.client),ct(this,na,oe(this,Xd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ct(this,a1,function(n){const r=typeof n.initialData=="function"?n.initialData():n.initialData,o=r!==void 0,i=o?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:o?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=(t=e.state)!=null?t:oe(this,a1),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=oe(this,io))==null?void 0:e.promise}setOptions(e){this.options=I(I({},oe(this,Iv)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,na).remove(this)}setData(e,t){const n=R9(this.state.data,e,this.options);return jt(this,Ba,Fs).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){jt(this,Ba,Fs).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=(t=oe(this,io))==null?void 0:t.promise;return(n=oe(this,io))==null||n.cancel(e),r?r.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,a1))}isActive(){return this.observers.some(e=>ta(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M9||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>Kl(e.options.staleTime,this)==="static")}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0||e!=="static"&&(!!this.state.isInvalidated||!$D(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=oe(this,io))==null||e.continue()}onOnline(){var e;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=oe(this,io))==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),oe(this,na).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(oe(this,io)&&(oe(this,Zd)?oe(this,io).cancel({revert:!0}):oe(this,io).cancelRetry()),this.scheduleGc()),oe(this,na).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jt(this,Ba,Fs).call(this,{type:"invalidate"})}fetch(e,t){var n,r,o;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(oe(this,io))return oe(this,io).continueRetry(),oe(this,io).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const i=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ct(this,Zd,!0),i.signal)})},s=()=>{const u=YD(this.options,t),d=(()=>{const p={client:oe(this,Xd),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return ct(this,Zd,!1),this.options.persister?this.options.persister(u,d,this):u(d)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:oe(this,Xd),state:this.state,fetchFn:s};return a(u),u})();(n=this.options.behavior)==null||n.onFetch(l,this),ct(this,s1,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=l.fetchOptions)==null?void 0:r.meta))&&jt(this,Ba,Fs).call(this,{type:"fetch",meta:(o=l.fetchOptions)==null?void 0:o.meta});const c=u=>{var d,p,h,m;j9(u)&&u.silent||jt(this,Ba,Fs).call(this,{type:"error",error:u}),j9(u)||((p=(d=oe(this,na).config).onError)==null||p.call(d,u,this),(m=(h=oe(this,na).config).onSettled)==null||m.call(h,this.state.data,u,this)),this.scheduleGc()};return ct(this,io,tL({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:u=>{var d,p,h,m;if(u!==void 0){try{this.setData(u)}catch(g){return void c(g)}(p=(d=oe(this,na).config).onSuccess)==null||p.call(d,u,this),(m=(h=oe(this,na).config).onSettled)==null||m.call(h,u,this.state.error,this),this.scheduleGc()}else c(new Error(`${this.queryHash} data is undefined`))},onError:c,onFail:(u,d)=>{jt(this,Ba,Fs).call(this,{type:"failed",failureCount:u,error:d})},onPause:()=>{jt(this,Ba,Fs).call(this,{type:"pause"})},onContinue:()=>{jt(this,Ba,Fs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),oe(this,io).start()}},a1=new WeakMap,s1=new WeakMap,na=new WeakMap,Xd=new WeakMap,io=new WeakMap,Iv=new WeakMap,Zd=new WeakMap,Ba=new WeakSet,Fs=function(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return K(I({},t),{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return K(I({},t),{fetchStatus:"paused"});case"continue":return K(I({},t),{fetchStatus:"fetching"});case"fetch":return K(I(I({},t),iL(t.data,this.options)),{fetchMeta:(n=e.meta)!=null?n:null});case"success":return I(K(I({},t),{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(r=e.dataUpdatedAt)!=null?r:Date.now(),error:null,isInvalidated:!1,status:"success"}),!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const o=e.error;return j9(o)&&o.revert&&oe(this,s1)?K(I({},oe(this,s1)),{fetchStatus:"idle"}):K(I({},t),{error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return K(I({},t),{isInvalidated:!0});case"setState":return I(I({},t),e.state)}})(this.state),ur.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),oe(this,na).notify({query:this,type:"updated",action:e})})},rL);function iL(e,t){return I({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZD(t.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}var Bs,aL,Us,To,eh,Hs,Gl,sL,vue=(aL=class extends Yd{constructor(e={}){super(),kt(this,Bs),this.config=e,ct(this,Bs,new Map)}build(e,t,n){var r;const o=t.queryKey,i=(r=t.queryHash)!=null?r:N9(o,t);let a=this.get(i);return a||(a=new gue({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){oe(this,Bs).has(e.queryHash)||(oe(this,Bs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=oe(this,Bs).get(e.queryHash);t&&(e.destroy(),t===e&&oe(this,Bs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,Bs).get(e)}getAll(){return[...oe(this,Bs).values()]}find(e){const t=I({exact:!0},e);return this.getAll().find(n=>VD(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>VD(e,n)):t}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bs=new WeakMap,aL),bue=(sL=class extends oL{constructor(e){super(),kt(this,Hs),kt(this,Us),kt(this,To),kt(this,eh),this.mutationId=e.mutationId,ct(this,To,e.mutationCache),ct(this,Us,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){oe(this,Us).includes(e)||(oe(this,Us).push(e),this.clearGcTimeout(),oe(this,To).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ct(this,Us,oe(this,Us).filter(t=>t!==e)),this.scheduleGc(),oe(this,To).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){oe(this,Us).length||(this.state.status==="pending"?this.scheduleGc():oe(this,To).remove(this))}continue(){var e,t;return(t=(e=oe(this,eh))==null?void 0:e.continue())!=null?t:this.execute(this.state.variables)}async execute(e){var t,n,r,o,i,a,s,l,c,u,d,p,h,m,g,f,v,y,b,w,k;const _=()=>{jt(this,Hs,Gl).call(this,{type:"continue"})};ct(this,eh,tL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,T)=>{jt(this,Hs,Gl).call(this,{type:"failed",failureCount:O,error:T})},onPause:()=>{jt(this,Hs,Gl).call(this,{type:"pause"})},onContinue:_,retry:(t=this.options.retry)!=null?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,To).canRun(this)}));const E=this.state.status==="pending",S=!oe(this,eh).canStart();try{if(E)_();else{jt(this,Hs,Gl).call(this,{type:"pending",variables:e,isPaused:S}),await((r=(n=oe(this,To).config).onMutate)==null?void 0:r.call(n,e,this));const T=await((i=(o=this.options).onMutate)==null?void 0:i.call(o,e));T!==this.state.context&&jt(this,Hs,Gl).call(this,{type:"pending",context:T,variables:e,isPaused:S})}const O=await oe(this,eh).start();return await((s=(a=oe(this,To).config).onSuccess)==null?void 0:s.call(a,O,e,this.state.context,this)),await((c=(l=this.options).onSuccess)==null?void 0:c.call(l,O,e,this.state.context)),await((d=(u=oe(this,To).config).onSettled)==null?void 0:d.call(u,O,null,this.state.variables,this.state.context,this)),await((h=(p=this.options).onSettled)==null?void 0:h.call(p,O,null,e,this.state.context)),jt(this,Hs,Gl).call(this,{type:"success",data:O}),O}catch(O){try{throw await((g=(m=oe(this,To).config).onError)==null?void 0:g.call(m,O,e,this.state.context,this)),await((v=(f=this.options).onError)==null?void 0:v.call(f,O,e,this.state.context)),await((b=(y=oe(this,To).config).onSettled)==null?void 0:b.call(y,void 0,O,this.state.variables,this.state.context,this)),await((k=(w=this.options).onSettled)==null?void 0:k.call(w,void 0,O,e,this.state.context)),O}finally{jt(this,Hs,Gl).call(this,{type:"error",error:O})}}finally{oe(this,To).runNext(this)}}},Us=new WeakMap,To=new WeakMap,eh=new WeakMap,Hs=new WeakSet,Gl=function(e){this.state=(t=>{switch(e.type){case"failed":return K(I({},t),{failureCount:e.failureCount,failureReason:e.error});case"pause":return K(I({},t),{isPaused:!0});case"continue":return K(I({},t),{isPaused:!1});case"pending":return K(I({},t),{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return K(I({},t),{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return K(I({},t),{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),ur.batch(()=>{oe(this,Us).forEach(t=>{t.onMutationUpdate(e)}),oe(this,To).notify({mutation:this,type:"updated",action:e})})},sL),Yl,Ua,Rv,lL,yue=(lL=class extends Yd{constructor(e={}){super(),kt(this,Yl),kt(this,Ua),kt(this,Rv),this.config=e,ct(this,Yl,new Set),ct(this,Ua,new Map),ct(this,Rv,0)}build(e,t,n){const r=new bue({mutationCache:this,mutationId:++ax(this,Rv)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){oe(this,Yl).add(e);const t=Mv(e);if(typeof t=="string"){const n=oe(this,Ua).get(t);n?n.push(e):oe(this,Ua).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(oe(this,Yl).delete(e)){const t=Mv(e);if(typeof t=="string"){const n=oe(this,Ua).get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&oe(this,Ua).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Mv(e);if(typeof t=="string"){const n=oe(this,Ua).get(t),r=n==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===e}return!0}runNext(e){var t,n;const r=Mv(e);if(typeof r=="string"){const o=(t=oe(this,Ua).get(r))==null?void 0:t.find(i=>i!==e&&i.state.isPaused);return(n=o==null?void 0:o.continue())!=null?n:Promise.resolve()}return Promise.resolve()}clear(){ur.batch(()=>{oe(this,Yl).forEach(e=>{this.notify({type:"removed",mutation:e})}),oe(this,Yl).clear(),oe(this,Ua).clear()})}getAll(){return Array.from(oe(this,Yl))}find(e){const t=I({exact:!0},e);return this.getAll().find(n=>qD(t,n))}findAll(e={}){return this.getAll().filter(t=>qD(e,t))}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ur.batch(()=>Promise.all(e.map(t=>t.continue().catch(Rr))))}},Yl=new WeakMap,Ua=new WeakMap,Rv=new WeakMap,lL);function Mv(e){var t;return(t=e.options.scope)==null?void 0:t.id}function cL(e){return{onFetch:(t,n)=>{var r,o,i,a,s;const l=t.options,c=(i=(o=(r=t.fetchOptions)==null?void 0:r.meta)==null?void 0:o.fetchMore)==null?void 0:i.direction,u=((a=t.state.data)==null?void 0:a.pages)||[],d=((s=t.state.data)==null?void 0:s.pageParams)||[];let p={pages:[],pageParams:[]},h=0;const m=async()=>{var g;let f=!1;const v=YD(t.options,t.fetchOptions),y=async(b,w,k)=>{if(f)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:w,direction:k?"backward":"forward",meta:t.options.meta};return(M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})})(T),T})(),E=await v(_),{maxPages:S}=t.options,O=k?due:uue;return{pages:O(b.pages,E,S),pageParams:O(b.pageParams,w,S)}};if(c&&u.length){const b=c==="backward",w={pages:u,pageParams:d},k=(b?wue:uL)(l,w);p=await y(w,k,b)}else{const b=e??u.length;do{const w=h===0?(g=d[0])!=null?g:l.initialPageParam:uL(l,p);if(h>0&&w==null)break;p=await y(p,w),h++}while(h<b)}return p};t.options.persister?t.fetchFn=()=>{var g,f;return(f=(g=t.options).persister)==null?void 0:f.call(g,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function uL(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function wue(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Xn,nu,ru,l1,c1,ou,u1,d1,dL,ai,Qt,Dv,Eo,th,h1,iu,au,Lv,p1,m1,nh,rh,su,f1,Zn,g1,z9,F9,B9,U9,H9,$9,V9,hL,pL,kue=(dL=class{constructor(e={}){kt(this,Xn),kt(this,nu),kt(this,ru),kt(this,l1),kt(this,c1),kt(this,ou),kt(this,u1),kt(this,d1),ct(this,Xn,e.queryCache||new vue),ct(this,nu,e.mutationCache||new yue),ct(this,ru,e.defaultOptions||{}),ct(this,l1,new Map),ct(this,c1,new Map),ct(this,ou,0)}mount(){ax(this,ou)._++,oe(this,ou)===1&&(ct(this,u1,D9.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,Xn).onFocus())})),ct(this,d1,Nv.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,Xn).onOnline())})))}unmount(){var e,t;ax(this,ou)._--,oe(this,ou)===0&&((e=oe(this,u1))==null||e.call(this),ct(this,u1,void 0),(t=oe(this,d1))==null||t.call(this),ct(this,d1,void 0))}isFetching(e){return oe(this,Xn).findAll(K(I({},e),{fetchStatus:"fetching"})).length}isMutating(e){return oe(this,nu).findAll(K(I({},e),{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=oe(this,Xn).get(n.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=oe(this,Xn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Kl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return oe(this,Xn).findAll(e).map(({queryKey:t,state:n})=>[t,n.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=oe(this,Xn).get(r.queryHash),i=function(a,s){return typeof a=="function"?a(s):a}(t,o==null?void 0:o.state.data);if(i!==void 0)return oe(this,Xn).build(this,r).setData(i,K(I({},n),{manual:!0}))}setQueriesData(e,t,n){return ur.batch(()=>oe(this,Xn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=oe(this,Xn).get(n.queryHash))==null?void 0:t.state}removeQueries(e){const t=oe(this,Xn);ur.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=oe(this,Xn);return ur.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries(I({type:"active"},e),t)))}cancelQueries(e,t={}){const n=I({revert:!0},t),r=ur.batch(()=>oe(this,Xn).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Rr).catch(Rr)}invalidateQueries(e,t={}){return ur.batch(()=>{var n,r;return oe(this,Xn).findAll(e).forEach(o=>{o.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(K(I({},e),{type:(r=(n=e==null?void 0:e.refetchType)!=null?n:e==null?void 0:e.type)!=null?r:"active"}),t)})}refetchQueries(e,t={}){var n;const r=K(I({},t),{cancelRefetch:(n=t.cancelRefetch)==null||n}),o=ur.batch(()=>oe(this,Xn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Rr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(o).then(Rr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=oe(this,Xn).build(this,t);return n.isStaleByTime(Kl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rr).catch(Rr)}fetchInfiniteQuery(e){return e.behavior=cL(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rr).catch(Rr)}ensureInfiniteQueryData(e){return e.behavior=cL(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nv.isOnline()?oe(this,nu).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Xn)}getMutationCache(){return oe(this,nu)}getDefaultOptions(){return oe(this,ru)}setDefaultOptions(e){ct(this,ru,e)}setQueryDefaults(e,t){oe(this,l1).set(Zc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...oe(this,l1).values()],n={};return t.forEach(r=>{n1(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){oe(this,c1).set(Zc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...oe(this,c1).values()],n={};return t.forEach(r=>{n1(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=K(I(I(I({},oe(this,ru).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=N9(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===M9&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:K(I(I(I({},oe(this,ru).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){oe(this,Xn).clear(),oe(this,nu).clear()}},Xn=new WeakMap,nu=new WeakMap,ru=new WeakMap,l1=new WeakMap,c1=new WeakMap,ou=new WeakMap,u1=new WeakMap,d1=new WeakMap,dL),_ue=(pL=class extends Yd{constructor(e,t){super(),kt(this,Zn),kt(this,ai),kt(this,Qt),kt(this,Dv),kt(this,Eo),kt(this,th),kt(this,h1),kt(this,iu),kt(this,au),kt(this,Lv),kt(this,p1),kt(this,m1),kt(this,nh),kt(this,rh),kt(this,su),kt(this,f1,new Set),this.options=t,ct(this,ai,e),ct(this,au,null),ct(this,iu,L9()),this.options.experimental_prefetchInRender||oe(this,iu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(oe(this,Qt).addObserver(this),mL(oe(this,Qt),this.options)?jt(this,Zn,g1).call(this):this.updateResult(),jt(this,Zn,U9).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q9(oe(this,Qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q9(oe(this,Qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,jt(this,Zn,H9).call(this),jt(this,Zn,$9).call(this),oe(this,Qt).removeObserver(this)}setOptions(e){const t=this.options,n=oe(this,Qt);if(this.options=oe(this,ai).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ta(this.options.enabled,oe(this,Qt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");jt(this,Zn,V9).call(this),oe(this,Qt).setOptions(this.options),t._defaulted&&!Pv(this.options,t)&&oe(this,ai).getQueryCache().notify({type:"observerOptionsUpdated",query:oe(this,Qt),observer:this});const r=this.hasListeners();r&&fL(oe(this,Qt),n,this.options,t)&&jt(this,Zn,g1).call(this),this.updateResult(),r&&(oe(this,Qt)!==n||ta(this.options.enabled,oe(this,Qt))!==ta(t.enabled,oe(this,Qt))||Kl(this.options.staleTime,oe(this,Qt))!==Kl(t.staleTime,oe(this,Qt)))&&jt(this,Zn,z9).call(this);const o=jt(this,Zn,F9).call(this);r&&(oe(this,Qt)!==n||ta(this.options.enabled,oe(this,Qt))!==ta(t.enabled,oe(this,Qt))||o!==oe(this,su))&&jt(this,Zn,B9).call(this,o)}getOptimisticResult(e){const t=oe(this,ai).getQueryCache().build(oe(this,ai),e),n=this.createResult(t,e);return function(r,o){return!Pv(r.getCurrentResult(),o)}(this,n)&&(ct(this,Eo,n),ct(this,h1,this.options),ct(this,th,oe(this,Qt).state)),n}getCurrentResult(){return oe(this,Eo)}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t==null||t(r),Reflect.get(n,r))})}trackProp(e){oe(this,f1).add(e)}getCurrentQuery(){return oe(this,Qt)}refetch(e={}){var t=ye(e,[]);return this.fetch(I({},t))}fetchOptimistic(e){const t=oe(this,ai).defaultQueryOptions(e),n=oe(this,ai).getQueryCache().build(oe(this,ai),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){var t;return jt(this,Zn,g1).call(this,K(I({},e),{cancelRefetch:(t=e.cancelRefetch)==null||t})).then(()=>(this.updateResult(),oe(this,Eo)))}createResult(e,t){var n;const r=oe(this,Qt),o=this.options,i=oe(this,Eo),a=oe(this,th),s=oe(this,h1),l=e!==r?e.state:oe(this,Dv),{state:c}=e;let u,d=I({},c),p=!1;if(t._optimisticResults){const E=this.hasListeners(),S=!E&&mL(e,t),O=E&&fL(e,r,t,o);(S||O)&&(d=I(I({},d),iL(c.data,e.options))),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:g}=d;u=d.data;let f=!1;if(t.placeholderData!==void 0&&u===void 0&&g==="pending"){let E;i!=null&&i.isPlaceholderData&&t.placeholderData===(s==null?void 0:s.placeholderData)?(E=i.data,f=!0):E=typeof t.placeholderData=="function"?t.placeholderData((n=oe(this,m1))==null?void 0:n.state.data,oe(this,m1)):t.placeholderData,E!==void 0&&(g="success",u=R9(i==null?void 0:i.data,E,t),p=!0)}if(t.select&&u!==void 0&&!f)if(i&&u===(a==null?void 0:a.data)&&t.select===oe(this,Lv))u=oe(this,p1);else try{ct(this,Lv,t.select),u=t.select(u),u=R9(i==null?void 0:i.data,u,t),ct(this,p1,u),ct(this,au,null)}catch(E){ct(this,au,E)}oe(this,au)&&(h=oe(this,au),u=oe(this,p1),m=Date.now(),g="error");const v=d.fetchStatus==="fetching",y=g==="pending",b=g==="error",w=y&&v,k=u!==void 0,_={status:g,fetchStatus:d.fetchStatus,isPending:y,isSuccess:g==="success",isError:b,isInitialLoading:w,isLoading:w,data:u,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:b&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&k,isStale:W9(e,t),refetch:this.refetch,promise:oe(this,iu)};if(this.options.experimental_prefetchInRender){const E=T=>{_.status==="error"?T.reject(_.error):_.data!==void 0&&T.resolve(_.data)},S=()=>{const T=ct(this,iu,_.promise=L9());E(T)},O=oe(this,iu);switch(O.status){case"pending":e.queryHash===r.queryHash&&E(O);break;case"fulfilled":(_.status==="error"||_.data!==O.value)&&S();break;case"rejected":(_.status!=="error"||_.error!==O.reason)&&S()}}return _}updateResult(){const e=oe(this,Eo),t=this.createResult(oe(this,Qt),this.options);ct(this,th,oe(this,Qt).state),ct(this,h1,this.options),oe(this,th).data!==void 0&&ct(this,m1,oe(this,Qt)),!Pv(t,e)&&(ct(this,Eo,t),jt(this,Zn,hL).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!oe(this,f1).size)return!0;const o=new Set(r??oe(this,f1));return this.options.throwOnError&&o.add("error"),Object.keys(oe(this,Eo)).some(i=>{const a=i;return oe(this,Eo)[a]!==e[a]&&o.has(a)})})()}))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&jt(this,Zn,U9).call(this)}},ai=new WeakMap,Qt=new WeakMap,Dv=new WeakMap,Eo=new WeakMap,th=new WeakMap,h1=new WeakMap,iu=new WeakMap,au=new WeakMap,Lv=new WeakMap,p1=new WeakMap,m1=new WeakMap,nh=new WeakMap,rh=new WeakMap,su=new WeakMap,f1=new WeakMap,Zn=new WeakSet,g1=function(e){jt(this,Zn,V9).call(this);let t=oe(this,Qt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Rr)),t},z9=function(){jt(this,Zn,H9).call(this);const e=Kl(this.options.staleTime,oe(this,Qt));if(Xc||oe(this,Eo).isStale||!P9(e))return;const t=$D(oe(this,Eo).dataUpdatedAt,e)+1;ct(this,nh,setTimeout(()=>{oe(this,Eo).isStale||this.updateResult()},t))},F9=function(){var e;return(e=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(oe(this,Qt)):this.options.refetchInterval)!=null&&e},B9=function(e){jt(this,Zn,$9).call(this),ct(this,su,e),!Xc&&ta(this.options.enabled,oe(this,Qt))!==!1&&P9(oe(this,su))&&oe(this,su)!==0&&ct(this,rh,setInterval(()=>{(this.options.refetchIntervalInBackground||D9.isFocused())&&jt(this,Zn,g1).call(this)},oe(this,su)))},U9=function(){jt(this,Zn,z9).call(this),jt(this,Zn,B9).call(this,jt(this,Zn,F9).call(this))},H9=function(){oe(this,nh)&&(clearTimeout(oe(this,nh)),ct(this,nh,void 0))},$9=function(){oe(this,rh)&&(clearInterval(oe(this,rh)),ct(this,rh,void 0))},V9=function(){const e=oe(this,ai).getQueryCache().build(oe(this,ai),this.options);if(e===oe(this,Qt))return;const t=oe(this,Qt);ct(this,Qt,e),ct(this,Dv,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},hL=function(e){ur.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(oe(this,Eo))}),oe(this,ai).getQueryCache().notify({query:oe(this,Qt),type:"observerResultsUpdated"})})},pL);function mL(e,t){return function(n,r){return ta(r.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&r.retryOnMount===!1)}(e,t)||e.state.data!==void 0&&q9(e,t,t.refetchOnMount)}function q9(e,t,n){if(ta(t.enabled,e)!==!1&&Kl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&W9(e,t)}return!1}function fL(e,t,n,r){return(e!==t||ta(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&W9(e,n)}function W9(e,t){return ta(t.enabled,e)!==!1&&e.isStaleByTime(Kl(t.staleTime,e))}var lu,cu,si,Ql,uu,jv,K9,gL,xue=(gL=class extends Yd{constructor(e,t){super(),kt(this,uu),kt(this,lu),kt(this,cu),kt(this,si),kt(this,Ql),ct(this,lu,e),this.setOptions(t),this.bindMethods(),jt(this,uu,jv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=oe(this,lu).defaultMutationOptions(e),Pv(this.options,n)||oe(this,lu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:oe(this,si),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zc(n.mutationKey)!==Zc(this.options.mutationKey)?this.reset():((t=oe(this,si))==null?void 0:t.state.status)==="pending"&&oe(this,si).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=oe(this,si))==null||e.removeObserver(this)}onMutationUpdate(e){jt(this,uu,jv).call(this),jt(this,uu,K9).call(this,e)}getCurrentResult(){return oe(this,cu)}reset(){var e;(e=oe(this,si))==null||e.removeObserver(this),ct(this,si,void 0),jt(this,uu,jv).call(this),jt(this,uu,K9).call(this)}mutate(e,t){var n;return ct(this,Ql,t),(n=oe(this,si))==null||n.removeObserver(this),ct(this,si,oe(this,lu).getMutationCache().build(oe(this,lu),this.options)),oe(this,si).addObserver(this),oe(this,si).execute(e)}},lu=new WeakMap,cu=new WeakMap,si=new WeakMap,Ql=new WeakMap,uu=new WeakSet,jv=function(){var e,t;const n=(t=(e=oe(this,si))==null?void 0:e.state)!=null?t:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};ct(this,cu,K(I({},n),{isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}))},K9=function(e){ur.batch(()=>{var t,n,r,o,i,a,s,l;if(oe(this,Ql)&&this.hasListeners()){const c=oe(this,cu).variables,u=oe(this,cu).context;(e==null?void 0:e.type)==="success"?((n=(t=oe(this,Ql)).onSuccess)==null||n.call(t,e.data,c,u),(o=(r=oe(this,Ql)).onSettled)==null||o.call(r,e.data,null,c,u)):(e==null?void 0:e.type)==="error"&&((a=(i=oe(this,Ql)).onError)==null||a.call(i,e.error,c,u),(l=(s=oe(this,Ql)).onSettled)==null||l.call(s,void 0,e.error,c,u))}this.listeners.forEach(c=>{c(oe(this,cu))})})},gL);function vL(e){return e}function Cue(e){return I(I({mutationKey:e.options.mutationKey,state:e.state},e.options.scope&&{scope:e.options.scope}),e.meta&&{meta:e.meta})}function Sue(e,t,n){var r;return I(I({dehydratedAt:Date.now(),state:I(I({},e.state),e.state.data!==void 0&&{data:t(e.state.data)}),queryKey:e.queryKey,queryHash:e.queryHash},e.state.status==="pending"&&{promise:(r=e.promise)==null?void 0:r.then(t).catch(o=>n(o)?Promise.reject(new Error("redacted")):Promise.reject(o))}),e.meta&&{meta:e.meta})}function Tue(e){return e.state.isPaused}function Eue(e){return e.state.status==="success"}function Oue(e){return!0}function Aue(e,t={}){var n,r,o,i,a,s,l,c,u,d,p,h;const m=(o=(r=t.shouldDehydrateMutation)!=null?r:(n=e.getDefaultOptions().dehydrate)==null?void 0:n.shouldDehydrateMutation)!=null?o:Tue,g=e.getMutationCache().getAll().flatMap(w=>m(w)?[Cue(w)]:[]),f=(s=(a=t.shouldDehydrateQuery)!=null?a:(i=e.getDefaultOptions().dehydrate)==null?void 0:i.shouldDehydrateQuery)!=null?s:Eue,v=(u=(c=t.shouldRedactErrors)!=null?c:(l=e.getDefaultOptions().dehydrate)==null?void 0:l.shouldRedactErrors)!=null?u:Oue,y=(h=(p=t.serializeData)!=null?p:(d=e.getDefaultOptions().dehydrate)==null?void 0:d.serializeData)!=null?h:vL,b=e.getQueryCache().getAll().flatMap(w=>f(w)?[Sue(w,y,v)]:[]);return{mutations:g,queries:b}}function Pue(e,t,n){var r,o,i,a;if(typeof t!="object"||t===null)return;const s=e.getMutationCache(),l=e.getQueryCache(),c=(a=(i=(r=n==null?void 0:n.defaultOptions)==null?void 0:r.deserializeData)!=null?i:(o=e.getDefaultOptions().hydrate)==null?void 0:o.deserializeData)!=null?a:vL,u=t.mutations||[],d=t.queries||[];u.forEach(p=>{var h,m,g=p,{state:f}=g,v=ye(g,["state"]);s.build(e,I(I(I({},(h=e.getDefaultOptions().hydrate)==null?void 0:h.mutations),(m=n==null?void 0:n.defaultOptions)==null?void 0:m.mutations),v),f)}),d.forEach(({queryKey:p,state:h,queryHash:m,meta:g,promise:f,dehydratedAt:v})=>{var y,b;const w=f?function(T){var M;let D;if((M=T.then(H=>(D=H,H),Rr))==null||M.catch(Rr),D!==void 0)return{data:D}}(f):void 0,k=h.data===void 0?w==null?void 0:w.data:h.data,_=k===void 0?k:c(k);let E=l.get(m);const S=(E==null?void 0:E.state.status)==="pending",O=(E==null?void 0:E.state.fetchStatus)==="fetching";if(E){const T=w&&v!==void 0&&v>E.state.dataUpdatedAt;if(h.dataUpdatedAt>E.state.dataUpdatedAt||T){const M=ye(h,["fetchStatus"]);E.setState(K(I({},M),{data:_}))}}else E=l.build(e,K(I(I({},(y=e.getDefaultOptions().hydrate)==null?void 0:y.queries),(b=n==null?void 0:n.defaultOptions)==null?void 0:b.queries),{queryKey:p,queryHash:m,meta:g}),K(I({},h),{data:_,fetchStatus:"idle",status:_!==void 0?"success":h.status}));f&&!S&&!O&&(v===void 0||v>E.state.dataUpdatedAt)&&E.fetch(void 0,{initialPromise:Promise.resolve(f).then(c)})})}var bL=x.createContext(void 0),v1=e=>{const t=x.useContext(bL);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Nue=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),W.jsx(bL.Provider,{value:e,children:t})),yL=x.createContext(!1),Iue=yL.Provider,Rue=x.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),wL=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Mue(e,t,n){var r,o,i,a,s;const l=x.useContext(yL),c=x.useContext(Rue),u=v1(),d=u.defaultQueryOptions(e);(o=(r=u.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||o.call(r,d),d._optimisticResults=l?"isRestoring":"optimistic",(f=>{if(f.suspense){const v=b=>b==="static"?b:Math.max(b??1e3,1e3),y=f.staleTime;f.staleTime=typeof y=="function"?(...b)=>v(y(...b)):v(y),typeof f.gcTime=="number"&&(f.gcTime=Math.max(f.gcTime,1e3))}})(d),((f,v)=>{(f.suspense||f.throwOnError||f.experimental_prefetchInRender)&&(v.isReset()||(f.retryOnMount=!1))})(d,c),(f=>{x.useEffect(()=>{f.clearReset()},[f])})(c);const p=!u.getQueryCache().get(d.queryHash),[h]=x.useState(()=>new t(u,d)),m=h.getOptimisticResult(d),g=!l&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(f=>{const v=g?h.subscribe(ur.batchCalls(f)):Rr;return h.updateResult(),v},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(d)},[d,h]),((f,v)=>(f==null?void 0:f.suspense)&&v.isPending)(d,m))throw wL(d,h,c);if((({result:f,errorResetBoundary:v,throwOnError:y,query:b,suspense:w})=>f.isError&&!v.isReset()&&!f.isFetching&&b&&(w&&f.data===void 0||QD(y,[f.error,b])))({result:m,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw m.error;if((a=(i=u.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||a.call(i,d,m),d.experimental_prefetchInRender&&!Xc&&((f,v)=>f.isLoading&&f.isFetching&&!v)(m,l)){const f=p?wL(d,h,c):(s=u.getQueryCache().get(d.queryHash))==null?void 0:s.promise;f==null||f.catch(Rr).finally(()=>{h.updateResult()})}return d.notifyOnChangeProps?m:h.trackResult(m)}function oh(e,t){return Mue(e,_ue)}function or(e,t){const n=v1(),[r]=x.useState(()=>new xue(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const o=x.useSyncExternalStore(x.useCallback(a=>r.subscribe(ur.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((a,s)=>{r.mutate(a,s).catch(Rr)},[r]);if(o.error&&QD(r.options.throwOnError,[o.error]))throw o.error;return K(I({},o),{mutate:i,mutateAsync:o.mutate})}function kL(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function b1(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function du(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ih(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t!="number"&&t.flushOnUnmount,o=du(e),i=x.useRef(0),a=x.useRef(()=>{}),s=Object.assign(x.useCallback((...l)=>{window.clearTimeout(i.current);const c=()=>{i.current!==0&&(i.current=0,o(...l))};a.current=c,s.flush=c,i.current=window.setTimeout(c,n)},[o,n]),{flush:a.current});return x.useEffect(()=>()=>{window.clearTimeout(i.current),r&&s.flush()},[s,r]),s}const _L=["mousedown","touchstart"];function xL(e,t,n){const r=x.useRef(null);return x.useEffect(()=>{const o=i=>{const{target:a}=i??{};if(Array.isArray(n)){const s=(a==null?void 0:a.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(a)&&a.tagName!=="HTML";n.every(l=>!!l&&!i.composedPath().includes(l))&&!s&&e()}else r.current&&!r.current.contains(a)&&e()};return(t||_L).forEach(i=>document.addEventListener(i,o)),()=>{(t||_L).forEach(i=>document.removeEventListener(i,o))}},[r,e,n]),r}function Due({timeout:e=2e3}={}){const[t,n]=x.useState(null),[r,o]=x.useState(!1),[i,a]=x.useState(null);return{copy:s=>{"clipboard"in navigator?navigator.clipboard.writeText(s).then(()=>(l=>{window.clearTimeout(i),a(window.setTimeout(()=>o(!1),e)),o(l)})(!0)).catch(l=>n(l)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{o(!1),n(null),window.clearTimeout(i)},error:t,copied:r}}function Lue(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=x.useState(n?t:function(a){return typeof window<"u"&&"matchMedia"in window&&window.matchMedia(a).matches}(e)),i=x.useRef(null);return x.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),o(i.current.matches),function(a,s){try{return a.addEventListener("change",s),()=>a.removeEventListener("change",s)}catch{return a.addListener(s),()=>a.removeListener(s)}}(i.current,a=>o(a.matches))},[e]),r}const ah=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Ha(e,t){const n=x.useRef(!1);x.useEffect(()=>()=>{n.current=!1},[]),x.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function CL({opened:e,shouldReturnFocus:t=!0}){const n=x.useRef(null),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Ha(()=>{let o=-1;const i=a=>{a.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",i),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",i)}},[e,t]),r}const jue=/input|select|textarea|button|object/,SL="a, input, select, textarea, button, object, [tabindex]";function zue(e){return e.style.display==="none"}function TL(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function G9(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(TL(e));return(jue.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&function(r){if(r.getAttribute("aria-hidden")||r.getAttribute("hidden")||r.getAttribute("type")==="hidden")return!1;let o=r;for(;o&&o!==document.body&&o.nodeType!==11;){if(zue(o))return!1;o=o.parentNode}return!0}(e)}function EL(e){const t=TL(e);return(Number.isNaN(t)||t>=0)&&G9(e)}function Fue(e,t){const n=function(l){return Array.from(l.querySelectorAll(SL)).filter(EL)}(e);if(!n.length)return void t.preventDefault();const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let i=r===o.activeElement||e===o.activeElement;const a=o.activeElement;if(a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(i=n.filter(l=>l.getAttribute("type")==="radio"&&l.getAttribute("name")===a.getAttribute("name")).includes(r)),!i)return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}const Bue=Bt.useId||(()=>{});function y1(e){const t=function(){const o=Bue();return o?`mantine-${o.replace(/:/g,"")}`:""}(),[n,r]=x.useState(t);return ah(()=>{r(b1())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function w1(e,t,n){x.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function Uue(e){try{return e&&JSON.parse(e)}catch{return e}}function Hue(e,t){const n="mantine-local-storage",{getItem:r,setItem:o,removeItem:i}=function(a){return{getItem:s=>{try{return window[a].getItem(s)}catch{return null}},setItem:(s,l)=>{try{window[a].setItem(s,l)}catch{}},removeItem:s=>{try{window[a].removeItem(s)}catch{}}}}(e);return function({key:a,defaultValue:s,getInitialValueInEffect:l=!0,sync:c=!0,deserialize:u=Uue,serialize:d=p=>function(h,m="use-local-storage"){try{return JSON.stringify(h)}catch{throw new Error(`@mantine/hooks ${m}: Failed to serialize the value`)}}(p,t)}){const p=x.useCallback(v=>{let y;try{y=typeof window>"u"||!(e in window)||window[e]===null||!!v}catch{y=!0}if(y)return s;const b=r(a);return b!==null?u(b):s},[a,s]),[h,m]=x.useState(p(l)),g=x.useCallback(v=>{v instanceof Function?m(y=>{const b=v(y);return o(a,d(b)),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:v(y)}})),b}):(o(a,d(v)),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:v}})),m(v))},[a]),f=x.useCallback(()=>{i(a),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:s}}))},[]);return w1("storage",v=>{var y;c&&v.storageArea===window[e]&&v.key===a&&m(u((y=v.newValue)!=null?y:void 0))}),w1(n,v=>{c&&v.detail.key===a&&m(v.detail.value)}),x.useEffect(()=>{s!==void 0&&h===void 0&&g(s)},[s,h,g]),x.useEffect(()=>{const v=p();v!==void 0&&g(v)},[a]),[h===void 0?s:h,g,f]}}function OL(e){return Hue("localStorage","use-local-storage")(e)}function Y9(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function AL(...e){const t=new Map;return n=>{if(e.forEach(r=>{const o=Y9(r,n);o&&t.set(r,o)}),t.size>0)return()=>{e.forEach(r=>{const o=t.get(r);o?o():Y9(r,null)}),t.clear()}}}function li(...e){return x.useCallback(AL(...e),e)}function k1({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,i]=x.useState(t!==void 0?t:n);return e!==void 0?[e,r,!0]:[o,(a,...s)=>{i(a),r==null||r(a,...s)},!1]}function Q9(e,t){return Lue("(prefers-reduced-motion: reduce)",e,t)}const $ue={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function PL(e){const t=x.useRef(0),n=x.useRef(null),[r,o]=x.useState($ue),i=x.useMemo(()=>typeof window<"u"?new ResizeObserver(a=>{const s=a[0];s&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{var l,c;if(n.current){const u=((l=s.borderBoxSize)==null?void 0:l[0])||((c=s.contentBoxSize)==null?void 0:c[0]);if(u){const d=u.inlineSize,p=u.blockSize;o({width:d,height:p,x:s.contentRect.x,y:s.contentRect.y,top:s.contentRect.top,left:s.contentRect.left,bottom:s.contentRect.bottom,right:s.contentRect.right})}else o(s.contentRect)}}))}):null,[]);return x.useEffect(()=>(n.current&&(i==null||i.observe(n.current,e)),()=>{i==null||i.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}const NL={passive:!0};var IL,RL,ut={},zv={exports:{}},Vue=zv.exports;function que(){return IL||(IL=1,function(e,t){(function(n,r){var o="function",i="undefined",a="object",s="string",l="major",c="model",u="name",d="type",p="vendor",h="version",m="architecture",g="console",f="mobile",v="tablet",y="smarttv",b="wearable",w="embedded",k="Amazon",_="Apple",E="ASUS",S="BlackBerry",O="Browser",T="Chrome",M="Firefox",D="Google",H="Huawei",$="LG",R="Microsoft",U="Motorola",B="Opera",L="Samsung",C="Sharp",V="Sony",N="Xiaomi",q="Zebra",J="Facebook",Q="Chromium OS",te="Mac OS",X=" Browser",ee=function(Ee){for(var Re={},Be=0;Be<Ee.length;Be++)Re[Ee[Be].toUpperCase()]=Ee[Be];return Re},ue=function(Ee,Re){return typeof Ee===s&&de(Re).indexOf(de(Ee))!==-1},de=function(Ee){return Ee.toLowerCase()},ge=function(Ee,Re){if(typeof Ee===s)return Ee=Ee.replace(/^\s\s*/,""),typeof Re===i?Ee:Ee.substring(0,500)},he=function(Ee,Re){for(var Be,it,at,Qe,Je,Me,He=0;He<Re.length&&!Je;){var Ue=Re[He],Ve=Re[He+1];for(Be=it=0;Be<Ue.length&&!Je&&Ue[Be];)if(Je=Ue[Be++].exec(Ee))for(at=0;at<Ve.length;at++)Me=Je[++it],typeof(Qe=Ve[at])===a&&Qe.length>0?Qe.length===2?typeof Qe[1]==o?this[Qe[0]]=Qe[1].call(this,Me):this[Qe[0]]=Qe[1]:Qe.length===3?typeof Qe[1]!==o||Qe[1].exec&&Qe[1].test?this[Qe[0]]=Me?Me.replace(Qe[1],Qe[2]):r:this[Qe[0]]=Me?Qe[1].call(this,Me,Qe[2]):r:Qe.length===4&&(this[Qe[0]]=Me?Qe[3].call(this,Me.replace(Qe[1],Qe[2])):r):this[Qe]=Me||r;He+=2}},Ce=function(Ee,Re){for(var Be in Re)if(typeof Re[Be]===a&&Re[Be].length>0){for(var it=0;it<Re[Be].length;it++)if(ue(Re[Be][it],Ee))return Be==="?"?r:Be}else if(ue(Re[Be],Ee))return Be==="?"?r:Be;return Re.hasOwnProperty("*")?Re["*"]:Ee},be={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},me={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,h],[/opios[\/ ]+([\w\.]+)/i],[h,[u,B+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[h,[u,B+" GX"]],[/\bopr\/([\w\.]+)/i],[h,[u,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[h,[u,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[h,[u,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,h],[/quark(?:pc)?\/([-\w\.]+)/i],[h,[u,"Quark"]],[/\bddg\/([\w\.]+)/i],[h,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[u,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[h,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[h,[u,"Smart Lenovo "+O]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+O],h],[/\bfocus\/([\w\.]+)/i],[h,[u,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[u,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[u,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[u,"MIUI"+X]],[/fxios\/([\w\.-]+)/i],[h,[u,M]],[/\bqihoobrowser\/?([\w\.]*)/i],[h,[u,"360"]],[/\b(qq)\/([\w\.]+)/i],[[u,/(.+)/,"$1Browser"],h],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1"+X],h],[/samsungbrowser\/([\w\.]+)/i],[h,[u,L+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[h,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[u,h],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[u],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[h,u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,J],h],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[u,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,T+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[u,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[h,Ce,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],h],[/(wolvic|librewolf)\/([\w\.]+)/i],[u,h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[u,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,[h,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[u,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,de]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",de]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,de]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[p,L],[d,v]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[p,L],[d,f]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[p,_],[d,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[p,_],[d,v]],[/(macintosh);/i],[c,[p,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[p,C],[d,f]],[/(?:honor)([-\w ]+)[;\)]/i],[c,[p,"Honor"],[d,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[p,H],[d,v]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[p,H],[d,f]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[p,N],[d,f]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[p,N],[d,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[p,"OPPO"],[d,f]],[/\b(opd2\d{3}a?) bui/i],[c,[p,"OPPO"],[d,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[p,"Vivo"],[d,f]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[p,"Realme"],[d,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[p,U],[d,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[p,U],[d,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[p,$],[d,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[p,$],[d,f]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[p,"Lenovo"],[d,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[p,"Nokia"],[d,f]],[/(pixel c)\b/i],[c,[p,D],[d,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[p,D],[d,f]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[p,V],[d,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[p,V],[d,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[p,"OnePlus"],[d,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[p,k],[d,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[p,k],[d,f]],[/(playbook);[-\w\),; ]+(rim)/i],[c,p,[d,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[p,S],[d,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[p,E],[d,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[p,E],[d,f]],[/(nexus 9)/i],[c,[p,"HTC"],[d,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[c,/_/g," "],[d,f]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[p,"TCL"],[d,v]],[/(itel) ((\w+))/i],[[p,de],c,[d,Ce,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[p,"Acer"],[d,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[p,"Meizu"],[d,f]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[p,"Ulefone"],[d,f]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[c,[p,"Energizer"],[d,f]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[c,[p,"Cat"],[d,f]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[c,[p,"Smartfren"],[d,f]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[p,"Nothing"],[d,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,c,[d,f]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,c,[d,v]],[/(surface duo)/i],[c,[p,R],[d,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[p,"Fairphone"],[d,f]],[/(u304aa)/i],[c,[p,"AT&T"],[d,f]],[/\bsie-(\w*)/i],[c,[p,"Siemens"],[d,f]],[/\b(rct\w+) b/i],[c,[p,"RCA"],[d,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[p,"Dell"],[d,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[p,"Verizon"],[d,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[p,"Barnes & Noble"],[d,v]],[/\b(tm\d{3}\w+) b/i],[c,[p,"NuVision"],[d,v]],[/\b(k88) b/i],[c,[p,"ZTE"],[d,v]],[/\b(nx\d{3}j) b/i],[c,[p,"ZTE"],[d,f]],[/\b(gen\d{3}) b.+49h/i],[c,[p,"Swiss"],[d,f]],[/\b(zur\d{3}) b/i],[c,[p,"Swiss"],[d,v]],[/\b((zeki)?tb.*\b) b/i],[c,[p,"Zeki"],[d,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],c,[d,v]],[/\b(ns-?\w{0,9}) b/i],[c,[p,"Insignia"],[d,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[p,"NextBook"],[d,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],c,[d,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],c,[d,f]],[/\b(ph-1) /i],[c,[p,"Essential"],[d,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[p,"Envizen"],[d,v]],[/\b(trio[-\w\. ]+) b/i],[c,[p,"MachSpeed"],[d,v]],[/\btu_(1491) b/i],[c,[p,"Rotor"],[d,v]],[/(shield[\w ]+) b/i],[c,[p,"Nvidia"],[d,v]],[/(sprint) (\w+)/i],[p,c,[d,f]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[p,R],[d,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[p,q],[d,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[p,q],[d,f]],[/smart-tv.+(samsung)/i],[p,[d,y]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[p,L],[d,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,$],[d,y]],[/(apple) ?tv/i],[p,[c,_+" TV"],[d,y]],[/crkey/i],[[c,T+"cast"],[p,D],[d,y]],[/droid.+aft(\w+)( bui|\))/i],[c,[p,k],[d,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[p,C],[d,y]],[/(bravia[\w ]+)( bui|\))/i],[c,[p,V],[d,y]],[/(mitv-\w{5}) bui/i],[c,[p,N],[d,y]],[/Hbbtv.*(technisat) (.*);/i],[p,c,[d,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,ge],[c,ge],[d,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,c,[d,g]],[/droid.+; (shield) bui/i],[c,[p,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[c,[p,V],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[p,R],[d,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[p,L],[d,b]],[/((pebble))app/i],[p,c,[d,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[p,_],[d,b]],[/droid.+; (glass) \d/i],[c,[p,D],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[c,[p,q],[d,b]],[/droid.+; (glass) \d/i],[c,[p,D],[d,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,c,[d,b]],[/; (quest( \d| pro)?)/i],[c,[p,J],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,w]],[/(aeobc)\b/i],[c,[p,k],[d,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[d,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[d,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,f]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[u,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[u,h],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,h],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[h,Ce,be]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,Ce,be],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,te],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,h],[/\(bb(10);/i],[h,[u,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[u,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[u,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,Q],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,h],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,h]]},pe=function(Ee,Re){if(typeof Ee===a&&(Re=Ee,Ee=r),!(this instanceof pe))return new pe(Ee,Re).getResult();var Be=typeof n!==i&&n.navigator?n.navigator:r,it=Ee||(Be&&Be.userAgent?Be.userAgent:""),at=Be&&Be.userAgentData?Be.userAgentData:r,Qe=Re?function(Me,He){var Ue={};for(var Ve in Me)He[Ve]&&He[Ve].length%2==0?Ue[Ve]=He[Ve].concat(Me[Ve]):Ue[Ve]=Me[Ve];return Ue}(me,Re):me,Je=Be&&Be.userAgent==it;return this.getBrowser=function(){var Me={};return Me[u]=r,Me[h]=r,he.call(Me,it,Qe.browser),Me[l]=function(He){return typeof He===s?He.replace(/[^\d\.]/g,"").split(".")[0]:r}(Me[h]),Je&&Be&&Be.brave&&typeof Be.brave.isBrave==o&&(Me[u]="Brave"),Me},this.getCPU=function(){var Me={};return Me[m]=r,he.call(Me,it,Qe.cpu),Me},this.getDevice=function(){var Me={};return Me[p]=r,Me[c]=r,Me[d]=r,he.call(Me,it,Qe.device),Je&&!Me[d]&&at&&at.mobile&&(Me[d]=f),Je&&Me[c]=="Macintosh"&&Be&&typeof Be.standalone!==i&&Be.maxTouchPoints&&Be.maxTouchPoints>2&&(Me[c]="iPad",Me[d]=v),Me},this.getEngine=function(){var Me={};return Me[u]=r,Me[h]=r,he.call(Me,it,Qe.engine),Me},this.getOS=function(){var Me={};return Me[u]=r,Me[h]=r,he.call(Me,it,Qe.os),Je&&!Me[u]&&at&&at.platform&&at.platform!="Unknown"&&(Me[u]=at.platform.replace(/chrome os/i,Q).replace(/macos/i,te)),Me},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return it},this.setUA=function(Me){return it=typeof Me===s&&Me.length>500?ge(Me,500):Me,this},this.setUA(it),this};pe.VERSION="1.0.40",pe.BROWSER=ee([u,h,l]),pe.CPU=ee([m]),pe.DEVICE=ee([c,p,d,g,f,y,v,b,w]),pe.ENGINE=pe.OS=ee([u,h]),e.exports&&(t=e.exports=pe),t.UAParser=pe;var Ie=typeof n!==i&&(n.jQuery||n.Zepto);if(Ie&&!Ie.ua){var xe=new pe;Ie.ua=xe.getResult(),Ie.ua.get=function(){return xe.getUA()},Ie.ua.set=function(Ee){xe.setUA(Ee);var Re=xe.getResult();for(var Be in Re)Ie.ua[Be]=Re[Be]}}})(typeof window=="object"?window:Vue)}(zv,zv.exports)),zv.exports}var ML=function(){if(RL)return ut;RL=1,Object.defineProperty(ut,"__esModule",{value:!0});var e=Bt,t=function(ie){return ie&&typeof ie=="object"&&"default"in ie?ie.default:ie}(e),n=que(),r=new n,o=r.getBrowser(),i=r.getCPU(),a=r.getDevice(),s=r.getEngine(),l=r.getOS(),c=r.getUA(),u=function(ie){return r.setUA(ie)},d=function(ie){if(ie){var _e=new n(ie);return{UA:_e,browser:_e.getBrowser(),cpu:_e.getCPU(),device:_e.getDevice(),engine:_e.getEngine(),os:_e.getOS(),ua:_e.getUA(),setUserAgent:function(ze){return _e.setUA(ze)}}}},p=Object.freeze({ClientUAInstance:r,browser:o,cpu:i,device:a,engine:s,os:l,ua:c,setUa:u,parseUserAgent:d});function h(ie,_e){var ze=Object.keys(ie);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(ie);_e&&(et=et.filter(function(st){return Object.getOwnPropertyDescriptor(ie,st).enumerable})),ze.push.apply(ze,et)}return ze}function m(ie){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},m(ie)}function g(ie,_e,ze){return _e&&function(et,st){for(var en=0;en<st.length;en++){var Dt=st[en];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(et,Dt.key,Dt)}}(ie.prototype,_e),ie}function f(ie,_e,ze){return _e in ie?Object.defineProperty(ie,_e,{value:ze,enumerable:!0,configurable:!0,writable:!0}):ie[_e]=ze,ie}function v(){return v=Object.assign||function(ie){for(var _e=1;_e<arguments.length;_e++){var ze=arguments[_e];for(var et in ze)Object.prototype.hasOwnProperty.call(ze,et)&&(ie[et]=ze[et])}return ie},v.apply(this,arguments)}function y(ie){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},y(ie)}function b(ie,_e){return b=Object.setPrototypeOf||function(ze,et){return ze.__proto__=et,ze},b(ie,_e)}function w(ie,_e){if(ie==null)return{};var ze,et,st=function(Dt,sr){if(Dt==null)return{};var ma,cl,Tp={},Xf=Object.keys(Dt);for(cl=0;cl<Xf.length;cl++)ma=Xf[cl],!(sr.indexOf(ma)>=0)&&(Tp[ma]=Dt[ma]);return Tp}(ie,_e);if(Object.getOwnPropertySymbols){var en=Object.getOwnPropertySymbols(ie);for(et=0;et<en.length;et++)ze=en[et],!(_e.indexOf(ze)>=0)&&Object.prototype.propertyIsEnumerable.call(ie,ze)&&(st[ze]=ie[ze])}return st}function k(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function _(ie,_e){return function(ze){if(Array.isArray(ze))return ze}(ie)||function(ze,et){var st=ze==null?null:typeof Symbol<"u"&&ze[Symbol.iterator]||ze["@@iterator"];if(st!=null){var en,Dt,sr=[],ma=!0,cl=!1;try{for(st=st.call(ze);!(ma=(en=st.next()).done)&&(sr.push(en.value),!et||sr.length!==et);ma=!0);}catch(Tp){cl=!0,Dt=Tp}finally{try{!ma&&st.return!=null&&st.return()}finally{if(cl)throw Dt}}return sr}}(ie,_e)||function(ze,et){if(ze){if(typeof ze=="string")return E(ze,et);var st=Object.prototype.toString.call(ze).slice(8,-1);if(st==="Object"&&ze.constructor&&(st=ze.constructor.name),st==="Map"||st==="Set")return Array.from(ze);if(st==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(st))return E(ze,et)}}(ie,_e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(ie,_e){(_e==null||_e>ie.length)&&(_e=ie.length);for(var ze=0,et=new Array(_e);ze<_e;ze++)et[ze]=ie[ze];return et}var S="mobile",O="tablet",T="smarttv",M="console",D="wearable",H="embedded",$=void 0,R={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},U={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},B={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},L=function(ie){return ie||(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none")},C=function(){return!(typeof window>"u"||!window.navigator&&!navigator)&&(window.navigator||navigator)},V=function(ie){var _e=C();return _e&&_e.platform&&(_e.platform.indexOf(ie)!==-1||_e.platform==="MacIntel"&&_e.maxTouchPoints>1&&!window.MSStream)},N=function(ie,_e,ze,et){return function(st){for(var en=1;en<arguments.length;en++){var Dt=arguments[en]!=null?arguments[en]:{};en%2?h(Object(Dt),!0).forEach(function(sr){f(st,sr,Dt[sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(Dt)):h(Object(Dt)).forEach(function(sr){Object.defineProperty(st,sr,Object.getOwnPropertyDescriptor(Dt,sr))})}return st}({},ie,{vendor:L(_e.vendor),model:L(_e.model),os:L(ze.name),osVersion:L(ze.version),ua:L(et)})},q=function(ie){return ie.type===S},J=function(ie){return ie.type===O},Q=function(ie){var _e=ie.type;return _e===S||_e===O},te=function(ie){return ie.type===T},X=function(ie){return ie.type===$},ee=function(ie){return ie.type===D},ue=function(ie){return ie.type===M},de=function(ie){return ie.type===H},ge=function(ie){var _e=ie.vendor;return L(_e)},he=function(ie){var _e=ie.model;return L(_e)},Ce=function(ie){var _e=ie.type;return L(_e,"browser")},be=function(ie){return ie.name===U.Android},me=function(ie){return ie.name===U.Windows},pe=function(ie){return ie.name===U.MAC_OS},Ie=function(ie){return ie.name===U.WindowsPhone},xe=function(ie){return ie.name===U.IOS},Ee=function(ie){var _e=ie.version;return L(_e)},Re=function(ie){var _e=ie.name;return L(_e)},Be=function(ie){return ie.name===R.Chrome},it=function(ie){return ie.name===R.Firefox},at=function(ie){return ie.name===R.Chromium},Qe=function(ie){return ie.name===R.Edge},Je=function(ie){return ie.name===R.Yandex},Me=function(ie){var _e=ie.name;return _e===R.Safari||_e===R.MobileSafari},He=function(ie){return ie.name===R.MobileSafari},Ue=function(ie){return ie.name===R.Opera},Ve=function(ie){var _e=ie.name;return _e===R.InternetExplorer||_e===R.Ie},ce=function(ie){return ie.name===R.MIUI},re=function(ie){return ie.name===R.SamsungBrowser},fe=function(ie){var _e=ie.version;return L(_e)},ve=function(ie){var _e=ie.major;return L(_e)},De=function(ie){var _e=ie.name;return L(_e)},Xe=function(ie){var _e=ie.name;return L(_e)},ht=function(ie){var _e=ie.version;return L(_e)},nt=function(){var ie=C(),_e=ie&&ie.userAgent&&ie.userAgent.toLowerCase();return typeof _e=="string"&&/electron/.test(_e)},Ze=function(ie){return typeof ie=="string"&&ie.indexOf("Edg/")!==-1},vt=function(){var ie=C();return ie&&(/iPad|iPhone|iPod/.test(ie.platform)||ie.platform==="MacIntel"&&ie.maxTouchPoints>1)&&!window.MSStream},lt=function(){return V("iPad")},qe=function(){return V("iPhone")},ot=function(){return V("iPod")},yt=function(ie){return L(ie)};function gn(ie){var _e=ie||p,ze=_e.device,et=_e.browser,st=_e.os,en=_e.engine,Dt=_e.ua;return{isSmartTV:te(ze),isConsole:ue(ze),isWearable:ee(ze),isEmbedded:de(ze),isMobileSafari:He(et)||lt(),isChromium:at(et),isMobile:Q(ze)||lt(),isMobileOnly:q(ze),isTablet:J(ze)||lt(),isBrowser:X(ze),isDesktop:X(ze),isAndroid:be(st),isWinPhone:Ie(st),isIOS:xe(st)||lt(),isChrome:Be(et),isFirefox:it(et),isSafari:Me(et),isOpera:Ue(et),isIE:Ve(et),osVersion:Ee(st),osName:Re(st),fullBrowserVersion:fe(et),browserVersion:ve(et),browserName:De(et),mobileVendor:ge(ze),mobileModel:he(ze),engineName:Xe(en),engineVersion:ht(en),getUA:yt(Dt),isEdge:Qe(et)||Ze(Dt),isYandex:Je(et),deviceType:Ce(ze),isIOS13:vt(),isIPad13:lt(),isIPhone13:qe(),isIPod13:ot(),isElectron:nt(),isEdgeChromium:Ze(Dt),isLegacyEdge:Qe(et)&&!Ze(Dt),isWindows:me(st),isMacOs:pe(st),isMIUI:ce(et),isSamsungBrowser:re(et)}}var $t=te(a),$o=ue(a),vn=ee(a),qt=de(a),Jr=He(o)||lt(),vs=at(o),Pn=Q(a)||lt(),Wt=q(a),mo=J(a)||lt(),vr=X(a),Vo=X(a),Xr=be(l),mi=Ie(l),Fi=xe(l)||lt(),P=Be(o),z=it(o),j=Me(o),Y=Ue(o),Z=Ve(o),Te=Ee(l),ae=Re(l),F=fe(o),Oe=ve(o),Ke=De(o),At=ge(a),Jt=he(a),br=Xe(s),bs=ht(s),Cp=yt(c),Sp=Qe(o)||Ze(c),gOe=Je(o),vOe=Ce(a),bOe=vt(),yOe=lt(),wOe=qe(),kOe=ot(),_Oe=nt(),xOe=Ze(c),COe=Qe(o)&&!Ze(c),SOe=me(l),TOe=pe(l),EOe=ce(o),OOe=re(o);function Vne(ie){var _e=ie||window.navigator.userAgent;return d(_e)}return ut.AndroidView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return Xr?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.BrowserTypes=R,ut.BrowserView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return vr?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.ConsoleView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return $o?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.CustomView=function(ie){var _e=ie.renderWithFragment,ze=ie.children;ie.viewClassName,ie.style;var et=ie.condition,st=w(ie,["renderWithFragment","children","viewClassName","style","condition"]);return et?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",st,ze):null},ut.IEView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return Z?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.IOSView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return Fi?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.MobileOnlyView=function(ie){var _e=ie.renderWithFragment,ze=ie.children;ie.viewClassName,ie.style;var et=w(ie,["renderWithFragment","children","viewClassName","style"]);return Wt?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.MobileView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return Pn?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.OsTypes=U,ut.SmartTVView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return $t?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.TabletView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return mo?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.WearableView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return vn?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.WinPhoneView=function(ie){var _e=ie.renderWithFragment,ze=ie.children,et=w(ie,["renderWithFragment","children"]);return mi?_e?t.createElement(e.Fragment,null,ze):t.createElement("div",et,ze):null},ut.browserName=Ke,ut.browserVersion=Oe,ut.deviceDetect=function(ie){var _e=ie?d(ie):p,ze=_e.device,et=_e.browser,st=_e.engine,en=_e.os,Dt=_e.ua,sr=function(fa){switch(fa){case S:return{isMobile:!0};case O:return{isTablet:!0};case T:return{isSmartTV:!0};case M:return{isConsole:!0};case D:return{isWearable:!0};case $:return{isBrowser:!0};case H:return{isEmbedded:!0};default:return B}}(ze.type),ma=sr.isBrowser,cl=sr.isMobile,Tp=sr.isTablet,Xf=sr.isSmartTV,qne=sr.isConsole,Wne=sr.isWearable,Kne=sr.isEmbedded;return ma?function(fa,fo,qo,ga,Q6){return{isBrowser:fa,browserMajorVersion:L(fo.major),browserFullVersion:L(fo.version),browserName:L(fo.name),engineName:L(qo.name),engineVersion:L(qo.version),osName:L(ga.name),osVersion:L(ga.version),userAgent:L(Q6)}}(ma,et,st,en,Dt):Xf?function(fa,fo,qo,ga){return{isSmartTV:fa,engineName:L(fo.name),engineVersion:L(fo.version),osName:L(qo.name),osVersion:L(qo.version),userAgent:L(ga)}}(Xf,st,en,Dt):qne?function(fa,fo,qo,ga){return{isConsole:fa,engineName:L(fo.name),engineVersion:L(fo.version),osName:L(qo.name),osVersion:L(qo.version),userAgent:L(ga)}}(qne,st,en,Dt):cl||Tp?N(sr,ze,en,Dt):Wne?function(fa,fo,qo,ga){return{isWearable:fa,engineName:L(fo.name),engineVersion:L(fo.version),osName:L(qo.name),osVersion:L(qo.version),userAgent:L(ga)}}(Wne,st,en,Dt):Kne?function(fa,fo,qo,ga,Q6){return{isEmbedded:fa,vendor:L(fo.vendor),model:L(fo.model),engineName:L(qo.name),engineVersion:L(qo.version),osName:L(ga.name),osVersion:L(ga.version),userAgent:L(Q6)}}(Kne,ze,st,en,Dt):void 0},ut.deviceType=vOe,ut.engineName=br,ut.engineVersion=bs,ut.fullBrowserVersion=F,ut.getSelectorsByUserAgent=function(ie){if(ie&&typeof ie=="string"){var _e=d(ie);return gn({device:_e.device,browser:_e.browser,os:_e.os,engine:_e.engine,ua:_e.ua})}},ut.getUA=Cp,ut.isAndroid=Xr,ut.isBrowser=vr,ut.isChrome=P,ut.isChromium=vs,ut.isConsole=$o,ut.isDesktop=Vo,ut.isEdge=Sp,ut.isEdgeChromium=xOe,ut.isElectron=_Oe,ut.isEmbedded=qt,ut.isFirefox=z,ut.isIE=Z,ut.isIOS=Fi,ut.isIOS13=bOe,ut.isIPad13=yOe,ut.isIPhone13=wOe,ut.isIPod13=kOe,ut.isLegacyEdge=COe,ut.isMIUI=EOe,ut.isMacOs=TOe,ut.isMobile=Pn,ut.isMobileOnly=Wt,ut.isMobileSafari=Jr,ut.isOpera=Y,ut.isSafari=j,ut.isSamsungBrowser=OOe,ut.isSmartTV=$t,ut.isTablet=mo,ut.isWearable=vn,ut.isWinPhone=mi,ut.isWindows=SOe,ut.isYandex=gOe,ut.mobileModel=Jt,ut.mobileVendor=At,ut.osName=ae,ut.osVersion=Te,ut.parseUserAgent=d,ut.setUserAgent=function(ie){return u(ie)},ut.useDeviceData=Vne,ut.useDeviceSelectors=function(ie){var _e=Vne(ie||window.navigator.userAgent);return[gn(_e),_e]},ut.useMobileOrientation=function(){var ie=_(e.useState(function(){var st=window.innerWidth>window.innerHeight?90:0;return{isPortrait:st===0,isLandscape:st===90,orientation:st===0?"portrait":"landscape"}}),2),_e=ie[0],ze=ie[1],et=e.useCallback(function(){var st=window.innerWidth>window.innerHeight?90:0,en={isPortrait:st===0,isLandscape:st===90,orientation:st===0?"portrait":"landscape"};_e.orientation!==en.orientation&&ze(en)},[_e.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":m(window))!==void 0&&Pn&&(et(),window.addEventListener("load",et,!1),window.addEventListener("resize",et,!1)),function(){window.removeEventListener("resize",et,!1),window.removeEventListener("load",et,!1)}},[et]),_e},ut.withOrientationChange=function(ie){return function(_e){function ze(et){var st;return function(en,Dt){if(!(en instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,ze),st=function(en,Dt){if(Dt&&(typeof Dt=="object"||typeof Dt=="function"))return Dt;if(Dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(en)}(this,y(ze).call(this,et)),st.isEventListenerAdded=!1,st.handleOrientationChange=st.handleOrientationChange.bind(k(st)),st.onOrientationChange=st.onOrientationChange.bind(k(st)),st.onPageLoad=st.onPageLoad.bind(k(st)),st.state={isLandscape:!1,isPortrait:!1},st}return function(et,st){if(typeof st!="function"&&st!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(st&&st.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),st&&b(et,st)}(ze,_e),g(ze,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var et=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:et===0,isLandscape:et===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":m(window))!==void 0&&Pn&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return t.createElement(ie,v({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),ze}(t.Component)},ut}();const Wue=["localhost","127.0.0.1","10.1.10.232","10.1.10.233","192.168.7.206"],$s=()=>{let e=Wue.includes(window.location.hostname);return window.location.hostname.endsWith("ngrok-free.app")&&(e=!0),localStorage.getItem("enable_livex_dev_mode")==="true"&&(e=!0),e},DL=(e,t)=>{if(e)return Oce(e,(n,r,o)=>{t.includes(o)?n[o]=parseInt(`${r}`):n[o]=r},{})},Tt=ML.isMobile&&!ML.isTablet;var Kue=Object.defineProperty,Gue=Object.defineProperties,Yue=Object.getOwnPropertyDescriptors,LL=Object.getOwnPropertySymbols,Que=Object.prototype.hasOwnProperty,Jue=Object.prototype.propertyIsEnumerable,jL=(e,t,n)=>t in e?Kue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zL=(e,t)=>{for(var n in t||(t={}))Que.call(t,n)&&jL(e,n,t[n]);if(LL)for(var n of LL(t))Jue.call(t,n)&&jL(e,n,t[n]);return e};const FL=Tt?20:30,sh=()=>{const e=er(),{horizontalOffset:t,verticalOffset:n}=(()=>{var c;const u=Pt();let d=(c=u==null?void 0:u.config)==null?void 0:c.style;return Tt&&(d=Ci({},d,d==null?void 0:d.mobile)),{verticalOffset:parseInt((d==null?void 0:d.vertical_offset)||FL.toString()),horizontalOffset:parseInt((d==null?void 0:d.horizontal_offset)||FL.toString())}})(),[r,o]=OL({key:"chatbot-position",defaultValue:{}}),i=x.useMemo(()=>({right:t,bottom:n,left:t,top:n}),[t,n]),a=x.useCallback((c,u,d,p)=>{if(!e)return;const h={right:Math.max(0,c),bottom:Math.max(0,u),left:Math.max(0,d),top:Math.max(0,p)};o(m=>((g,f)=>Gue(g,Yue(f)))(zL({},m),{[e]:h}))},[o,e]),s=x.useCallback(()=>{o({})},[o]),l=x.useCallback(()=>{o(c=>{const u=zL({},c);return u[e]=i,u})},[o,e,i]);return{position:(r==null?void 0:r[e])||i,setPosition:a,resetPosition:l,resetAllPosition:s}},BL=()=>{var e,t;return{windowWidth:((e=window.visualViewport)==null?void 0:e.width)||window.innerWidth,windowHeight:((t=window.visualViewport)==null?void 0:t.height)||window.innerHeight}},Fv=()=>{var e;const{position:t}=sh(),n=G(d=>d.chatBox.agent),r=(e=n==null?void 0:n.config)==null?void 0:e.style,{vertical:o,horizontal:i,enable_draggable_button:a}=r??{},{windowWidth:s,windowHeight:l}=BL(),c=o==="top"?t.top:l-t.bottom,u=i==="left"?t.left:s-t.right;return{isTop:a?c<l/2:o==="top",isLeft:a?u<s/2:i==="left"}},UL="rgba(0, 0, 0, 0.24) 0px 3px 8px",Pt=()=>G(e=>e.chatBox.agent),er=()=>{var e;const t=Pt();return((e=t==null?void 0:t.config)==null?void 0:e.agent_id)||""},hu=()=>{var e;const t=Pt();return(e=t==null?void 0:t.config)==null?void 0:e.style},dr=()=>{var e;const t=Pt();return(e=t==null?void 0:t.config)==null?void 0:e.custom_style},_1=()=>{const e=hu();return(e==null?void 0:e.box_shadow)||UL},J9=()=>{const e=Pt();return e==null?void 0:e.config},HL=()=>{var e;const t=Pt();return(e=t==null?void 0:t.config)==null?void 0:e.avatai},$L=()=>{var e;const t=Pt();return((e=t==null?void 0:t.config)==null?void 0:e.navigation_items)||{}},X9=()=>$L().items||{},VL=()=>{var e,t;const n=Pt();return(t=(e=n==null?void 0:n.config)==null?void 0:e.custom_style)==null?void 0:t.current_theme_template_name},Xue=["playground","chatbox","zendeskAssist"],qL=e=>{var t;const n=It.getState(),{botMode:r,source:o,agent:i}=n.chatBox;if(!o||!Xue.includes(o))return;const a=wt(n),s={event_name:zt.LinkClick,source:o,bot_mode:r,chatbot_id:(t=i==null?void 0:i.config)==null?void 0:t.agent_id,conversation_id:a,message_id:null,link_clicked:e};Oo(s)},Zue=(e,t)=>{var n,r;const o=((n=t.payload)==null?void 0:n.source)||e.chatBox.source,i=((r=t.payload)==null?void 0:r.agent)||e.chatBox.agent,a=((u,d)=>{switch(u){case"chatBox/setShowChatBox":return d?zt.ChatbotOpen:zt.ChatbotClose;case"chatBox/setExpanded":return d?zt.ChatbotMaximize:zt.ChatbotMinimize;case"chatBox/initSetting":return zt.ChatbotLoaded;case"chatBox/setShowSearchBar":return d!=null&&d.showSearchBar?zt.ChatbotSearchBarOpen:zt.ChatbotSearchBarClose;default:return}})(t.type,t.payload);if(!o||!i||!a)return;const s=wt(e),l=il(e),c={event_name:a,source:o,bot_mode:e.chatBox.botMode,chatbot_id:i.id,conversation_id:s,message_id:l};Oo(c)},WL="0.4.86",ede=WL,zt=(e=>e.reduce((t,n)=>(t[n]=n,t),{}))(["ChatbotError","ChatbotBeforeUnload","ChatbotLoaded","ChatbotOpen","ChatbotClose","ChatbotSearchBarOpen","ChatbotSearchBarClose","ChatbotMaximize","ChatbotMinimize","ConversationStart","ConversationEnd","MessageSent","ButtonClicked","VoiceInputStart","VoiceInputClose","VoiceInputCancel","FeedbackLike","FeedbackLikeCancel","FeedbackDislike","FeedbackDislikeCancel","PromotionItemLinkClick","LinkClick","LivexAddToCart","WebsiteAddToCart","BuyNow","BuyWithShopPay","BuyWithPrime","ChurnCancelNow","ChurnWindowFunctionCallNotFound","ChurnWindowFunctionCallError","ChurnWindowFunctionCallSuccess","OriginalCancellationFlowCancelled","OriginalCancellationFlowLaunched","SetDataValidationError"]),Oo=async e=>{var t,n,r;const{event_name:o,source:i,chatbot_id:a,conversation_id:s,bot_mode:l,message_id:c,link_clicked:u,note:d}=e,p=Fe.agent,h=(n=(t=p==null?void 0:p.config)==null?void 0:t.custom_style)==null?void 0:n.disable_chatbot_event_collection;if(!p||h||!i||!a)return;const m=c!=null?`${c}`:null,g=new URL(window.location.href),f={visitor_id:(r=el(i))!=null?r:"",domain:window.location.origin,url:g.origin+g.pathname,source:i,bot_mode:l,chatbot_id:a,link_clicked:u??null,conversation_id:s??null,message_id:m,event_name:o,timestamp:new Date().toISOString(),note:d??null,chatbot_version:WL};let v=!1;const y=`${Mt.gatewayHost}/api/v1/chatbot-event`,b=navigator.brave!==void 0;if(navigator.sendBeacon&&!b){const w=JSON.stringify(f),k=new Blob([w],{type:"application/json"});v=navigator.sendBeacon(y,k)}else{if((await xt.post(y,f,{headers:{"Content-Type":"application/json"}})).data.status!==200)return;v=!0}return v},Bv=({event_name:e,link_clicked:t,note:n})=>{var r;const o=It.getState(),i=o.chatBox.source,a=o.chatBox.botMode,s=o.chatBox.agent,l=wt(o),c=il(o);return Oo({event_name:e,source:i,bot_mode:a,chatbot_id:(r=s==null?void 0:s.config)==null?void 0:r.agent_id,conversation_id:l,message_id:c,link_clicked:t,note:n})},Si=()=>{const e=er(),t=G(i=>i.chatBox.source),n=G(i=>i.chatBox.botMode),r=G(wt),o=G(il);return or({mutationFn:({event_name:i,link_clicked:a,note:s})=>Oo({event_name:i,source:t,bot_mode:n,chatbot_id:e,conversation_id:r,message_id:o,link_clicked:a,note:s})})};var tde=Object.defineProperty,KL=(e,t,n)=>((r,o,i)=>o in r?tde(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class GL{constructor(t,n){KL(this,"openapiHost"),KL(this,"openapiToken"),this.openapiHost=t,this.openapiToken=n}async fetchApi(t,n,r){const o=await(await fetch(`${this.openapiHost}${t}`,{method:n,headers:{Authorization:`Bearer ${this.openapiToken}`,"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0})).json();if(o.code!=1e3)throw new Error(o.msg);return o.data}async createSession(t){return this.fetchApi("/api/open/v4/liveAvatar/session/create","POST",t)}async closeSession(t){return this.fetchApi("/api/open/v4/liveAvatar/session/close","POST",{id:t})}async getLangList(){const t=await this.fetchApi("/api/open/v3/language/list","GET");return t==null?void 0:t.lang_list}async getVoiceList(){return this.fetchApi("/api/open/v3/voice/list","GET")}async getAvatarList(){const t=await this.fetchApi("/api/open/v4/liveAvatar/avatar/list?page=1&size=100","GET");return t==null?void 0:t.result}async getAllSessions(t=1,n=10,r){const o=new URLSearchParams({page:t.toString(),size:n.toString()});r!==void 0&&o.append("status",r.toString());const i=await this.fetchApi(`/api/open/v4/liveAvatar/session/list?${o.toString()}`,"GET");return i==null?void 0:i.result}}const YL=void 0;var nde=Object.defineProperty,QL=Object.getOwnPropertySymbols,rde=Object.prototype.hasOwnProperty,ode=Object.prototype.propertyIsEnumerable,JL=(e,t,n)=>t in e?nde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hr={messagesSent:0,totalBytesSent:0,connectionState:"DISCONNECTED",lastMessageTime:0,errors:[]},$a=()=>$s()||localStorage.getItem("enable_livex_logger")==="true",ne=(()=>{const e=window.console;return{error:(...t)=>e.error(...t),warn:(...t)=>$a()?e.warn(...t):void 0,info:(...t)=>$a()?e.info(...t):void 0,table:(...t)=>$a()?e.table(...t):void 0,debug:(...t)=>$a()?e.debug(...t):void 0,log:(...t)=>$a()?e.log(...t):void 0,network:(...t)=>{$a()&&t.length>0&&typeof t[0]=="string"&&((n,r)=>{n==="message_sent"?(hr.messagesSent++,hr.totalBytesSent+=(r==null?void 0:r.bytes)||0,hr.lastMessageTime=Date.now()):n==="connection_change"?hr.connectionState=(r==null?void 0:r.state)||"UNKNOWN":n==="error"&&(hr.errors.push({timestamp:Date.now(),error:(r==null?void 0:r.message)||"Unknown error",context:r==null?void 0:r.context}),hr.errors.length>10&&hr.errors.shift())})(t[0],t[1])},isLivexLoggerEnabled:$a,enableNetworkLogging:()=>{localStorage.setItem("enable_livex_logger","true"),e.log("[Logger] Network logging enabled. Refresh page to see logs.")},disableNetworkLogging:()=>{localStorage.removeItem("enable_livex_logger"),e.log("[Logger] Network logging disabled.")}}})(),XL=()=>((e,t)=>{for(var n in t||(t={}))rde.call(t,n)&&JL(e,n,t[n]);if(QL)for(var n of QL(t))ode.call(t,n)&&JL(e,n,t[n]);return e})({},hr);typeof window<"u"&&Object.assign(window,{livexDebug:{status:()=>{var e;if(!$a())return;const t=(e=window.AgoraRTC)!=null&&e.createClient?window.AgoraRTC.createClient({mode:"rtc"}):null;ne.table([{"Connection State":(t==null?void 0:t.connectionState)||"NOT_INITIALIZED","Messages Sent":hr.messagesSent,"Total Bytes":`${(hr.totalBytesSent/1024).toFixed(1)}KB`,"Last Message":hr.lastMessageTime?new Date(hr.lastMessageTime).toLocaleString():"Never","Recent Errors":hr.errors.length}]),hr.errors.length>0&&ne.log("Recent Errors:",hr.errors.slice(-3))},enableLogs:()=>ne.enableNetworkLogging(),disableLogs:()=>ne.disableNetworkLogging(),getMetrics:()=>XL(),isLivexLoggerEnabled:$a,clearMetrics:()=>{hr.messagesSent=0,hr.totalBytesSent=0,hr.lastMessageTime=0,hr.errors=[],ne.log("[Network] Metrics cleared")}},getLivexMetrics:XL}),new GL("https://openapi.akool.com",YL);const Z9={avatar_id:"dvp_alina_bg_st01_1080P"};var ZL,ej,e4,tj,ide=function(){if(tj)return e4;tj=1;var e=(ej||(ej=1,ZL={}),ZL);return e4=e.ndjsonStream=function(t){var n,r=!1;return new ReadableStream({start:function(o){var i=t.getReader();n=i;var a=new TextDecoder,s="";i.read().then(function l(c){if(!c.done){for(var u=a.decode(c.value,{stream:!0}),d=(s+=u).split(`
`),p=0;p<d.length-1;++p){var h=d[p].trim();if(h.length>0)try{var m=JSON.parse(h);o.enqueue(m)}catch(f){return o.error(f),r=!0,void i.cancel()}}return s=d[d.length-1],i.read().then(l)}if(!r){if((s=s.trim()).length!==0)try{var g=JSON.parse(s);o.enqueue(g)}catch(f){return void o.error(f)}o.close()}})},cancel:function(o){r=!0,n.cancel()}})},e4}();const nj=$r(ide);var ade=Object.defineProperty,x1=(e,t,n)=>((r,o,i)=>o in r?ade(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);const rj=class Zf{constructor(){x1(this,"queue",[]),x1(this,"isPlaying",!1),x1(this,"currentAudio",null),x1(this,"dispatch",null)}static get instance(){return Zf._instance||(Zf._instance=new Zf),Zf._instance}init(t){this.dispatch=t}async addToQueue(t){this.queue.push(t),this.isPlaying||this.playNext()}async playNext(){var t,n;if(!It.getState().chatBox.botVoiceEnabled)return;if(this.queue.length===0)return this.isPlaying=!1,this.currentAudio=null,void((t=this.dispatch)==null||t.call(this,ns(!1)));this.isPlaying=!0,(n=this.dispatch)==null||n.call(this,ns(!0));const r=this.queue.shift();try{const o=atob(r),i=new Array(o.length);for(let u=0;u<o.length;u++)i[u]=o.charCodeAt(u);const a=new Uint8Array(i),s=new Blob([a],{type:"audio/mp3"}),l=URL.createObjectURL(s),c=new Audio(l);this.currentAudio=c,c.onended=()=>{URL.revokeObjectURL(l),this.playNext()},c.onerror=u=>{URL.revokeObjectURL(l),this.playNext()},await c.play()}catch{this.playNext()}}stop(){var t;Fe.shouldAbort=!0,this.queue=[],this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.src="",this.currentAudio=null),this.isPlaying=!1,(t=this.dispatch)==null||t.call(this,ns(!1))}};x1(rj,"_instance",null);let Va=rj;const sde=()=>(t=>{const n=document.cookie.split("; ");for(const r of n){const[o,i]=r.split("=");if(o===t)return i}return null})("copilot_debug_code")||null;var lde=Object.defineProperty,oj=(e,t,n)=>((r,o,i)=>o in r?lde(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);const ij=class e0{constructor(){oj(this,"controllers",[])}static getInstance(){return e0.instance||(e0.instance=new e0),e0.instance}createController(){const t=new AbortController;return this.controllers.push(t),t}abort(t){try{t.abort()}catch{}this.removeController(t)}abortAll(){this.controllers.forEach(t=>{try{t.abort()}catch{}}),this.controllers=[]}removeController(t){const n=this.controllers.indexOf(t);n>-1&&this.controllers.splice(n,1)}getControllerCount(){return this.controllers.length}hasActiveControllers(){return this.controllers.length>0}};oj(ij,"instance");const qa=ij.getInstance();var cde=Object.defineProperty,ude=Object.defineProperties,dde=Object.getOwnPropertyDescriptors,aj=Object.getOwnPropertySymbols,hde=Object.prototype.hasOwnProperty,pde=Object.prototype.propertyIsEnumerable,sj=(e,t,n)=>t in e?cde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const mde=async(e,t,n,r)=>{let o,i,a;if(r!=null&&r.testResponse){const s=Date.now(),l=r.testResponse.map(u=>({done:u.done||!1,value:{conversation_id:u.conversation_id,id:s,json_response:{format:u.json_response.format,text:u.json_response.text,incremental_text:u.json_response.incremental_text||{d:0,a:0},buttons:u.json_response.buttons||[]},time:u.time||new Date().toISOString()}}));let c=0;a={getReader:()=>({read:async()=>{if(c<l.length){const u=l[c];return c++,await new Promise(d=>setTimeout(d,3)),u}return{done:!0,value:void 0}}})},i=a.getReader()}else{if(o=await fetch(`${Mt.chatHost}${t}`,((s,l)=>ude(s,dde(l)))(((s,l)=>{for(var c in l||(l={}))hde.call(l,c)&&sj(s,c,l[c]);if(aj)for(var c of aj(l))pde.call(l,c)&&sj(s,c,l[c]);return s})({},n),{signal:e})),!o.ok)throw new Error("Network response was not ok");a=nj(o.body),i=a.getReader()}return i},Jl=()=>{const e=dr();return{isV4:(e==null?void 0:e.akool_avatar_version)==="v4"}};new GL("https://openapi.akool.com",YL);var fde=Object.defineProperty,gde=Object.defineProperties,vde=Object.getOwnPropertyDescriptors,lj=Object.getOwnPropertySymbols,bde=Object.prototype.hasOwnProperty,yde=Object.prototype.propertyIsEnumerable,cj=(e,t,n)=>t in e?fde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const uj=e=>{if(!e)return!0;try{const t=new Date(e.created_at).getTime();return new Date().getTime()-t>6e5}catch(t){return window.console.error("Error checking if stream is expired:",t," streamDetails: ",e),!0}};let dj;const wde=()=>{const e=dt(),t=G(ho),[n,r]=OL({key:"streamDetailsMap",defaultValue:{},getInitialValueInEffect:!1}),o=x.useCallback(a=>{const{conversation_id:s,stream_details:l}=a,c=((u,d)=>gde(u,vde(d)))(((u,d)=>{for(var p in d||(d={}))bde.call(d,p)&&cj(u,p,d[p]);if(lj)for(var p of lj(d))yde.call(d,p)&&cj(u,p,d[p]);return u})({},l),{created_at:new Date().toISOString()});r(u=>{const d=Zi(u);return b9(d,s,c),d}),e(rf(c))},[r,e]),i=x.useCallback(async a=>{if(!a)return null;const s=n[a],l=uj(s);return s&&!l?s:null},[n]);return x.useEffect(()=>{(async()=>{if(dj===(t==null?void 0:t.id))return;if(dj=t==null?void 0:t.id,t==null||!t.id)return void e(rf(null));const a=Zi(n);let s=!1;if(Object.entries(a).forEach(([c,u])=>{u&&uj(u)&&(delete a[c],s=!0)}),s)return void r(a);const l=await i(t==null?void 0:t.id);e(rf(l))})()},[e,i,r,n,t==null?void 0:t.id]),{saveStreamDetails:o}};let ra=null,Xl=null;const t4=async(e=0)=>{if(!(typeof window>"u"||window.AgoraRTC)){if(Xl)return Xl;Xl=new Promise((t,n)=>{const r=window.setTimeout(()=>{Xl=null,n(new Error("Agora CDN script load timeout"))},3e4),o=document.createElement("script");o.src="https://download.agora.io/sdk/release/AgoraRTC_N-4.23.4.js",o.async=!0,o.onload=()=>{window.clearTimeout(r),window.AgoraRTC?t():(Xl=null,n(new Error("AgoraRTC global not found after script load")))},o.onerror=()=>{window.clearTimeout(r),Xl=null,n(new Error("Failed to load Agora from CDN"))},document.head.appendChild(o)});try{await Xl}catch(t){if(Xl=null,ne.error(`initializeAgoraFromCDN failed (attempt ${e+1}/4)`,t),e<3){const n=1e3*Math.pow(2,e);return ne.log(`Retrying Agora CDN load in ${n}ms...`),await new Promise(r=>setTimeout(r,n)),t4(e+1)}throw t}}},pu=()=>{var e,t;const n=It.getState(),r=n.chatBox.agent,o=n.chatBox.streamDetails;if(o==null||!o.agora_channel)return ne.log("canUseAgora streamDetails?.agora_channel is missing: ",o),!1;const i=(t=(e=r==null?void 0:r.config)==null?void 0:e.avatai)==null?void 0:t.disable_lip_sync;return!i||(ne.log("canUseAgora disableLipSync is true: ",i),!1)},pr=async()=>{if(ne.log("getSharedAgoraClient called"),!pu())return ne.log("canUseAgora is false, skipping getSharedAgoraClient"),null;if(!window.AgoraRTC)try{await t4()}catch(e){return ne.error("Failed to initialize Agora in getSharedAgoraClient:",e),null}return localStorage.getItem("agora_debug")||window.AgoraRTC.setLogLevel(4),ra||(ra=window.AgoraRTC.createClient({mode:"rtc",codec:"vp8"})),$a()&&ra&&(ra.on("connection-state-change",e=>{ne.network("connection_change",{state:e})}),ra.on("exception",e=>{ne.network("error",{message:`Agora exception: ${e.code}`,context:"agora_exception",event:e})})),ra};let mu=null,n4=!1;const r4=async(e,t="CONNECTED",n=3e3)=>{e.connectionState!==t&&await new Promise((r,o)=>{const i=s=>{s===t&&(clearTimeout(a),e.off("connection-state-change",i),r())},a=setTimeout(()=>{e.off("connection-state-change",i),o(new Error(`Timed out waiting for Agora client state: ${t}`))},n);e.on("connection-state-change",i)})},o4=async e=>{if(pu()){if(!n4){n4=!0;try{if((await navigator.permissions.query({name:"microphone"})).state==="denied")throw new Error("Microphone permission denied");if(mu)return;ne.log("startMicrophone getSharedAgoraClient");const t=await pr();if(!t||!window.AgoraRTC)throw new Error("Agora client not initialized");let n=0;const r=10;for(;t.connectionState!=="CONNECTED"&&n<r;)window.console.log("Agora client not connected yet, retrying...",n+1),await new Promise(a=>setTimeout(a,300)),n++;if(n>=r)throw new Error("startMicrophone failed after 10 retries");const o={encoderConfig:"speech_low_quality",AEC:!0,ANS:!0,AGC:!0};e&&(o.microphoneId=e);const i=await window.AgoraRTC.createMicrophoneAudioTrack(o);mu=i,await t.publish(i)}catch(t){window.console.error("Failed to initialize local audio track:",t)}finally{n4=!1}}}else ne.log("canUseAgora is false, skipping startMicrophone")},i4=async()=>{if(!mu)return;ne.log("stopMicrophone getSharedAgoraClient");const e=await pr();if(e){try{await mu.stop(),await mu.close(),await e.unpublish(mu)}catch(t){window.console.error("stopMicrophone error:",t)}mu=null}else window.console.error("stopMicrophone agoraClient is null")};window.startMicrophone=o4,window.stopMicrophone=i4;const Uv=async()=>{if(ra)try{ra.removeAllListeners();try{await ra.leave()}catch{}ra=null}catch{ra=null}};async function C1(){ne.log("interruptResponse getSharedAgoraClient");const e=await pr();if(!e)throw new Error("Agora client not initialized");const t={v:2,type:"command",mid:`msg-${Date.now()}`,pld:{cmd:"interrupt"}},n=JSON.stringify(t);return e.sendStreamMessage(n,!1)}const hj=async(e,t)=>{ne.log("sendMessageToAvatar getSharedAgoraClient");const n=await pr();if(!n)throw new Error("Agora client not initialized");try{await r4(n,"CONNECTED",5e3)}catch(p){throw new Error("Agora client not connected; cannot send message: "+p)}ne.log("sendMessageToAvatar text:",e," command:",t);const r=performance.now(),o=new TextEncoder().encode(e).length;ne.network("message_start",{textLength:e.length,messageSize:o,timestamp:r});const i=(p,h,m,g)=>{const f={v:2,type:"chat",mid:`user-${Date.now()}`,idx:h,fin:m,pld:{text:p,from:"user",command:g}};return new TextEncoder().encode(JSON.stringify(f))};if(!e)throw new Error("Content cannot be empty");const a=i("",0,!1,t),s=Math.floor((950-a.length)/4),l=[];let c=e,u=0;for(;c.length>0;){let p=c.slice(0,s),h=i(p,u,!1);for(;h.length>950&&p.length>1;)p=p.slice(0,Math.ceil(p.length/2)),h=i(p,u,!1);if(h.length>950)throw new Error("Message encoding failed: content too large for chunking");l.push(p),c=c.slice(p.length),u++}for(let p=0;p<l.length;p++){const h=p===l.length-1,m=i(l[p],p,h),g=m.length,f=Math.ceil(1e3*g/6e3),v=Date.now();try{await n.sendStreamMessage(m,!1),ne.network("chunk_sent",{chunkIndex:p+1,totalChunks:l.length,chunkSize:g})}catch(y){throw ne.network("error",{message:`Failed to send chunk ${p+1}: ${y instanceof Error?y.message:"Unknown error"}`,context:"send_chunk",chunkIndex:p+1}),new Error(`Failed to send chunk ${p+1}: ${y instanceof Error?y.message:"Unknown error"}`)}if(!h){const y=Date.now()-v,b=Math.max(0,f-y);b>0&&await new Promise(w=>setTimeout(w,b))}}const d=performance.now();ne.network("message_sent",{bytes:o,duration:d-r,chunks:l.length})},S1={expirationInterval:void 0,sessionStartTime:0,lastVisibleTime:0,wasDocumentHidden:!1,visibilityChangeHandler:null,streamDetails:null,clearSession:async function(){var e,t;const n=It.getState(),r=(t=(e=n.chatBox.agent)==null?void 0:e.config)==null?void 0:t.agent_id,o=wt(n);this.expirationInterval&&(clearInterval(this.expirationInterval),this.expirationInterval=void 0),this.visibilityChangeHandler&&(document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.visibilityChangeHandler=null),this.sessionStartTime=0,this.lastVisibleTime=0,this.wasDocumentHidden=!1;const i=this.streamDetails;if(It.dispatch(rf(null)),i&&r&&o)try{await Uv(),await new Promise(a=>setTimeout(a,100)),await(async(a,s)=>{if(!a||!s)throw new Error("chatbot_id and conversation_id are required");const l=`${Mt.chatHost}/api/v1/live_avatar/close_session`,c={chatbot_id:a,conversation_id:s},u=await xt.post(l,c);if(u.data.status!==200)throw new Error(`An error occurred, code: ${u.status}, msg: ${u.data.msg}`);return u.data})(r,o),(a=>{if(a!=null&&a.agora_app_id&&a!=null&&a.agora_channel)try{const s=localStorage.getItem("streamDetailsMap");if(!s)return;const l=Zi(JSON.parse(s));let c=!1;Object.entries(l).forEach(([u,d])=>{d&&d.agora_app_id===a.agora_app_id&&d.agora_channel===a.agora_channel&&(delete l[u],c=!0)}),c&&localStorage.setItem("streamDetailsMap",JSON.stringify(l))}catch(s){window.console.error("Error removing session by Agora details:",s)}})(i),this.streamDetails=null}catch{this.streamDetails=null}},startSessionMonitoring:function(e){if(this.streamDetails=e,e.created_at)try{const t=new Date(e.created_at).getTime();this.sessionStartTime=t}catch(t){return void window.console.error("Error parsing createdAt:",t)}else this.sessionStartTime=Date.now();this.lastVisibleTime=Date.now(),this.wasDocumentHidden=document.hidden,this.visibilityChangeHandler=()=>{document.hidden?(this.wasDocumentHidden=!0,this.lastVisibleTime=Date.now()):this.wasDocumentHidden=!1},document.addEventListener("visibilitychange",this.visibilityChangeHandler),this.expirationInterval=setInterval(()=>{const t=Date.now(),n=1e3*(window.sessionDuration||600),r=t-this.sessionStartTime>n,o=window.lastVisibleDuration||3e4,i=this.wasDocumentHidden&&t-this.lastVisibleTime>o;(r||i)&&this.clearSession()},1e4)}},Hv={},pj=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,mj=e=>"init"in e,a4=e=>!!e.write,fj=e=>"v"in e||"e"in e,$v=e=>{if("e"in e)throw e.e;if((Hv?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},Vv=new WeakMap,gj=e=>{var t;return qv(e)&&!((t=Vv.get(e))==null||!t[0])},vj=(e,t)=>{let n=Vv.get(e);if(!n){n=[!0,new Set],Vv.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},qv=e=>typeof(e==null?void 0:e.then)=="function",bj=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},s4=(e,t,n)=>{const r=n(e),o="v"in r,i=r.v;if(qv(t))for(const a of r.d.keys())bj(e,t,n(a));r.v=t,delete r.e,(!o||!Object.is(i,r.v))&&(++r.n,qv(i)&&(a=>{const s=Vv.get(a);s!=null&&s[0]&&(s[0]=!1,s[1].forEach(l=>l()))})(i))},yj=(e,t,n)=>{var r;const o=new Set;for(const i of((r=n.get(e))==null?void 0:r.t)||[])n.has(i)&&o.add(i);for(const i of t.p)o.add(i);return o},l4=()=>{const e={},t=new WeakMap,n=r=>{var o,i;(o=t.get(e))==null||o.forEach(a=>a(r)),(i=t.get(r))==null||i.forEach(a=>a())};return n.add=(r,o)=>{const i=r||e,a=(t.has(i)?t:t.set(i,new Set)).get(i);return a.add(o),()=>{a==null||a.delete(o),a.size||t.delete(i)}},n},kde=Symbol(),wj=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,o=new Set,i=new Set,a={},s=(p,...h)=>p.read(...h),l=(p,...h)=>p.write(...h),c=(p,h)=>{var m;return(m=p.unstable_onInit)==null?void 0:m.call(p,h)},u=(p,h)=>{var m;return(m=p.onMount)==null?void 0:m.call(p,h)},...d)=>{const p=d[0]||(E=>{if((Hv?"production":void 0)!=="production"&&!E)throw new Error("Atom is undefined or null");let S=e.get(E);return S||(S={d:new Map,p:new Set,n:0},e.set(E,S),c==null||c(E,_)),S}),h=d[1]||(()=>{const E=[],S=O=>{try{O()}catch(T){E.push(T)}};do{a.f&&S(a.f);const O=new Set,T=O.add.bind(O);r.forEach(M=>{var D;return(D=t.get(M))==null?void 0:D.l.forEach(T)}),r.clear(),i.forEach(T),i.clear(),o.forEach(T),o.clear(),O.forEach(S),r.size&&m()}while(r.size||i.size||o.size);if(E.length)throw new AggregateError(E)}),m=d[2]||(()=>{const E=[],S=new WeakSet,O=new WeakSet,T=Array.from(r);for(;T.length;){const M=T[T.length-1],D=p(M);if(O.has(M))T.pop();else if(S.has(M)){if(n.get(M)===D.n)E.push([M,D]);else if((Hv?"production":void 0)!=="production"&&n.has(M))throw new Error("[Bug] invalidated atom exists");O.add(M),T.pop()}else{S.add(M);for(const H of yj(M,D,t))S.has(H)||T.push(H)}}for(let M=E.length-1;M>=0;--M){const[D,H]=E[M];let $=!1;for(const R of H.d.keys())if(R!==D&&r.has(R)){$=!0;break}$&&(g(D),y(D)),n.delete(D)}}),g=d[3]||(E=>{var S;const O=p(E);if(fj(O)&&(t.has(E)&&n.get(E)!==O.n||Array.from(O.d).every(([B,L])=>g(B).n===L)))return O;O.d.clear();let T=!0;const M=()=>{t.has(E)&&(y(E),m(),h())},D=B=>{var L;if(pj(E,B)){const V=p(B);if(!fj(V)){if(!mj(B))throw new Error("no atom init");s4(B,B.init,p)}return $v(V)}const C=g(B);try{return $v(C)}finally{O.d.set(B,C.n),gj(O.v)&&bj(E,O.v,C),(L=t.get(B))==null||L.t.add(E),T||M()}};let H,$;const R={get signal(){return H||(H=new AbortController),H.signal},get setSelf(){return(Hv?"production":void 0)!=="production"&&a4(E),!$&&a4(E)&&($=(...B)=>{if(!T)try{return v(E,...B)}finally{m(),h()}}),$}},U=O.n;try{const B=s(E,D,R);return s4(E,B,p),qv(B)&&(vj(B,()=>H==null?void 0:H.abort()),B.then(M,M)),O}catch(B){return delete O.v,O.e=B,++O.n,O}finally{T=!1,U!==O.n&&n.get(E)===U&&(n.set(E,O.n),r.add(E),(S=a.c)==null||S.call(a,E))}}),f=d[4]||(E=>{const S=[E];for(;S.length;){const O=S.pop(),T=p(O);for(const M of yj(O,T,t)){const D=p(M);n.set(M,D.n),S.push(M)}}}),v=d[5]||((E,...S)=>{let O=!0;const T=D=>$v(g(D)),M=(D,...H)=>{var $;const R=p(D);try{if(pj(E,D)){if(!mj(D))throw new Error("atom not writable");const U=R.n,B=H[0];return s4(D,B,p),y(D),void(U!==R.n&&(r.add(D),($=a.c)==null||$.call(a,D),f(D)))}return v(D,...H)}finally{O||(m(),h())}};try{return l(E,T,M,...S)}finally{O=!1}}),y=d[6]||(E=>{var S;const O=p(E),T=t.get(E);if(T&&!gj(O.v)){for(const[M,D]of O.d)if(!T.d.has(M)){const H=p(M);b(M).t.add(E),T.d.add(M),D!==H.n&&(r.add(M),(S=a.c)==null||S.call(a,M),f(M))}for(const M of T.d||[])if(!O.d.has(M)){T.d.delete(M);const D=w(M);D==null||D.t.delete(E)}}}),b=d[7]||(E=>{var S;const O=p(E);let T=t.get(E);if(!T){g(E);for(const M of O.d.keys())b(M).t.add(E);if(T={l:new Set,d:new Set(O.d.keys()),t:new Set},t.set(E,T),(S=a.m)==null||S.call(a,E),a4(E)){const M=()=>{let D=!0;const H=(...$)=>{try{return v(E,...$)}finally{D||(m(),h())}};try{const $=u(E,H);$&&(T.u=()=>{D=!0;try{$()}finally{D=!1}})}finally{D=!1}};o.add(M)}}return T}),w=d[8]||(E=>{var S;const O=p(E);let T=t.get(E);if(!T||T.l.size||Array.from(T.t).some(M=>{var D;return(D=t.get(M))==null?void 0:D.d.has(E)}))return T;T.u&&i.add(T.u),T=void 0,t.delete(E),(S=a.u)==null||S.call(a,E);for(const M of O.d.keys()){const D=w(M);D==null||D.t.delete(E)}}),k=[e,t,n,r,o,i,a,s,l,c,u,p,h,m,g,f,v,y,b,w],_={get:E=>$v(g(E)),set:(E,...S)=>{try{return v(E,...S)}finally{m(),h()}},sub:(E,S)=>{const O=b(E).l;return O.add(S),h(),()=>{O.delete(S),w(E),h()}}};return Object.defineProperty(_,kde,{value:k}),_},_de=e=>(e.c||(e.c=l4()),e.m||(e.m=l4()),e.u||(e.u=l4()),e.f||(e.f=(()=>{const t=new Set,n=()=>{t.forEach(r=>r())};return n.add=r=>(t.add(r),()=>{t.delete(r)}),n})()),e),kj=vj,c4={};let xde=0;function Sr(e,t){const n="atom"+ ++xde,r={toString(){return(c4?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=Cde,r.write=Sde),t&&(r.write=t),r}function Cde(e){return e(this)}function Sde(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function Tde(){return(c4?"production":void 0)!=="production"?(()=>{let e=0;const t=_de({}),n=new WeakMap,r=new WeakMap,o=wj(n,r,void 0,void 0,void 0,void 0,t,void 0,(a,s,l,...c)=>e?l(a,...c):a.write(s,l,...c)),i=new Set;return t.m.add(void 0,a=>{i.add(a),n.get(a).m=r.get(a)}),t.u.add(void 0,a=>{i.delete(a),delete n.get(a).m}),Object.assign(o,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>i,dev4_restore_atoms:a=>{const s={read:()=>null,write:(l,c)=>{++e;try{for(const[u,d]of a)"init"in u&&c(u,d)}finally{--e}}};o.set(s)}})})():wj()}let Wv;function Kv(){return Wv||(Wv=Tde(),(c4?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Wv),globalThis.__JOTAI_DEFAULT_STORE__)),Wv}const Ede={},Ode=x.createContext(void 0);function _j(e){return x.useContext(Ode)||Kv()}const u4=e=>typeof(e==null?void 0:e.then)=="function",d4=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},Ade=Bt.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(d4(e),e)}),h4=new WeakMap,xj=(e,t)=>{let n=h4.get(e);return n||(n=new Promise((r,o)=>{let i=e;const a=c=>u=>{i===c&&r(u)},s=c=>u=>{i===c&&o(u)},l=()=>{try{const c=t();u4(c)?(h4.set(c,n),i=c,c.then(a(c),s(c)),kj(c,l)):r(c)}catch(c){o(c)}};e.then(a(e),s(e)),kj(e,l)}),h4.set(e,n)),n};function lh(e,t){const{delay:n,unstable_promiseStatus:r=!Bt.use}={},o=_j(),[[i,a,s],l]=x.useReducer(u=>{const d=o.get(e);return Object.is(u[0],d)&&u[1]===o&&u[2]===e?u:[d,o,e]},void 0,()=>[o.get(e),o,e]);let c=i;if((a!==o||s!==e)&&(l(),c=o.get(e)),x.useEffect(()=>{const u=o.sub(e,()=>{if(r)try{const d=o.get(e);u4(d)&&d4(xj(d,()=>o.get(e)))}catch{}typeof n!="number"?l():setTimeout(l,n)});return l(),u},[o,e,n,r]),x.useDebugValue(c),u4(c)){const u=xj(c,()=>o.get(e));return r&&d4(u),Ade(u)}return c}function ch(e,t){const n=_j();return x.useCallback((...r)=>{if((Ede?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...r)},[n,e])}function pn(e,t){return[lh(e),ch(e)]}var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sj,p4={exports:{}},Pde=p4.exports,Nde=(Sj||(Sj=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(Pde,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],i={},a=null;function s(m,g){var f=m[g];if(typeof f.bind=="function")return f.bind(m);try{return Function.prototype.bind.call(f,m)}catch{return function(){return Function.prototype.apply.apply(f,[m,arguments])}}}function l(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments]))}function c(){for(var m=this.getLevel(),g=0;g<o.length;g++){var f=o[g];this[f]=g<m?t:this.methodFactory(f,m,this.name)}if(this.log=this.debug,typeof console===n&&m<this.levels.SILENT)return"No console available for logging"}function u(m){return function(){typeof console!==n&&(c.call(this),this[m].apply(this,arguments))}}function d(m,g,f){return function(v){return v==="debug"&&(v="log"),typeof console!==n&&(v==="trace"&&r?l:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):t)}(m)||u.apply(this,arguments)}function p(m,g){var f,v,y,b=this,w="loglevel";function k(){var S;if(typeof window!==n&&w){try{S=window.localStorage[w]}catch{}if(typeof S===n)try{var O=window.document.cookie,T=encodeURIComponent(w),M=O.indexOf(T+"=");M!==-1&&(S=/^([^;]+)/.exec(O.slice(M+T.length+1))[1])}catch{}return b.levels[S]===void 0&&(S=void 0),S}}function _(S){var O=S;if(typeof O=="string"&&b.levels[O.toUpperCase()]!==void 0&&(O=b.levels[O.toUpperCase()]),typeof O=="number"&&O>=0&&O<=b.levels.SILENT)return O;throw new TypeError("log.setLevel() called with invalid level: "+S)}typeof m=="string"?w+=":"+m:typeof m=="symbol"&&(w=void 0),b.name=m,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=g||d,b.getLevel=function(){var S;return(S=y??v)!=null?S:f},b.setLevel=function(S,O){return y=_(S),O!==!1&&function(T){var M=(o[T]||"silent").toUpperCase();if(typeof window!==n&&w){try{return void(window.localStorage[w]=M)}catch{}try{window.document.cookie=encodeURIComponent(w)+"="+M+";"}catch{}}}(y),c.call(b)},b.setDefaultLevel=function(S){v=_(S),k()||b.setLevel(S,!1)},b.resetLevel=function(){y=null,function(){if(typeof window!==n&&w){try{window.localStorage.removeItem(w)}catch{}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),c.call(b)},b.enableAll=function(S){b.setLevel(b.levels.TRACE,S)},b.disableAll=function(S){b.setLevel(b.levels.SILENT,S)},b.rebuild=function(){if(a!==b&&(f=_(a.getLevel())),c.call(b),a===b)for(var S in i)i[S].rebuild()},f=_(a?a.getLevel():"WARN");var E=k();E!=null&&(y=_(E)),c.call(b)}(a=new p).getLogger=function(m){if(typeof m!="symbol"&&typeof m!="string"||m==="")throw new TypeError("You must supply a name when creating a logger.");var g=i[m];return g||(g=i[m]=new p(m,a.methodFactory)),g};var h=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=h),a},a.getLoggers=function(){return i},a.default=a,a})}(p4)),p4.exports);const Ide=Cj(Nde);var m4=function(e,t){return m4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},m4(e,t)};function Vs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}m4(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Rde(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(c){try{l(r.next(c))}catch(u){i(u)}}function s(c){try{l(r.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):function(u){return u instanceof n?u:new n(function(d){d(u)})}(c.value).then(a,s)}l((r=r.apply(e,[])).next())})}function Tj(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(d){u=[6,d],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function T1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yv(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Qv(e,t,n){if(arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function uh(e){return this instanceof uh?(this.v=e,this):new uh(e)}function Mde(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(d){return function(p){return Promise.resolve(p).then(d,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(d,p){o[d]&&(r[d]=function(h){return new Promise(function(m,g){i.push([d,h,m,g])>1||s(d,h)})},p&&(r[d]=p(r[d])))}function s(d,p){try{(function(h){h.value instanceof uh?Promise.resolve(h.value.v).then(l,c):u(i[0][2],h)})(o[d](p))}catch(h){u(i[0][3],h)}}function l(d){s("next",d)}function c(d){s("throw",d)}function u(d,p){d(p),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Dde(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=T1(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(a,s){(function(l,c,u,d){Promise.resolve(d).then(function(p){l({value:p,done:u})},c)})(a,s,(i=e[o](i)).done,i.value)})}}}function mr(e){return typeof e=="function"}function f4(e){var t=e(function(n){Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var g4=f4(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Jv(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var E1=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=T1(a),l=s.next();!l.done;l=s.next())l.value.remove(this)}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(mr(c))try{c()}catch(m){i=m instanceof g4?m.errors:[m]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var d=T1(u),p=d.next();!p.done;p=d.next()){var h=p.value;try{Aj(h)}catch(m){i=i??[],m instanceof g4?i=Qv(Qv([],Yv(i)),Yv(m.errors)):i.push(m)}}}catch(m){r={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}if(i)throw new g4(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Aj(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Jv(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Jv(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ej=E1.EMPTY;function Oj(e){return e instanceof E1||e&&"closed"in e&&mr(e.remove)&&mr(e.add)&&mr(e.unsubscribe)}function Aj(e){mr(e)?e():e.unsubscribe()}var Lde=void 0,jde=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Qv([e,t],Yv(n)))};function Pj(e){jde(function(){throw e})}function Nj(){}function Xv(e){e()}var v4=function(e){function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Oj(n)&&n.add(r)):r.destination=Fde,r}return Vs(t,e),t.create=function(n,r,o){return new b4(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(E1),zde=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Zv(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Zv(r)}else Zv(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Zv(n)}},e}(),b4=function(e){function t(n,r,o){var i,a=e.call(this)||this;return i=mr(n)||!n?{next:n??void 0,error:r??void 0,complete:o??void 0}:n,a.destination=new zde(i),a}return Vs(t,e),t}(v4);function Zv(e){Pj(e)}var Fde={closed:!0,next:Nj,error:function(e){throw e},complete:Nj},y4=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ij(e){return e}var Tr=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=function(a){return a&&a instanceof v4||function(s){return s&&mr(s.next)&&mr(s.error)&&mr(s.complete)}(a)&&Oj(a)}(t)?t:new b4(t,n,r);return Xv(function(){var a=o,s=a.operator,l=a.source;i.add(s?s.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return new(n=Rj(n))(function(o,i){var a=new b4({next:function(s){try{t(s)}catch(l){i(l),a.unsubscribe()}},error:i,complete:o});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[y4]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(r){return r.length===0?Ij:r.length===1?r[0]:function(o){return r.reduce(function(i,a){return a(i)},o)}}(t)(this)},e.prototype.toPromise=function(t){var n=this;return new(t=Rj(t))(function(r,o){var i;n.subscribe(function(a){return i=a},function(a){return o(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Rj(e){var t;return(t=e??Lde)!==null&&t!==void 0?t:Promise}function O1(e){return function(t){if(function(n){return mr(n==null?void 0:n.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function eb(e,t,n,r,o){return new Bde(e,t,n,r,o)}var Bde=function(e){function t(n,r,o,i,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:e.prototype._next,l._error=i?function(c){try{i(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return Vs(t,e),t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(v4),Ude=f4(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Mj=function(e){function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return Vs(t,e),t.prototype.lift=function(n){var r=new Dj(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ude},t.prototype.next=function(n){var r=this;Xv(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=T1(r.currentObservers),s=a.next();!s.done;s=a.next())s.value.next(n)}catch(l){o={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;Xv(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Xv(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?Ej:(this.currentObservers=null,s.push(n),new E1(function(){r.currentObservers=null,Jv(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,a=r.isStopped;o?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new Tr;return n.source=this,n},t.create=function(n,r){return new Dj(n,r)},t}(Tr),Dj=function(e){function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return Vs(t,e),t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Ej},t}(Mj);(function(e){function t(n){var r=e.call(this)||this;return r._value=n,r}Vs(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)}})(Mj);var Hde=function(){return Date.now()},$de=function(e){function t(n,r){return e.call(this)||this}return Vs(t,e),t.prototype.schedule=function(n,r){return this},t}(E1),Vde=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Qv([e,t],Yv(n)))},qde=function(e){return clearInterval(e)},Wde=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return Vs(t,e),t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),Vde(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&qde(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o,i=!1;try{this.work(n)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this.id,r=this.scheduler,o=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Jv(o,this),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}($de),Lj=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Hde,e}(),Kde=function(e){function t(n,r){r===void 0&&(r=Lj.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return Vs(t,e),t.prototype.flush=function(n){var r=this.actions;if(this._active)r.push(n);else{var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}},t}(Lj);function jj(e){return function(t){return t&&mr(t.schedule)}(function(t){return t[t.length-1]}(e))?e.pop():void 0}new Kde(Wde);var zj=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Fj(e){return mr(e==null?void 0:e.then)}function Bj(e){return mr(e[y4])}function Uj(e){return Symbol.asyncIterator&&mr(e==null?void 0:e[Symbol.asyncIterator])}function Hj(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var $j=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function Vj(e){return mr(e==null?void 0:e[$j])}function qj(e){return Mde(this,arguments,function(){var t,n,r;return Tj(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,uh(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,uh(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,uh(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Wj(e){return mr(e==null?void 0:e.getReader)}function A1(e){if(e instanceof Tr)return e;if(e!=null){if(Bj(e))return function(t){return new Tr(function(n){var r=t[y4]();if(mr(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(zj(e))return function(t){return new Tr(function(n){for(var r=0;r<t.length&&!n.closed;r++)n.next(t[r]);n.complete()})}(e);if(Fj(e))return function(t){return new Tr(function(n){t.then(function(r){n.closed||(n.next(r),n.complete())},function(r){return n.error(r)}).then(null,Pj)})}(e);if(Uj(e))return Kj(e);if(Vj(e))return function(t){return new Tr(function(n){var r,o;try{for(var i=T1(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(n.next(s),n.closed)return}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}n.complete()})}(e);if(Wj(e))return function(t){return Kj(qj(t))}(e)}throw Hj(e)}function Kj(e){return new Tr(function(t){(function(n,r){var o,i,a,s;return Rde(this,0,void 0,function(){var l,c;return Tj(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),o=Dde(n),u.label=1;case 1:return[4,o.next()];case 2:if((i=u.sent()).done)return[3,4];if(l=i.value,r.next(l),r.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),a={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),i&&!i.done&&(s=o.return)?[4,s.call(o)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})})(e,t).catch(function(n){return t.error(n)})})}function fu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Gj(e,t){return t===void 0&&(t=0),O1(function(n,r){n.subscribe(eb(r,function(o){return fu(r,e,function(){return r.next(o)},t)},function(){return fu(r,e,function(){return r.complete()},t)},function(o){return fu(r,e,function(){return r.error(o)},t)}))})}function Yj(e,t){return t===void 0&&(t=0),O1(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Qj(e,t){if(!e)throw new Error("Iterable cannot be null");return new Tr(function(n){fu(n,t,function(){var r=e[Symbol.asyncIterator]();fu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Gde(e,t){if(e!=null){if(Bj(e))return function(n,r){return A1(n).pipe(Yj(r),Gj(r))}(e,t);if(zj(e))return function(n,r){return new Tr(function(o){var i=0;return r.schedule(function(){i===n.length?o.complete():(o.next(n[i++]),o.closed||this.schedule())})})}(e,t);if(Fj(e))return function(n,r){return A1(n).pipe(Yj(r),Gj(r))}(e,t);if(Uj(e))return Qj(e,t);if(Vj(e))return function(n,r){return new Tr(function(o){var i;return fu(o,r,function(){i=n[$j](),fu(o,r,function(){var a,s,l;try{s=(a=i.next()).value,l=a.done}catch(c){return void o.error(c)}l?o.complete():o.next(s)},0,!0)}),function(){return mr(i==null?void 0:i.return)&&i.return()}})}(e,t);if(Wj(e))return function(n,r){return Qj(qj(n),r)}(e,t)}throw Hj(e)}function qs(e,t){return O1(function(n,r){var o=0;n.subscribe(eb(r,function(i){r.next(e.call(t,i,o++))}))})}function Jj(e,t,n){return n===void 0&&(n=1/0),mr(t)?Jj(function(r,o){return qs(function(i,a){return t(r,i,o,a)})(A1(e(r,o)))},n):(typeof t=="number"&&(n=t),O1(function(r,o){return function(i,a,s,l,c,u,d){var p=[],h=0,m=0,g=!1,f=function(){g&&!p.length&&!h&&a.complete()},v=function(y){h++;var b=!1;A1(s(y,m++)).subscribe(eb(a,function(w){a.next(w)},function(){b=!0},void 0,function(){if(b)try{h--;for(var w=function(){var k=p.shift();d||v(k)};p.length&&h<l;)w();f()}catch(k){a.error(k)}}))};return i.subscribe(eb(a,function(y){return h<l?v(y):p.push(y)},function(){g=!0,f()})),function(){}}(r,o,e,n)}))}function Yde(){return function(e){return Jj(Ij,e)}(1)}function Xj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Yde()(function(n,r){return r?Gde(n,r):A1(n)}(e,jj(e)))}function Zl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=jj(e);return O1(function(r,o){(n?Xj(e,r,n):Xj(e,r)).subscribe(o)})}f4(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});var Qde=Object.defineProperty,Jde=Object.defineProperties,Xde=Object.getOwnPropertyDescriptors,Zj=Object.getOwnPropertySymbols,Zde=Object.prototype.hasOwnProperty,ehe=Object.prototype.propertyIsEnumerable,ez=(e,t,n)=>t in e?Qde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function tb(e){return!(typeof e>"u")&&(function(t){var n;return!!t&&t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof((n=t.publication)==null?void 0:n.track)<"u"}(e)||function(t){return!!t&&t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u"}(e))}function tz(e){if(typeof e=="string"||typeof e=="number")return`${e}`;if(function(t){return!!t&&t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u"}(e))return`${e.participant.identity}_${e.source}_placeholder`;if(tb(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${e}`)}var nz=[Ne.ConnectionStateChanged,Ne.RoomMetadataChanged,Ne.ActiveSpeakersChanged,Ne.ConnectionQualityChanged,Ne.ParticipantConnected,Ne.ParticipantDisconnected,Ne.ParticipantPermissionsChanged,Ne.ParticipantMetadataChanged,Ne.ParticipantNameChanged,Ne.ParticipantAttributesChanged,Ne.TrackMuted,Ne.TrackUnmuted,Ne.TrackPublished,Ne.TrackUnpublished,Ne.TrackStreamStateChanged,Ne.TrackSubscriptionFailed,Ne.TrackSubscriptionPermissionChanged,Ne.TrackSubscriptionStatusChanged,Ne.LocalTrackPublished,Ne.LocalTrackUnpublished],the=[Pe.TrackPublished,Pe.TrackUnpublished,Pe.TrackMuted,Pe.TrackUnmuted,Pe.TrackStreamStateChanged,Pe.TrackSubscribed,Pe.TrackUnsubscribed,Pe.TrackSubscriptionPermissionChanged,Pe.TrackSubscriptionFailed,Pe.LocalTrackPublished,Pe.LocalTrackUnpublished];Pe.ConnectionQualityChanged,Pe.IsSpeakingChanged,Pe.ParticipantMetadataChanged,Pe.ParticipantPermissionsChanged,Pe.TrackMuted,Pe.TrackUnmuted,Pe.TrackPublished,Pe.TrackUnpublished,Pe.TrackStreamStateChanged,Pe.TrackSubscriptionFailed,Pe.TrackSubscriptionPermissionChanged,Pe.TrackSubscriptionStatusChanged,Pe.LocalTrackPublished,Pe.LocalTrackUnpublished;var ec=Ide.getLogger("lk-components-js");function nhe(e,t){var n;return((r,o)=>Jde(r,Xde(o)))(((r,o)=>{for(var i in o||(o={}))Zde.call(o,i)&&ez(r,i,o[i]);if(Zj)for(var i of Zj(o))ehe.call(o,i)&&ez(r,i,o[i]);return r})({},e),{receivedAtMediaTimestamp:(n=t.rtpTimestamp)!=null?n:0,receivedAt:t.timestamp})}function rz(e){return typeof e=="object"}function oz(e){return Array.isArray(e)&&e.filter(rz).length>0}function rhe(e){return`lk-${e}`}function w4(e){if(tb(e))return e.publication;{const{source:t,name:n,participant:r}=e;if(t&&n)return r.getTrackPublications().find(o=>o.source===t&&o.trackName===n);if(n)return r.getTrackPublicationByName(n);if(t)return r.getTrackPublication(t);throw new Error("At least one of source and name needs to be defined")}}function iz(e,...t){return new Tr(n=>{const r=()=>{n.next(e)};return t.forEach(o=>{e.on(o,r)}),()=>{t.forEach(o=>{e.off(o,r)})}}).pipe(Zl(e))}function ohe(e){return function(t,n){return new Tr(r=>{const o=(...i)=>{r.next(i)};return t.on(n,o),()=>{t.off(n,o)}})}(e,Ne.ConnectionStateChanged).pipe(qs(([t])=>t),Zl(e.state))}function az(e,...t){return new Tr(n=>{const r=()=>{n.next(e)};return t.forEach(o=>{e.on(o,r)}),()=>{t.forEach(o=>{e.off(o,r)})}}).pipe(Zl(e))}function sz(e){return az(e,Pe.TrackMuted,Pe.TrackUnmuted,Pe.ParticipantPermissionsChanged,Pe.TrackPublished,Pe.TrackUnpublished,Pe.LocalTrackPublished,Pe.LocalTrackUnpublished,Pe.MediaDevicesError,Pe.TrackSubscriptionStatusChanged).pipe(qs(t=>{const{isMicrophoneEnabled:n,isCameraEnabled:r,isScreenShareEnabled:o}=t,i=t.getTrackPublication(Se.Source.Microphone);return{isCameraEnabled:r,isMicrophoneEnabled:n,isScreenShareEnabled:o,cameraTrack:t.getTrackPublication(Se.Source.Camera),microphoneTrack:i,participant:t}}))}function lz(e,t){return new Tr(n=>{const r=(...o)=>{n.next(o)};return e.on(t,r),()=>{e.off(t,r)}})}function cz(e,t,n=!0){const r=[e.localParticipant,...Array.from(e.remoteParticipants.values())],o=[];return r.forEach(i=>{t.forEach(a=>{const s=Array.from(i.trackPublications.values()).filter(l=>l.source===a&&(!n||l.track)).map(l=>({participant:i,publication:l,source:l.source}));o.push(...s)})}),{trackReferences:o,participants:r}}function uz(e,t,n=!1){const{sources:r,kind:o,name:i}=t;return Array.from(e.trackPublications.values()).filter(a=>(!r||r.includes(a.source))&&(!o||a.kind===o)&&(!i||a.trackName===i)&&(!n||a.track)).map(a=>({participant:e,publication:a,source:a.source}))}function dz(e,t){return new Tr(n=>{const r=(...o)=>{n.next(o)};return e.on(t,r),()=>{e.off(t,r)}})}ec.setDefaultLevel("WARN"),x.createContext(void 0);const ihe=x.createContext(void 0);function k4(){return x.useContext(ihe)}function hz(e){const t=k4(),n=e??t;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}const ahe=x.createContext(void 0);function _4(){return x.useContext(ahe)}const P1=x.createContext(void 0);function nb(e){const t=x.useContext(P1),n=e??t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}function pz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=pz(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mz(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=pz(e))&&(r&&(r+=" "),r+=t);return r}function she(...e){return(...t)=>{for(const n of e)if(typeof n=="function")try{n(...t)}catch{}}}function lhe(e){return e!==void 0}function fz(...e){return function(...t){const n=I({},t[0]);for(let r=1;r<t.length;r++){const o=t[r];for(const i in o){const a=n[i],s=o[i];typeof a=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?n[i]=she(a,s):n[i]=i!=="className"&&i!=="UNSAFE_className"||typeof a!="string"||typeof s!="string"?s!==void 0?s:a:mz(a,s)}}return n}(...e.filter(lhe))}function N1(e,t,n=!0){const[r,o]=x.useState(t);return x.useEffect(()=>{if(n&&o(t),typeof window>"u"||!e)return;const i=e.subscribe(o);return()=>i.unsubscribe()},[e,n]),r}function gz(e){const t=function(r){var o;const i=_4(),a=k4(),s=(o=r??i)!=null?o:a==null?void 0:a.participant;if(!s)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return s}(e),n=x.useMemo(()=>function(r){return lz(r,Pe.IsSpeakingChanged).pipe(qs(([o])=>o))}(t),[t]);return N1(n,t.isSpeaking)}function che(e={}){const t=nb(e.room),[n,r]=x.useState([]);return x.useEffect(()=>{const o=function(i,a={}){var s;let l;const c=new Tr(p=>(l=p,()=>d.unsubscribe())).pipe(Zl(Array.from(i.remoteParticipants.values()))),u=(s=a.additionalRoomEvents)!=null?s:nz,d=iz(i,...Array.from(new Set([Ne.ParticipantConnected,Ne.ParticipantDisconnected,Ne.ConnectionStateChanged,...u]))).subscribe(p=>l==null?void 0:l.next(Array.from(p.remoteParticipants.values())));return i.remoteParticipants.size>0&&(l==null||l.next(Array.from(i.remoteParticipants.values()))),c}(t,{additionalRoomEvents:e.updateOnlyOn}).subscribe(r);return()=>o.unsubscribe()},[t,JSON.stringify(e.updateOnlyOn)]),n}function x4(e=[Se.Source.Camera,Se.Source.Microphone,Se.Source.ScreenShare,Se.Source.ScreenShareAudio,Se.Source.Unknown],t={}){const n=nb(t.room),[r,o]=x.useState([]),[i,a]=x.useState([]),s=x.useMemo(()=>e.map(l=>rz(l)?l.source:l),[JSON.stringify(e)]);return x.useEffect(()=>{const l=function(c,u,d){var p,h;const m=(p=d.additionalRoomEvents)!=null?p:nz,g=(h=d.onlySubscribed)==null||h;return iz(c,...Array.from(new Set([Ne.ParticipantConnected,Ne.ParticipantDisconnected,Ne.ConnectionStateChanged,Ne.LocalTrackPublished,Ne.LocalTrackUnpublished,Ne.TrackPublished,Ne.TrackUnpublished,Ne.TrackSubscriptionStatusChanged,...m]).values())).pipe(qs(f=>{const v=cz(f,u,g);return ec.debug(`TrackReference[] was updated. (length ${v.trackReferences.length})`,v),v}),Zl(cz(c,u,g)))}(n,s,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:c,participants:u})=>{ec.debug("setting track bundles",c,u),o(c),a(u)});return()=>l.unsubscribe()},[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),x.useMemo(()=>{if(oz(e)){const l=function(u,d){const p=new Map;if(oz(u)){const h=u.filter(m=>m.withPlaceholder).map(m=>m.source);d.forEach(m=>{const g=m.getTrackPublications().map(v=>{var y;return(y=v.track)==null?void 0:y.source}).filter(v=>v!==void 0),f=Array.from(function(v,y){const b=new Set(v);for(const w of y)b.delete(w);return b}(new Set(h),new Set(g)));f.length>0&&p.set(m.identity,f)})}return p}(e,i),c=Array.from(r);return i.forEach(u=>{var d;l.has(u.identity)&&((d=l.get(u.identity))!=null?d:[]).forEach(p=>{if(r.find(({participant:m,publication:g})=>u.identity===m.identity&&g.source===p))return;ec.debug(`Add ${p} placeholder for participant ${u.identity}.`);const h={participant:u,source:p};c.push(h)})}),c}return r},[r,i,e])}function vz(e,t={fftSize:32,smoothingTimeConstant:0}){const n=tb(e)?e.publication.track:e,[r,o]=x.useState(0);return x.useEffect(()=>{if(!n||!n.mediaStream)return;const{cleanup:i,analyser:a}=RN(n,t),s=a.frequencyBinCount,l=new Uint8Array(s),c=setInterval(()=>{a.getByteFrequencyData(l);let u=0;for(let d=0;d<l.length;d++){const p=l[d];u+=p*p}o(Math.sqrt(u/l.length)/255)},1e3/30);return()=>{i(),clearInterval(c)}},[n,n==null?void 0:n.mediaStream,JSON.stringify(t)]),r}x.createContext(void 0);const uhe=e=>e.map(t=>t===-1/0?0:(n=>{let r=1- -1*Math.max(-100,Math.min(-10,n))/100;return r=Math.sqrt(r),r})(t)),dhe={bands:5,loPass:100,hiPass:600,updateInterval:32,analyserOptions:{fftSize:2048}};function bz(e,t){const n=function(){const a=x.useContext(P1);if(!a)throw Error("tried to access room context outside of livekit room component");return a}(),r=_4(),o=t?n.getParticipantByIdentity(t):r,i=x.useMemo(()=>o?function(a,s){return az(a,...the).pipe(qs(l=>{const c=uz(l,s);return ec.debug(`TrackReference[] was updated. (length ${c.length})`,c),c}),Zl(uz(a,s)))}(o,{sources:e}):void 0,[o==null?void 0:o.sid,o==null?void 0:o.identity,JSON.stringify(e)]);return N1(i,[])}function hhe(e){var t,n,r;return N1(x.useMemo(()=>{var o;return(o=e==null?void 0:e.publication)!=null&&o.track?function(i){return dz(i,Ge.TimeSyncUpdate).pipe(qs(([a])=>a))}(e==null?void 0:e.publication.track):void 0},[(t=e==null?void 0:e.publication)==null?void 0:t.track]),{timestamp:Date.now(),rtpTimestamp:(r=(n=e==null?void 0:e.publication)==null?void 0:n.track)==null?void 0:r.rtpTimestamp})}const phe={bufferSize:100};function yz(e,t){const n=I(I({},phe),t),[r,o]=x.useState([]),i=hhe(e),a=s=>{var l;(l=n.onTranscription)==null||l.call(n,s),o(c=>function(u,d,p){return[...u,...d].reduceRight((h,m)=>(h.find(g=>g.id===m.id)||h.unshift(m),h),[]).slice(0-p)}(c,s.map(u=>nhe(u,i)),n.bufferSize))};return x.useEffect(()=>{if(e==null||!e.publication)return;const s=function(l){return dz(l,Ge.TranscriptionReceived)}(e.publication).subscribe(l=>{a(...l)});return()=>{s.unsubscribe()}},[e&&tz(e),a]),{segments:r}}function mhe(e={}){var t;const n=_4(),r=(t=e.participant)!=null?t:n,o=x.useMemo(()=>function(i){return typeof i>"u"?new Tr:lz(i,Pe.AttributesChanged).pipe(qs(([a])=>({changed:a,attributes:i.attributes})),Zl({changed:i.attributes,attributes:i.attributes}))}(r),[r]);return N1(o,{attributes:r==null?void 0:r.attributes})}const wz="lk.agent.state";function C4(){var e,t;const n=che(),r=n.find(h=>h.kind===Mc.AGENT&&!("lk.publish_on_behalf"in h.attributes)),o=n.find(h=>h.kind===Mc.AGENT&&h.attributes["lk.publish_on_behalf"]===(r==null?void 0:r.identity)),i=bz([Se.Source.Microphone,Se.Source.Camera],r==null?void 0:r.identity),a=bz([Se.Source.Microphone,Se.Source.Camera],o==null?void 0:o.identity),s=(e=i.find(h=>h.source===Se.Source.Microphone))!=null?e:a.find(h=>h.source===Se.Source.Microphone),l=(t=i.find(h=>h.source===Se.Source.Camera))!=null?t:a.find(h=>h.source===Se.Source.Camera),{segments:c}=yz(s),u=function(h){const m=nb(h);return N1(x.useMemo(()=>ohe(m),[m]),m.state)}(),{attributes:d}=mhe({participant:r}),p=x.useMemo(()=>u===ln.Disconnected?"disconnected":u!==ln.Connecting&&r&&d!=null&&d[wz]?d[wz]:"connecting",[d,r,u]);return{agent:r,state:p,audioTrack:s,videoTrack:l,agentTranscriptions:c,agentAttributes:d}}function kz(e,t={}){var n;const[r,o]=x.useState(w4(e)),[i,a]=x.useState(r==null?void 0:r.isMuted),[s,l]=x.useState(r==null?void 0:r.isSubscribed),[c,u]=x.useState(r==null?void 0:r.track),[d,p]=x.useState("landscape"),h=x.useRef(),{className:m,trackObserver:g}=x.useMemo(()=>function(f){const v=w4(f),y=sz(f.participant).pipe(qs(()=>w4(f)),Zl(v));return{className:rhe(f.source===Se.Source.Camera||f.source===Se.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:y}}(e),[(n=e.participant.sid)!=null?n:e.participant.identity,e.source,tb(e)&&e.publication.trackSid]);return x.useEffect(()=>{const f=g.subscribe(v=>{ec.debug("update track",v),o(v),a(v==null?void 0:v.isMuted),l(v==null?void 0:v.isSubscribed),u(v==null?void 0:v.track)});return()=>f==null?void 0:f.unsubscribe()},[g]),x.useEffect(()=>{var f,v;return c&&(h.current&&c.detach(h.current),(f=t.element)!=null&&f.current&&!(e.participant.isLocal&&(c==null?void 0:c.kind)==="audio")&&c.attach(t.element.current)),h.current=(v=t.element)==null?void 0:v.current,()=>{h.current&&(c==null||c.detach(h.current))}},[c,t.element]),x.useEffect(()=>{var f,v;if(typeof((f=r==null?void 0:r.dimensions)==null?void 0:f.width)=="number"&&typeof((v=r==null?void 0:r.dimensions)==null?void 0:v.height)=="number"){const y=r.dimensions.width>r.dimensions.height?"landscape":"portrait";p(y)}},[r]),{publication:r,isMuted:i,isSubscribed:s,track:c,elementProps:fz(t.props,I({className:m,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":r==null?void 0:r.source},(r==null?void 0:r.kind)==="video"&&{"data-lk-orientation":d}))}}var S4,_z,fhe=function(){if(_z)return S4;_z=1;var e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,o=parseInt,i=typeof Gv=="object"&&Gv&&Gv.Object===Object&&Gv,a=typeof self=="object"&&self&&self.Object===Object&&self,s=i||a||Function("return this")(),l=Object.prototype.toString,c=Math.max,u=Math.min,d=function(){return s.Date.now()};function p(m){var g=typeof m;return!!m&&(g=="object"||g=="function")}function h(m){if(typeof m=="number")return m;if(function(v){return typeof v=="symbol"||function(y){return!!y&&typeof y=="object"}(v)&&l.call(v)=="[object Symbol]"}(m))return NaN;if(p(m)){var g=typeof m.valueOf=="function"?m.valueOf():m;m=p(g)?g+"":g}if(typeof m!="string")return m===0?m:+m;m=m.replace(e,"");var f=n.test(m);return f||r.test(m)?o(m.slice(2),f?2:8):t.test(m)?NaN:+m}return S4=function(m,g,f){var v,y,b,w,k,_,E=0,S=!1,O=!1,T=!0;if(typeof m!="function")throw new TypeError("Expected a function");function M(U){var B=v,L=y;return v=y=void 0,E=U,w=m.apply(L,B)}function D(U){var B=U-_;return _===void 0||B>=g||B<0||O&&U-E>=b}function H(){var U=d();if(D(U))return $(U);k=setTimeout(H,function(B){var L=g-(B-_);return O?u(L,b-(B-E)):L}(U))}function $(U){return k=void 0,T&&v?M(U):(v=y=void 0,w)}function R(){var U=d(),B=D(U);if(v=arguments,y=this,_=U,B){if(k===void 0)return function(L){return E=L,k=setTimeout(H,g),S?M(L):w}(_);if(O)return k=setTimeout(H,g),M(_)}return k===void 0&&(k=setTimeout(H,g)),w}return g=h(g)||0,p(f)&&(S=!!f.leading,b=(O="maxWait"in f)?c(h(f.maxWait)||0,g):b,T="trailing"in f?!!f.trailing:T),R.cancel=function(){k!==void 0&&clearTimeout(k),E=0,v=_=y=k=void 0},R.flush=function(){return k===void 0?w:$(d())},R},S4}();const xz=Cj(fhe);function ghe(e,t=500,n){const r=x.useRef();(function(i){const a=x.useRef(i);a.current=i,x.useEffect(()=>()=>{a.current()},[])})(()=>{r.current&&r.current.cancel()});const o=x.useMemo(()=>{const i=xz(e,t,n),a=(...s)=>i(...s);return a.cancel=()=>{i.cancel()},a.isPending=()=>!!r.current,a.flush=()=>i.flush(),a},[e,t,n]);return x.useEffect(()=>{r.current=xz(e,t,n)},[e,t,n]),o}const vhe=x.forwardRef(function(e,t){var n=e,{onTrackClick:r,onClick:o,onSubscriptionStatusChanged:i,trackRef:a,manageSubscription:s}=n,l=ye(n,["onTrackClick","onClick","onSubscriptionStatusChanged","trackRef","manageSubscription"]);const c=hz(a),u=x.useRef(null);x.useImperativeHandle(t,()=>u.current);const d=function({threshold:f=0,root:v=null,rootMargin:y="0%",freezeOnceVisible:b=!1,initialIsIntersecting:w=!1,onChange:k}={}){var _;const[E,S]=x.useState(null),[O,T]=x.useState(()=>({isIntersecting:w,entry:void 0})),M=x.useRef();M.current=k;const D=((_=O.entry)==null?void 0:_.isIntersecting)&&b;x.useEffect(()=>{if(!E||!("IntersectionObserver"in window)||D)return;const R=new IntersectionObserver(U=>{const B=Array.isArray(R.thresholds)?R.thresholds:[R.thresholds];U.forEach(L=>{const C=L.isIntersecting&&B.some(V=>L.intersectionRatio>=V);T({isIntersecting:C,entry:L}),M.current&&M.current(C,L)})},{threshold:f,root:v,rootMargin:y});return R.observe(E),()=>{R.disconnect()}},[E,JSON.stringify(f),v,y,D,b]);const H=x.useRef(null);x.useEffect(()=>{var R;!E&&(R=O.entry)!=null&&R.target&&!b&&!D&&H.current!==O.entry.target&&(H.current=O.entry.target,T({isIntersecting:w,entry:void 0}))},[E,O.entry,b,D,w]);const $=[S,!!O.isIntersecting,O.entry];return $.ref=$[0],$.isIntersecting=$[1],$.entry=$[2],$}({root:u.current}),[p]=function(f,v,y){const b=f instanceof Function?f():f,[w,k]=x.useState(b),_=x.useRef(b),E=ghe(k,v,y);return((S,O)=>S===O)(_.current,b)||(E(b),_.current=b),[w,E]}(d,3e3);x.useEffect(()=>{s&&c.publication instanceof Ug&&(p==null?void 0:p.isIntersecting)===!1&&(d==null?void 0:d.isIntersecting)===!1&&c.publication.setSubscribed(!1)},[p,c,s]),x.useEffect(()=>{s&&c.publication instanceof Ug&&(d==null?void 0:d.isIntersecting)===!0&&c.publication.setSubscribed(!0)},[d,c,s]);const{elementProps:h,publication:m,isSubscribed:g}=kz(c,{element:u,props:l});return x.useEffect(()=>{i==null||i(!!g)},[g,i]),x.createElement("video",K(I({ref:u},h),{muted:!0,onClick:f=>{o==null||o(f),r==null||r({participant:c==null?void 0:c.participant,track:m})}}))}),bhe=x.forwardRef(function(e,t){var n=e,{trackRef:r,onSubscriptionStatusChanged:o,volume:i}=n,a=ye(n,["trackRef","onSubscriptionStatusChanged","volume"]);const s=hz(r),l=x.useRef(null);x.useImperativeHandle(t,()=>l.current);const{elementProps:c,isSubscribed:u,track:d,publication:p}=kz(s,{element:l,props:a});return x.useEffect(()=>{o==null||o(!!u)},[u,o]),x.useEffect(()=>{d===void 0||i===void 0||(d instanceof mI?d.setVolume(i):ec.warn("Volume can only be set on remote audio tracks."))},[i,d]),x.useEffect(()=>{p===void 0||a.muted===void 0||(p instanceof Ug?p.setEnabled(!a.muted):ec.warn("Can only call setEnabled on remote track publications."))},[a.muted,p,d]),x.createElement("audio",I({ref:l},c))});function Cz({volume:e,muted:t}){const n=x4([Se.Source.Microphone,Se.Source.ScreenShareAudio,Se.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter(r=>!r.participant.isLocal&&r.publication.kind===Se.Kind.Audio);return x.createElement("div",{style:{display:"none"}},n.map(r=>x.createElement(bhe,{key:tz(r),trackRef:r,volume:e,muted:t})))}const yhe=e=>{const t=[];for(let n=0;n<e;n++)t.push([n,e-1-n]);return t},Sz=e=>[[Math.floor(e/2)],[-1]],whe=new Map([["connecting",2e3],["initializing",2e3],["listening",500],["thinking",150]]),khe=x.forwardRef(function(e,t){var n,r,o,i=e,{state:a,options:s,barCount:l=15,trackRef:c,children:u}=i;const d=fz(ye(i,["state","options","barCount","trackRef","children"]),{className:"lk-audio-bar-visualizer"});let p=k4();c&&(p=c);const h=function(v,y={}){var b;const w=v instanceof Se?v:(b=v==null?void 0:v.publication)==null?void 0:b.track,k=I(I({},dhe),y),[_,E]=x.useState(new Array(k.bands).fill(0));return x.useEffect(()=>{if(!w||w==null||!w.mediaStream)return;const{analyser:S,cleanup:O}=RN(w,k.analyserOptions),T=S.frequencyBinCount,M=new Float32Array(T),D=setInterval(()=>{S.getFloatFrequencyData(M);let H=new Float32Array(M.length);for(let B=0;B<M.length;B++)H[B]=M[B];H=H.slice(y.loPass,y.hiPass);const $=uhe(H),R=Math.ceil($.length/k.bands),U=[];for(let B=0;B<k.bands;B++){const L=$.slice(B*R,(B+1)*R).reduce((C,V)=>C+V,0);U.push(L/R)}E(U)},k.updateInterval);return()=>{O(),clearInterval(D)}},[w,w==null?void 0:w.mediaStream,JSON.stringify(y)]),_}(p,{bands:l,loPass:100,hiPass:200}),m=(n=s==null?void 0:s.minHeight)!=null?n:20,g=(r=s==null?void 0:s.maxHeight)!=null?r:100,f=((v,y,b)=>{const[w,k]=x.useState(0),[_,E]=x.useState([[]]);x.useEffect(()=>{if(v==="thinking")E(Sz(y));else if(v==="connecting"||v==="initializing"){const O=[...yhe(y)];E(O)}else E(v==="listening"?Sz(y):v===void 0?[new Array(y).fill(0).map((O,T)=>T)]:[[]]);k(0)},[v,y]);const S=x.useRef(null);return x.useEffect(()=>{let O=performance.now();const T=M=>{M-O>=b&&(k(D=>D+1),O=M),S.current=requestAnimationFrame(T)};return S.current=requestAnimationFrame(T),()=>{S.current!==null&&cancelAnimationFrame(S.current)}},[b,y,v,_.length]),_[w%_.length]})(a,l,(o=((v,y)=>{if(v===void 0)return 1e3;let b=whe.get(v);return b&&v==="connecting"&&(b/=y),b})(a,l))!=null?o:100);return x.createElement("div",K(I({ref:t},d),{"data-lk-va-state":a}),h.map((v,y)=>u?function(b,w,k){return x.Children.map(b,_=>x.isValidElement(_)&&x.Children.only(b)?(_.props.class&&(w!=null||(w={}),w.class=mz(_.props.class,w.class),w.style=I(I({},_.props.style),w.style)),x.cloneElement(_,K(I({},w),{key:k}))):_)}(u,{"data-lk-highlighted":f.includes(y),"data-lk-bar-index":y,className:"lk-audio-bar",style:{height:`${Math.min(g,Math.max(m,100*v+5))}%`}}):x.createElement("span",{key:y,"data-lk-highlighted":f.includes(y),"data-lk-bar-index":y,className:`lk-audio-bar ${f.includes(y)&&"lk-highlighted"}`,style:{height:`${Math.min(g,Math.max(m,100*v+5))}%`}})))}),Mr=[];for(let e=0;e<256;++e)Mr.push((e+256).toString(16).slice(1));let T4;const _he=new Uint8Array(16);function Tz(){if(!T4){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T4=crypto.getRandomValues.bind(crypto)}return T4(_he)}const I1={};function gu(e,t,n){var r,o,i,a;let s;const l=(r=e==null?void 0:e._v6)!=null&&r;if(e){const c=Object.keys(e);c.length===1&&c[0]==="_v6"&&(e=void 0)}if(e)s=Ez((a=(i=e.random)!=null?i:(o=e.rng)==null?void 0:o.call(e))!=null?a:Tz(),e.msecs,e.nsecs,e.clockseq,e.node,t,n);else{const c=Date.now(),u=Tz();(function(d,p,h){d.msecs!=null||(d.msecs=-1/0),d.nsecs!=null||(d.nsecs=0),p===d.msecs?(d.nsecs++,d.nsecs>=1e4&&(d.node=void 0,d.nsecs=0)):p>d.msecs?d.nsecs=0:p<d.msecs&&(d.node=void 0),d.node||(d.node=h.slice(10,16),d.node[0]|=1,d.clockseq=16383&(h[8]<<8|h[9])),d.msecs=p})(I1,c,u),s=Ez(u,I1.msecs,I1.nsecs,l?void 0:I1.clockseq,l?void 0:I1.node,t,n)}return t??function(c,u=0){return(Mr[c[u+0]]+Mr[c[u+1]]+Mr[c[u+2]]+Mr[c[u+3]]+"-"+Mr[c[u+4]]+Mr[c[u+5]]+"-"+Mr[c[u+6]]+Mr[c[u+7]]+"-"+Mr[c[u+8]]+Mr[c[u+9]]+"-"+Mr[c[u+10]]+Mr[c[u+11]]+Mr[c[u+12]]+Mr[c[u+13]]+Mr[c[u+14]]+Mr[c[u+15]]).toLowerCase()}(s)}function Ez(e,t,n,r,o,i,a=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(i){if(a<0||a+16>i.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`)}else i=new Uint8Array(16),a=0;t!=null||(t=Date.now()),n!=null||(n=0),r!=null||(r=16383&(e[8]<<8|e[9])),o!=null||(o=e.slice(10,16));const s=(1e4*(268435455&(t+=122192928e5))+n)%4294967296;i[a++]=s>>>24&255,i[a++]=s>>>16&255,i[a++]=s>>>8&255,i[a++]=255&s;const l=t/4294967296*1e4&268435455;i[a++]=l>>>8&255,i[a++]=255&l,i[a++]=l>>>24&15|16,i[a++]=l>>>16&255,i[a++]=r>>>8|128,i[a++]=255&r;for(let c=0;c<6;++c)i[a++]=o[c];return i}const Oz=async e=>{const{chatbotId:t,conversationId:n,eventName:r,visitorId:o}=e;if(!(t&&n&&r&&o))return;const i=`${Mt.gatewayHost}/api/v1/client-event`,a=await xt.post(i,{chatbot_id:t,conversation_id:n,event_name:r,visitor_id:o},{headers:{"Content-Type":"application/json"}});if(a.data.response)return a==null?void 0:a.data;ne.error("Failed to send client event")},xhe=Sr(void 0),Che=Sr("disconnected");function Az(e){ne.error("useLiveKit onDeviceFailure error:",e),alert("Error acquiring camera or microphone permissions. Please make sure you grant the necessary permissions in your browser and reload the tab")}const oa=()=>{const e=er(),{mutate:t}=(()=>{const v=er(),y=G(wt),b=G(k=>k.chatBox.source),w=el(b);return or({mutationFn:()=>Oz({eventName:"realtime-voice-connected",chatbotId:v,conversationId:y,visitorId:w})})})(),n=G(wt),r=G(v=>v.chatBox.source),[o,i]=pn(xhe),[a,s]=pn(Che),[l,c]=pn(Uh),u=x.useRef(o);x.useEffect(()=>{u.current=o},[o]),x.useEffect(()=>{const v=window.LivekitClient;if(v&&!o)try{const y=new v.Room;i(y)}catch(y){ne.warn("Failed to create LiveKit Room placeholder",y)}},[o,i]);const d=x.useCallback(async v=>{var y;if(ne.log("useLiveKit onConnectButtonClicked triggered"),s("connecting"),((y=u.current)==null?void 0:y.state)==="connected"){ne.log("useLiveKit disconnecting existing room before creating new connection");try{await u.current.disconnect()}catch(_){ne.warn("useLiveKit error disconnecting existing room:",_)}}const b=window.LivekitClient;if(!b)return void s("error: LiveKit not loaded");const w=new b.Room,k=el(r);try{const _=gu();ne.log("useLiveKit onConnectButtonClicked roomSuffix:",_);const E=await fetch(`${Mt.chatHost}/api/v1/livekit/get_room_token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agent_id:e,conversation_id:v||n,visitor_id:k,room_suffix:_})});if(!E.ok){let O=`HTTP error! status: ${E.status}`;try{const T=await E.json();O=T.message||T.error||JSON.stringify(T),ne.log("useLiveKit onConnectButtonClicked errorData:",T)}catch{O=E.statusText||O}return void s(`error: ${O}`)}const S=await E.json();ne.log("useLiveKit onConnectButtonClicked connectionDetailsData:",S),await w.connect(S.server_url,S.participant_token),await w.localParticipant.setMicrophoneEnabled(!0),s("connected"),i(w),t()}catch(_){s(`error: ${_.message||"Failed to connect to LiveKit"}`)}},[s,i,e,n,r,t]),p=x.useCallback(()=>{ne.log("useLiveKit startLivekit triggered");const v=window.LivekitClient;v&&o!=null&&o.on&&o.on(v.RoomEvent.MediaDevicesError,Az)},[o]),h=x.useCallback(()=>{ne.log("useLiveKit stopLivekit triggered");const v=window.LivekitClient;v&&o!=null&&o.off&&o.off(v.RoomEvent.MediaDevicesError,Az)},[o]),m=x.useCallback(async v=>{ne.log("useLiveKit muteMic triggered"),(o==null?void 0:o.state)==="connected"?await o.localParticipant.setMicrophoneEnabled(!1,{deviceId:v}):ne.warn("Cannot mute mic - room not connected")},[o]),g=x.useCallback(async v=>{ne.log("useLiveKit unmuteMic triggered"),(o==null?void 0:o.state)==="connected"?await o.localParticipant.setMicrophoneEnabled(!0,{deviceId:v}):ne.warn("Cannot unmute mic - room not connected")},[o]),f=x.useCallback(()=>{var v;ne.log("useLiveKit disconnectLivekit triggered"),o&&((v=o.disconnect)==null||v.call(o)),s("disconnected"),c(!1)},[o,s,c]);return{livekitRoom:o,onConnectButtonClicked:d,status:a,startLivekit:p,stopLivekit:h,muteMic:m,unmuteMic:g,disconnectLivekit:f}};function She(){const{microphoneTrack:e,localParticipant:t}=function(n={}){const r=nb(n.room),[o,i]=x.useState(r.localParticipant),[a,s]=x.useState(o.isMicrophoneEnabled),[l,c]=x.useState(o.isMicrophoneEnabled),[u,d]=x.useState(o.lastMicrophoneError),[p,h]=x.useState(o.lastCameraError),[m,g]=x.useState(o.isMicrophoneEnabled),[f,v]=x.useState(void 0),[y,b]=x.useState(void 0),w=k=>{c(k.isCameraEnabled),s(k.isMicrophoneEnabled),g(k.isScreenShareEnabled),b(k.cameraTrack),v(k.microphoneTrack),d(k.participant.lastMicrophoneError),h(k.participant.lastCameraError),i(k.participant)};return x.useEffect(()=>{const k=sz(r.localParticipant).subscribe(w);return()=>k.unsubscribe()},[r]),{isMicrophoneEnabled:a,isScreenShareEnabled:m,isCameraEnabled:l,microphoneTrack:f,cameraTrack:y,lastMicrophoneError:u,lastCameraError:p,localParticipant:o}}();return x.useMemo(()=>({participant:t,source:Se.Source.Microphone,publication:e}),[t,e])}var The=Object.defineProperty,Ehe=Object.defineProperties,Ohe=Object.getOwnPropertyDescriptors,Pz=Object.getOwnPropertySymbols,Ahe=Object.prototype.hasOwnProperty,Phe=Object.prototype.propertyIsEnumerable,Nz=(e,t,n)=>t in e?The(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rb=(e,t)=>{for(var n in t||(t={}))Ahe.call(t,n)&&Nz(e,n,t[n]);if(Pz)for(var n of Pz(t))Phe.call(t,n)&&Nz(e,n,t[n]);return e},ob=(e,t)=>Ehe(e,Ohe(t));const R1=e=>{const[t,n]=x.useState(null),r=x.useRef(null),o=G(s=>s.chatBox.showChatBox),i=e==null?void 0:e.current,a=x.useCallback(()=>{const s=()=>{if(!i)return void n(null);const l=i.getBoundingClientRect();n({width:l.width,height:l.height,top:l.top,left:l.left,right:l.right,bottom:l.bottom})};r.current||s(),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{s(),r.current=null},300)},[i]);return x.useEffect(()=>{if(!i)return;const s=new ResizeObserver(()=>{a()});return s.observe(i),()=>{s.disconnect(),r.current&&(clearTimeout(r.current),r.current=null)}},[i,a]),x.useEffect(()=>{o&&a()},[o,a]),t};var Wa=function(){return Wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wa.apply(this,arguments)};function Iz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var ib="right-scroll-bar-position",ab="width-before-scroll-bar";function E4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}var Nhe=typeof window<"u"?x.useLayoutEffect:x.useEffect,Rz=new WeakMap;function Ihe(e,t){var n=function(r,o){var i=x.useState(function(){return{value:r,callback:o,facade:{get current(){return i.value},set current(a){var s=i.value;s!==a&&(i.value=a,i.callback(a,s))}}}})[0];return i.callback=o,i.facade}(null,function(r){return e.forEach(function(o){return E4(o,r)})});return Nhe(function(){var r=Rz.get(n);if(r){var o=new Set(r),i=new Set(e),a=n.current;o.forEach(function(s){i.has(s)||E4(s,null)}),i.forEach(function(s){o.has(s)||E4(s,a)})}Rz.set(n,e)},[e]),n}function Rhe(e){return e}var Mz=function(e){var t=e.sideCar,n=Iz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Wa({},n))};Mz.isSideCarExport=!0;var Dz=function(e){e===void 0&&(e={});var t=function(n,r){r===void 0&&(r=Rhe);var o=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:n},useMedium:function(s){var l=r(s,i);return o.push(l),function(){o=o.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(i=!0;o.length;){var l=o;o=[],l.forEach(s)}o={push:function(c){return s(c)},filter:function(){return o}}},assignMedium:function(s){i=!0;var l=[];if(o.length){var c=o;o=[],c.forEach(s),l=o}var u=function(){var p=l;l=[],p.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),o={push:function(p){l.push(p),d()},filter:function(p){return l=l.filter(p),o}}}};return a}(null);return t.options=Wa({async:!0,ssr:!1},e),t}(),O4=function(){},sb=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:O4,onWheelCapture:O4,onTouchMoveCapture:O4}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,p=e.sideCar,h=e.noIsolation,m=e.inert,g=e.allowPinchZoom,f=e.as,v=f===void 0?"div":f,y=e.gapMode,b=Iz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,k=Ihe([n,t]),_=Wa(Wa({},b),o);return x.createElement(x.Fragment,null,u&&x.createElement(w,{sideCar:Dz,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:y}),a?x.cloneElement(x.Children.only(s),Wa(Wa({},_),{ref:k})):x.createElement(v,Wa({},_,{className:l,ref:k}),s))});sb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},sb.classNames={fullWidth:ab,zeroRight:ib};function Mhe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Dhe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Mhe())&&(function(r,o){r.styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o))}(t,n),function(r){(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Lz=function(){var e=function(){var t=Dhe();return function(n,r){x.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Lhe={left:0,top:0,right:0,gap:0},A4=function(e){return parseInt(e||"",10)||0},jhe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Lhe;var t=function(o){var i=window.getComputedStyle(document.body),a=i[o==="padding"?"paddingLeft":"marginLeft"],s=i[o==="padding"?"paddingTop":"marginTop"],l=i[o==="padding"?"paddingRight":"marginRight"];return[A4(a),A4(s),A4(l)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},zhe=Lz(),dh="data-scroll-locked",Fhe=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(dh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ib,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(ab,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(ib," .").concat(ib,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ab," .").concat(ab,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dh,`] {
    `).concat("--removed-body-scroll-bar-size",": ").concat(s,`px;
  }
`)},jz=function(){var e=parseInt(document.body.getAttribute(dh)||"0",10);return isFinite(e)?e:0},Bhe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;x.useEffect(function(){return document.body.setAttribute(dh,(jz()+1).toString()),function(){var a=jz()-1;a<=0?document.body.removeAttribute(dh):document.body.setAttribute(dh,a.toString())}},[]);var i=x.useMemo(function(){return jhe(o)},[o]);return x.createElement(zhe,{styles:Fhe(i,!t,o,n?"":"!important")})},P4=!1;if(typeof window<"u")try{var lb=Object.defineProperty({},"passive",{get:function(){return P4=!0,!0}});window.addEventListener("test",lb,lb),window.removeEventListener("test",lb,lb)}catch{P4=!1}var hh=!!P4&&{passive:!1},zz=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!function(r){return r.tagName==="TEXTAREA"}(e)&&n[t]==="visible")},Fz=function(e,t){var n=t.ownerDocument,r=t;do{if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host),Bz(e,r)){var o=Uz(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Bz=function(e,t){return e==="v"?function(n){return zz(n,"overflowY")}(t):function(n){return zz(n,"overflowX")}(t)},Uz=function(e,t){return e==="v"?function(n){return[n.scrollTop,n.scrollHeight,n.clientHeight]}(t):function(n){return[n.scrollLeft,n.scrollWidth,n.clientWidth]}(t)},cb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hz=function(e){return[e.deltaX,e.deltaY]},$z=function(e){return e&&"current"in e?e.current:e},Uhe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Hhe=0,ph=[];function $he(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Vhe=function(e,t){return e.useMedium(t),Mz}(Dz,function(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),o=x.useState(Hhe++)[0],i=x.useState(Lz)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=function(f,v,y){if(y||arguments.length===2)for(var b,w=0,k=v.length;w<k;w++)(b||!(w in v))&&(b||(b=Array.prototype.slice.call(v,0,w)),b[w]=v[w]);return f.concat(b||Array.prototype.slice.call(v))}([e.lockRef.current],(e.shards||[]).map($z),!0).filter(Boolean);return g.forEach(function(f){return f.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=x.useCallback(function(g,f){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var v,y=cb(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-y[0],k="deltaY"in g?g.deltaY:b[1]-y[1],_=g.target,E=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in g&&E==="h"&&_.type==="range")return!1;var S=Fz(E,_);if(!S)return!0;if(S?v=E:(v=E==="v"?"h":"v",S=Fz(E,_)),!S)return!1;if(!r.current&&"changedTouches"in g&&(w||k)&&(r.current=v),!v)return!0;var O=r.current||v;return function(T,M,D,H){var $=function(te,X){return te==="h"&&X==="rtl"?-1:1}(T,window.getComputedStyle(M).direction),R=$*H,U=D.target,B=M.contains(U),L=!1,C=R>0,V=0,N=0;do{var q=Uz(T,U),J=q[0],Q=q[1]-q[2]-$*J;(J||Q)&&Bz(T,U)&&(V+=Q,N+=J),U=U instanceof ShadowRoot?U.host:U.parentNode}while(!B&&U!==document.body||B&&(M.contains(U)||M===U));return(C&&Math.abs(V)<1||!C&&Math.abs(N)<1)&&(L=!0),L}(O,f,g,O==="h"?w:k)},[]),l=x.useCallback(function(g){var f=g;if(ph.length&&ph[ph.length-1]===i){var v="deltaY"in f?Hz(f):cb(f),y=t.current.filter(function(w){return w.name===f.type&&(w.target===f.target||f.target===w.shadowParent)&&function(k,_){return k[0]===_[0]&&k[1]===_[1]}(w.delta,v)})[0];if(y&&y.should)return void(f.cancelable&&f.preventDefault());if(!y){var b=(a.current.shards||[]).map($z).filter(Boolean).filter(function(w){return w.contains(f.target)});(b.length>0?s(f,b[0]):!a.current.noIsolation)&&f.cancelable&&f.preventDefault()}}},[]),c=x.useCallback(function(g,f,v,y){var b={name:g,delta:f,target:v,should:y,shadowParent:$he(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),u=x.useCallback(function(g){n.current=cb(g),r.current=void 0},[]),d=x.useCallback(function(g){c(g.type,Hz(g),g.target,s(g,e.lockRef.current))},[]),p=x.useCallback(function(g){c(g.type,cb(g),g.target,s(g,e.lockRef.current))},[]);x.useEffect(function(){return ph.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,hh),document.addEventListener("touchmove",l,hh),document.addEventListener("touchstart",u,hh),function(){ph=ph.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,hh),document.removeEventListener("touchmove",l,hh),document.removeEventListener("touchstart",u,hh)}},[]);var h=e.removeScrollBar,m=e.inert;return x.createElement(x.Fragment,null,m?x.createElement(i,{styles:Uhe(o)}):null,h?x.createElement(Bhe,{gapMode:e.gapMode}):null)});var Vz=x.forwardRef(function(e,t){return x.createElement(sb,Wa({},e,{ref:t,sideCar:Vhe}))});function Ao(e){return Object.keys(e)}function N4(e){return e&&typeof e=="object"&&!Array.isArray(e)}function I4(e,t){const n=I({},e),r=t;return N4(e)&&N4(t)&&Object.keys(t).forEach(o=>{N4(r[o])&&o in e?n[o]=I4(n[o],r[o]):n[o]=r[o]}),n}function ub(e){const t=function(n){var r;return typeof n=="string"&&n.includes("var(--mantine-scale)")?(r=n.match(/^calc\((.*?)\)$/))==null?void 0:r[1].split("*")[0].trim():n}(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?16*Number(t.replace("rem","")):t.includes("em")?16*Number(t.replace("em","")):Number(t):NaN}function R4(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function qz(e,{shouldScale:t=!1}={}){return function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?R4(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");if(r.includes(e))return t?R4(r):r;const o=r.replace("px","");if(!Number.isNaN(Number(o))){const i=`${Number(o)/16}${e}`;return t?R4(i):i}}return r}}Vz.classNames=sb.classNames;const Le=qz("rem",{shouldScale:!0}),Wz=qz("em");function mh(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Kz(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function fh(e){return!Array.isArray(e)&&e!==null&&typeof e=="object"&&e.type!==x.Fragment}function Ti(e){const t=x.createContext(null);return[({children:n,value:r})=>W.jsx(t.Provider,{value:r,children:n}),()=>{const n=x.useContext(t);if(n===null)throw new Error(e);return n}]}function M4(e=null){const t=x.createContext(e);return[({children:n,value:r})=>W.jsx(t.Provider,{value:r,children:n}),()=>x.useContext(t)]}function Gz(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function db(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Yz({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:o=!1,dir:i="rtl",orientation:a}){return s=>{var l;n==null||n(s);const c=Array.from(((l=db(s.currentTarget,e))==null?void 0:l.querySelectorAll(t))||[]).filter(h=>function(m,g,f){return db(m,f)===db(g,f)}(s.currentTarget,h,e)),u=c.findIndex(h=>s.currentTarget===h),d=function(h,m,g){for(let f=h+1;f<m.length;f+=1)if(!m[f].disabled)return f;if(g){for(let f=0;f<m.length;f+=1)if(!m[f].disabled)return f}return h}(u,c,r),p=function(h,m,g){for(let f=h-1;f>=0;f-=1)if(!m[f].disabled)return f;if(g){for(let f=m.length-1;f>-1;f-=1)if(!m[f].disabled)return f}return h}(u,c,r);switch(s.key){case"ArrowRight":case"ArrowLeft":break;case"ArrowUp":s.stopPropagation(),s.preventDefault(),c[p].focus(),o&&c[p].click();break;case"ArrowDown":s.stopPropagation(),s.preventDefault(),c[d].focus(),o&&c[d].click();break;case"Home":s.stopPropagation(),s.preventDefault(),!c[0].disabled&&c[0].focus();break;case"End":{s.stopPropagation(),s.preventDefault();const h=c.length-1;!c[h].disabled&&c[h].focus();break}}}}const qhe={app:100,modal:200,popover:300,overlay:400,max:9999};function ia(e){return qhe[e]}const Whe=()=>{};function Khe(e,t={active:!0}){return typeof e=="function"&&t.active?n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}:t.onKeyDown||Whe}function wn(e,t="size",n=!0){if(e!==void 0)return Kz(e)?n?Le(e):e:`var(--${t}-${e})`}function ao(e){return wn(e,"mantine-spacing")}function Wr(e){return e===void 0?"var(--mantine-radius-default)":wn(e,"mantine-radius")}function Dr(e){return wn(e,"mantine-font-size")}function Ghe(e){return wn(e,"mantine-line-height",!1)}function D4(e){if(e)return wn(e,"mantine-shadow",!1)}function Po(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Yhe(e,t){return ub(e in t?t[e]:e)}function hb(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function L4(e){var t;const n=Bt.version;return typeof Bt.version!="string"||n.startsWith("18.")?e==null?void 0:e.ref:(t=e==null?void 0:e.props)==null?void 0:t.ref}function Qz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Qz(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function so(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Qz(e))&&(r&&(r+=" "),r+=t);return r}const Qhe={};function pb({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(i=>typeof i=="function"?i(e,n,r):i||Qhe);return function(i){const a={};return i.forEach(s=>{Object.entries(s).forEach(([l,c])=>{a[l]?a[l]=so(a[l],c):a[l]=c})}),a}(o)}function mb({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,i)=>I(I({},o),typeof i=="function"?i(e,n,r):i),{})}const Jz=x.createContext(null);function tc(){const e=x.useContext(Jz);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function j4(){return tc().getStyleNonce}function Xz(){return tc().env||"default"}function z4(e){return function(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}(e)?function(t){let n=t.replace("#","");if(n.length===3){const o=n.split("");n=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(n.length===8){const o=parseInt(n.slice(6,8),16)/255;return{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:o}}const r=parseInt(n,16);return{r:r>>16&255,g:r>>8&255,b:255&r,a:1}}(e):e.startsWith("rgb")?function(t){const[n,r,o,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:n,g:r,b:o,a:i===void 0?1:i}}(e):e.startsWith("hsl")?function(t){const n=t.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,a=n[5]?parseFloat(n[5]):void 0,s=(1-Math.abs(2*i-1))*o,l=r/60,c=s*(1-Math.abs(l%2-1)),u=i-s/2;let d,p,h;return l>=0&&l<1?(d=s,p=c,h=0):l>=1&&l<2?(d=c,p=s,h=0):l>=2&&l<3?(d=0,p=s,h=c):l>=3&&l<4?(d=0,p=c,h=s):l>=4&&l<5?(d=c,p=0,h=s):(d=s,p=0,h=c),{r:Math.round(255*(d+u)),g:Math.round(255*(p+u)),b:Math.round(255*(h+u)),a:a||1}}(e):{r:0,g:0,b:0,a:1}}function fb(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${100*t}%)`;const{r:n,g:r,b:o,a:i}=z4(e),a=1-t,s=l=>Math.round(l*a);return`rgba(${s(n)}, ${s(r)}, ${s(o)}, ${i})`}function M1(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function F4(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function Jhe(e){if(e.startsWith("oklch("))return(function(a){const s=a.match(/oklch\((.*?)%\s/);return s?parseFloat(s[1]):null}(e)||0)/100;const{r:t,g:n,b:r}=z4(e),o=n/255,i=r/255;return .2126*F4(t/255)+.7152*F4(o)+.0722*F4(i)}function D1(e,t=.179){return!e.startsWith("var(")&&Jhe(e)>t}function gh({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error("[@mantine/core] Failed to parse color. Expected color to be a string, instead got "+typeof e);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:D1(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:D1(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:D1(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),i=o?Number(o):void 0,a=r in t.colors;if(a){const s=i!==void 0?t.colors[r][i]:t.colors[r][M1(t,n||"light")];return{color:r,value:s,shade:i,isThemeColor:a,isLight:D1(s,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:a,isLight:D1(e,t.luminanceThreshold),shade:i,variable:void 0}}function ci(e,t){const n=gh({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function B4(e,t){var n,r;const o={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(r=(n=e==null?void 0:e.deg)!=null?n:t.defaultGradient.deg)!=null?r:0},i=ci(o.from,t),a=ci(o.to,t);return`linear-gradient(${o.deg}deg, ${i} 0%, ${a} 100%)`}function Ka(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var("))return`color-mix(in srgb, ${e}, transparent ${100*(1-t)}%)`;if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=z4(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const vh=Ka,Zz="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",U4={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:{dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const i=gh({color:e,theme:t}),a=typeof o=="boolean"?o:t.autoContrast;if(n==="filled"){const s=a&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:s,border:`${Le(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:s,border:`${Le(1)} solid transparent`}:{background:e,hover:fb(e,.1),color:s,border:`${Le(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Le(1)} solid transparent`};const s=t.colors[i.color][i.shade];return{background:Ka(s,.1),hover:Ka(s,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Le(1)} solid transparent`}}return{background:Ka(e,.1),hover:Ka(e,.12),color:e,border:`${Le(1)} solid transparent`}}return n==="outline"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Le(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Ka(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${Le(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:Ka(e,.05),color:e,border:`${Le(1)} solid ${e}`}:n==="subtle"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Le(1)} solid transparent`}:{background:"transparent",hover:Ka(t.colors[i.color][i.shade],.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Le(1)} solid transparent`}:{background:"transparent",hover:Ka(e,.12),color:e,border:`${Le(1)} solid transparent`}:n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Le(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Le(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Le(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:fb(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Le(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:fb(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${Le(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:fb(t.white,.01),color:e,border:`${Le(1)} solid transparent`}:n==="gradient"?{background:B4(r,t),hover:B4(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Le(1)} solid var(--mantine-color-default-border)`}:{}},autoContrast:!1,luminanceThreshold:.3,fontFamily:Zz,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Zz,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Le(34),lineHeight:"1.3"},h2:{fontSize:Le(26),lineHeight:"1.35"},h3:{fontSize:Le(22),lineHeight:"1.4"},h4:{fontSize:Le(18),lineHeight:"1.45"},h5:{fontSize:Le(16),lineHeight:"1.5"},h6:{fontSize:Le(14),lineHeight:"1.5"}}},fontSizes:{xs:Le(12),sm:Le(14),md:Le(16),lg:Le(18),xl:Le(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Le(2),sm:Le(4),md:Le(8),lg:Le(16),xl:Le(32)},spacing:{xs:Le(10),sm:Le(12),md:Le(16),lg:Le(20),xl:Le(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), 0 ${Le(1)} ${Le(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(10)} ${Le(15)} ${Le(-5)}, rgba(0, 0, 0, 0.04) 0 ${Le(7)} ${Le(7)} ${Le(-5)}`,md:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(20)} ${Le(25)} ${Le(-5)}, rgba(0, 0, 0, 0.04) 0 ${Le(10)} ${Le(10)} ${Le(-5)}`,lg:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(28)} ${Le(23)} ${Le(-7)}, rgba(0, 0, 0, 0.04) 0 ${Le(12)} ${Le(12)} ${Le(-7)}`,xl:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(36)} ${Le(28)} ${Le(-7)}, rgba(0, 0, 0, 0.04) 0 ${Le(17)} ${Le(17)} ${Le(-7)}`},other:{},components:{}};function eF(e){return e==="auto"||e==="dark"||e==="light"}function Xhe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return eF(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch{}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&eF(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const tF="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function H4(e){return!(e<0||e>9)&&parseInt(e.toString(),10)===e}function nF(e){if(!(e.primaryColor in e.colors))throw new Error("[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color");if(!(typeof e.primaryShade!="object"||H4(e.primaryShade.dark)&&H4(e.primaryShade.light)))throw new Error(tF);if(typeof e.primaryShade=="number"&&!H4(e.primaryShade))throw new Error(tF)}const $4=x.createContext(null);function No(){const e=x.useContext($4);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function rF({theme:e,children:t,inherit:n=!0}){const r=x.useContext($4)||U4,o=x.useMemo(()=>function(i,a){var s;if(!a)return nF(i),i;const l=I4(i,a);return a.fontFamily&&!((s=a.headings)!=null&&s.fontFamily)&&(l.headings.fontFamily=a.fontFamily),nF(l),l}(n?r:U4,e),[e,r,n]);return W.jsx($4.Provider,{value:o,children:t})}function Zhe(){const e=No(),t=j4(),n=Ao(e.breakpoints).reduce((r,o)=>{const i=e.breakpoints[o].includes("px"),a=ub(e.breakpoints[o]);return`${r}@media (max-width: ${i?a-.1+"px":Wz(a-.1)}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${i?`${a}px`:Wz(a)}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return W.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function V4(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function q4(e,t){return(Array.isArray(e)?e:[e]).reduce((n,r)=>`${r}{${n}}`,t)}function oF(e,t){return function({color:n,theme:r,autoContrast:o}){return r.autoContrast&&gh({color:n||r.primaryColor,theme:r}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}({color:e.colors[e.primaryColor][M1(e,t)],theme:e,autoContrast:null})}function gb({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(n==="light"){const s=M1(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:vh(e.colors[t][s],.1),[`--mantine-color-${r}-light-hover`]:vh(e.colors[t][s],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline-hover`]:vh(e.colors[t][s],.05)};return o?I({[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9]},l):l}const i=M1(e,"dark"),a={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:vh(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:vh(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:vh(e.colors[t][Math.max(i-4,0)],.05)};return o?I({[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9]},a):a}function bh(e,t,n){Ao(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}rF.displayName="@mantine/core/MantineThemeProvider";const iF=e=>{const t=M1(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Le(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":oF(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":oF(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};bh(r.variables,e.breakpoints,"breakpoint"),bh(r.variables,e.spacing,"spacing"),bh(r.variables,e.fontSizes,"font-size"),bh(r.variables,e.lineHeights,"line-height"),bh(r.variables,e.shadows,"shadow"),bh(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,a)=>{r.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${e.primaryColor}-${a})`}),Ao(e.colors).forEach(i=>{const a=e.colors[i];if(function(s){return!!s&&typeof s=="object"&&"mantine-virtual-color"in s}(a))return Object.assign(r.light,gb({theme:e,name:a.name,color:a.light,colorScheme:"light",withColorValues:!0})),void Object.assign(r.dark,gb({theme:e,name:a.name,color:a.dark,colorScheme:"dark",withColorValues:!0}));a.forEach((s,l)=>{r.variables[`--mantine-color-${i}-${l}`]=s}),Object.assign(r.light,gb({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,gb({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return Ao(o).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=o[i].fontSize,r.variables[`--mantine-${i}-line-height`]=o[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=o[i].fontWeight||e.headings.fontWeight}),r},W4=iF(U4);function epe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function aF({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=No(),r=j4(),o=function({theme:l,generator:c}){const u=iF(l),d=c==null?void 0:c(l);return d?I4(u,d):u}({theme:n,generator:tc().cssVariablesResolver}),i=e===":root"&&t,a=i?function(l){const c={variables:{},light:{},dark:{}};return Ao(l.variables).forEach(u=>{W4.variables[u]!==l.variables[u]&&(c.variables[u]=l.variables[u])}),Ao(l.light).forEach(u=>{W4.light[u]!==l.light[u]&&(c.light[u]=l.light[u])}),Ao(l.dark).forEach(u=>{W4.dark[u]!==l.dark[u]&&(c.dark[u]=l.dark[u])}),c}(o):o,s=function(l,c){const u=V4(l.variables),d=u?q4(c,u):"",p=V4(l.dark),h=V4(l.light);return`${d}${p?q4(c===":host"?`${c}([data-mantine-color-scheme="dark"])`:`${c}[data-mantine-color-scheme="dark"]`,p):""}${h?q4(c===":host"?`${c}([data-mantine-color-scheme="light"])`:`${c}[data-mantine-color-scheme="light"]`,h):""}`}(a,e);return s?W.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${s}${i?"":epe(e)}`}}):null}function yh(e,t){var n,r;const o=typeof window<"u"&&"matchMedia"in window&&((n=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:n.matches),i=e!=="auto"?e:o?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",i)}function sF({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:i=!0,withCssVariables:a=!0,cssVariablesSelector:s=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=Xhe(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:h,stylesTransform:m,env:g}){const{colorScheme:f,setColorScheme:v,clearColorScheme:y}=function({manager:b,defaultColorScheme:w,getRootElement:k,forceColorScheme:_}){const E=x.useRef(null),[S,O]=x.useState(()=>b.get(w)),T=_||S,M=x.useCallback(H=>{_||(yh(H,k),O(H),b.set(H))},[b.set,T,_]),D=x.useCallback(()=>{O(w),yh(w,k),b.clear()},[b.clear,w]);return x.useEffect(()=>(b.subscribe(M),b.unsubscribe),[b.subscribe,b.unsubscribe]),ah(()=>{yh(b.get(w),k)},[]),x.useEffect(()=>{var H;if(_)return yh(_,k),()=>{};_===void 0&&yh(S,k),typeof window<"u"&&"matchMedia"in window&&(E.current=window.matchMedia("(prefers-color-scheme: dark)"));const $=R=>{S==="auto"&&yh(R.matches?"dark":"light",k)};return(H=E.current)==null||H.addEventListener("change",$),()=>{var R;return(R=E.current)==null?void 0:R.removeEventListener("change",$)}},[S,_]),{colorScheme:T,setColorScheme:M,clearColorScheme:D}}({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:d});return function({respectReducedMotion:b,getRootElement:w}){ah(()=>{var k;b&&((k=w())==null||k.setAttribute("data-respect-reduced-motion","true"))},[b])}({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),W.jsx(Jz.Provider,{value:{colorScheme:f,setColorScheme:v,clearColorScheme:y,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:s,withStaticClasses:r,stylesTransform:m,env:g},children:W.jsxs(rF,{theme:e,children:[a&&W.jsx(aF,{cssVariablesSelector:s,deduplicateCssVariables:i}),o&&W.jsx(Zhe,{}),t]})})}function L1({classNames:e,styles:t,props:n,stylesCtx:r}){const o=No();return{resolvedClassNames:pb({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:mb({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}aF.displayName="@mantine/CssVariables",function(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}(),sF.displayName="@mantine/core/MantineProvider";const tpe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function lF({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return pb({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function npe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:i,classes:a,unstyled:s,className:l,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:p,headless:h,transformedStyles:m}){return so(function({theme:g,options:f,unstyled:v}){return so((f==null?void 0:f.focusable)&&!v&&(g.focusClassName||tpe[g.focusRing]),(f==null?void 0:f.active)&&!v&&g.activeClassName)}({theme:e,options:t,unstyled:s||h}),function({themeName:g,theme:f,selector:v,props:y,stylesCtx:b}){return g.map(w=>{var k,_;return(_=pb({theme:f,classNames:(k=f.components[w])==null?void 0:k.classNames,props:y,stylesCtx:b}))==null?void 0:_[v]})}({theme:e,themeName:n,selector:r,props:u,stylesCtx:d}),function({options:g,classes:f,selector:v,unstyled:y}){return g!=null&&g.variant&&!y?f[`${v}--${g.variant}`]:void 0}({options:t,classes:a,selector:r,unstyled:s}),lF({selector:r,stylesCtx:d,theme:e,classNames:i,props:u}),lF({selector:r,stylesCtx:d,theme:e,classNames:m,props:u}),function({selector:g,stylesCtx:f,options:v,props:y,theme:b}){return pb({theme:b,classNames:v==null?void 0:v.classNames,props:(v==null?void 0:v.props)||y,stylesCtx:f})[g]}({selector:r,stylesCtx:d,options:t,props:u,theme:e}),function({rootSelector:g,selector:f,className:v}){return g===f?v:void 0}({rootSelector:c,selector:r,className:l}),function({selector:g,classes:f,unstyled:v}){return v?void 0:f[g]}({selector:r,classes:a,unstyled:s||h}),p&&!h&&function({themeName:g,classNamesPrefix:f,selector:v,withStaticClass:y}){return y===!1?[]:g.map(b=>`${f}-${b}-${v}`)}({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function K4({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>I(I({},n),K4({style:r,theme:t})),{}):typeof e=="function"?e(t):e??{}}function rpe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:i,themeName:a,headless:s}){var l;return(l=function(c){return c.reduce((u,d)=>(d&&Object.keys(d).forEach(p=>{u[p]=I(I({},u[p]),mh(d[p]))}),u),{})}([s?{}:t==null?void 0:t(n,r,o),...a.map(c=>{var u,d,p;return(p=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:p.call(d,n,r,o)}),e==null?void 0:e(n,r,o)]))==null?void 0:l[i]}function ope({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:i,rootSelector:a,styles:s,style:l,vars:c,varsResolver:u,headless:d,withStylesTransform:p}){return I(I(I(I(I(I({},!p&&function({theme:h,themeName:m,props:g,stylesCtx:f,selector:v}){return m.map(y=>{var b;return mb({theme:h,styles:(b=h.components[y])==null?void 0:b.styles,props:g,stylesCtx:f})[v]}).reduce((y,b)=>I(I({},y),b),{})}({theme:e,themeName:t,props:o,stylesCtx:i,selector:n})),!p&&mb({theme:e,styles:s,props:o,stylesCtx:i})[n]),!p&&mb({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:i})[n]),rpe({theme:e,props:o,stylesCtx:i,vars:c,varsResolver:u,selector:n,themeName:t,headless:d})),a===n?K4({style:l,theme:e}):null),K4({style:r==null?void 0:r.style,theme:e}))}function ipe({props:e,stylesCtx:t,themeName:n}){var r;const o=No(),i=(r=function(){var a;return(a=tc().stylesTransform)==null?void 0:a.styles}())==null?void 0:r();return{getTransformedStyles:a=>i?[...a.map(s=>i(s,{props:e,theme:o,ctx:t})),...n.map(s=>{var l;return i((l=o.components[s])==null?void 0:l.styles,{props:e,theme:o,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function _t({name:e,classes:t,props:n,stylesCtx:r,className:o,style:i,rootSelector:a="root",unstyled:s,classNames:l,styles:c,vars:u,varsResolver:d}){const p=No(),h=tc().classNamesPrefix,m=tc().withStaticClasses,g=tc().headless,f=(Array.isArray(e)?e:[e]).filter(b=>b),{withStylesTransform:v,getTransformedStyles:y}=ipe({props:n,stylesCtx:r,themeName:f});return(b,w)=>({className:npe({theme:p,options:w,themeName:f,selector:b,classNamesPrefix:h,classNames:l,classes:t,unstyled:s,className:o,rootSelector:a,props:n,stylesCtx:r,withStaticClasses:m,headless:g,transformedStyles:y([w==null?void 0:w.styles,c])}),style:ope({theme:p,themeName:f,selector:b,options:w,props:n,stylesCtx:r,rootSelector:a,styles:c,style:i,vars:u,varsResolver:d,headless:g,withStylesTransform:v})})}function $e(e,t,n){var r;const o=No(),i=(r=o.components[e])==null?void 0:r.defaultProps,a=typeof i=="function"?i(o):i;return I(I(I({},t),a),mh(n))}function G4(e){return Ao(e).reduce((t,n)=>e[n]!==void 0?`${t}${function(r){return r.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}(n)}:${e[n]};`:t,"").trim()}function ape({selector:e,styles:t,media:n,container:r}){const o=t?G4(t):"",i=Array.isArray(n)?n.map(s=>`@media${s.query}{${e}{${G4(s.styles)}}}`):[],a=Array.isArray(r)?r.map(s=>`@container ${s.query}{${e}{${G4(s.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${i.join("")}${a.join("")}`.trim()}function vb(e){const t=j4();return W.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:ape(e)}})}function Y4(e){const t=e,{m:n,mx:r,my:o,mt:i,mb:a,ml:s,mr:l,me:c,ms:u,p:d,px:p,py:h,pt:m,pb:g,pl:f,pr:v,pe:y,ps:b,bd:w,bg:k,c:_,opacity:E,ff:S,fz:O,fw:T,lts:M,ta:D,lh:H,fs:$,tt:R,td:U,w:B,miw:L,maw:C,h:V,mih:N,mah:q,bgsz:J,bgp:Q,bgr:te,bga:X,pos:ee,top:ue,left:de,bottom:ge,right:he,inset:Ce,display:be,flex:me,hiddenFrom:pe,visibleFrom:Ie,lightHidden:xe,darkHidden:Ee,sx:Re}=t,Be=ye(t,["m","mx","my","mt","mb","ml","mr","me","ms","p","px","py","pt","pb","pl","pr","pe","ps","bd","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display","flex","hiddenFrom","visibleFrom","lightHidden","darkHidden","sx"]);return{styleProps:mh({m:n,mx:r,my:o,mt:i,mb:a,ml:s,mr:l,me:c,ms:u,p:d,px:p,py:h,pt:m,pb:g,pl:f,pr:v,pe:y,ps:b,bd:w,bg:k,c:_,opacity:E,ff:S,fz:O,fw:T,lts:M,ta:D,lh:H,fs:$,tt:R,td:U,w:B,miw:L,maw:C,h:V,mih:N,mah:q,bgsz:J,bgp:Q,bgr:te,bga:X,pos:ee,top:ue,left:de,bottom:ge,right:he,inset:Ce,display:be,flex:me,hiddenFrom:pe,visibleFrom:Ie,lightHidden:xe,darkHidden:Ee,sx:Re}),rest:Be}}const spe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Q4(e,t){const n=gh({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}const cF={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"},lpe=["h1","h2","h3","h4","h5","h6"],cpe=["h1","h2","h3","h4","h5","h6"],J4={color:Q4,textColor:function(e,t){const n=gh({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:Q4(e,t)},fontSize:function(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&lpe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Le(e):e},spacing:function(e,t){if(typeof e=="number")return Le(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Le(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e},identity:function(e){return e},size:function(e){return typeof e=="number"?Le(e):e},lineHeight:function(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&cpe.includes(e)?`var(--mantine-${e}-line-height)`:e},fontFamily:function(e){return typeof e=="string"&&e in cF?cF[e]:e},border:function(e,t){if(typeof e=="number")return Le(e);if(typeof e=="string"){const[n,r,...o]=e.split(" ").filter(a=>a.trim()!=="");let i=`${Le(n)}`;return r&&(i+=` ${r}`),o.length>0&&(i+=` ${Q4(o.join(" "),t)}`),i.trim()}return e}};function uF(e){return e.replace("(min-width: ","").replace("em)","")}function upe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function dF({styleProps:e,data:t,theme:n}){return function(r){var o=r,{media:i}=o,a=ye(o,["media"]);const s=Object.keys(i).sort((l,c)=>Number(uF(l))-Number(uF(c))).map(l=>({query:l,styles:i[l]}));return K(I({},a),{media:s})}(Ao(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const i=t[o],a=Array.isArray(i.property)?i.property:[i.property],s=function(c){return typeof c=="object"&&c!==null?"base"in c?c.base:void 0:c}(e[o]);if(!function(c){if(typeof c!="object"||c===null)return!1;const u=Object.keys(c);return!(u.length===1&&u[0]==="base")}(e[o]))return a.forEach(c=>{r.inlineStyles[c]=J4[i.type](s,n)}),r;r.hasResponsiveStyles=!0;const l=function(c){return typeof c=="object"&&c!==null?Ao(c).filter(u=>u!=="base"):[]}(e[o]);return a.forEach(c=>{s&&(r.styles[c]=J4[i.type](s,n)),l.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;r.media[d]=K(I({},r.media[d]),{[c]:J4[i.type](upe(e[o],u),n)})})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function X4(){return`__m__-${x.useId().replace(/:/g,"")}`}function Z4(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>I(I({},n),Z4(r,t)),{}):typeof e=="function"?e(t):e??{}}function hF(e){return e.startsWith("data-")?e:`data-${e}`}function pF(e){return e?typeof e=="string"?{[hF(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>I(I({},t),pF(n)),{}):function(t){return Object.keys(t).reduce((n,r)=>{const o=t[r];return o===void 0||o===""||o===!1||o===null||(n[hF(r)]=t[r]),n},{})}(e):null}function e8(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>I(I({},n),e8(r,t)),{}):typeof e=="function"?e(t):e??{}}function dpe({theme:e,style:t,vars:n,styleProps:r}){const o=e8(t,e),i=e8(n,e);return I(I(I({},o),i),r)}const mF=x.forwardRef((e,t)=>{var n,r=e,{component:o,style:i,__vars:a,className:s,variant:l,mod:c,size:u,hiddenFrom:d,visibleFrom:p,lightHidden:h,darkHidden:m,renderRoot:g,__size:f}=r,v=ye(r,["component","style","__vars","className","variant","mod","size","hiddenFrom","visibleFrom","lightHidden","darkHidden","renderRoot","__size"]);const y=No(),b=o||"div",{styleProps:w,rest:k}=Y4(v),_=function(){var M;return(M=tc().stylesTransform)==null?void 0:M.sx}(),E=(n=_==null?void 0:_())==null?void 0:n(w.sx),S=X4(),O=dF({styleProps:w,theme:y,data:spe}),T=I(I({ref:t,style:dpe({theme:y,style:i,vars:a,styleProps:O.inlineStyles}),className:so(s,E,{[S]:O.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":m,[`mantine-hidden-from-${d}`]:d,[`mantine-visible-from-${p}`]:p}),"data-variant":l,"data-size":Kz(u)?void 0:u||void 0,size:f},pF(c)),k);return W.jsxs(W.Fragment,{children:[O.hasResponsiveStyles&&W.jsx(vb,{selector:`.${S}`,styles:O.styles,media:O.media}),typeof g=="function"?g(T):W.jsx(b,I({},T))]})});mF.displayName="@mantine/core/Box";const tt=mF;function fF(e){return e}function gF(e){const t=e;return n=>{const r=x.forwardRef((o,i)=>W.jsx(t,K(I(I({},n),o),{ref:i})));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function ft(e){const t=x.forwardRef(e);return t.extend=fF,t.withProps=n=>{const r=x.forwardRef((o,i)=>W.jsx(t,K(I(I({},n),o),{ref:i})));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function lo(e){const t=x.forwardRef(e);return t.withProps=n=>{const r=x.forwardRef((o,i)=>W.jsx(t,K(I(I({},n),o),{ref:i})));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=fF,t}const hpe=x.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function wh(){return x.useContext(hpe)}function t8(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const bb=typeof window<"u"&&window.requestAnimationFrame;function ppe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const o=x.useRef(null),i={height:0,overflow:"hidden"},[a,s]=x.useState(r?{}:i),l=p=>{Os.flushSync(()=>s(p))},c=p=>{l(h=>I(I({},h),p))};function u(p){const h=e||function(m){if(!m||typeof m=="string")return 0;const g=m/36;return Math.round(10*(4+15*g**.25+g/5))}(p);return{transition:`height ${h}ms ${t}, opacity ${h}ms ${t}`}}Ha(()=>{typeof bb=="function"&&bb(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),bb(()=>{const p=t8(o);c(K(I({},u(p)),{height:p}))})}:()=>{const p=t8(o);c(K(I({},u(p)),{willChange:"height",height:p})),bb(()=>c({height:0,overflow:"hidden"}))})},[r]);const d=p=>{if(p.target===o.current&&p.propertyName==="height")if(r){const h=t8(o);h===a.height?l({}):c({height:h}),n()}else a.height===0&&(l(i),n())};return function(p={}){var h=p,{style:m={},refKey:g="ref"}=h,f=ye(h,["style","refKey"]);const v=f[g],y=K(I({"aria-hidden":!r},f),{[g]:AL(o,v),onTransitionEnd:d,style:I(I({boxSizing:"border-box"},m),a)});return Bt.version.startsWith("18")?r||(y.inert=""):y.inert=!r,y}}const mpe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},vF=ft((e,t)=>{const n=$e("Collapse",mpe,e),{children:r,in:o,transitionDuration:i,transitionTimingFunction:a,style:s,onTransitionEnd:l,animateOpacity:c}=n,u=ye(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),d=No(),p=Q9(),h=d.respectReducedMotion&&p?0:i,m=ppe({opened:o,transitionDuration:h,transitionTimingFunction:a,onTransitionEnd:l});return h===0?o?W.jsx(tt,K(I({},u),{children:r})):null:W.jsx(tt,K(I({},m(I({style:I({opacity:o||!c?1:0,transition:c?`opacity ${h}ms ${a}`:"none"},Z4(s,d)),ref:t},u))),{children:r}))});function yb(){return typeof window<"u"}function kh(e){return bF(e)?(e.nodeName||"").toLowerCase():"#document"}function Io(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ga(e){var t;return(t=(bF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bF(e){return!!yb()&&(e instanceof Node||e instanceof Io(e).Node)}function On(e){return!!yb()&&(e instanceof Element||e instanceof Io(e).Element)}function ui(e){return!!yb()&&(e instanceof HTMLElement||e instanceof Io(e).HTMLElement)}function n8(e){return!(!yb()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof Io(e).ShadowRoot)}function j1(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ei(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function fpe(e){return["table","td","th"].includes(kh(e))}function wb(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function r8(e){const t=kb(),n=On(e)?Ei(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>!!n[r]&&n[r]!=="none")||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kb(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function nc(e){return["html","body","#document"].includes(kh(e))}function Ei(e){return Io(e).getComputedStyle(e)}function _b(e){return On(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(kh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||n8(e)&&e.host||Ga(e);return n8(t)?t.host:t}function yF(e){const t=Ws(e);return nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ui(t)&&j1(t)?t:yF(t)}function Ks(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=yF(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=Io(o);if(i){const s=o8(a);return t.concat(a,a.visualViewport||[],j1(o)?o:[],s&&n?Ks(s):[])}return t.concat(o,Ks(o,[],n))}function o8(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wF(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function z1(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&n8(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function kF(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function _F(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function gpe(e){return!_F().includes("jsdom/")&&(!xF()&&e.width===0&&e.height===0||xF()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch")}function xF(){const e=/android/i;return e.test(kF())||e.test(_F())}function i8(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function vu(e){return(e==null?void 0:e.ownerDocument)||document}function a8(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function _h(e){return"composedPath"in e?e.composedPath()[0]:e.target}vF.displayName="@mantine/core/Collapse";const aa=Math.min,Kr=Math.max,xb=Math.round,Cb=Math.floor,Ya=e=>({x:e,y:e}),vpe={left:"right",right:"left",bottom:"top",top:"bottom"},bpe={start:"end",end:"start"};function s8(e,t,n){return Kr(e,aa(t,n))}function Gs(e,t){return typeof e=="function"?e(t):e}function sa(e){return e.split("-")[0]}function xh(e){return e.split("-")[1]}function l8(e){return e==="x"?"y":"x"}function c8(e){return e==="y"?"height":"width"}function Qa(e){return["top","bottom"].includes(sa(e))?"y":"x"}function u8(e){return l8(Qa(e))}function d8(e){return e.replace(/start|end/g,t=>bpe[t])}function Sb(e){return e.replace(/left|right|bottom|top/g,t=>vpe[t])}function h8(e){return typeof e!="number"?function(t){return I({top:0,right:0,bottom:0,left:0},t)}(e):{top:e,right:e,bottom:e,left:e}}function Ch(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function CF(e,t,n){let{reference:r,floating:o}=e;const i=Qa(t),a=u8(t),s=c8(a),l=sa(t),c=i==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-o.width,y:d};break;default:h={x:r.x,y:r.y}}switch(xh(t)){case"start":h[a]-=p*(n&&c?-1:1);break;case"end":h[a]+=p*(n&&c?-1:1)}return h}async function p8(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=Gs(t,e),m=h8(h),g=s[p?d==="floating"?"reference":"floating":d],f=Ch(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),b=await(i.isElement==null?void 0:i.isElement(y))&&await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1},w=Ch(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(f.top-w.top+m.top)/b.y,bottom:(w.bottom-f.bottom+m.bottom)/b.y,left:(f.left-w.left+m.left)/b.x,right:(w.right-f.right+m.right)/b.x}}function SF(e){const t=aa(...e.map(r=>r.left)),n=aa(...e.map(r=>r.top));return{x:t,y:n,width:Kr(...e.map(r=>r.right))-t,height:Kr(...e.map(r=>r.bottom))-n}}function TF(e){const t=Ei(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ui(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=xb(n)!==i||xb(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function m8(e){return On(e)?e:e.contextElement}function Sh(e){const t=m8(e);if(!ui(t))return Ya(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=TF(t);let a=(i?xb(n.width):n.width)/r,s=(i?xb(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const ype=Ya(0);function EF(e){const t=Io(e);return kb()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ype}function bu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=m8(e);let a=Ya(1);t&&(r?On(r)&&(a=Sh(r)):a=Sh(e));const s=function(p,h,m){return h===void 0&&(h=!1),!(!m||h&&m!==Io(p))&&h}(i,n,r)?EF(i):Ya(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i){const p=Io(i),h=r&&On(r)?Io(r):r;let m=p,g=o8(m);for(;g&&r&&h!==m;){const f=Sh(g),v=g.getBoundingClientRect(),y=Ei(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*f.x,w=v.top+(g.clientTop+parseFloat(y.paddingTop))*f.y;l*=f.x,c*=f.y,u*=f.x,d*=f.y,l+=b,c+=w,m=Io(g),g=o8(m)}}return Ch({width:u,height:d,x:l,y:c})}function f8(e,t){const n=_b(e).scrollLeft;return t?t.left+n:bu(Ga(e)).left+n}function OF(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:f8(e,r)),y:r.top+t.scrollTop}}function AF(e,t,n){let r;if(t==="viewport")r=function(o,i){const a=Io(o),s=Ga(o),l=a.visualViewport;let c=s.clientWidth,u=s.clientHeight,d=0,p=0;if(l){c=l.width,u=l.height;const h=kb();(!h||h&&i==="fixed")&&(d=l.offsetLeft,p=l.offsetTop)}return{width:c,height:u,x:d,y:p}}(e,n);else if(t==="document")r=function(o){const i=Ga(o),a=_b(o),s=o.ownerDocument.body,l=Kr(i.scrollWidth,i.clientWidth,s.scrollWidth,s.clientWidth),c=Kr(i.scrollHeight,i.clientHeight,s.scrollHeight,s.clientHeight);let u=-a.scrollLeft+f8(o);const d=-a.scrollTop;return Ei(s).direction==="rtl"&&(u+=Kr(i.clientWidth,s.clientWidth)-l),{width:l,height:c,x:u,y:d}}(Ga(e));else if(On(t))r=function(o,i){const a=bu(o,!0,i==="fixed"),s=a.top+o.clientTop,l=a.left+o.clientLeft,c=ui(o)?Sh(o):Ya(1);return{width:o.clientWidth*c.x,height:o.clientHeight*c.y,x:l*c.x,y:s*c.y}}(t,n);else{const o=EF(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ch(r)}function PF(e,t){const n=Ws(e);return!(n===t||!On(n)||nc(n))&&(Ei(n).position==="fixed"||PF(n,t))}function wpe(e,t){const n=t.get(e);if(n)return n;let r=Ks(e,[],!1).filter(s=>On(s)&&kh(s)!=="body"),o=null;const i=Ei(e).position==="fixed";let a=i?Ws(e):e;for(;On(a)&&!nc(a);){const s=Ei(a),l=r8(a);!l&&s.position==="fixed"&&(o=null),(i?!l&&!o:!l&&s.position==="static"&&o&&["absolute","fixed"].includes(o.position)||j1(a)&&!l&&PF(e,a))?r=r.filter(c=>c!==a):o=s,a=Ws(a)}return t.set(e,r),r}function kpe(e,t,n){const r=ui(t),o=Ga(t),i=n==="fixed",a=bu(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Ya(0);function c(){l.x=f8(o)}if(r||!r&&!i)if((kh(t)!=="body"||j1(o))&&(s=_b(t)),r){const d=bu(t,!0,i,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=!o||r||i?Ya(0):OF(o,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function g8(e){return Ei(e).position==="static"}function NF(e,t){if(!ui(e)||Ei(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ga(e)===n&&(n=n.ownerDocument.body),n}function IF(e,t){const n=Io(e);if(wb(e))return n;if(!ui(e)){let o=Ws(e);for(;o&&!nc(o);){if(On(o)&&!g8(o))return o;o=Ws(o)}return n}let r=NF(e,t);for(;r&&fpe(r)&&g8(r);)r=NF(r,t);return r&&nc(r)&&g8(r)&&!r8(r)?n:r||function(o){let i=Ws(o);for(;ui(i)&&!nc(i);){if(r8(i))return i;if(wb(i))return null;i=Ws(i)}return null}(e)||n}const _pe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=Ga(r),s=!!t&&wb(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ya(1);const u=Ya(0),d=ui(r);if((d||!d&&!i)&&((kh(r)!=="body"||j1(a))&&(l=_b(r)),ui(r))){const h=bu(r);c=Sh(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const p=!a||d||i?Ya(0):OF(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:Ga,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?wb(t)?[]:wpe(t,this._c):[].concat(n),r],a=i[0],s=i.reduce((l,c)=>{const u=AF(t,c,o);return l.top=Kr(u.top,l.top),l.right=aa(u.right,l.right),l.bottom=aa(u.bottom,l.bottom),l.left=Kr(u.left,l.left),l},AF(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:IF,getElementRects:async function(e){const t=this.getOffsetParent||IF,n=this.getDimensions,r=await n(e.floating);return{reference:kpe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=TF(e);return{width:t,height:n}},getScale:Sh,isElement:On,isRTL:function(e){return Ei(e).direction==="rtl"}};function RF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xpe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=m8(e),u=o||i?[...c?Ks(c):[],...Ks(t)]:[];u.forEach(f=>{o&&f.addEventListener("scroll",n,{passive:!0}),i&&f.addEventListener("resize",n)});const d=c&&s?function(f,v){let y,b=null;const w=Ga(f);function k(){var _;clearTimeout(y),(_=b)==null||_.disconnect(),b=null}return function _(E,S){E===void 0&&(E=!1),S===void 0&&(S=1),k();const O=f.getBoundingClientRect(),{left:T,top:M,width:D,height:H}=O;if(E||v(),!D||!H)return;const $={rootMargin:-Cb(M)+"px "+-Cb(w.clientWidth-(T+D))+"px "+-Cb(w.clientHeight-(M+H))+"px "+-Cb(T)+"px",threshold:Kr(0,aa(1,S))||1};let R=!0;function U(B){const L=B[0].intersectionRatio;if(L!==S){if(!R)return _();L?_(!1,L):y=setTimeout(()=>{_(!1,1e-7)},1e3)}L===1&&!RF(O,f.getBoundingClientRect())&&_(),R=!1}try{b=new IntersectionObserver(U,K(I({},$),{root:w.ownerDocument}))}catch{b=new IntersectionObserver(U,$)}b.observe(f)}(!0),k}(c,n):null;let p=-1,h=null;a&&(h=new ResizeObserver(f=>{let[v]=f;v&&v.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let m,g=l?bu(e):null;return l&&function f(){const v=bu(e);g&&!RF(g,v)&&n(),g=v,m=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),d==null||d(),(f=h)==null||f.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const Cpe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(c,u){const{placement:d,platform:p,elements:h}=c,m=await(p.isRTL==null?void 0:p.isRTL(h.floating)),g=sa(d),f=xh(d),v=Qa(d)==="y",y=["left","top"].includes(g)?-1:1,b=m&&v?-1:1,w=Gs(u,c);let{mainAxis:k,crossAxis:_,alignmentAxis:E}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return f&&typeof E=="number"&&(_=f==="end"?-1*E:E),v?{x:_*b,y:k*y}:{x:k*y,y:_*b}}(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:K(I({},l),{placement:a})}}}},Spe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,i=Gs(e,t),{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}}}=i,c=ye(i,["mainAxis","crossAxis","limiter"]),u={x:n,y:r},d=await p8(t,c),p=Qa(sa(o)),h=l8(p);let m=u[h],g=u[p];if(a){const v=h==="y"?"bottom":"right";m=s8(m+d[h==="y"?"top":"left"],m,m-d[v])}if(s){const v=p==="y"?"bottom":"right";g=s8(g+d[p==="y"?"top":"left"],g,g-d[v])}const f=l.fn(K(I({},t),{[h]:m,[p]:g}));return K(I({},f),{data:{x:f.x-n,y:f.y-r,enabled:{[h]:a,[p]:s}}})}}},Tpe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,u=Gs(e,t),{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0}=u,v=ye(u,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=sa(o),b=Qa(s),w=sa(s)===s,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(w||!f?[Sb(s)]:function(U){const B=Sb(U);return[d8(U),B,d8(B)]}(s)),E=g!=="none";!h&&E&&_.push(...function(U,B,L,C){const V=xh(U);let N=function(q,J,Q){const te=["left","right"],X=["right","left"],ee=["top","bottom"],ue=["bottom","top"];switch(q){case"top":case"bottom":return Q?J?X:te:J?te:X;case"left":case"right":return J?ee:ue;default:return[]}}(sa(U),L==="start",C);return V&&(N=N.map(q=>q+"-"+V),B&&(N=N.concat(N.map(d8)))),N}(s,f,g,k));const S=[s,..._],O=await p8(t,v),T=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(O[y]),p){const U=function(B,L,C){C===void 0&&(C=!1);const V=xh(B),N=u8(B),q=c8(N);let J=N==="x"?V===(C?"end":"start")?"right":"left":V==="start"?"bottom":"top";return L.reference[q]>L.floating[q]&&(J=Sb(J)),[J,Sb(J)]}(o,a,k);T.push(O[U[0]],O[U[1]])}if(M=[...M,{placement:o,overflows:T}],!T.every(U=>U<=0)){var D,H;const U=(((D=i.flip)==null?void 0:D.index)||0)+1,B=S[U];if(B){var $;const C=p==="alignment"&&b!==Qa(B),V=(($=M[0])==null?void 0:$.overflows[0])>0;if(!C||V)return{data:{index:U,overflows:M},reset:{placement:B}}}let L=(H=M.filter(C=>C.overflows[0]<=0).sort((C,V)=>C.overflows[1]-V.overflows[1])[0])==null?void 0:H.placement;if(!L)switch(m){case"bestFit":{var R;const C=(R=M.filter(V=>{if(E){const N=Qa(V.placement);return N===b||N==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(N=>N>0).reduce((N,q)=>N+q,0)]).sort((V,N)=>V[1]-N[1])[0])==null?void 0:R[0];C&&(L=C);break}case"initialPlacement":L=s}if(o!==L)return{reset:{placement:L}}}return{}}}},Epe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,l=Gs(e,t),{apply:c=()=>{}}=l,u=ye(l,["apply"]),d=await p8(t,u),p=sa(o),h=xh(o),m=Qa(o)==="y",{width:g,height:f}=i.floating;let v,y;p==="top"||p==="bottom"?(v=p,y=h===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=p,v=h==="end"?"top":"bottom");const b=f-d.top-d.bottom,w=g-d.left-d.right,k=aa(f-d[v],b),_=aa(g-d[y],w),E=!t.middlewareData.shift;let S=k,O=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=b),E&&!h){const M=Kr(d.left,0),D=Kr(d.right,0),H=Kr(d.top,0),$=Kr(d.bottom,0);m?O=g-2*(M!==0||D!==0?M+D:Kr(d.left,d.right)):S=f-2*(H!==0||$!==0?H+$:Kr(d.top,d.bottom))}await c(K(I({},t),{availableWidth:O,availableHeight:S}));const T=await a.getDimensions(s.floating);return g!==T.width||f!==T.height?{reset:{rects:!0}}:{}}}},MF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Gs(e,t)||{};if(c==null)return{};const d=h8(u),p={x:n,y:r},h=u8(o),m=c8(h),g=await a.getDimensions(c),f=h==="y",v=f?"top":"left",y=f?"bottom":"right",b=f?"clientHeight":"clientWidth",w=i.reference[m]+i.reference[h]-p[h]-i.floating[m],k=p[h]-i.reference[h],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let E=_?_[b]:0;(!E||!await(a.isElement==null?void 0:a.isElement(_)))&&(E=s.floating[b]||i.floating[m]);const S=w/2-k/2,O=E/2-g[m]/2-1,T=aa(d[v],O),M=aa(d[y],O),D=T,H=E-g[m]-M,$=E/2-g[m]/2+S,R=s8(D,$,H),U=!l.arrow&&xh(o)!=null&&$!==R&&i.reference[m]/2-($<D?T:M)-g[m]/2<0,B=U?$<D?$-D:$-H:0;return{[h]:p[h]+B,data:I({[h]:R,centerOffset:$-R-B},U&&{alignmentOffset:B}),reset:U}}}),Ope=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:l,y:c}=Gs(e,t),u=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),d=function(g){const f=g.slice().sort((b,w)=>b.y-w.y),v=[];let y=null;for(let b=0;b<f.length;b++){const w=f[b];!y||w.y-y.y>y.height/2?v.push([w]):v[v.length-1].push(w),y=w}return v.map(b=>Ch(SF(b)))}(u),p=Ch(SF(u)),h=h8(s),m=await i.getElementRects({reference:{getBoundingClientRect:function(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&c>g.top-h.top&&c<g.bottom+h.bottom)||p;if(d.length>=2){if(Qa(n)==="y"){const k=d[0],_=d[d.length-1],E=sa(n)==="top",S=k.top,O=_.bottom,T=E?k.left:_.left,M=E?k.right:_.right;return{top:S,bottom:O,left:T,right:M,width:M-T,height:O-S,x:T,y:S}}const g=sa(n)==="left",f=Kr(...d.map(k=>k.right)),v=aa(...d.map(k=>k.left)),y=d.filter(k=>g?k.left===v:k.right===f),b=y[0].top,w=y[y.length-1].bottom;return{top:b,bottom:w,left:v,right:f,width:f-v,height:w-b,x:v,y:b}}return p}},floating:r.floating,strategy:a});return o.reference.x!==m.reference.x||o.reference.y!==m.reference.y||o.reference.width!==m.reference.width||o.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},Ape=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Gs(e,t),u={x:n,y:r},d=Qa(o),p=l8(d);let h=u[p],m=u[d];const g=Gs(s,t),f=typeof g=="number"?{mainAxis:g,crossAxis:0}:I({mainAxis:0,crossAxis:0},g);if(l){const b=p==="y"?"height":"width",w=i.reference[p]-i.floating[b]+f.mainAxis,k=i.reference[p]+i.reference[b]-f.mainAxis;h<w?h=w:h>k&&(h=k)}if(c){var v,y;const b=p==="y"?"width":"height",w=["top","left"].includes(sa(o)),k=i.reference[d]-i.floating[b]+(w&&((v=a.offset)==null?void 0:v[d])||0)+(w?0:f.crossAxis),_=i.reference[d]+i.reference[b]+(w?0:((y=a.offset)==null?void 0:y[d])||0)-(w?f.crossAxis:0);m<k?m=k:m>_&&(m=_)}return{[p]:h,[d]:m}}}},Ppe=(e,t,n)=>{const r=new Map,o=I({platform:_pe},n),i=K(I({},o.platform),{_c:r});return(async(a,s,l)=>{const{placement:c="bottom",strategy:u="absolute",middleware:d=[],platform:p}=l,h=d.filter(Boolean),m=await(p.isRTL==null?void 0:p.isRTL(s));let g=await p.getElementRects({reference:a,floating:s,strategy:u}),{x:f,y:v}=CF(g,c,m),y=c,b={},w=0;for(let k=0;k<h.length;k++){const{name:_,fn:E}=h[k],{x:S,y:O,data:T,reset:M}=await E({x:f,y:v,initialPlacement:c,placement:y,strategy:u,middlewareData:b,rects:g,platform:p,elements:{reference:a,floating:s}});f=S??f,v=O??v,b=K(I({},b),{[_]:I(I({},b[_]),T)}),M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(y=M.placement),M.rects&&(g=M.rects===!0?await p.getElementRects({reference:a,floating:s,strategy:u}):M.rects),{x:f,y:v}=CF(g,y,m)),k=-1)}return{x:f,y:v,placement:y,strategy:u,middlewareData:b}})(e,t,K(I({},o),{platform:i}))};var Tb=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Eb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Eb(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof||Eb(e[i],t[i])))return!1}return!0}return e!=e&&t!=t}function DF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function LF(e,t){const n=DF(e);return Math.round(t*n)/n}function v8(e){const t=x.useRef(e);return Tb(()=>{t.current=e}),t}const jF=(e,t)=>K(I({},Cpe(e)),{options:[e,t]}),b8=(e,t)=>K(I({},Spe(e)),{options:[e,t]}),zF=(e,t)=>K(I({},Ape(e)),{options:[e,t]}),Ob=(e,t)=>K(I({},Tpe(e)),{options:[e,t]}),F1=(e,t)=>K(I({},Ope(e)),{options:[e,t]}),FF=(e,t)=>K(I({},(n=>({name:"arrow",options:n,fn(r){const{element:o,padding:i}=typeof n=="function"?n(r):n;return o&&function(a){return{}.hasOwnProperty.call(a,"current")}(o)?o.current!=null?MF({element:o.current,padding:i}).fn(r):{}:o?MF({element:o,padding:i}).fn(r):{}}}))(e)),{options:[e,t]}),BF=I({},lre),Npe=BF.useInsertionEffect||(e=>e());function Ys(e){const t=x.useRef(()=>{});return Npe(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Ja=typeof document<"u"?x.useLayoutEffect:x.useEffect;let UF=!1,Ipe=0;const HF=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ipe++,$F=BF.useId||function(){const[e,t]=x.useState(()=>UF?HF():void 0);return Ja(()=>{e==null&&t(HF())},[]),x.useEffect(()=>{UF=!0},[]),e},Rpe=x.createContext(null),Mpe=x.createContext(null),y8=()=>{var e;return((e=x.useContext(Rpe))==null?void 0:e.id)||null},w8=()=>x.useContext(Mpe);function k8(e){return"data-floating-ui-"+e}function _8(e){const t=x.useRef(e);return Ja(()=>{t.current=e}),t}const VF=k8("safe-polygon");function Ab(e,t,n){return n&&!i8(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Dpe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:a}=e,{enabled:s=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:d=0,move:p=!0}=t,h=w8(),m=y8(),g=_8(c),f=_8(l),v=_8(n),y=x.useRef(),b=x.useRef(-1),w=x.useRef(),k=x.useRef(-1),_=x.useRef(!0),E=x.useRef(!1),S=x.useRef(()=>{}),O=x.useRef(!1),T=x.useCallback(()=>{var B;const L=(B=o.current.openEvent)==null?void 0:B.type;return(L==null?void 0:L.includes("mouse"))&&L!=="mousedown"},[o]);x.useEffect(()=>{if(s)return i.on("openchange",B),()=>{i.off("openchange",B)};function B(L){let{open:C}=L;C||(clearTimeout(b.current),clearTimeout(k.current),_.current=!0,O.current=!1)}},[s,i]),x.useEffect(()=>{if(!s||!g.current||!n)return;function B(C){T()&&r(!1,C,"hover")}const L=vu(a.floating).documentElement;return L.addEventListener("mouseleave",B),()=>{L.removeEventListener("mouseleave",B)}},[a.floating,n,r,s,g,T]);const M=x.useCallback(function(B,L,C){L===void 0&&(L=!0),C===void 0&&(C="hover");const V=Ab(f.current,"close",y.current);V&&!w.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,B,C),V)):L&&(clearTimeout(b.current),r(!1,B,C))},[f,r]),D=Ys(()=>{S.current(),w.current=void 0}),H=Ys(()=>{if(E.current){const B=vu(a.floating).body;B.style.pointerEvents="",B.removeAttribute(VF),E.current=!1}}),$=Ys(()=>!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type));x.useEffect(()=>{if(s&&On(a.domReference)){var B;const N=a.domReference;return n&&N.addEventListener("mouseleave",V),(B=a.floating)==null||B.addEventListener("mouseleave",V),p&&N.addEventListener("mousemove",L,{once:!0}),N.addEventListener("mouseenter",L),N.addEventListener("mouseleave",C),()=>{var q;n&&N.removeEventListener("mouseleave",V),(q=a.floating)==null||q.removeEventListener("mouseleave",V),p&&N.removeEventListener("mousemove",L),N.removeEventListener("mouseenter",L),N.removeEventListener("mouseleave",C)}}function L(N){if(clearTimeout(b.current),_.current=!1,u&&!i8(y.current)||d>0&&!Ab(f.current,"open"))return;const q=Ab(f.current,"open",y.current);q?b.current=window.setTimeout(()=>{v.current||r(!0,N,"hover")},q):n||r(!0,N,"hover")}function C(N){if($())return;S.current();const q=vu(a.floating);if(clearTimeout(k.current),O.current=!1,g.current&&o.current.floatingContext){n||clearTimeout(b.current),w.current=g.current(K(I({},o.current.floatingContext),{tree:h,x:N.clientX,y:N.clientY,onClose(){H(),D(),$()||M(N,!0,"safe-polygon")}}));const J=w.current;return q.addEventListener("mousemove",J),void(S.current=()=>{q.removeEventListener("mousemove",J)})}(y.current!=="touch"||!z1(a.floating,N.relatedTarget))&&M(N)}function V(N){$()||o.current.floatingContext&&(g.current==null||g.current(K(I({},o.current.floatingContext),{tree:h,x:N.clientX,y:N.clientY,onClose(){H(),D(),$()||M(N)}}))(N))}},[a,s,e,u,d,p,M,D,H,r,n,v,h,f,g,o,$]),Ja(()=>{var B;if(s&&n&&(B=g.current)!=null&&B.__options.blockPointerEvents&&T()){E.current=!0;const C=a.floating;if(On(a.domReference)&&C){var L;const V=vu(a.floating).body;V.setAttribute(VF,"");const N=a.domReference,q=h==null||(L=h.nodesRef.current.find(J=>J.id===m))==null||(L=L.context)==null?void 0:L.elements.floating;return q&&(q.style.pointerEvents=""),V.style.pointerEvents="none",N.style.pointerEvents="auto",C.style.pointerEvents="auto",()=>{V.style.pointerEvents="",N.style.pointerEvents="",C.style.pointerEvents=""}}}},[s,n,m,a,h,g,T]),Ja(()=>{n||(y.current=void 0,O.current=!1,D(),H())},[n,D,H]),x.useEffect(()=>()=>{D(),clearTimeout(b.current),clearTimeout(k.current),H()},[s,a.domReference,D,H]);const R=x.useMemo(()=>{function B(L){y.current=L.pointerType}return{onPointerDown:B,onPointerEnter:B,onMouseMove(L){const{nativeEvent:C}=L;function V(){!_.current&&!v.current&&r(!0,C,"hover")}u&&!i8(y.current)||n||d===0||O.current&&L.movementX**2+L.movementY**2<2||(clearTimeout(k.current),y.current==="touch"?V():(O.current=!0,k.current=window.setTimeout(V,d)))}}},[u,r,n,v,d]),U=x.useMemo(()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(B){$()||M(B.nativeEvent,!1)}}),[M,$]);return x.useMemo(()=>s?{reference:R,floating:U}:{},[s,R,U])}const x8=()=>{},qF=x.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:x8,setState:x8,isInstantPhase:!1});function Lpe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,i]=x.useReducer((l,c)=>I(I({},l),c),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),a=x.useRef(null),s=x.useCallback(l=>{i({currentId:l})},[]);return Ja(()=>{o.currentId?a.current===null?a.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),a.current=null)},[o.currentId,o.isInstantPhase]),x.createElement(qF.Provider,{value:x.useMemo(()=>K(I({},o),{setState:i,setCurrentId:s}),[o,s])},t)}function jpe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:i,enabled:a=!0}=t,s=i??o,l=x.useContext(qF),{currentId:c,setCurrentId:u,initialDelay:d,setState:p,timeoutMs:h}=l;return Ja(()=>{a&&c&&(p({delay:{open:1,close:Ab(d,"close")}}),c!==s&&r(!1))},[a,s,r,p,c,d]),Ja(()=>{function m(){r(!1),p({delay:d,currentId:null})}if(a&&c&&!n&&c===s){if(h){const g=window.setTimeout(m,h);return()=>{clearTimeout(g)}}m()}},[a,n,p,c,s,r,d,h]),Ja(()=>{a&&(u===x8||!n||u(s))},[a,n,u,s]),l}function C8(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(a=>{var s;return o.parentId===a.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}const zpe="data-floating-ui-focusable",Fpe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Bpe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},WF=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null&&t,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)==null||n}};function Upe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:p=!1,bubbles:h,capture:m}=t,g=w8(),f=Ys(typeof l=="function"?l:()=>!1),v=typeof l=="function"?f:l,y=x.useRef(!1),b=x.useRef(!1),{escapeKey:w,outsidePress:k}=WF(h),{escapeKey:_,outsidePress:E}=WF(m),S=x.useRef(!1),O=Ys(R=>{var U;if(!n||!a||!s||R.key!=="Escape"||S.current)return;const B=(U=i.current.floatingContext)==null?void 0:U.nodeId,L=g?C8(g.nodesRef.current,B):[];if(!w&&(R.stopPropagation(),L.length>0)){let C=!0;if(L.forEach(V=>{var N;(N=V.context)==null||!N.open||V.context.dataRef.current.__escapeKeyBubbles||(C=!1)}),!C)return}r(!1,function(C){return"nativeEvent"in C}(R)?R.nativeEvent:R,"escape-key")}),T=Ys(R=>{var U;const B=()=>{var L;O(R),(L=_h(R))==null||L.removeEventListener("keydown",B)};(U=_h(R))==null||U.addEventListener("keydown",B)}),M=Ys(R=>{var U;const B=y.current;y.current=!1;const L=b.current;if(b.current=!1,c==="click"&&L||B||typeof v=="function"&&!v(R))return;const C=_h(R),V="["+k8("inert")+"]",N=vu(o.floating).querySelectorAll(V);let q=On(C)?C:null;for(;q&&!nc(q);){const X=Ws(q);if(nc(X)||!On(X))break;q=X}if(N.length&&On(C)&&!function(X){return X.matches("html,body")}(C)&&!z1(C,o.floating)&&Array.from(N).every(X=>!z1(q,X)))return;if(ui(C)&&$){const X=C.clientWidth>0&&C.scrollWidth>C.clientWidth,ee=C.clientHeight>0&&C.scrollHeight>C.clientHeight;let ue=ee&&R.offsetX>C.clientWidth;if(ee&&Ei(C).direction==="rtl"&&(ue=R.offsetX<=C.offsetWidth-C.clientWidth),ue||X&&R.offsetY>C.clientHeight)return}const J=(U=i.current.floatingContext)==null?void 0:U.nodeId,Q=g&&C8(g.nodesRef.current,J).some(X=>{var ee;return a8(R,(ee=X.context)==null?void 0:ee.elements.floating)});if(a8(R,o.floating)||a8(R,o.domReference)||Q)return;const te=g?C8(g.nodesRef.current,J):[];if(te.length>0){let X=!0;if(te.forEach(ee=>{var ue;(ue=ee.context)==null||!ue.open||ee.context.dataRef.current.__outsidePressBubbles||(X=!1)}),!X)return}r(!1,R,"outside-press")}),D=Ys(R=>{var U;const B=()=>{var L;M(R),(L=_h(R))==null||L.removeEventListener(c,B)};(U=_h(R))==null||U.addEventListener(c,B)});x.useEffect(()=>{if(!n||!a)return;i.current.__escapeKeyBubbles=w,i.current.__outsidePressBubbles=k;let R=-1;function U(N){r(!1,N,"ancestor-scroll")}function B(){window.clearTimeout(R),S.current=!0}function L(){R=window.setTimeout(()=>{S.current=!1},kb()?5:0)}const C=vu(o.floating);s&&(C.addEventListener("keydown",_?T:O,_),C.addEventListener("compositionstart",B),C.addEventListener("compositionend",L)),v&&C.addEventListener(c,E?D:M,E);let V=[];return p&&(On(o.domReference)&&(V=Ks(o.domReference)),On(o.floating)&&(V=V.concat(Ks(o.floating))),!On(o.reference)&&o.reference&&o.reference.contextElement&&(V=V.concat(Ks(o.reference.contextElement)))),V=V.filter(N=>{var q;return N!==((q=C.defaultView)==null?void 0:q.visualViewport)}),V.forEach(N=>{N.addEventListener("scroll",U,{passive:!0})}),()=>{s&&(C.removeEventListener("keydown",_?T:O,_),C.removeEventListener("compositionstart",B),C.removeEventListener("compositionend",L)),v&&C.removeEventListener(c,E?D:M,E),V.forEach(N=>{N.removeEventListener("scroll",U)}),window.clearTimeout(R)}},[i,o,s,v,c,n,r,p,a,w,k,O,_,T,M,E,D]),x.useEffect(()=>{y.current=!1},[v,c]);const H=x.useMemo(()=>({onKeyDown:O,[Fpe[d]]:R=>{u&&r(!1,R.nativeEvent,"reference-press")}}),[O,r,u,d]),$=x.useMemo(()=>({onKeyDown:O,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[Bpe[c]]:()=>{y.current=!0}}),[O,c]);return x.useMemo(()=>a?{reference:H,floating:$}:{},[a,H,$])}function Hpe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=$F(),i=x.useRef({}),[a]=x.useState(()=>function(){const h=new Map;return{emit(m,g){var f;(f=h.get(m))==null||f.forEach(v=>v(g))},on(m,g){h.set(m,[...h.get(m)||[],g])},off(m,g){var f;h.set(m,((f=h.get(m))==null?void 0:f.filter(v=>v!==g))||[])}}}()),s=y8()!=null,[l,c]=x.useState(r.reference),u=Ys((h,m,g)=>{i.current.openEvent=h?m:void 0,a.emit("openchange",{open:h,event:m,reason:g,nested:s}),n==null||n(h,m,g)}),d=x.useMemo(()=>({setPositionReference:c}),[]),p=x.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return x.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:p,events:a,floatingId:o,refs:d}),[t,u,p,a,o,d])}function S8(e){e===void 0&&(e={});const{nodeId:t}=e,n=Hpe(K(I({},e),{elements:I({reference:null,floating:null},e.elements)})),r=e.rootContext||n,o=r.elements,[i,a]=x.useState(null),[s,l]=x.useState(null),c=(o==null?void 0:o.domReference)||i,u=x.useRef(null),d=w8();Ja(()=>{c&&(u.current=c)},[c]);const p=function(y){y===void 0&&(y={});const{placement:b="bottom",strategy:w="absolute",middleware:k=[],platform:_,elements:{reference:E,floating:S}={},transform:O=!0,whileElementsMounted:T,open:M}=y,[D,H]=x.useState({x:0,y:0,strategy:w,placement:b,middlewareData:{},isPositioned:!1}),[$,R]=x.useState(k);Eb($,k)||R(k);const[U,B]=x.useState(null),[L,C]=x.useState(null),V=x.useCallback(Ie=>{Ie!==Q.current&&(Q.current=Ie,B(Ie))},[]),N=x.useCallback(Ie=>{Ie!==te.current&&(te.current=Ie,C(Ie))},[]),q=E||U,J=S||L,Q=x.useRef(null),te=x.useRef(null),X=x.useRef(D),ee=T!=null,ue=v8(T),de=v8(_),ge=v8(M),he=x.useCallback(()=>{if(!Q.current||!te.current)return;const Ie={placement:b,strategy:w,middleware:$};de.current&&(Ie.platform=de.current),Ppe(Q.current,te.current,Ie).then(xe=>{const Ee=K(I({},xe),{isPositioned:ge.current!==!1});Ce.current&&!Eb(X.current,Ee)&&(X.current=Ee,Os.flushSync(()=>{H(Ee)}))})},[$,b,w,de,ge]);Tb(()=>{M===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,H(Ie=>K(I({},Ie),{isPositioned:!1})))},[M]);const Ce=x.useRef(!1);Tb(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),Tb(()=>{if(q&&(Q.current=q),J&&(te.current=J),q&&J){if(ue.current)return ue.current(q,J,he);he()}},[q,J,he,ue,ee]);const be=x.useMemo(()=>({reference:Q,floating:te,setReference:V,setFloating:N}),[V,N]),me=x.useMemo(()=>({reference:q,floating:J}),[q,J]),pe=x.useMemo(()=>{const Ie={position:w,left:0,top:0};if(!me.floating)return Ie;const xe=LF(me.floating,D.x),Ee=LF(me.floating,D.y);return O?I(K(I({},Ie),{transform:"translate("+xe+"px, "+Ee+"px)"}),DF(me.floating)>=1.5&&{willChange:"transform"}):{position:w,left:xe,top:Ee}},[w,O,me.floating,D.x,D.y]);return x.useMemo(()=>K(I({},D),{update:he,refs:be,elements:me,floatingStyles:pe}),[D,he,be,me,pe])}(K(I({},e),{elements:I(I({},o),s&&{reference:s})})),h=x.useCallback(y=>{const b=On(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(b),p.refs.setReference(b)},[p.refs]),m=x.useCallback(y=>{(On(y)||y===null)&&(u.current=y,a(y)),(On(p.refs.reference.current)||p.refs.reference.current===null||y!==null&&!On(y))&&p.refs.setReference(y)},[p.refs]),g=x.useMemo(()=>K(I({},p.refs),{setReference:m,setPositionReference:h,domReference:u}),[p.refs,m,h]),f=x.useMemo(()=>K(I({},p.elements),{domReference:c}),[p.elements,c]),v=x.useMemo(()=>K(I(I({},p),r),{refs:g,elements:f,nodeId:t}),[p,g,f,t,r]);return Ja(()=>{r.dataRef.current.floatingContext=v;const y=d==null?void 0:d.nodesRef.current.find(b=>b.id===t);y&&(y.context=v)}),x.useMemo(()=>K(I({},p),{context:v,refs:g,elements:f}),[p,g,f,v])}function $pe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:a}=e,{enabled:s=!0,visibleOnly:l=!0}=t,c=x.useRef(!1),u=x.useRef(),d=x.useRef(!0);x.useEffect(()=>{if(!s)return;const h=Io(a.domReference);function m(){!n&&ui(a.domReference)&&a.domReference===wF(vu(a.domReference))&&(c.current=!0)}function g(){d.current=!0}return h.addEventListener("blur",m),h.addEventListener("keydown",g,!0),()=>{h.removeEventListener("blur",m),h.removeEventListener("keydown",g,!0)}},[a.domReference,n,s]),x.useEffect(()=>{if(s)return o.on("openchange",h),()=>{o.off("openchange",h)};function h(m){let{reason:g}=m;(g==="reference-press"||g==="escape-key")&&(c.current=!0)}},[o,s]),x.useEffect(()=>()=>{clearTimeout(u.current)},[]);const p=x.useMemo(()=>({onPointerDown(h){gpe(h.nativeEvent)||(d.current=!1)},onMouseLeave(){c.current=!1},onFocus(h){if(c.current)return;const m=_h(h.nativeEvent);if(l&&On(m))try{if(/apple/i.test(navigator.vendor)&&kF().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints)throw Error();if(!m.matches(":focus-visible"))return}catch{if(!d.current&&!function(f){return ui(f)&&f.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(m))return}r(!0,h.nativeEvent,"focus")},onBlur(h){c.current=!1;const m=h.relatedTarget,g=h.nativeEvent,f=On(m)&&m.hasAttribute(k8("focus-guard"))&&m.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var v;const y=wF(a.domReference?a.domReference.ownerDocument:document);!m&&y===a.domReference||z1((v=i.current.floatingContext)==null?void 0:v.refs.floating.current,y)||z1(a.domReference,y)||f||r(!1,g,"focus")})}}),[i,a.domReference,r,l]);return x.useMemo(()=>s?{reference:p}:{},[s,p])}const KF="active",GF="selected";function T8(e,t,n){const r=new Map,o=n==="item";let i=e;return o&&e&&(i=ye(e,[kI(KF),kI(GF)])),I(I(I({},n==="floating"&&{tabIndex:-1,[zpe]:""}),i),t.map(a=>{const s=a?a[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[c,u]=l;if(!o||![KF,GF].includes(c))if(c.indexOf("on")===0){var d;r.has(c)||r.set(c,[]),typeof u=="function"&&((d=r.get(c))==null||d.push(u),a[c]=function(){for(var p,h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return(p=r.get(c))==null?void 0:p.map(f=>f(...m)).find(f=>f!==void 0)})}else a[c]=u}),a),{}))}const Vpe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function qpe(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:a="dialog"}=t,s=(n=Vpe.get(a))!=null?n:a,l=$F(),c=y8()!=null,u=x.useMemo(()=>s==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:r?o:void 0}:I(I(I(I(I({"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?o:void 0},s==="listbox"&&{role:"combobox"}),s==="menu"&&{id:l}),s==="menu"&&c&&{role:"menuitem"}),a==="select"&&{"aria-autocomplete":"none"}),a==="combobox"&&{"aria-autocomplete":"list"}),[s,o,c,r,l,a]),d=x.useMemo(()=>{const h=I({id:o},s&&{role:s});return s==="tooltip"||a==="label"?h:I(I({},h),s==="menu"&&{"aria-labelledby":l})},[s,o,l,a]),p=x.useCallback(h=>{let{active:m,selected:g}=h;const f=I({role:"option"},m&&{id:o+"-option"});switch(a){case"select":return K(I({},f),{"aria-selected":m&&g});case"combobox":return I(I({},f),m&&{"aria-selected":!0})}return{}},[o,a]);return x.useMemo(()=>i?{reference:u,floating:d,item:p}:{},[i,u,d,p])}const[Wpe,Oi]=Ti("ScrollArea.Root component was not found in tree");function Th(e,t){const n=du(t);ah(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const Kpe=x.forwardRef((e,t)=>{const n=e,{style:r}=n,o=ye(n,["style"]),i=Oi(),[a,s]=x.useState(0),[l,c]=x.useState(0),u=!(!a||!l);return Th(i.scrollbarX,()=>{var d;const p=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(p),c(p)}),Th(i.scrollbarY,()=>{var d;const p=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(p),s(p)}),u?W.jsx("div",K(I({},o),{ref:t,style:K(I({},r),{width:a,height:l})})):null}),Gpe=x.forwardRef((e,t)=>{const n=Oi(),r=!(!n.scrollbarX||!n.scrollbarY);return n.type!=="scroll"&&r?W.jsx(Kpe,K(I({},e),{ref:t})):null}),Ype={scrollHideDelay:1e3,type:"hover"},YF=x.forwardRef((e,t)=>{const n=$e("ScrollAreaRoot",Ype,e),{type:r,scrollHideDelay:o,scrollbars:i}=n,a=ye(n,["type","scrollHideDelay","scrollbars"]),[s,l]=x.useState(null),[c,u]=x.useState(null),[d,p]=x.useState(null),[h,m]=x.useState(null),[g,f]=x.useState(null),[v,y]=x.useState(0),[b,w]=x.useState(0),[k,_]=x.useState(!1),[E,S]=x.useState(!1),O=li(t,T=>l(T));return W.jsx(Wpe,{value:{type:r,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:k,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:f,scrollbarYEnabled:E,onScrollbarYEnabledChange:S,onCornerWidthChange:y,onCornerHeightChange:w},children:W.jsx(tt,K(I({},a),{ref:O,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${v}px`,"--sa-corner-height":i!=="xy"?"0px":`${b}px`}}))})});function QF(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Pb(e){const t=QF(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function JF(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function XF(e,t,n="ltr"){const r=Pb(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,s=i-r,l=function(c,[u,d]){return Math.min(d,Math.max(u,c))}(e,n==="ltr"?[0,a]:[-1*a,0]);return JF([0,a],[0,s])(l)}function ZF(e,t){return e>0&&e<t}function Nb(e){return e?parseInt(e,10):0}function yu(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}YF.displayName="@mantine/core/ScrollAreaRoot";const[Qpe,eB]=Ti("ScrollAreaScrollbar was not found in tree"),tB=x.forwardRef((e,t)=>{const n=e,{sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d}=n,p=ye(n,["sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),h=Oi(),[m,g]=x.useState(null),f=li(t,O=>g(O)),v=x.useRef(null),y=x.useRef(""),{viewport:b}=h,w=r.content-r.viewport,k=du(u),_=du(l),E=ih(d,10),S=O=>{if(v.current){const T=O.clientX-v.current.left,M=O.clientY-v.current.top;c({x:T,y:M})}};return x.useEffect(()=>{const O=T=>{const M=T.target;m!=null&&m.contains(M)&&k(T,w)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[b,m,w,k]),x.useEffect(_,[r,_]),Th(m,E),Th(h.content,E),W.jsx(Qpe,{value:{scrollbar:m,hasThumb:o,onThumbChange:du(i),onThumbPointerUp:du(a),onThumbPositionChange:_,onThumbPointerDown:du(s)},children:W.jsx("div",K(I({},p),{ref:f,"data-mantine-scrollbar":!0,style:I({position:"absolute"},p.style),onPointerDown:yu(e.onPointerDown,O=>{O.preventDefault(),O.button===0&&(O.target.setPointerCapture(O.pointerId),v.current=m.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S(O))}),onPointerMove:yu(e.onPointerMove,S),onPointerUp:yu(e.onPointerUp,O=>{const T=O.target;T.hasPointerCapture(O.pointerId)&&(O.preventDefault(),T.releasePointerCapture(O.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,v.current=null}}))})}),nB=x.forwardRef((e,t)=>{const n=e,{sizes:r,onSizesChange:o,style:i}=n,a=ye(n,["sizes","onSizesChange","style"]),s=Oi(),[l,c]=x.useState(),u=x.useRef(null),d=li(t,u,s.onScrollbarXChange);return x.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),W.jsx(tB,K(I({"data-orientation":"horizontal"},a),{ref:d,sizes:r,style:K(I({},i),{"--sa-thumb-width":`${Pb(r)}px`}),onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,h)=>{if(s.viewport){const m=s.viewport.scrollLeft+p.deltaX;e.onWheelScroll(m),ZF(m,h)&&p.preventDefault()}},onResize:()=>{u.current&&s.viewport&&l&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Nb(l.paddingLeft),paddingEnd:Nb(l.paddingRight)}})}}))});nB.displayName="@mantine/core/ScrollAreaScrollbarX";const rB=x.forwardRef((e,t)=>{const n=e,{sizes:r,onSizesChange:o,style:i}=n,a=ye(n,["sizes","onSizesChange","style"]),s=Oi(),[l,c]=x.useState(),u=x.useRef(null),d=li(t,u,s.onScrollbarYChange);return x.useEffect(()=>{u.current&&c(window.getComputedStyle(u.current))},[]),W.jsx(tB,K(I({},a),{"data-orientation":"vertical",ref:d,sizes:r,style:I({"--sa-thumb-height":`${Pb(r)}px`},i),onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,h)=>{if(s.viewport){const m=s.viewport.scrollTop+p.deltaY;e.onWheelScroll(m),ZF(m,h)&&p.preventDefault()}},onResize:()=>{u.current&&s.viewport&&l&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Nb(l.paddingTop),paddingEnd:Nb(l.paddingBottom)}})}}))});rB.displayName="@mantine/core/ScrollAreaScrollbarY";const Ib=x.forwardRef((e,t)=>{const n=e,{orientation:r="vertical"}=n,o=ye(n,["orientation"]),{dir:i}=wh(),a=Oi(),s=x.useRef(null),l=x.useRef(0),[c,u]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=QF(c.viewport,c.content),p=K(I({},o),{sizes:c,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>{s.current=m},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:m=>{l.current=m}}),h=(m,g)=>function(f,v,y,b="ltr"){const w=Pb(y),k=v||w/2,_=w-k,E=y.scrollbar.paddingStart+k,S=y.scrollbar.size-y.scrollbar.paddingEnd-_,O=y.content-y.viewport;return JF([E,S],b==="ltr"?[0,O]:[-1*O,0])(f)}(m,l.current,c,g);return r==="horizontal"?W.jsx(nB,K(I({},p),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const m=XF(a.viewport.scrollLeft,c,i);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,i))}})):r==="vertical"?W.jsx(rB,K(I({},p),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const m=XF(a.viewport.scrollTop,c);c.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}})):null});Ib.displayName="@mantine/core/ScrollAreaScrollbarVisible";const E8=x.forwardRef((e,t)=>{const n=Oi(),r=e,{forceMount:o}=r,i=ye(r,["forceMount"]),[a,s]=x.useState(!1),l=e.orientation==="horizontal",c=ih(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?u:d)}},10);return Th(n.viewport,c),Th(n.content,c),o||a?W.jsx(Ib,K(I({"data-state":a?"visible":"hidden"},i),{ref:t})):null});E8.displayName="@mantine/core/ScrollAreaScrollbarAuto";const oB=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=ye(n,["forceMount"]),i=Oi(),[a,s]=x.useState(!1);return x.useEffect(()=>{const{scrollArea:l}=i;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),r||a?W.jsx(E8,K(I({"data-state":a?"visible":"hidden"},o),{ref:t})):null});oB.displayName="@mantine/core/ScrollAreaScrollbarHover";const Jpe=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=ye(n,["forceMount"]),i=Oi(),a=e.orientation==="horizontal",[s,l]=x.useState("hidden"),c=ih(()=>l("idle"),100);return x.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),x.useEffect(()=>{const{viewport:u}=i,d=a?"scrollLeft":"scrollTop";if(u){let p=u[d];const h=()=>{const m=u[d];p!==m&&(l("scrolling"),c()),p=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,c]),r||s!=="hidden"?W.jsx(Ib,K(I({"data-state":s==="hidden"?"hidden":"visible"},o),{ref:t,onPointerEnter:yu(e.onPointerEnter,()=>l("interacting")),onPointerLeave:yu(e.onPointerLeave,()=>l("idle"))})):null}),O8=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=ye(n,["forceMount"]),i=Oi(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,l=e.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)}),[l,a,s]),i.type==="hover"?W.jsx(oB,K(I({},o),{ref:t,forceMount:r})):i.type==="scroll"?W.jsx(Jpe,K(I({},o),{ref:t,forceMount:r})):i.type==="auto"?W.jsx(E8,K(I({},o),{ref:t,forceMount:r})):i.type==="always"?W.jsx(Ib,K(I({},o),{ref:t})):null});O8.displayName="@mantine/core/ScrollAreaScrollbar";const iB=x.forwardRef((e,t)=>{const n=e,{style:r}=n,o=ye(n,["style"]),i=Oi(),a=eB(),{onThumbPositionChange:s}=a,l=li(t,d=>a.onThumbChange(d)),c=x.useRef(void 0),u=ih(()=>{c.current&&(c.current(),c.current=void 0)},100);return x.useEffect(()=>{const{viewport:d}=i;if(d){const p=()=>{if(u(),!c.current){const h=function(m,g=()=>{}){let f={left:m.scrollLeft,top:m.scrollTop},v=0;return function y(){const b={left:m.scrollLeft,top:m.scrollTop},w=f.left!==b.left,k=f.top!==b.top;(w||k)&&g(),f=b,v=window.requestAnimationFrame(y)}(),()=>window.cancelAnimationFrame(v)}(d,s);c.current=h,s()}};return s(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,u,s]),W.jsx("div",K(I({"data-state":a.hasThumb?"visible":"hidden"},o),{ref:l,style:I({width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)"},r),onPointerDownCapture:yu(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),h=d.clientX-p.left,m=d.clientY-p.top;a.onThumbPointerDown({x:h,y:m})}),onPointerUp:yu(e.onPointerUp,a.onThumbPointerUp)}))});iB.displayName="@mantine/core/ScrollAreaThumb";const A8=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=ye(n,["forceMount"]),i=eB();return r||i.hasThumb?W.jsx(iB,I({ref:t},o)):null});A8.displayName="@mantine/core/ScrollAreaThumb";const aB=x.forwardRef((e,t)=>{var n=e,{children:r,style:o}=n,i=ye(n,["children","style"]);const a=Oi(),s=li(t,a.onViewportChange);return W.jsx(tt,K(I({},i),{ref:s,style:I({overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden"},o),children:W.jsx("div",{style:{minWidth:"100%"},ref:a.onContentChange,children:r})}))});aB.displayName="@mantine/core/ScrollAreaViewport";var P8={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const sB={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Xpe=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Le(t),"--scrollarea-over-scroll-behavior":n}}),wu=ft((e,t)=>{const n=$e("ScrollArea",sB,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,scrollbarSize:c,vars:u,type:d,scrollHideDelay:p,viewportProps:h,viewportRef:m,onScrollPositionChange:g,children:f,offsetScrollbars:v,scrollbars:y,onBottomReached:b,onTopReached:w,overscrollBehavior:k}=r,_=ye(r,["classNames","className","style","styles","unstyled","scrollbarSize","vars","type","scrollHideDelay","viewportProps","viewportRef","onScrollPositionChange","children","offsetScrollbars","scrollbars","onBottomReached","onTopReached","overscrollBehavior"]),[E,S]=x.useState(!1),[O,T]=x.useState(!1),[M,D]=x.useState(!1),H=_t({name:"ScrollArea",props:n,classes:P8,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:u,varsResolver:Xpe}),$=x.useRef(null),R=function(U){return x.useMemo(()=>U.every(B=>B==null)?null:B=>{U.forEach(L=>{typeof L=="function"?L(B):L!=null&&(L.current=B)})},U)}([m,$]);return x.useEffect(()=>{if(!$.current||v!=="present")return;const U=$.current,B=new ResizeObserver(()=>{const{scrollHeight:L,clientHeight:C,scrollWidth:V,clientWidth:N}=U;T(L>C),D(V>N)});return B.observe(U),()=>B.disconnect()},[$,v]),W.jsxs(YF,K(I(I({type:d==="never"?"always":d,scrollHideDelay:p,ref:t,scrollbars:y},H("root")),_),{children:[W.jsx(aB,K(I(I({},h),H("viewport",{style:h==null?void 0:h.style})),{ref:R,"data-offset-scrollbars":v===!0?"xy":v||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":v!=="present"||M?void 0:"true","data-vertical-hidden":v!=="present"||O?void 0:"true",onScroll:U=>{var B;(B=h==null?void 0:h.onScroll)==null||B.call(h,U),g==null||g({x:U.currentTarget.scrollLeft,y:U.currentTarget.scrollTop});const{scrollTop:L,scrollHeight:C,clientHeight:V}=U.currentTarget;L-(C-V)>=-.6&&(b==null||b()),L===0&&(w==null||w())},children:f})),(y==="xy"||y==="x")&&W.jsx(O8,K(I({},H("scrollbar")),{orientation:"horizontal","data-hidden":d==="never"||v==="present"&&!M||void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:W.jsx(A8,I({},H("thumb")))})),(y==="xy"||y==="y")&&W.jsx(O8,K(I({},H("scrollbar")),{orientation:"vertical","data-hidden":d==="never"||v==="present"&&!O||void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:W.jsx(A8,I({},H("thumb")))})),W.jsx(Gpe,K(I({},H("corner")),{"data-hovered":E||void 0,"data-hidden":d==="never"||void 0}))]}))});wu.displayName="@mantine/core/ScrollArea";const N8=ft((e,t)=>{const n=$e("ScrollAreaAutosize",sB,e),{children:r,classNames:o,styles:i,scrollbarSize:a,scrollHideDelay:s,type:l,dir:c,offsetScrollbars:u,viewportRef:d,onScrollPositionChange:p,unstyled:h,variant:m,viewportProps:g,scrollbars:f,style:v,vars:y,onBottomReached:b,onTopReached:w}=n,k=ye(n,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps","scrollbars","style","vars","onBottomReached","onTopReached"]);return W.jsx(tt,K(I({},k),{ref:t,style:[{display:"flex",overflow:"auto"},v],children:W.jsx(tt,{style:{display:"flex",flexDirection:"column",flex:1},children:W.jsx(wu,{classNames:o,styles:i,scrollHideDelay:s,scrollbarSize:a,type:l,dir:c,offsetScrollbars:u,viewportRef:d,onScrollPositionChange:p,unstyled:h,variant:m,viewportProps:g,vars:y,scrollbars:f,onBottomReached:b,onTopReached:w,children:r})})}))});wu.classes=P8,N8.displayName="@mantine/core/ScrollAreaAutosize",N8.classes=P8,wu.Autosize=N8;var lB={root:"m_87cf2631"};const Zpe={__staticSelector:"UnstyledButton"},co=lo((e,t)=>{const n=$e("UnstyledButton",Zpe,e),r=n,{className:o,component:i="button",__staticSelector:a,unstyled:s,classNames:l,styles:c,style:u}=r,d=ye(r,["className","component","__staticSelector","unstyled","classNames","styles","style"]),p=_t({name:a,props:n,classes:lB,className:o,style:u,classNames:l,styles:c,unstyled:s});return W.jsx(tt,I(K(I({},p("root",{focusable:!0})),{component:i,ref:t,type:i==="button"?"button":void 0}),d))});co.classes=lB,co.displayName="@mantine/core/UnstyledButton";var cB={root:"m_515a97f8"};const eme={},I8=ft((e,t)=>{const n=$e("VisuallyHidden",eme,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c}=r,u=ye(r,["classNames","className","style","styles","unstyled","vars"]),d=_t({name:"VisuallyHidden",classes:cB,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l});return W.jsx(tt,I(I({component:"span",ref:t},d("root")),u))});I8.classes=cB,I8.displayName="@mantine/core/VisuallyHidden";var uB={root:"m_1b7284a3"};const tme={},nme=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Wr(t),"--paper-shadow":D4(n)}}),ku=lo((e,t)=>{const n=$e("Paper",tme,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,withBorder:c,vars:u,radius:d,shadow:p,variant:h,mod:m}=r,g=ye(r,["classNames","className","style","styles","unstyled","withBorder","vars","radius","shadow","variant","mod"]),f=_t({name:"Paper",props:n,classes:uB,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:u,varsResolver:nme});return W.jsx(tt,I(K(I({ref:t,mod:[{"data-with-border":c},m]},f("root")),{variant:h}),g))});function dB(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}function hB(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function pB(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}ku.classes=uB,ku.displayName="@mantine/core/Paper";const rme={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function ome({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:i,arrowY:a,dir:s}){const[l,c="center"]=e.split("-"),u={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[rme[l]]:r},d=-t/2;return l==="left"?K(I(I({},u),hB(c,a,n,o)),{right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}):l==="right"?K(I(I({},u),hB(c,a,n,o)),{left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}):l==="top"?K(I(I({},u),pB(c,i,n,o,s)),{bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}):l==="bottom"?K(I(I({},u),pB(c,i,n,o,s)),{top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}):{}}const R8=x.forwardRef((e,t)=>{var n=e,{position:r,arrowSize:o,arrowOffset:i,arrowRadius:a,arrowPosition:s,visible:l,arrowX:c,arrowY:u,style:d}=n,p=ye(n,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY","style"]);const{dir:h}=wh();return l?W.jsx("div",K(I({},p),{ref:t,style:I(I({},d),ome({position:r,arrowSize:o,arrowOffset:i,arrowRadius:a,arrowPosition:s,dir:h,arrowX:c,arrowY:u}))})):null});R8.displayName="@mantine/core/FloatingArrow";var mB={root:"m_9814e45f"};const ime={zIndex:ia("modal")},ame=(e,{gradient:t,color:n,backgroundOpacity:r,blur:o,radius:i,zIndex:a})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Ka(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${Le(o)})`:void 0,"--overlay-radius":i===void 0?void 0:Wr(i),"--overlay-z-index":a==null?void 0:a.toString()}}),Eh=lo((e,t)=>{const n=$e("Overlay",ime,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,fixed:u,center:d,children:p,radius:h,zIndex:m,gradient:g,blur:f,color:v,backgroundOpacity:y,mod:b}=r,w=ye(r,["classNames","className","style","styles","unstyled","vars","fixed","center","children","radius","zIndex","gradient","blur","color","backgroundOpacity","mod"]),k=_t({name:"Overlay",props:n,classes:mB,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:ame});return W.jsx(tt,K(I(K(I({ref:t},k("root")),{mod:[{center:d,fixed:u},b]}),w),{children:p}))});function M8(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}Eh.classes=mB,Eh.displayName="@mantine/core/Overlay";const sme={},Rb=ft((e,t)=>{const n=$e("Portal",sme,e),{children:r,target:o,reuseTargetNode:i}=n,a=ye(n,["children","target","reuseTargetNode"]),[s,l]=x.useState(!1),c=x.useRef(null);return ah(()=>(l(!0),c.current=function(u){var d=u,{target:p,reuseTargetNode:h}=d,m=ye(d,["target","reuseTargetNode"]);if(p)return typeof p=="string"?document.querySelector(p)||M8(m):p;if(h){const g=document.querySelector("[data-mantine-shared-portal-node]");if(g)return g;const f=M8(m);return f.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(f),f}return M8(m)}(I({target:o,reuseTargetNode:i},a)),Y9(t,c.current),!o&&!i&&c.current&&document.body.appendChild(c.current),()=>{!o&&!i&&c.current&&document.body.removeChild(c.current)}),[o]),s&&c.current?Os.createPortal(W.jsx(W.Fragment,{children:r}),c.current):null});Rb.displayName="@mantine/core/Portal";const Oh=ft((e,t)=>{var n=e,{withinPortal:r=!0,children:o}=n,i=ye(n,["withinPortal","children"]);return Xz()!=="test"&&r?W.jsx(Rb,K(I({ref:t},i),{children:o})):W.jsx(W.Fragment,{children:o})});Oh.displayName="@mantine/core/OptionalPortal";const B1=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Mb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:K(I({},B1("bottom")),{common:{transformOrigin:"center center"}}),"pop-bottom-left":K(I({},B1("bottom")),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":K(I({},B1("bottom")),{common:{transformOrigin:"bottom right"}}),"pop-top-left":K(I({},B1("top")),{common:{transformOrigin:"top left"}}),"pop-top-right":K(I({},B1("top")),{common:{transformOrigin:"top right"}})},fB={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function lme({transition:e,state:t,duration:n,timingFunction:r}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Mb?I(I(I({transitionProperty:Mb[e].transitionProperty},o),Mb[e].common),Mb[e][fB[t]]):{}:I(I(I({transitionProperty:e.transitionProperty},o),e.common),e[fB[t]])}function cme({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:i,onEntered:a,onExited:s,enterDelay:l,exitDelay:c}){const u=No(),d=Q9(),p=!!u.respectReducedMotion&&d,[h,m]=x.useState(p?0:e),[g,f]=x.useState(r?"entered":"exited"),v=x.useRef(-1),y=x.useRef(-1),b=x.useRef(-1);function w(){window.clearTimeout(v.current),window.clearTimeout(y.current),cancelAnimationFrame(b.current)}const k=_=>{w();const E=_?o:i,S=_?a:s,O=p?0:_?e:t;m(O),O===0?(typeof E=="function"&&E(),typeof S=="function"&&S(),f(_?"entered":"exited")):b.current=requestAnimationFrame(()=>{Boe.flushSync(()=>{f(_?"pre-entering":"pre-exiting")}),b.current=requestAnimationFrame(()=>{typeof E=="function"&&E(),f(_?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof S=="function"&&S(),f(_?"entered":"exited")},O)})})};return Ha(()=>{(_=>{w(),typeof(_?l:c)=="number"?y.current=window.setTimeout(()=>{k(_)},_?l:c):k(_)})(r)},[r]),x.useEffect(()=>()=>{w()},[]),{transitionDuration:h,transitionStatus:g,transitionTimingFunction:n||"ease"}}function Ro({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:i,timingFunction:a="ease",onExit:s,onEntered:l,onEnter:c,onExited:u,enterDelay:d,exitDelay:p}){const h=Xz(),{transitionDuration:m,transitionStatus:g,transitionTimingFunction:f}=cme({mounted:o,exitDuration:r,duration:n,timingFunction:a,onExit:s,onEntered:l,onEnter:c,onExited:u,enterDelay:d,exitDelay:p});return m===0||h==="test"?o?W.jsx(W.Fragment,{children:i({})}):e?i({display:"none"}):null:g==="exited"?e?i({display:"none"}):null:W.jsx(W.Fragment,{children:i(lme({transition:t,duration:m,state:g,timingFunction:f}))})}Ro.displayName="@mantine/core/Transition";const[ume,gB]=Ti("Popover component was not found in the tree");function Db({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=function(a=!0){const s=x.useRef(null),l=u=>{let d=u.querySelector("[data-autofocus]");if(!d){const p=Array.from(u.querySelectorAll(SL));d=p.find(EL)||p.find(G9)||null,!d&&G9(u)&&(d=u)}d&&d.focus({preventScroll:!0})},c=x.useCallback(u=>{a&&u!==null&&s.current!==u&&(u?(setTimeout(()=>{u.getRootNode()&&l(u)}),s.current=u):s.current=null)},[a]);return x.useEffect(()=>{if(!a)return;s.current&&setTimeout(()=>l(s.current));const u=d=>{d.key==="Tab"&&s.current&&Fue(s.current,d)};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[a]),c}(t),i=li(o,r);return fh(e)?x.cloneElement(e,{[n]:i}):e}function vB(e){return W.jsx(I8,I({tabIndex:-1,"data-autofocus":!0},e))}Db.displayName="@mantine/core/FocusTrap",vB.displayName="@mantine/core/FocusTrapInitialFocus",Db.InitialFocus=vB;var bB={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const dme={},D8=ft((e,t)=>{var n,r,o,i,a;const s=$e("PopoverDropdown",dme,e),l=s,{className:c,style:u,vars:d,children:p,onKeyDownCapture:h,variant:m,classNames:g,styles:f}=l,v=ye(l,["className","style","vars","children","onKeyDownCapture","variant","classNames","styles"]),y=gB(),b=CL({opened:y.opened,shouldReturnFocus:y.returnFocus}),w=y.withRoles?{"aria-labelledby":y.getTargetId(),id:y.getDropdownId(),role:"dialog",tabIndex:-1}:{},k=li(t,y.floating);return y.disabled?null:W.jsx(Oh,K(I({},y.portalProps),{withinPortal:y.withinPortal,children:W.jsx(Ro,K(I({mounted:y.opened},y.transitionProps),{transition:((n=y.transitionProps)==null?void 0:n.transition)||"fade",duration:(o=(r=y.transitionProps)==null?void 0:r.duration)!=null?o:150,keepMounted:y.keepMounted,exitDuration:typeof((i=y.transitionProps)==null?void 0:i.exitDuration)=="number"?y.transitionProps.exitDuration:(a=y.transitionProps)==null?void 0:a.duration,children:_=>{var E,S;return W.jsx(Db,{active:y.trapFocus&&y.opened,innerRef:k,children:W.jsxs(tt,K(I(K(I(I({},w),v),{variant:m,onKeyDownCapture:Khe(()=>{var O,T;(O=y.onClose)==null||O.call(y),(T=y.onDismiss)==null||T.call(y)},{active:y.closeOnEscape,onTrigger:b,onKeyDown:h}),"data-position":y.placement,"data-fixed":y.floatingStrategy==="fixed"||void 0}),y.getStyles("dropdown",{className:c,props:s,classNames:g,styles:f,style:[K(I({},_),{zIndex:y.zIndex,top:(E=y.y)!=null?E:0,left:(S=y.x)!=null?S:0,width:y.width==="target"?void 0:Le(y.width)}),y.resolvedStyles.dropdown,f==null?void 0:f.dropdown,u]})),{children:[p,W.jsx(R8,I({ref:y.arrowRef,arrowX:y.arrowX,arrowY:y.arrowY,visible:y.withArrow,position:y.placement,arrowSize:y.arrowSize,arrowRadius:y.arrowRadius,arrowOffset:y.arrowOffset,arrowPosition:y.arrowPosition},y.getStyles("arrow",{props:s,classNames:g,styles:f})))]}))})}}))}))});D8.classes=bB,D8.displayName="@mantine/core/PopoverDropdown";const hme={refProp:"ref",popupType:"dialog"},yB=ft((e,t)=>{const n=$e("PopoverTarget",hme,e),{children:r,refProp:o,popupType:i}=n,a=ye(n,["children","refProp","popupType"]);if(!fh(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=a,l=gB(),c=li(l.reference,L4(r),t),u=l.withRoles?{"aria-haspopup":i,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return x.cloneElement(r,I(K(I(I(I({},s),u),l.targetProps),{className:so(l.targetProps.className,s.className,r.props.className),[o]:c}),l.controlled?null:{onClick:l.onToggle}))});function wB({opened:e,floating:t,position:n,positionDependencies:r}){const[o,i]=x.useState(0);x.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return xpe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),Ha(()=>{t.update()},r),Ha(()=>{i(a=>a+1)},[e])}function pme(e,t){const n=function(o){if(o===void 0)return{shift:!0,flip:!0};const i=I({},o);return o.shift===void 0&&(i.shift=!0),o.flip===void 0&&(i.flip=!0),i}(e.middlewares),r=[jF(e.offset)];return n.shift&&r.push(b8(typeof n.shift=="boolean"?{limiter:zF(),padding:5}:I({limiter:zF(),padding:5},n.shift))),n.flip&&r.push(typeof n.flip=="boolean"?Ob():Ob(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?F1():F1(n.inline)),r.push(FF({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(((o,i)=>K(I({},Epe(o)),{options:[o,i]}))(K(I({},typeof n.size=="boolean"?{}:n.size),{apply(o){var i,a,s=o,{rects:l,availableWidth:c,availableHeight:u}=s,d=ye(s,["rects","availableWidth","availableHeight"]);const p=(a=(i=t().refs.floating.current)==null?void 0:i.style)!=null?a:{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply(I({rects:l,availableWidth:c,availableHeight:u},d)):Object.assign(p,{maxWidth:`${c}px`,maxHeight:`${u}px`})),e.width==="target"&&Object.assign(p,{width:`${l.reference.width}px`})}}))),r}yB.displayName="@mantine/core/PopoverTarget";const mme={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:ia("popover"),__staticSelector:"Popover",width:"max-content"},fme=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Wr(t),"--popover-shadow":D4(n)}});function fr(e){var t,n,r,o,i,a;const s=$e("Popover",mme,e),l=s,{children:c,position:u,offset:d,onPositionChange:p,positionDependencies:h,opened:m,transitionProps:g,onExitTransitionEnd:f,onEnterTransitionEnd:v,width:y,middlewares:b,withArrow:w,arrowSize:k,arrowOffset:_,arrowRadius:E,arrowPosition:S,unstyled:O,classNames:T,styles:M,closeOnClickOutside:D,withinPortal:H,portalProps:$,closeOnEscape:R,clickOutsideEvents:U,trapFocus:B,onClose:L,onDismiss:C,onOpen:V,onChange:N,zIndex:q,radius:J,shadow:Q,id:te,defaultOpened:X,__staticSelector:ee,withRoles:ue,disabled:de,returnFocus:ge,variant:he,keepMounted:Ce,vars:be,floatingStrategy:me,withOverlay:pe,overlayProps:Ie}=l,xe=ye(l,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","onExitTransitionEnd","onEnterTransitionEnd","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onDismiss","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted","vars","floatingStrategy","withOverlay","overlayProps"]),Ee=_t({name:ee,props:s,classes:bB,classNames:T,styles:M,unstyled:O,rootSelector:"dropdown",vars:be,varsResolver:fme}),{resolvedStyles:Re}=L1({classNames:T,styles:M,props:s}),Be=x.useRef(null),[it,at]=x.useState(null),[Qe,Je]=x.useState(null),{dir:Me}=wh(),He=y1(te),Ue=function(ve){const[De,Xe]=k1({value:ve.opened,defaultValue:ve.defaultOpened,finalValue:!1,onChange:ve.onChange}),ht=x.useRef(De),nt=S8({strategy:ve.strategy,placement:ve.position,middleware:pme(ve,()=>nt)});return wB({opened:De,position:ve.position,positionDependencies:ve.positionDependencies||[],floating:nt}),Ha(()=>{var Ze;(Ze=ve.onPositionChange)==null||Ze.call(ve,nt.placement)},[nt.placement]),Ha(()=>{var Ze,vt;De!==ht.current&&(De?(vt=ve.onOpen)==null||vt.call(ve):(Ze=ve.onClose)==null||Ze.call(ve)),ht.current=De},[De,ve.onClose,ve.onOpen]),{floating:nt,controlled:typeof ve.opened=="boolean",opened:De,onClose:()=>{De&&!ve.disabled&&Xe(!1)},onToggle:()=>!ve.disabled&&Xe(!De)}}({middlewares:b,width:y,position:dB(Me,u),offset:typeof d=="number"?d+(w?k/2:0):d,arrowRef:Be,arrowOffset:_,onPositionChange:p,positionDependencies:h,opened:m,defaultOpened:X,onChange:N,onOpen:V,onClose:L,onDismiss:C,strategy:me,disabled:de});xL(()=>{D&&(Ue.onClose(),C==null||C())},U,[it,Qe]);const Ve=x.useCallback(ve=>{at(ve),Ue.floating.refs.setReference(ve)},[Ue.floating.refs.setReference]),ce=x.useCallback(ve=>{Je(ve),Ue.floating.refs.setFloating(ve)},[Ue.floating.refs.setFloating]),re=x.useCallback(()=>{var ve;(ve=g==null?void 0:g.onExited)==null||ve.call(g),f==null||f()},[g==null?void 0:g.onExited,f]),fe=x.useCallback(()=>{var ve;(ve=g==null?void 0:g.onEntered)==null||ve.call(g),v==null||v()},[g==null?void 0:g.onEntered,v]);return W.jsxs(ume,{value:{returnFocus:ge,disabled:de,controlled:Ue.controlled,reference:Ve,floating:ce,x:Ue.floating.x,y:Ue.floating.y,arrowX:(r=(n=(t=Ue.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(a=(i=(o=Ue.floating)==null?void 0:o.middlewareData)==null?void 0:i.arrow)==null?void 0:a.y,opened:Ue.opened,arrowRef:Be,transitionProps:K(I({},g),{onExited:re,onEntered:fe}),width:y,withArrow:w,arrowSize:k,arrowOffset:_,arrowRadius:E,arrowPosition:S,placement:Ue.floating.placement,trapFocus:B,withinPortal:H,portalProps:$,zIndex:q,radius:J,shadow:Q,closeOnEscape:R,onDismiss:C,onClose:Ue.onClose,onToggle:Ue.onToggle,getTargetId:()=>`${He}-target`,getDropdownId:()=>`${He}-dropdown`,withRoles:ue,targetProps:xe,__staticSelector:ee,classNames:T,styles:M,unstyled:O,variant:he,keepMounted:Ce,getStyles:Ee,resolvedStyles:Re,floatingStrategy:me},children:[c,pe&&W.jsx(Ro,{transition:"fade",mounted:Ue.opened,duration:(g==null?void 0:g.duration)||250,exitDuration:(g==null?void 0:g.exitDuration)||250,children:ve=>W.jsx(Oh,{withinPortal:H,children:W.jsx(Eh,I(I({},Ie),Ee("overlay",{className:Ie==null?void 0:Ie.className,style:[ve,Ie==null?void 0:Ie.style]})))})})]})}fr.Target=yB,fr.Dropdown=D8,fr.displayName="@mantine/core/Popover",fr.extend=e=>e;var la={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const kB=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=ye(n,["className"]);return W.jsxs(tt,K(I({component:"span",className:so(la.barsLoader,r)},o),{ref:t,children:[W.jsx("span",{className:la.bar}),W.jsx("span",{className:la.bar}),W.jsx("span",{className:la.bar})]}))});kB.displayName="@mantine/core/Bars";const _B=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=ye(n,["className"]);return W.jsxs(tt,K(I({component:"span",className:so(la.dotsLoader,r)},o),{ref:t,children:[W.jsx("span",{className:la.dot}),W.jsx("span",{className:la.dot}),W.jsx("span",{className:la.dot})]}))});_B.displayName="@mantine/core/Dots";const xB=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=ye(n,["className"]);return W.jsx(tt,K(I({component:"span",className:so(la.ovalLoader,r)},o),{ref:t}))});xB.displayName="@mantine/core/Oval";const CB={bars:kB,oval:xB,dots:_B},gme={loaders:CB,type:"oval"},vme=(e,{size:t,color:n})=>({root:{"--loader-size":wn(t,"loader-size"),"--loader-color":n?ci(n,e):void 0}}),rc=ft((e,t)=>{const n=$e("Loader",gme,e),r=n,{size:o,color:i,type:a,vars:s,className:l,style:c,classNames:u,styles:d,unstyled:p,loaders:h,variant:m,children:g}=r,f=ye(r,["size","color","type","vars","className","style","classNames","styles","unstyled","loaders","variant","children"]),v=_t({name:"Loader",props:n,classes:la,className:l,style:c,classNames:u,styles:d,unstyled:p,vars:s,varsResolver:vme});return g?W.jsx(tt,K(I(K(I({},v("root")),{ref:t}),f),{children:g})):W.jsx(tt,I(K(I({},v("root")),{ref:t,component:h[a],variant:m,size:o}),f))});rc.defaultLoaders=CB,rc.classes=la,rc.displayName="@mantine/core/Loader";var Ah={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const SB={orientation:"horizontal"},bme=(e,{borderWidth:t})=>({group:{"--ai-border-width":Le(t)}}),L8=ft((e,t)=>{const n=$e("ActionIconGroup",SB,e),r=$e("ActionIconGroup",SB,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,orientation:c,vars:u,borderWidth:d,variant:p,mod:h}=r,m=ye(r,["className","style","classNames","styles","unstyled","orientation","vars","borderWidth","variant","mod"]),g=_t({name:"ActionIconGroup",props:n,classes:Ah,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:u,varsResolver:bme,rootSelector:"group"});return W.jsx(tt,I(K(I({},g("group")),{ref:t,variant:p,mod:[{"data-orientation":c},h],role:"group"}),m))});L8.classes=Ah,L8.displayName="@mantine/core/ActionIconGroup";const TB={},yme=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:a})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":wn(a,"section-height"),"--section-padding-x":wn(a,"section-padding-x"),"--section-fz":Dr(a),"--section-radius":t===void 0?void 0:Wr(t),"--section-bg":n||o?s.background:void 0,"--section-color":s.color,"--section-bd":n||o?s.border:void 0}}},j8=ft((e,t)=>{const n=$e("ActionIconGroupSection",TB,e),r=$e("ActionIconGroupSection",TB,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,variant:u,gradient:d,radius:p,autoContrast:h}=r,m=ye(r,["className","style","classNames","styles","unstyled","vars","variant","gradient","radius","autoContrast"]),g=_t({name:"ActionIconGroupSection",props:n,classes:Ah,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,varsResolver:yme,rootSelector:"groupSection"});return W.jsx(tt,I(K(I({},g("groupSection")),{ref:t,variant:u}),m))});j8.classes=Ah,j8.displayName="@mantine/core/ActionIconGroupSection";const wme={},kme=(e,{size:t,radius:n,variant:r,gradient:o,color:i,autoContrast:a})=>{const s=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:a});return{root:{"--ai-size":wn(t,"ai-size"),"--ai-radius":n===void 0?void 0:Wr(n),"--ai-bg":i||r?s.background:void 0,"--ai-hover":i||r?s.hover:void 0,"--ai-hover-color":i||r?s.hoverColor:void 0,"--ai-color":s.color,"--ai-bd":i||r?s.border:void 0}}},Zt=lo((e,t)=>{const n=$e("ActionIcon",wme,e),r=n,{className:o,unstyled:i,variant:a,classNames:s,styles:l,style:c,loading:u,loaderProps:d,size:p,color:h,radius:m,__staticSelector:g,gradient:f,vars:v,children:y,disabled:b,"data-disabled":w,autoContrast:k,mod:_}=r,E=ye(r,["className","unstyled","variant","classNames","styles","style","loading","loaderProps","size","color","radius","__staticSelector","gradient","vars","children","disabled","data-disabled","autoContrast","mod"]),S=_t({name:["ActionIcon",g],props:n,className:o,style:c,classes:Ah,classNames:s,styles:l,unstyled:i,vars:v,varsResolver:kme});return W.jsxs(co,K(I(I({},S("root",{active:!b&&!u&&!w})),E),{unstyled:i,variant:a,size:p,disabled:b||u,ref:t,mod:[{loading:u,disabled:b||w},_],children:[W.jsx(Ro,{mounted:!!u,transition:"slide-down",duration:150,children:O=>W.jsx(tt,K(I({component:"span"},S("loader",{style:O})),{"aria-hidden":!0,children:W.jsx(rc,I({color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)"},d))}))}),W.jsx(tt,K(I({component:"span",mod:{loading:u}},S("icon")),{children:y}))]}))});Zt.classes=Ah,Zt.displayName="@mantine/core/ActionIcon",Zt.Group=L8,Zt.GroupSection=j8;const EB=x.forwardRef((e,t)=>{var n=e,{size:r="var(--cb-icon-size, 70%)",style:o}=n,i=ye(n,["size","style"]);return W.jsx("svg",K(I({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:K(I({},o),{width:r,height:r}),ref:t},i),{children:W.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}))});EB.displayName="@mantine/core/CloseIcon";var OB={root:"m_86a44da5","root--subtle":"m_220c80f2"};const _me={variant:"subtle"},xme=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":wn(t,"cb-size"),"--cb-radius":n===void 0?void 0:Wr(n),"--cb-icon-size":Le(r)}}),Ph=lo((e,t)=>{const n=$e("CloseButton",_me,e),r=n,{iconSize:o,children:i,vars:a,radius:s,className:l,classNames:c,style:u,styles:d,unstyled:p,"data-disabled":h,disabled:m,variant:g,icon:f,mod:v,__staticSelector:y}=r,b=ye(r,["iconSize","children","vars","radius","className","classNames","style","styles","unstyled","data-disabled","disabled","variant","icon","mod","__staticSelector"]),w=_t({name:y||"CloseButton",props:n,className:l,style:u,classes:OB,classNames:c,styles:d,unstyled:p,vars:a,varsResolver:xme});return W.jsxs(co,K(I(K(I({ref:t},b),{unstyled:p,variant:g,disabled:m,mod:[{disabled:m||h},v]}),w("root",{variant:g,active:!m&&!h})),{children:[f||W.jsx(EB,{}),i]}))});Ph.classes=OB,Ph.displayName="@mantine/core/CloseButton";var AB={root:"m_4081bf90"};const Cme={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Sme=(e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:i,wrap:a},{childWidth:s})=>({root:{"--group-child-width":t&&n?s:void 0,"--group-gap":ao(r),"--group-align":o,"--group-justify":i,"--group-wrap":a}}),ir=ft((e,t)=>{const n=$e("Group",Cme,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,children:c,gap:u,align:d,justify:p,wrap:h,grow:m,preventGrowOverflow:g,vars:f,variant:v,__size:y,mod:b}=r,w=ye(r,["classNames","className","style","styles","unstyled","children","gap","align","justify","wrap","grow","preventGrowOverflow","vars","variant","__size","mod"]),k=function(O){return x.Children.toArray(O).filter(Boolean)}(c),_=k.length,E=ao(u??"md"),S=_t({name:"Group",props:n,stylesCtx:{childWidth:`calc(${100/_}% - (${E} - ${E} / ${_}))`},className:i,style:a,classes:AB,classNames:o,styles:s,unstyled:l,vars:f,varsResolver:Sme});return W.jsx(tt,K(I(K(I({},S("root")),{ref:t,variant:v,mod:[{grow:m},b],size:y}),w),{children:k}))});ir.classes=AB,ir.displayName="@mantine/core/Group";const[Tme,Qs]=Ti("ModalBase component was not found in tree");function Eme({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:o,onClose:i,returnFocus:a}){const s=y1(e),[l,c]=x.useState(!1),[u,d]=x.useState(!1),p=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=function({opened:m,transitionDuration:g}){const[f,v]=x.useState(m),y=x.useRef(-1),b=Q9()?0:g;return x.useEffect(()=>(m?(v(!0),window.clearTimeout(y.current)):b===0?v(!1):y.current=window.setTimeout(()=>v(!1),b),()=>window.clearTimeout(y.current)),[m,b]),f}({opened:n,transitionDuration:p});return w1("keydown",m=>{var g;m.key==="Escape"&&o&&!m.isComposing&&n&&((g=m.target)==null?void 0:g.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),CL({opened:n,shouldReturnFocus:r&&a}),{_id:s,titleMounted:l,bodyMounted:u,shouldLockScroll:h,setTitleMounted:c,setBodyMounted:d}}const PB=x.forwardRef((e,t)=>{var n=e,{keepMounted:r,opened:o,onClose:i,id:a,transitionProps:s,onExitTransitionEnd:l,onEnterTransitionEnd:c,trapFocus:u,closeOnEscape:d,returnFocus:p,closeOnClickOutside:h,withinPortal:m,portalProps:g,lockScroll:f,children:v,zIndex:y,shadow:b,padding:w,__vars:k,unstyled:_,removeScrollProps:E}=n,S=ye(n,["keepMounted","opened","onClose","id","transitionProps","onExitTransitionEnd","onEnterTransitionEnd","trapFocus","closeOnEscape","returnFocus","closeOnClickOutside","withinPortal","portalProps","lockScroll","children","zIndex","shadow","padding","__vars","unstyled","removeScrollProps"]);const{_id:O,titleMounted:T,bodyMounted:M,shouldLockScroll:D,setTitleMounted:H,setBodyMounted:$}=Eme({id:a,transitionProps:s,opened:o,trapFocus:u,closeOnEscape:d,onClose:i,returnFocus:p}),R=E||{},{key:U}=R,B=ye(R,["key"]);return W.jsx(Oh,K(I({},g),{withinPortal:m,children:W.jsx(Tme,{value:{opened:o,onClose:i,closeOnClickOutside:h,onExitTransitionEnd:l,onEnterTransitionEnd:c,transitionProps:K(I({},s),{keepMounted:r}),getTitleId:()=>`${O}-title`,getBodyId:()=>`${O}-body`,titleMounted:T,bodyMounted:M,setTitleMounted:H,setBodyMounted:$,trapFocus:u,closeOnEscape:d,zIndex:y,unstyled:_},children:W.jsx(Vz,K(I({enabled:D&&f},B),{children:W.jsx(tt,K(I({ref:t},S),{__vars:K(I({},k),{"--mb-z-index":(y||ia("modal")).toString(),"--mb-shadow":D4(b),"--mb-padding":ao(w)}),children:v}))}),U)})}))});PB.displayName="@mantine/core/ModalBase";var Ome="m_615af6c9",Ame="m_b5489c3c",Pme="m_60c222c7",Nme="m_fd1ab0aa",Ime="m_606cb269",Rme="m_5df29311";const NB=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=ye(n,["className"]);const i=function(){const s=Qs();return x.useEffect(()=>(s.setBodyMounted(!0),()=>s.setBodyMounted(!1)),[]),s.getBodyId()}(),a=Qs();return W.jsx(tt,K(I({ref:t},o),{id:i,className:so({[Rme]:!a.unstyled},r)}))});NB.displayName="@mantine/core/ModalBaseBody";const IB=x.forwardRef((e,t)=>{var n=e,{className:r,onClick:o}=n,i=ye(n,["className","onClick"]);const a=Qs();return W.jsx(Ph,K(I({ref:t},i),{onClick:s=>{a.onClose(),o==null||o(s)},className:so({[Ime]:!a.unstyled},r),unstyled:a.unstyled}))});IB.displayName="@mantine/core/ModalBaseCloseButton";const RB=x.forwardRef((e,t)=>{var n=e,{transitionProps:r,className:o,innerProps:i,onKeyDown:a,style:s}=n,l=ye(n,["transitionProps","className","innerProps","onKeyDown","style"]);const c=Qs();return W.jsx(Ro,K(I(K(I({mounted:c.opened,transition:"pop"},c.transitionProps),{onExited:()=>{var u,d,p;(u=c.onExitTransitionEnd)==null||u.call(c),(p=(d=c.transitionProps)==null?void 0:d.onExited)==null||p.call(d)},onEntered:()=>{var u,d,p;(u=c.onEnterTransitionEnd)==null||u.call(c),(p=(d=c.transitionProps)==null?void 0:d.onEntered)==null||p.call(d)}}),r),{children:u=>W.jsx("div",K(I({},i),{className:so({[Pme]:!c.unstyled},i.className),children:W.jsx(Db,{active:c.opened&&c.trapFocus,innerRef:t,children:W.jsx(ku,K(I({},l),{component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":c.bodyMounted?c.getBodyId():void 0,"aria-labelledby":c.titleMounted?c.getTitleId():void 0,style:[s,u],className:so({[Nme]:!c.unstyled},o),unstyled:c.unstyled,children:l.children}))})}))}))});RB.displayName="@mantine/core/ModalBaseContent";const MB=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=ye(n,["className"]);const i=Qs();return W.jsx(tt,I({component:"header",ref:t,className:so({[Ame]:!i.unstyled},r)},o))});MB.displayName="@mantine/core/ModalBaseHeader";const Mme={duration:200,timingFunction:"ease",transition:"fade"},DB=x.forwardRef((e,t)=>{var n=e,{onClick:r,transitionProps:o,style:i,visible:a}=n,s=ye(n,["onClick","transitionProps","style","visible"]);const l=Qs(),c=function(u){const d=Qs();return I(I(I({},Mme),d.transitionProps),u)}(o);return W.jsx(Ro,K(I({mounted:a!==void 0?a:l.opened},c),{transition:"fade",children:u=>W.jsx(Eh,I({ref:t,fixed:!0,style:[i,u],zIndex:l.zIndex,unstyled:l.unstyled,onClick:d=>{r==null||r(d),l.closeOnClickOutside&&l.onClose()}},s))}))});DB.displayName="@mantine/core/ModalBaseOverlay";const LB=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=ye(n,["className"]);const i=function(){const s=Qs();return x.useEffect(()=>(s.setTitleMounted(!0),()=>s.setTitleMounted(!1)),[]),s.getTitleId()}(),a=Qs();return W.jsx(tt,K(I({component:"h2",ref:t,className:so({[Ome]:!a.unstyled},r)},o),{id:i}))});function Dme({children:e}){return W.jsx(W.Fragment,{children:e})}LB.displayName="@mantine/core/ModalBaseTitle";const[Lme,jme]=M4({size:"sm"}),zme={},jB=ft((e,t)=>{const n=$e("InputClearButton",zme,e),r=n,{size:o,variant:i,vars:a,classNames:s,styles:l}=r,c=ye(r,["size","variant","vars","classNames","styles"]),u=jme(),{resolvedClassNames:d,resolvedStyles:p}=L1({classNames:s,styles:l,props:n});return W.jsx(Ph,I({variant:i||"transparent",ref:t,size:o||(u==null?void 0:u.size)||"sm",classNames:d,styles:p,__staticSelector:"InputClearButton"},c))});jB.displayName="@mantine/core/InputClearButton";const[Fme,Lb]=M4({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ai={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const zB={},Bme=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Dr(t)} - ${Le(2)})`}}),jb=ft((e,t)=>{const n=$e("InputDescription",zB,e),r=$e("InputDescription",zB,n),{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,size:u,__staticSelector:d,__inheritStyles:p=!0,variant:h}=r,m=ye(r,["classNames","className","style","styles","unstyled","vars","size","__staticSelector","__inheritStyles","variant"]),g=Lb(),f=_t({name:["InputWrapper",d],props:n,classes:Ai,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"description",vars:c,varsResolver:Bme}),v=p&&(g==null?void 0:g.getStyles)||f;return W.jsx(tt,I(I({component:"p",ref:t,variant:h,size:u},v("description",g!=null&&g.getStyles?{className:i,style:a}:void 0)),m))});jb.classes=Ai,jb.displayName="@mantine/core/InputDescription";const Ume={},Hme=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Dr(t)} - ${Le(2)})`}}),zb=ft((e,t)=>{const n=$e("InputError",Ume,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,size:u,__staticSelector:d,__inheritStyles:p=!0,variant:h}=r,m=ye(r,["classNames","className","style","styles","unstyled","vars","size","__staticSelector","__inheritStyles","variant"]),g=_t({name:["InputWrapper",d],props:n,classes:Ai,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"error",vars:c,varsResolver:Hme}),f=Lb(),v=p&&(f==null?void 0:f.getStyles)||g;return W.jsx(tt,I(I({component:"p",ref:t,variant:h,size:u},v("error",f!=null&&f.getStyles?{className:i,style:a}:void 0)),m))});zb.classes=Ai,zb.displayName="@mantine/core/InputError";const FB={labelElement:"label"},$me=(e,{size:t})=>({label:{"--input-label-size":Dr(t),"--input-asterisk-color":void 0}}),Fb=ft((e,t)=>{const n=$e("InputLabel",FB,e),r=$e("InputLabel",FB,n),{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,labelElement:u,size:d,required:p,htmlFor:h,onMouseDown:m,children:g,__staticSelector:f,variant:v,mod:y}=r,b=ye(r,["classNames","className","style","styles","unstyled","vars","labelElement","size","required","htmlFor","onMouseDown","children","__staticSelector","variant","mod"]),w=_t({name:["InputWrapper",f],props:n,classes:Ai,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"label",vars:c,varsResolver:$me}),k=Lb(),_=(k==null?void 0:k.getStyles)||w;return W.jsxs(tt,K(I(K(I({},_("label",k!=null&&k.getStyles?{className:i,style:a}:void 0)),{component:u,variant:v,size:d,ref:t,htmlFor:u==="label"?h:void 0,mod:[{required:p},y],onMouseDown:E=>{m==null||m(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()}}),b),{children:[g,p&&W.jsx("span",K(I({},_("required")),{"aria-hidden":!0,children:" *"}))]}))});Fb.classes=Ai,Fb.displayName="@mantine/core/InputLabel";const BB={},z8=ft((e,t)=>{const n=$e("InputPlaceholder",BB,e),r=$e("InputPlaceholder",BB,n),{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,__staticSelector:u,variant:d,error:p,mod:h}=r,m=ye(r,["classNames","className","style","styles","unstyled","vars","__staticSelector","variant","error","mod"]),g=_t({name:["InputPlaceholder",u],props:n,classes:Ai,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"placeholder"});return W.jsx(tt,I(K(I({},g("placeholder")),{mod:[{error:!!p},h],component:"span",variant:d,ref:t}),m))});function Vme(e,{hasDescription:t,hasError:n}){const r=e.findIndex(s=>s==="input"),o=e.slice(0,r),i=e.slice(r+1),a=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&i.includes("description")||n&&i.includes("error"),offsetTop:a}}z8.classes=Ai,z8.displayName="@mantine/core/InputPlaceholder";const qme={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Wme=(e,{size:t})=>({label:{"--input-label-size":Dr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Dr(t)} - ${Le(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Dr(t)} - ${Le(2)})`}}),F8=ft((e,t)=>{const n=$e("InputWrapper",qme,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,size:u,variant:d,__staticSelector:p,inputContainer:h,inputWrapperOrder:m,label:g,error:f,description:v,labelProps:y,descriptionProps:b,errorProps:w,labelElement:k,children:_,withAsterisk:E,id:S,required:O,__stylesApiProps:T,mod:M}=r,D=ye(r,["classNames","className","style","styles","unstyled","vars","size","variant","__staticSelector","inputContainer","inputWrapperOrder","label","error","description","labelProps","descriptionProps","errorProps","labelElement","children","withAsterisk","id","required","__stylesApiProps","mod"]),H=_t({name:["InputWrapper",p],props:T||n,classes:Ai,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Wme}),$={size:u,variant:d,__staticSelector:p},R=y1(S),U=typeof E=="boolean"?E:O,B=(w==null?void 0:w.id)||`${R}-error`,L=(b==null?void 0:b.id)||`${R}-description`,C=R,V=!!f&&typeof f!="boolean",N=!!v,q=`${V?B:""} ${N?L:""}`,J=q.trim().length>0?q.trim():void 0,Q=(y==null?void 0:y.id)||`${R}-label`,te=g&&W.jsx(Fb,K(I(I({labelElement:k,id:Q,htmlFor:C,required:U},$),y),{children:g}),"label"),X=N&&W.jsx(jb,K(I(I({},b),$),{size:(b==null?void 0:b.size)||$.size,id:(b==null?void 0:b.id)||L,children:v}),"description"),ee=W.jsx(x.Fragment,{children:h(_)},"input"),ue=V&&x.createElement(zb,K(I(I({},w),$),{size:(w==null?void 0:w.size)||$.size,key:"error",id:(w==null?void 0:w.id)||B}),f),de=m.map(ge=>{switch(ge){case"label":return te;case"input":return ee;case"description":return X;case"error":return ue;default:return null}});return W.jsx(Fme,{value:I({getStyles:H,describedBy:J,inputId:C,labelId:Q},Vme(m,{hasDescription:N,hasError:V})),children:W.jsx(tt,K(I(I({ref:t,variant:d,size:u,mod:[{error:!!f},M]},H("root")),D),{children:de}))})});F8.classes=Ai,F8.displayName="@mantine/core/InputWrapper";const Kme={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Gme=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":wn(t.size,"input-height"),"--input-fz":Dr(t.size),"--input-radius":t.radius===void 0?void 0:Wr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Le(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Le(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?wn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),uo=lo((e,t)=>{const n=$e("Input",Kme,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,required:c,__staticSelector:u,__stylesApiProps:d,size:p,wrapperProps:h,error:m,disabled:g,leftSection:f,leftSectionProps:v,leftSectionWidth:y,rightSection:b,rightSectionProps:w,rightSectionWidth:k,rightSectionPointerEvents:_,leftSectionPointerEvents:E,variant:S,vars:O,pointer:T,multiline:M,radius:D,id:H,withAria:$,withErrorStyles:R,mod:U,inputSize:B,__clearSection:L,__clearable:C,__defaultRightSection:V}=r,N=ye(r,["classNames","className","style","styles","unstyled","required","__staticSelector","__stylesApiProps","size","wrapperProps","error","disabled","leftSection","leftSectionProps","leftSectionWidth","rightSection","rightSectionProps","rightSectionWidth","rightSectionPointerEvents","leftSectionPointerEvents","variant","vars","pointer","multiline","radius","id","withAria","withErrorStyles","mod","inputSize","__clearSection","__clearable","__defaultRightSection"]),{styleProps:q,rest:J}=Y4(N),Q=Lb(),te={offsetBottom:Q==null?void 0:Q.offsetBottom,offsetTop:Q==null?void 0:Q.offsetTop},X=_t({name:["Input",u],props:d||n,classes:Ai,className:i,style:a,classNames:o,styles:s,unstyled:l,stylesCtx:te,rootSelector:"wrapper",vars:O,varsResolver:Gme}),ee=$?{required:c,disabled:g,"aria-invalid":!!m,"aria-describedby":Q==null?void 0:Q.describedBy,id:(Q==null?void 0:Q.inputId)||H}:{},ue=b||C&&L||V;return W.jsx(Lme,{value:{size:p||"sm"},children:W.jsxs(tt,K(I(I(I({},X("wrapper")),q),h),{mod:[{error:!!m&&R,pointer:T,disabled:g,multiline:M,"data-with-right-section":!!ue,"data-with-left-section":!!f},U],variant:S,size:p,children:[f&&W.jsx("div",K(I(K(I({},v),{"data-position":"left"}),X("section",{className:v==null?void 0:v.className,style:v==null?void 0:v.style})),{children:f})),W.jsx(tt,I(K(I(I({component:"input"},J),ee),{ref:t,required:c,mod:{disabled:g,error:!!m&&R},variant:S,__size:B}),X("input"))),ue&&W.jsx("div",K(I(K(I({},w),{"data-position":"right"}),X("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style})),{children:ue}))]}))})});function UB(e,t,n){const r=$e(e,t,n),o=r,{label:i,description:a,error:s,required:l,classNames:c,styles:u,className:d,unstyled:p,__staticSelector:h,__stylesApiProps:m,errorProps:g,labelProps:f,descriptionProps:v,wrapperProps:y,id:b,size:w,style:k,inputContainer:_,inputWrapperOrder:E,withAsterisk:S,variant:O,vars:T,mod:M}=o,D=ye(o,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","__stylesApiProps","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant","vars","mod"]),{styleProps:H,rest:$}=Y4(D),R=I({label:i,description:a,error:s,required:l,classNames:c,className:d,__staticSelector:h,__stylesApiProps:m||r,errorProps:g,labelProps:f,descriptionProps:v,unstyled:p,styles:u,size:w,style:k,inputContainer:_,inputWrapperOrder:E,withAsterisk:S,variant:O,id:b,mod:M},y);return K(I({},$),{classNames:c,styles:u,unstyled:p,wrapperProps:I(I({},R),H),inputProps:{required:l,classNames:c,styles:u,unstyled:p,size:w,__staticSelector:h,__stylesApiProps:m||r,error:s,variant:O,id:b}})}uo.classes=Ai,uo.Wrapper=F8,uo.Label=Fb,uo.Error=zb,uo.Description=jb,uo.Placeholder=z8,uo.ClearButton=jB,uo.displayName="@mantine/core/Input";const Yme={__staticSelector:"InputBase",withAria:!0},Nh=lo((e,t)=>{const n=UB("InputBase",Yme,e),{inputProps:r,wrapperProps:o}=n,i=ye(n,["inputProps","wrapperProps"]);return W.jsx(uo.Wrapper,K(I({},o),{children:W.jsx(uo,K(I(I({},r),i),{ref:t}))}))});Nh.classes=I(I({},uo.classes),uo.Wrapper.classes),Nh.displayName="@mantine/core/InputBase";const Qme={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var HB={root:"m_8bffd616"};const Jme={},Fn=lo((e,t)=>{const n=$e("Flex",Jme,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,gap:u,rowGap:d,columnGap:p,align:h,justify:m,wrap:g,direction:f}=r,v=ye(r,["classNames","className","style","styles","unstyled","vars","gap","rowGap","columnGap","align","justify","wrap","direction"]),y=_t({name:"Flex",classes:HB,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c}),b=No(),w=X4(),k=dF({styleProps:{gap:u,rowGap:d,columnGap:p,align:h,justify:m,wrap:g,direction:f},theme:b,data:Qme});return W.jsxs(W.Fragment,{children:[k.hasResponsiveStyles&&W.jsx(vb,{selector:`.${w}`,styles:k.styles,media:k.media}),W.jsx(tt,I(I({ref:t},y("root",{className:w,style:mh(k.inlineStyles)})),v))]})});Fn.classes=HB,Fn.displayName="@mantine/core/Flex";const[Xme,B8]=Ti("Accordion component was not found in the tree");function _u(e){var t=e,{style:n,size:r=16}=t,o=ye(t,["style","size"]);return W.jsx("svg",K(I({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:K(I({},n),{width:Le(r),height:Le(r),display:"block"})},o),{children:W.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}))}_u.displayName="@mantine/core/AccordionChevron";const[Zme,$B]=Ti("Accordion.Item component was not found in the tree");var U1={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const e1e={},U8=ft((e,t)=>{const n=$e("AccordionControl",e1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,chevron:l,icon:c,onClick:u,onKeyDown:d,children:p,disabled:h,mod:m}=n,g=ye(n,["classNames","className","style","styles","vars","chevron","icon","onClick","onKeyDown","children","disabled","mod"]),{value:f}=$B(),v=B8(),y=v.isItemActive(f),b=typeof v.order=="number",w=`h${v.order}`,k=W.jsxs(co,K(I(I({},g),v.getStyles("control",{className:o,classNames:r,style:i,styles:a,variant:v.variant})),{unstyled:v.unstyled,mod:["accordion-control",{active:y,"chevron-position":v.chevronPosition,disabled:h},m],ref:t,onClick:_=>{u==null||u(_),v.onChange(f)},type:"button",disabled:h,"aria-expanded":y,"aria-controls":v.getRegionId(f),id:v.getControlId(f),onKeyDown:Yz({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:v.loop,orientation:"vertical",onKeyDown:d}),children:[W.jsx(tt,K(I({component:"span",mod:{rotate:!v.disableChevronRotation&&y,position:v.chevronPosition}},v.getStyles("chevron",{classNames:r,styles:a})),{children:l||v.chevron})),W.jsx("span",K(I({},v.getStyles("label",{classNames:r,styles:a})),{children:p})),c&&W.jsx(tt,K(I({component:"span",mod:{"chevron-position":v.chevronPosition}},v.getStyles("icon",{classNames:r,styles:a})),{children:c}))]}));return b?W.jsx(w,K(I({},v.getStyles("itemTitle",{classNames:r,styles:a})),{children:k})):k});U8.displayName="@mantine/core/AccordionControl",U8.classes=U1;const t1e={},H8=ft((e,t)=>{const n=$e("AccordionItem",t1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,value:l,mod:c}=n,u=ye(n,["classNames","className","style","styles","vars","value","mod"]),d=B8();return W.jsx(Zme,{value:{value:l},children:W.jsx(tt,I(I({ref:t,mod:[{active:d.isItemActive(l)},c]},d.getStyles("item",{className:o,classNames:r,styles:a,style:i,variant:d.variant})),u))})});H8.displayName="@mantine/core/AccordionItem",H8.classes=U1;const n1e={},$8=ft((e,t)=>{var n;const r=$e("AccordionPanel",n1e,e),{classNames:o,className:i,style:a,styles:s,vars:l,children:c}=r,u=ye(r,["classNames","className","style","styles","vars","children"]),{value:d}=$B(),p=B8();return W.jsx(vF,K(I(I({ref:t},p.getStyles("panel",{className:i,classNames:o,style:a,styles:s})),u),{in:p.isItemActive(d),transitionDuration:(n=p.transitionDuration)!=null?n:200,role:"region",id:p.getRegionId(d),"aria-labelledby":p.getControlId(d),children:W.jsx("div",K(I({},p.getStyles("content",{classNames:o,styles:s})),{children:c}))}))});$8.displayName="@mantine/core/AccordionPanel",$8.classes=U1;const r1e={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:W.jsx(_u,{})},o1e=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Le(n),"--accordion-radius":r===void 0?void 0:Wr(r)}});function di(e){const t=$e("Accordion",r1e,e),n=t,{classNames:r,className:o,style:i,styles:a,unstyled:s,vars:l,children:c,multiple:u,value:d,defaultValue:p,onChange:h,id:m,loop:g,transitionDuration:f,disableChevronRotation:v,chevronPosition:y,chevronSize:b,order:w,chevron:k,variant:_,radius:E}=n,S=ye(n,["classNames","className","style","styles","unstyled","vars","children","multiple","value","defaultValue","onChange","id","loop","transitionDuration","disableChevronRotation","chevronPosition","chevronSize","order","chevron","variant","radius"]),O=y1(m),[T,M]=k1({value:d,defaultValue:p,finalValue:u?[]:null,onChange:h}),D=_t({name:"Accordion",classes:U1,props:t,className:o,style:i,classNames:r,styles:a,unstyled:s,vars:l,varsResolver:o1e});return W.jsx(Xme,{value:{isItemActive:H=>Array.isArray(T)?T.includes(H):H===T,onChange:H=>{const $=Array.isArray(T)?T.includes(H)?T.filter(R=>R!==H):[...T,H]:H===T?null:H;M($)},getControlId:Gz(`${O}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:Gz(`${O}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:f,disableChevronRotation:v,chevronPosition:y,order:w,chevron:k,loop:g,getStyles:D,variant:_,unstyled:s},children:W.jsx(tt,K(I(K(I({},D("root")),{id:O}),S),{variant:_,"data-accordion":!0,children:c}))})}di.extend=e=>e,di.withProps=gF(di),di.classes=U1,di.displayName="@mantine/core/Accordion",di.Item=H8,di.Panel=$8,di.Control=U8,di.Chevron=_u;var VB={root:"m_b6d8b162"};function i1e(e){return e==="start"?"start":e==="end"||e?"end":void 0}const a1e={inherit:!1},s1e=(e,{variant:t,lineClamp:n,gradient:r,size:o,color:i})=>({root:{"--text-fz":Dr(o),"--text-lh":Ghe(o),"--text-gradient":t==="gradient"?B4(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?ci(i,e):void 0}}),kn=lo((e,t)=>{const n=$e("Text",a1e,e),r=n,{lineClamp:o,truncate:i,inline:a,inherit:s,gradient:l,span:c,__staticSelector:u,vars:d,className:p,style:h,classNames:m,styles:g,unstyled:f,variant:v,mod:y,size:b}=r,w=ye(r,["lineClamp","truncate","inline","inherit","gradient","span","__staticSelector","vars","className","style","classNames","styles","unstyled","variant","mod","size"]),k=_t({name:["Text",u],props:n,classes:VB,className:p,style:h,classNames:m,styles:g,unstyled:f,vars:d,varsResolver:s1e});return W.jsx(tt,I(K(I({},k("root",{focusable:!0})),{ref:t,component:c?"span":"p",variant:v,mod:[{"data-truncate":i1e(i),"data-line-clamp":typeof o=="number","data-inline":a,"data-inherit":s},y],size:b}),w))});kn.classes=VB,kn.displayName="@mantine/core/Text";var qB={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const l1e={},c1e=(e,{radius:t,color:n,gradient:r,variant:o,size:i,autoContrast:a})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--badge-height":wn(i,"badge-height"),"--badge-padding-x":wn(i,"badge-padding-x"),"--badge-fz":wn(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Wr(t),"--badge-bg":n||o?s.background:void 0,"--badge-color":n||o?s.color:void 0,"--badge-bd":n||o?s.border:void 0,"--badge-dot-color":o==="dot"?ci(n,e):void 0}}},Bb=lo((e,t)=>{const n=$e("Badge",l1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,radius:u,color:d,gradient:p,leftSection:h,rightSection:m,children:g,variant:f,fullWidth:v,autoContrast:y,circle:b,mod:w}=r,k=ye(r,["classNames","className","style","styles","unstyled","vars","radius","color","gradient","leftSection","rightSection","children","variant","fullWidth","autoContrast","circle","mod"]),_=_t({name:"Badge",props:n,classes:qB,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:c1e});return W.jsxs(tt,K(I(K(I({variant:f,mod:[{block:v,circle:b,"with-right-section":!!m,"with-left-section":!!h},w]},_("root",{variant:f})),{ref:t}),k),{children:[h&&W.jsx("span",K(I({},_("section")),{"data-position":"left",children:h})),W.jsx("span",K(I({},_("label")),{children:g})),m&&W.jsx("span",K(I({},_("section")),{"data-position":"right",children:m}))]}))});Bb.classes=qB,Bb.displayName="@mantine/core/Badge";var Ih={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const WB={orientation:"horizontal"},u1e=(e,{borderWidth:t})=>({group:{"--button-border-width":Le(t)}}),V8=ft((e,t)=>{const n=$e("ButtonGroup",WB,e),r=$e("ButtonGroup",WB,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,orientation:c,vars:u,borderWidth:d,variant:p,mod:h}=r,m=ye(r,["className","style","classNames","styles","unstyled","orientation","vars","borderWidth","variant","mod"]),g=_t({name:"ButtonGroup",props:n,classes:Ih,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:u,varsResolver:u1e,rootSelector:"group"});return W.jsx(tt,I(K(I({},g("group")),{ref:t,variant:p,mod:[{"data-orientation":c},h],role:"group"}),m))});V8.classes=Ih,V8.displayName="@mantine/core/ButtonGroup";const KB={},d1e=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:a})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":wn(a,"section-height"),"--section-padding-x":wn(a,"section-padding-x"),"--section-fz":a!=null&&a.includes("compact")?Dr(a.replace("compact-","")):Dr(a),"--section-radius":t===void 0?void 0:Wr(t),"--section-bg":n||o?s.background:void 0,"--section-color":s.color,"--section-bd":n||o?s.border:void 0}}},q8=ft((e,t)=>{const n=$e("ButtonGroupSection",KB,e),r=$e("ButtonGroupSection",KB,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,variant:u,gradient:d,radius:p,autoContrast:h}=r,m=ye(r,["className","style","classNames","styles","unstyled","vars","variant","gradient","radius","autoContrast"]),g=_t({name:"ButtonGroupSection",props:n,classes:Ih,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,varsResolver:d1e,rootSelector:"groupSection"});return W.jsx(tt,I(K(I({},g("groupSection")),{ref:t,variant:u}),m))});q8.classes=Ih,q8.displayName="@mantine/core/ButtonGroupSection";const h1e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Le(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},p1e={},m1e=(e,{radius:t,color:n,gradient:r,variant:o,size:i,justify:a,autoContrast:s})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--button-justify":a,"--button-height":wn(i,"button-height"),"--button-padding-x":wn(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?Dr(i.replace("compact-","")):Dr(i),"--button-radius":t===void 0?void 0:Wr(t),"--button-bg":n||o?l.background:void 0,"--button-hover":n||o?l.hover:void 0,"--button-color":l.color,"--button-bd":n||o?l.border:void 0,"--button-hover-color":n||o?l.hoverColor:void 0}}},An=lo((e,t)=>{const n=$e("Button",p1e,e),r=n,{style:o,vars:i,className:a,color:s,disabled:l,children:c,leftSection:u,rightSection:d,fullWidth:p,variant:h,radius:m,loading:g,loaderProps:f,gradient:v,classNames:y,styles:b,unstyled:w,"data-disabled":k,autoContrast:_,mod:E}=r,S=ye(r,["style","vars","className","color","disabled","children","leftSection","rightSection","fullWidth","variant","radius","loading","loaderProps","gradient","classNames","styles","unstyled","data-disabled","autoContrast","mod"]),O=_t({name:"Button",props:n,classes:Ih,className:a,style:o,classNames:y,styles:b,unstyled:w,vars:i,varsResolver:m1e}),T=!!u,M=!!d;return W.jsxs(co,K(I(K(I({ref:t},O("root",{active:!l&&!g&&!k})),{unstyled:w,variant:h,disabled:l||g,mod:[{disabled:l||k,loading:g,block:p,"with-left-section":T,"with-right-section":M},E]}),S),{children:[W.jsx(Ro,{mounted:!!g,transition:h1e,duration:150,children:D=>W.jsx(tt,K(I({component:"span"},O("loader",{style:D})),{"aria-hidden":!0,children:W.jsx(rc,I({color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)"},f))}))}),W.jsxs("span",K(I({},O("inner")),{children:[u&&W.jsx(tt,K(I({component:"span"},O("section")),{mod:{position:"left"},children:u})),W.jsx(tt,K(I({component:"span",mod:{loading:g}},O("label")),{children:c})),d&&W.jsx(tt,K(I({component:"span"},O("section")),{mod:{position:"right"},children:d}))]}))]}))});An.classes=Ih,An.displayName="@mantine/core/Button",An.Group=V8,An.GroupSection=q8;const[f1e,g1e]=Ti("Card component was not found in tree");var W8={root:"m_e615b15f",section:"m_599a2148"};const v1e={},Ub=lo((e,t)=>{const n=$e("CardSection",v1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,withBorder:l,inheritPadding:c,mod:u}=n,d=ye(n,["classNames","className","style","styles","vars","withBorder","inheritPadding","mod"]),p=g1e();return W.jsx(tt,I(I({ref:t,mod:[{"with-border":l,"inherit-padding":c},u]},p.getStyles("section",{className:o,style:i,styles:a,classNames:r})),d))});Ub.classes=W8,Ub.displayName="@mantine/core/CardSection";const b1e={},y1e=(e,{padding:t})=>({root:{"--card-padding":ao(t)}}),H1=lo((e,t)=>{const n=$e("Card",b1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,children:u,padding:d}=r,p=ye(r,["classNames","className","style","styles","unstyled","vars","children","padding"]),h=_t({name:"Card",props:n,classes:W8,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:y1e}),m=x.Children.toArray(u),g=m.map((f,v)=>typeof f=="object"&&f&&"type"in f&&f.type===Ub?x.cloneElement(f,{"data-first-section":v===0||void 0,"data-last-section":v===m.length-1||void 0}):f);return W.jsx(f1e,{value:{getStyles:h},children:W.jsx(ku,K(I(I({ref:t,unstyled:l},h("root")),p),{children:g}))})});H1.classes=W8,H1.displayName="@mantine/core/Card",H1.Section=Ub;var GB={root:"m_b183c0a2"};const w1e={},k1e=(e,{color:t})=>({root:{"--code-bg":t?ci(t,e):void 0}}),K8=ft((e,t)=>{const n=$e("Code",w1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,color:u,block:d,variant:p,mod:h}=r,m=ye(r,["classNames","className","style","styles","unstyled","vars","color","block","variant","mod"]),g=_t({name:"Code",props:n,classes:GB,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:k1e});return W.jsx(tt,K(I(I({component:d?"pre":"code",variant:p,ref:t,mod:[{block:d},h]},g("root")),m),{dir:"ltr"}))});K8.classes=GB,K8.displayName="@mantine/core/Code";var YB={root:"m_7485cace"};const _1e={},x1e=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:wn(t,"container-size")}}),G8=ft((e,t)=>{const n=$e("Container",_1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,fluid:u,mod:d}=r,p=ye(r,["classNames","className","style","styles","unstyled","vars","fluid","mod"]),h=_t({name:"Container",classes:YB,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:x1e});return W.jsx(tt,I(I({ref:t,mod:[{fluid:u},d]},h("root")),p))});G8.classes=YB,G8.displayName="@mantine/core/Container";const C1e={timeout:1e3};function QB(e){const t=$e("CopyButton",C1e,e),{children:n,timeout:r,value:o}=t,i=ye(t,["children","timeout","value"]),a=Due({timeout:r});return W.jsx(W.Fragment,{children:n(I({copy:()=>a.copy(o),copied:a.copied},i))})}QB.displayName="@mantine/core/CopyButton";var JB={root:"m_3eebeb36",label:"m_9e365f20"};const S1e={orientation:"horizontal"},T1e=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?ci(t,e):void 0,"--divider-border-style":n,"--divider-size":wn(r,"divider-size")}}),Y8=ft((e,t)=>{const n=$e("Divider",S1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,color:u,orientation:d,label:p,labelPosition:h,mod:m}=r,g=ye(r,["classNames","className","style","styles","unstyled","vars","color","orientation","label","labelPosition","mod"]),f=_t({name:"Divider",classes:JB,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:T1e});return W.jsx(tt,K(I(I({ref:t,mod:[{orientation:d,"with-label":!!p},m]},f("root")),g),{role:"separator",children:p&&W.jsx(tt,K(I({component:"span",mod:{position:h}},f("label")),{children:p}))}))});function XB({open:e,close:t,openDelay:n,closeDelay:r}){const o=x.useRef(-1),i=x.useRef(-1),a=()=>{window.clearTimeout(o.current),window.clearTimeout(i.current)};return x.useEffect(()=>a,[]),{openDropdown:()=>{a(),n===0||n===void 0?e():o.current=window.setTimeout(e,n)},closeDropdown:()=>{a(),r===0||r===void 0?t():i.current=window.setTimeout(t,r)}}}Y8.classes=JB,Y8.displayName="@mantine/core/Divider";const[E1e,ZB]=Ti("HoverCard component was not found in the tree"),O1e={};function eU(e){const t=$e("HoverCardDropdown",O1e,e),{children:n,onMouseEnter:r,onMouseLeave:o}=t,i=ye(t,["children","onMouseEnter","onMouseLeave"]),a=ZB(),s=Po(r,a.openDropdown),l=Po(o,a.closeDropdown);return W.jsx(fr.Dropdown,K(I({onMouseEnter:s,onMouseLeave:l},i),{children:n}))}eU.displayName="@mantine/core/HoverCardDropdown";const A1e={refProp:"ref"},tU=x.forwardRef((e,t)=>{const n=$e("HoverCardTarget",A1e,e),{children:r,refProp:o,eventPropsWrapperName:i}=n,a=ye(n,["children","refProp","eventPropsWrapperName"]);if(!fh(r))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=ZB(),l={onMouseEnter:Po(r.props.onMouseEnter,s.openDropdown),onMouseLeave:Po(r.props.onMouseLeave,s.closeDropdown)};return W.jsx(fr.Target,K(I({refProp:o,ref:t},a),{children:x.cloneElement(r,i?{[i]:l}:l)}))});tU.displayName="@mantine/core/HoverCardTarget";const P1e={openDelay:0,closeDelay:150,initiallyOpened:!1};function xu(e){const t=$e("HoverCard",P1e,e),{children:n,onOpen:r,onClose:o,openDelay:i,closeDelay:a,initiallyOpened:s}=t,l=ye(t,["children","onOpen","onClose","openDelay","closeDelay","initiallyOpened"]),[c,{open:u,close:d}]=function(m=!1,g){const{onOpen:f,onClose:v}=g||{},[y,b]=x.useState(m),w=x.useCallback(()=>{b(E=>E||(f==null||f(),!0))},[f]),k=x.useCallback(()=>{b(E=>E&&(v==null||v(),!1))},[v]),_=x.useCallback(()=>{y?k():w()},[k,w,y]);return[y,{open:w,close:k,toggle:_}]}(s,{onClose:o,onOpen:r}),{openDropdown:p,closeDropdown:h}=XB({open:u,close:d,openDelay:i,closeDelay:a});return W.jsx(E1e,{value:{openDropdown:p,closeDropdown:h},children:W.jsx(fr,K(I({},l),{opened:c,__staticSelector:"HoverCard",children:n}))})}xu.displayName="@mantine/core/HoverCard",xu.Target=tU,xu.Dropdown=eU,xu.extend=e=>e;var nU={root:"m_9e117634"};const N1e={},I1e=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:Wr(t),"--image-object-fit":n}}),Q8=lo((e,t)=>{const n=$e("Image",N1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,onError:u,src:d,radius:p,fit:h,fallbackSrc:m,mod:g}=r,f=ye(r,["classNames","className","style","styles","unstyled","vars","onError","src","radius","fit","fallbackSrc","mod"]),[v,y]=x.useState(!d);x.useEffect(()=>y(!d),[d]);const b=_t({name:"Image",classes:nU,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:I1e});return v&&m?W.jsx(tt,I(K(I({component:"img",ref:t,src:m},b("root")),{onError:u,mod:["fallback",g]}),f)):W.jsx(tt,I(K(I({component:"img",ref:t},b("root")),{src:d,onError:w=>{u==null||u(w),y(!0)},mod:g}),f))});Q8.classes=nU,Q8.displayName="@mantine/core/Image";var R1e=x.useLayoutEffect,rU=function(e,t){typeof e!="function"?e.current=t:e(t)},oU={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},iU=function(e){Object.keys(oU).forEach(function(t){e.style.setProperty(t,oU[t],"important")})},Mo=null,aU=function(e,t){var n=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?n+t.borderSize:n-t.paddingSize},sU=function(){},M1e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],D1e=!!document.documentElement.currentStyle,L1e=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var n=function(o,i){return o.reduce(function(a,s){return a[s]=i[s],a},{})}(M1e,t),r=n.boxSizing;return r===""?null:(D1e&&r==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})};function J8(e,t,n){var r=function(o){var i=Bt.useRef(o);return R1e(function(){i.current=o}),i}(n);x.useLayoutEffect(function(){var o=function(i){return r.current(i)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var j1e=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],z1e=function(e,t){var n=e.cacheMeasurements,r=e.maxRows,o=e.minRows,i=e.onChange,a=i===void 0?sU:i,s=e.onHeightChange,l=s===void 0?sU:s,c=function(f,v){if(f==null)return{};var y={};for(var b in f)if({}.hasOwnProperty.call(f,b)){if(v.indexOf(b)!==-1)continue;y[b]=f[b]}return y}(e,j1e),u=c.value!==void 0,d=x.useRef(null),p=function(f,v){var y=Bt.useRef();return Bt.useCallback(function(b){f.current=b,y.current&&rU(y.current,null),y.current=v,v&&rU(v,b)},[v])}(d,t),h=x.useRef(0),m=x.useRef(),g=function(){var f=d.current,v=n&&m.current?m.current:L1e(f);if(v){m.current=v;var y=function(k,_,E,S){E===void 0&&(E=1),S===void 0&&(S=1/0),Mo||((Mo=document.createElement("textarea")).setAttribute("tabindex","-1"),Mo.setAttribute("aria-hidden","true"),iU(Mo)),Mo.parentNode===null&&document.body.appendChild(Mo);var O=k.paddingSize,T=k.borderSize,M=k.sizingStyle,D=M.boxSizing;Object.keys(M).forEach(function(B){var L=B;Mo.style[L]=M[L]}),iU(Mo),Mo.value=_;var H=aU(Mo,k);Mo.value=_,H=aU(Mo,k),Mo.value="x";var $=Mo.scrollHeight-O,R=$*E;D==="border-box"&&(R=R+O+T),H=Math.max(R,H);var U=$*S;return D==="border-box"&&(U=U+O+T),[H=Math.min(U,H),$]}(v,f.value||f.placeholder||"x",o,r),b=y[0],w=y[1];h.current!==b&&(h.current=b,f.style.setProperty("height",b+"px","important"),l(b,{rowHeight:w}))}};return x.useLayoutEffect(g),function(f,v){J8(document.body,"reset",function(y){f.current.form===y.target&&v(y)})}(d,function(){if(!u){var f=d.current.value;requestAnimationFrame(function(){var v=d.current;v&&f!==v.value&&g()})}}),function(f){J8(window,"resize",f)}(g),function(f){J8(document.fonts,"loadingdone",f)}(g),x.createElement("textarea",Hr({},c,{onChange:function(f){u||g(),a(f)},ref:p}))},F1e=x.forwardRef(z1e);const B1e={},Hb=ft((e,t)=>{const n=$e("Textarea",B1e,e),{autosize:r,maxRows:o,minRows:i,__staticSelector:a,resize:s}=n,l=ye(n,["autosize","maxRows","minRows","__staticSelector","resize"]),c=r&&(typeof process<"u"&&process.env?"production":"development")!="test",u=c?{maxRows:o,minRows:i}:{};return W.jsx(Nh,I(K(I({component:c?F1e:"textarea",ref:t},l),{__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&o===void 0||void 0,__vars:{"--input-resize":s}}),u))});Hb.classes=Nh.classes,Hb.displayName="@mantine/core/Textarea";var lU={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const cU={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:ia("overlay")},U1e=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),Rh=ft((e,t)=>{const n=$e("LoadingOverlay",cU,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,transitionProps:u,loaderProps:d,overlayProps:p,visible:h,zIndex:m}=r,g=ye(r,["classNames","className","style","styles","unstyled","vars","transitionProps","loaderProps","overlayProps","visible","zIndex"]),f=No(),v=_t({name:"LoadingOverlay",classes:lU,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:U1e}),y=I(I({},cU.overlayProps),p);return W.jsx(Ro,K(I({transition:"fade"},u),{mounted:!!h,children:b=>W.jsxs(tt,K(I(K(I({},v("root",{style:b})),{ref:t}),g),{children:[W.jsx(rc,I(K(I({},v("loader")),{unstyled:l}),d)),W.jsx(Eh,K(I(I({},y),v("overlay")),{darkHidden:!0,unstyled:l,color:(p==null?void 0:p.color)||f.white})),W.jsx(Eh,K(I(I({},y),v("overlay")),{lightHidden:!0,unstyled:l,color:(p==null?void 0:p.color)||f.colors.dark[5]}))]}))}))});Rh.classes=lU,Rh.displayName="@mantine/core/LoadingOverlay";const[H1e,$1]=Ti("Menu component was not found in the tree");var Mh={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const $1e={},X8=ft((e,t)=>{const n=$e("MenuDivider",$1e,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=ye(n,["classNames","className","style","styles","vars"]),c=$1();return W.jsx(tt,I(I({ref:t},c.getStyles("divider",{className:o,style:i,styles:a,classNames:r})),l))});X8.classes=Mh,X8.displayName="@mantine/core/MenuDivider";const V1e={},Z8=ft((e,t)=>{const n=$e("MenuDropdown",V1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,onMouseEnter:l,onMouseLeave:c,onKeyDown:u,children:d}=n,p=ye(n,["classNames","className","style","styles","vars","onMouseEnter","onMouseLeave","onKeyDown","children"]),h=x.useRef(null),m=$1(),g=Po(u,y=>{var b,w;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(w=(b=h.current)==null?void 0:b.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||w.focus())}),f=Po(l,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.openDropdown()),v=Po(c,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.closeDropdown());return W.jsxs(fr.Dropdown,K(I(K(I({},p),{onMouseEnter:f,onMouseLeave:v,role:"menu","aria-orientation":"vertical",ref:li(t,h)}),m.getStyles("dropdown",{className:o,style:i,styles:a,classNames:r,withStaticClass:!1})),{tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:g,children:[m.withInitialFocusPlaceholder&&W.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),d]}))});Z8.classes=Mh,Z8.displayName="@mantine/core/MenuDropdown";const q1e={},eC=lo((e,t)=>{const n=$e("MenuItem",q1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,color:l,closeMenuOnClick:c,leftSection:u,rightSection:d,children:p,disabled:h,"data-disabled":m}=n,g=ye(n,["classNames","className","style","styles","vars","color","closeMenuOnClick","leftSection","rightSection","children","disabled","data-disabled"]),f=$1(),v=No(),{dir:y}=wh(),b=x.useRef(null),w=f.getItemIndex(b.current),k=g,_=Po(k.onMouseLeave,()=>f.setHovered(-1)),E=Po(k.onMouseEnter,()=>f.setHovered(f.getItemIndex(b.current))),S=Po(k.onClick,()=>{m||(typeof c=="boolean"?c&&f.closeDropdownImmediately():f.closeOnItemClick&&f.closeDropdownImmediately())}),O=Po(k.onFocus,()=>f.setHovered(f.getItemIndex(b.current))),T=l?v.variantColorResolver({color:l,theme:v,variant:"light"}):void 0,M=l?gh({color:l,theme:v}):null;return W.jsxs(co,K(I(K(I({},g),{unstyled:f.unstyled,tabIndex:f.menuItemTabIndex,onFocus:O}),f.getStyles("item",{className:o,style:i,styles:a,classNames:r})),{ref:li(b,t),role:"menuitem",disabled:h,"data-menu-item":!0,"data-disabled":h||m||void 0,"data-hovered":f.hovered===w||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:E,onMouseLeave:_,onClick:S,onKeyDown:Yz({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:f.loop,dir:y,orientation:"vertical",onKeyDown:k.onKeyDown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:T==null?void 0:T.color,"--menu-item-hover":T==null?void 0:T.hover},children:[u&&W.jsx("div",K(I({},f.getStyles("itemSection",{styles:a,classNames:r})),{"data-position":"left",children:u})),p&&W.jsx("div",K(I({},f.getStyles("itemLabel",{styles:a,classNames:r})),{children:p})),d&&W.jsx("div",K(I({},f.getStyles("itemSection",{styles:a,classNames:r})),{"data-position":"right",children:d}))]}))});eC.classes=Mh,eC.displayName="@mantine/core/MenuItem";const W1e={},tC=ft((e,t)=>{const n=$e("MenuLabel",W1e,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=ye(n,["classNames","className","style","styles","vars"]),c=$1();return W.jsx(tt,I(I({ref:t},c.getStyles("label",{className:o,style:i,styles:a,classNames:r})),l))});tC.classes=Mh,tC.displayName="@mantine/core/MenuLabel";const K1e={refProp:"ref"},uU=x.forwardRef((e,t)=>{const n=$e("MenuTarget",K1e,e),{children:r,refProp:o}=n,i=ye(n,["children","refProp"]);if(!fh(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=$1(),s=r.props,l=Po(s.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),c=Po(s.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),u=Po(s.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return W.jsx(fr.Target,K(I({refProp:o,popupType:"menu",ref:t},i),{children:x.cloneElement(r,{onClick:l,onMouseEnter:c,onMouseLeave:u,"data-expanded":!!a.opened||void 0})}))});uU.displayName="@mantine/core/MenuTarget";const G1e={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ht(e){const t=$e("Menu",G1e,e),n=t,{children:r,onOpen:o,onClose:i,opened:a,defaultOpened:s,trapFocus:l,onChange:c,closeOnItemClick:u,loop:d,closeOnEscape:p,trigger:h,openDelay:m,closeDelay:g,classNames:f,styles:v,unstyled:y,variant:b,vars:w,menuItemTabIndex:k,keepMounted:_,withInitialFocusPlaceholder:E}=n,S=ye(n,["children","onOpen","onClose","opened","defaultOpened","trapFocus","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","variant","vars","menuItemTabIndex","keepMounted","withInitialFocusPlaceholder"]),O=_t({name:"Menu",classes:Mh,props:t,classNames:f,styles:v,unstyled:y}),[T,{setHovered:M,resetHovered:D}]=function(){const[Q,te]=x.useState(-1);return[Q,{setHovered:te,resetHovered:()=>te(-1)}]}(),[H,$]=k1({value:a,defaultValue:s,finalValue:!1,onChange:c}),[R,U]=x.useState(!1),B=()=>{$(!1),U(!1),H&&(i==null||i())},L=()=>{$(!0),!H&&(o==null||o())},C=()=>{H?B():L()},{openDropdown:V,closeDropdown:N}=XB({open:L,close:B,closeDelay:g,openDelay:m}),{resolvedClassNames:q,resolvedStyles:J}=L1({classNames:f,styles:v,props:t});return Ha(()=>{D()},[H]),W.jsx(H1e,{value:{getStyles:O,opened:H,toggleDropdown:C,getItemIndex:Q=>function(te,X,ee){var ue;return ee?Array.from(((ue=db(ee,X))==null?void 0:ue.querySelectorAll(te))||[]).findIndex(de=>de===ee):null}("[data-menu-item]","[data-menu-dropdown]",Q),hovered:T,setHovered:M,openedViaClick:R,setOpenedViaClick:U,closeOnItemClick:u,closeDropdown:h==="click"?B:N,openDropdown:h==="click"?L:V,closeDropdownImmediately:B,loop:d,trigger:h,unstyled:y,menuItemTabIndex:k,withInitialFocusPlaceholder:E},children:W.jsx(fr,K(I({},S),{opened:H,onChange:C,defaultOpened:s,trapFocus:!_&&l,closeOnEscape:p,__staticSelector:"Menu",classNames:q,styles:J,unstyled:y,variant:b,keepMounted:_,children:r}))})}Ht.extend=e=>e,Ht.withProps=gF(Ht),Ht.classes=Mh,Ht.displayName="@mantine/core/Menu",Ht.Item=eC,Ht.Label=tC,Ht.Dropdown=Z8,Ht.Target=uU,Ht.Divider=X8;const[Y1e,Dh]=Ti("Modal component was not found in tree");var Js={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Q1e={},$b=ft((e,t)=>{const n=$e("ModalBody",Q1e,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=ye(n,["classNames","className","style","styles","vars"]),c=Dh();return W.jsx(NB,I(I({ref:t},c.getStyles("body",{classNames:r,style:i,styles:a,className:o})),l))});$b.classes=Js,$b.displayName="@mantine/core/ModalBody";const J1e={},Vb=ft((e,t)=>{const n=$e("ModalCloseButton",J1e,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=ye(n,["classNames","className","style","styles","vars"]),c=Dh();return W.jsx(IB,I(I({ref:t},c.getStyles("close",{classNames:r,style:i,styles:a,className:o})),l))});Vb.classes=Js,Vb.displayName="@mantine/core/ModalCloseButton";const X1e={},qb=ft((e,t)=>{const n=$e("ModalContent",X1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,children:l,__hidden:c}=n,u=ye(n,["classNames","className","style","styles","vars","children","__hidden"]),d=Dh(),p=d.scrollAreaComponent||Dme;return W.jsx(RB,K(I(K(I({},d.getStyles("content",{className:o,style:i,styles:a,classNames:r})),{innerProps:d.getStyles("inner",{className:o,style:i,styles:a,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:t}),u),{children:W.jsx(p,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${Le(d.yOffset)} * 2))`},children:l})}))});qb.classes=Js,qb.displayName="@mantine/core/ModalContent";const Z1e={},Wb=ft((e,t)=>{const n=$e("ModalHeader",Z1e,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=ye(n,["classNames","className","style","styles","vars"]),c=Dh();return W.jsx(MB,I(I({ref:t},c.getStyles("header",{classNames:r,style:i,styles:a,className:o})),l))});Wb.classes=Js,Wb.displayName="@mantine/core/ModalHeader";const efe={},Kb=ft((e,t)=>{const n=$e("ModalOverlay",efe,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=ye(n,["classNames","className","style","styles","vars"]),c=Dh();return W.jsx(DB,I(I({ref:t},c.getStyles("overlay",{classNames:r,style:i,styles:a,className:o})),l))});Kb.classes=Js,Kb.displayName="@mantine/core/ModalOverlay";const tfe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ia("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},nfe=(e,{radius:t,size:n,yOffset:r,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:Wr(t),"--modal-size":wn(n,"modal-size"),"--modal-y-offset":Le(r),"--modal-x-offset":Le(o)}}),Gb=ft((e,t)=>{const n=$e("ModalRoot",tfe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,yOffset:u,scrollAreaComponent:d,radius:p,fullScreen:h,centered:m,xOffset:g,__staticSelector:f}=r,v=ye(r,["classNames","className","style","styles","unstyled","vars","yOffset","scrollAreaComponent","radius","fullScreen","centered","xOffset","__staticSelector"]),y=_t({name:f,classes:Js,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:nfe});return W.jsx(Y1e,{value:{yOffset:u,scrollAreaComponent:d,getStyles:y,fullScreen:h},children:W.jsx(PB,I(K(I({ref:t},y("root")),{"data-full-screen":h||void 0,"data-centered":m||void 0,"data-offset-scrollbars":d===wu.Autosize||void 0,unstyled:l}),v))})});Gb.classes=Js,Gb.displayName="@mantine/core/ModalRoot";const[rfe,ofe]=M4();function dU({children:e}){const[t,n]=x.useState([]),[r,o]=x.useState(ia("modal"));return W.jsx(rfe,{value:{stack:t,addModal:(i,a)=>{n(s=>[...new Set([...s,i])]),o(s=>typeof a=="number"&&typeof s=="number"?Math.max(s,a):s)},removeModal:i=>n(a=>a.filter(s=>s!==i)),getZIndex:i=>`calc(${r} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}dU.displayName="@mantine/core/ModalStack";const ife={},Yb=ft((e,t)=>{const n=$e("ModalTitle",ife,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=ye(n,["classNames","className","style","styles","vars"]),c=Dh();return W.jsx(LB,I(I({ref:t},c.getStyles("title",{classNames:r,style:i,styles:a,className:o})),l))});Yb.classes=Js,Yb.displayName="@mantine/core/ModalTitle";const afe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ia("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Bn=ft((e,t)=>{const n=$e("Modal",afe,e),{title:r,withOverlay:o,overlayProps:i,withCloseButton:a,closeButtonProps:s,children:l,radius:c,opened:u,stackId:d,zIndex:p}=n,h=ye(n,["title","withOverlay","overlayProps","withCloseButton","closeButtonProps","children","radius","opened","stackId","zIndex"]),m=ofe(),g=!!r||a,f=m&&d?{closeOnEscape:m.currentId===d,trapFocus:m.currentId===d,zIndex:m.getZIndex(d)}:{},v=o!==!1&&(d&&m?m.currentId===d:u);return x.useEffect(()=>{m&&d&&(u?m.addModal(d,p||ia("modal")):m.removeModal(d))},[u,d,p]),W.jsxs(Gb,K(I(I({ref:t,radius:c,opened:u,zIndex:m&&d?m.getZIndex(d):p},h),f),{children:[o&&W.jsx(Kb,I({visible:v,transitionProps:m&&d?{duration:0}:void 0},i)),W.jsxs(qb,{radius:c,__hidden:!!(m&&d&&u)&&d!==m.currentId,children:[g&&W.jsxs(Wb,{children:[r&&W.jsx(Yb,{children:r}),a&&W.jsx(Vb,I({},s))]}),W.jsx($b,{children:l})]})]}))});Bn.classes=Js,Bn.displayName="@mantine/core/Modal",Bn.Root=Gb,Bn.Overlay=Kb,Bn.Content=qb,Bn.Body=$b,Bn.Header=Wb,Bn.Title=Yb,Bn.CloseButton=Vb,Bn.Stack=dU;var hU={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const sfe={withCloseButton:!0},lfe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Wr(t),"--notification-color":n?ci(n,e):void 0}}),nC=ft((e,t)=>{const n=$e("Notification",sfe,e),r=n,{className:o,color:i,radius:a,loading:s,withCloseButton:l,withBorder:c,title:u,icon:d,children:p,onClose:h,closeButtonProps:m,classNames:g,style:f,styles:v,unstyled:y,variant:b,vars:w,mod:k,loaderProps:_,role:E}=r,S=ye(r,["className","color","radius","loading","withCloseButton","withBorder","title","icon","children","onClose","closeButtonProps","classNames","style","styles","unstyled","variant","vars","mod","loaderProps","role"]),O=_t({name:"Notification",classes:hU,props:n,className:o,style:f,classNames:g,styles:v,unstyled:y,vars:w,varsResolver:lfe});return W.jsxs(tt,K(I(K(I({},O("root")),{mod:[{"data-with-icon":!!d||s,"data-with-border":c},k],ref:t,variant:b,role:E||"alert"}),S),{children:[d&&!s&&W.jsx("div",K(I({},O("icon")),{children:d})),s&&W.jsx(rc,I(I({size:28,color:i},_),O("loader"))),W.jsxs("div",K(I({},O("body")),{children:[u&&W.jsx("div",K(I({},O("title")),{children:u})),W.jsx(tt,K(I({},O("description")),{mod:{"data-with-title":!!u},children:p}))]})),l&&W.jsx(Ph,I(K(I({iconSize:16,color:"gray"},m),{unstyled:y,onClick:h}),O("closeButton")))]}))});nC.classes=hU,nC.displayName="@mantine/core/Notification";const cfe={duration:100,transition:"fade"};var Qb={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const ufe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:ia("popover")},dfe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Wr(t),"--tooltip-bg":n?ci(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),rC=ft((e,t)=>{var n,r;const o=$e("TooltipFloating",ufe,e),i=o,{children:a,refProp:s,withinPortal:l,style:c,className:u,classNames:d,styles:p,unstyled:h,radius:m,color:g,label:f,offset:v,position:y,multiline:b,zIndex:w,disabled:k,defaultOpened:_,variant:E,vars:S,portalProps:O}=i,T=ye(i,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","zIndex","disabled","defaultOpened","variant","vars","portalProps"]),M=No(),D=_t({name:"TooltipFloating",props:o,classes:Qb,className:u,style:c,classNames:d,styles:p,unstyled:h,rootSelector:"tooltip",vars:S,varsResolver:dfe}),{handleMouseMove:H,x:$,y:R,opened:U,boundaryRef:B,floating:L,setOpened:C}=function({offset:q,position:J,defaultOpened:Q}){const[te,X]=x.useState(Q),ee=x.useRef(null),{x:ue,y:de,elements:ge,refs:he,update:Ce,placement:be}=S8({placement:J,middleware:[b8({crossAxis:!0,padding:5,rootBoundary:"document"})]}),me=be.includes("right")?q:J.includes("left")?-1*q:0,pe=be.includes("bottom")?q:J.includes("top")?-1*q:0,Ie=x.useCallback(({clientX:xe,clientY:Ee})=>{he.setPositionReference({getBoundingClientRect:()=>({width:0,height:0,x:xe,y:Ee,left:xe+me,top:Ee+pe,right:xe,bottom:Ee})})},[ge.reference]);return x.useEffect(()=>{if(he.floating.current){const xe=ee.current;xe.addEventListener("mousemove",Ie);const Ee=Ks(he.floating.current);return Ee.forEach(Re=>{Re.addEventListener("scroll",Ce)}),()=>{xe.removeEventListener("mousemove",Ie),Ee.forEach(Re=>{Re.removeEventListener("scroll",Ce)})}}},[ge.reference,he.floating.current,Ce,Ie,te]),{handleMouseMove:Ie,x:ue,y:de,opened:te,setOpened:X,boundaryRef:ee,floating:he.setFloating}}({offset:v,position:y,defaultOpened:_});if(!fh(a))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const V=li(B,L4(a),t),N=a.props;return W.jsxs(W.Fragment,{children:[W.jsx(Oh,K(I({},O),{withinPortal:l,children:W.jsx(tt,K(I(I({},T),D("tooltip",{style:K(I({},Z4(c,M)),{zIndex:w,display:!k&&U?"block":"none",top:(n=R&&Math.round(R))!=null?n:"",left:(r=$&&Math.round($))!=null?r:""})})),{variant:E,ref:L,mod:{multiline:b},children:f}))})),x.cloneElement(a,K(I({},N),{[s]:V,onMouseEnter:q=>{var J;(J=N.onMouseEnter)==null||J.call(N,q),H(q),C(!0)},onMouseLeave:q=>{var J;(J=N.onMouseLeave)==null||J.call(N,q),C(!1)}}))]})});rC.classes=Qb,rC.displayName="@mantine/core/TooltipFloating";const pU=x.createContext(!1),hfe=pU.Provider,pfe={openDelay:0,closeDelay:0};function oC(e){const{openDelay:t,closeDelay:n,children:r}=$e("TooltipGroup",pfe,e);return W.jsx(hfe,{value:!0,children:W.jsx(Lpe,{delay:{open:t,close:n},children:r})})}function mfe(e){const t=function(r){if(r===void 0)return{shift:!0,flip:!0};const o=I({},r);return r.shift===void 0&&(o.shift=!0),r.flip===void 0&&(o.flip=!0),o}(e.middlewares),n=[jF(e.offset)];return t.shift&&n.push(b8(typeof t.shift=="boolean"?{padding:8}:I({padding:8},t.shift))),t.flip&&n.push(typeof t.flip=="boolean"?Ob():Ob(t.flip)),n.push(FF({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?F1():F1(t.inline)):e.inline&&n.push(F1()),n}function ffe(e){var t,n,r;const[o,i]=x.useState(e.defaultOpened),a=typeof e.opened=="boolean"?e.opened:o,s=x.useContext(pU),l=y1(),c=x.useCallback(S=>{i(S),S&&w(l)},[l]),{x:u,y:d,context:p,refs:h,update:m,placement:g,middlewareData:{arrow:{x:f,y:v}={}}}=S8({strategy:e.strategy,placement:e.position,open:a,onOpenChange:c,middleware:mfe(e)}),{delay:y,currentId:b,setCurrentId:w}=jpe(p,{id:l}),{getReferenceProps:k,getFloatingProps:_}=function(S){S===void 0&&(S=[]);const O=S.map(R=>R==null?void 0:R.reference),T=S.map(R=>R==null?void 0:R.floating),M=S.map(R=>R==null?void 0:R.item),D=x.useCallback(R=>T8(R,S,"reference"),O),H=x.useCallback(R=>T8(R,S,"floating"),T),$=x.useCallback(R=>T8(R,S,"item"),M);return x.useMemo(()=>({getReferenceProps:D,getFloatingProps:H,getItemProps:$}),[D,H,$])}([Dpe(p,{enabled:(t=e.events)==null?void 0:t.hover,delay:s?y:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((n=e.events)!=null&&n.touch)}),$pe(p,{enabled:(r=e.events)==null?void 0:r.focus,visibleOnly:!0}),qpe(p,{role:"tooltip"}),Upe(p,{enabled:e.opened===void 0})]);wB({opened:a,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:h,update:m}}),Ha(()=>{var S;(S=e.onPositionChange)==null||S.call(e,g)},[g]);const E=a&&b&&b!==l;return{x:u,y:d,arrowX:f,arrowY:v,reference:h.setReference,floating:h.setFloating,getFloatingProps:_,getReferenceProps:k,isGroupPhase:E,opened:a,placement:g}}oC.displayName="@mantine/core/TooltipGroup",oC.extend=e=>e;const mU={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:ia("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},gfe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Wr(t),"--tooltip-bg":n?ci(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),hi=ft((e,t)=>{const n=$e("Tooltip",mU,e),r=$e("Tooltip",mU,n),{children:o,position:i,refProp:a,label:s,openDelay:l,closeDelay:c,onPositionChange:u,opened:d,defaultOpened:p,withinPortal:h,radius:m,color:g,classNames:f,styles:v,unstyled:y,style:b,className:w,withArrow:k,arrowSize:_,arrowOffset:E,arrowRadius:S,arrowPosition:O,offset:T,transitionProps:M,multiline:D,events:H,zIndex:$,disabled:R,positionDependencies:U,onClick:B,onMouseEnter:L,onMouseLeave:C,inline:V,variant:N,keepMounted:q,vars:J,portalProps:Q,mod:te,floatingStrategy:X,middlewares:ee}=r,ue=ye(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","defaultOpened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted","vars","portalProps","mod","floatingStrategy","middlewares"]),{dir:de}=wh(),ge=x.useRef(null),he=ffe({position:dB(de,i),closeDelay:c,openDelay:l,onPositionChange:u,opened:d,defaultOpened:p,events:H,arrowRef:ge,arrowOffset:E,offset:typeof T=="number"?T+(k?_/2:0):T,positionDependencies:[...U,o],inline:V,strategy:X,middlewares:ee}),Ce=_t({name:"Tooltip",props:n,classes:Qb,className:w,style:b,classNames:f,styles:v,unstyled:y,rootSelector:"tooltip",vars:J,varsResolver:gfe});if(!fh(o))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const be=li(he.reference,L4(o),t),me=function(Ie,xe){return I(I(I({},cfe),xe),Ie)}(M,{duration:100,transition:"fade"}),pe=o.props;return W.jsxs(W.Fragment,{children:[W.jsx(Oh,K(I({},Q),{withinPortal:h,children:W.jsx(Ro,K(I({},me),{keepMounted:q,mounted:!R&&!!he.opened,duration:he.isGroupPhase?10:me.duration,children:Ie=>{var xe,Ee;return W.jsxs(tt,K(I(K(I({},ue),{"data-fixed":X==="fixed"||void 0,variant:N,mod:[{multiline:D},te]}),he.getFloatingProps({ref:he.floating,className:Ce("tooltip").className,style:K(I(I({},Ce("tooltip").style),Ie),{zIndex:$,top:(xe=he.y)!=null?xe:0,left:(Ee=he.x)!=null?Ee:0})})),{children:[s,W.jsx(R8,I({ref:ge,arrowX:he.arrowX,arrowY:he.arrowY,visible:k,position:he.placement,arrowSize:_,arrowOffset:E,arrowRadius:S,arrowPosition:O},Ce("arrow")))]}))}}))})),x.cloneElement(o,he.getReferenceProps(K(I({onClick:B,onMouseEnter:L,onMouseLeave:C,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:so(w,pe.className)},pe),{[a]:be})))]})});hi.classes=Qb,hi.displayName="@mantine/core/Tooltip",hi.Floating=rC,hi.Group=oC;var fU={root:"m_6d731127"};const vfe={gap:"md",align:"stretch",justify:"flex-start"},bfe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":ao(t),"--stack-align":n,"--stack-justify":r}}),Pi=ft((e,t)=>{const n=$e("Stack",vfe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,align:u,justify:d,gap:p,variant:h}=r,m=ye(r,["classNames","className","style","styles","unstyled","vars","align","justify","gap","variant"]),g=_t({name:"Stack",props:n,classes:fU,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:bfe});return W.jsx(tt,I(K(I({ref:t},g("root")),{variant:h}),m))});Pi.classes=fU,Pi.displayName="@mantine/core/Stack";const[yfe,wfe]=Ti("Table component was not found in the tree");var V1={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function Cu(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=ft((o,i)=>{const a=$e(n,{},o),s=a,{classNames:l,className:c,style:u,styles:d}=s,p=ye(s,["classNames","className","style","styles"]),h=wfe();return W.jsx(tt,I(I(I({component:e,ref:i},function(m,g){if(!g)return;const f={};return g.columnBorder&&m.withColumnBorders&&(f["data-with-column-border"]=!0),g.rowBorder&&m.withRowBorders&&(f["data-with-row-border"]=!0),g.striped&&m.striped&&(f["data-striped"]=m.striped),g.highlightOnHover&&m.highlightOnHover&&(f["data-hover"]=!0),g.captionSide&&m.captionSide&&(f["data-side"]=m.captionSide),g.stickyHeader&&m.stickyHeader&&(f["data-sticky"]=!0),f}(h,t)),h.getStyles(e,{className:c,classNames:l,style:u,styles:d,props:a})),p))});return r.displayName=`@mantine/core/${n}`,r.classes=V1,r}const iC=Cu("th",{columnBorder:!0}),gU=Cu("td",{columnBorder:!0}),Jb=Cu("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),vU=Cu("thead",{stickyHeader:!0}),bU=Cu("tbody"),yU=Cu("tfoot"),wU=Cu("caption",{captionSide:!0});function aC({data:e}){return W.jsxs(W.Fragment,{children:[e.caption&&W.jsx(wU,{children:e.caption}),e.head&&W.jsx(vU,{children:W.jsx(Jb,{children:e.head.map((t,n)=>W.jsx(iC,{children:t},n))})}),e.body&&W.jsx(bU,{children:e.body.map((t,n)=>W.jsx(Jb,{children:t.map((r,o)=>W.jsx(gU,{children:r},o))},n))}),e.foot&&W.jsx(yU,{children:W.jsx(Jb,{children:e.foot.map((t,n)=>W.jsx(iC,{children:t},n))})})]})}aC.displayName="@mantine/core/TableDataRenderer";const kfe={type:"scrollarea"},_fe=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Le(t),"--table-max-height":Le(n),"--table-overflow":r==="native"?"auto":void 0}}),sC=ft((e,t)=>{const n=$e("TableScrollContainer",kfe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,children:u,minWidth:d,maxHeight:p,type:h,scrollAreaProps:m}=r,g=ye(r,["classNames","className","style","styles","unstyled","vars","children","minWidth","maxHeight","type","scrollAreaProps"]),f=_t({name:"TableScrollContainer",classes:V1,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:_fe,rootSelector:"scrollContainer"});return W.jsx(tt,K(I(I(K(I({component:h==="scrollarea"?wu:"div"},h==="scrollarea"?I(p?{offsetScrollbars:"xy"}:{offsetScrollbars:"x"},m):{}),{ref:t}),f("scrollContainer")),g),{children:W.jsx("div",K(I({},f("scrollContainerInner")),{children:u}))}))});sC.classes=V1,sC.displayName="@mantine/core/TableScrollContainer";const xfe={withRowBorders:!0,verticalSpacing:7},Cfe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:o,borderColor:i,stripedColor:a,highlightOnHoverColor:s,striped:l,highlightOnHover:c,stickyHeaderOffset:u,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":ao(r),"--table-vertical-spacing":ao(o),"--table-border-color":i?ci(i,e):void 0,"--table-striped-color":l&&a?ci(a,e):void 0,"--table-highlight-on-hover-color":c&&s?ci(s,e):void 0,"--table-sticky-header-offset":d?Le(u):void 0}}),Lr=ft((e,t)=>{const n=$e("Table",xfe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,horizontalSpacing:u,verticalSpacing:d,captionSide:p,stripedColor:h,highlightOnHoverColor:m,striped:g,highlightOnHover:f,withColumnBorders:v,withRowBorders:y,withTableBorder:b,borderColor:w,layout:k,variant:_,data:E,children:S,stickyHeader:O,stickyHeaderOffset:T,mod:M,tabularNums:D}=r,H=ye(r,["classNames","className","style","styles","unstyled","vars","horizontalSpacing","verticalSpacing","captionSide","stripedColor","highlightOnHoverColor","striped","highlightOnHover","withColumnBorders","withRowBorders","withTableBorder","borderColor","layout","variant","data","children","stickyHeader","stickyHeaderOffset","mod","tabularNums"]),$=_t({name:"Table",props:n,className:i,style:a,classes:V1,classNames:o,styles:s,unstyled:l,rootSelector:"table",vars:c,varsResolver:Cfe});return W.jsx(yfe,{value:{getStyles:$,stickyHeader:O,striped:g===!0?"odd":g||void 0,highlightOnHover:f,withColumnBorders:v,withRowBorders:y,captionSide:p||"bottom"},children:W.jsx(tt,K(I(I({component:"table",variant:_,ref:t,mod:[{"data-with-table-border":b,"data-tabular-nums":D},M]},$("table")),H),{children:S||!!E&&W.jsx(aC,{data:E})}))})});Lr.classes=V1,Lr.displayName="@mantine/core/Table",Lr.Td=gU,Lr.Th=iC,Lr.Tr=Jb,Lr.Thead=vU,Lr.Tbody=bU,Lr.Tfoot=yU,Lr.Caption=wU,Lr.ScrollContainer=sC,Lr.DataRenderer=aC;const Sfe={},lC=ft((e,t)=>{const n=$e("TextInput",Sfe,e);return W.jsx(Nh,K(I({component:"input",ref:t},n),{__staticSelector:"TextInput"}))});lC.classes=Nh.classes,lC.displayName="@mantine/core/TextInput";const Xb=()=>{const e=HL();return e==null?void 0:e.use_transparent_background};var Tfe=Object.defineProperty,Efe=Object.defineProperties,Ofe=Object.getOwnPropertyDescriptors,kU=Object.getOwnPropertySymbols,Afe=Object.prototype.hasOwnProperty,Pfe=Object.prototype.propertyIsEnumerable,_U=(e,t,n)=>t in e?Tfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xU={position:"absolute",width:"100%",height:"100%",objectFit:"cover"},Lh=()=>{var e,t,n;const r=G(f=>f.chatBox.botMode),o=Xb(),i=G(f=>f.chatBox.showChatBox),a=G(f=>{var v,y,b;return(b=(y=(v=f.chatBox.agent)==null?void 0:v.config)==null?void 0:y.custom_style)==null?void 0:b.transparent_header}),s=((t=(e=Pt())==null?void 0:e.config)==null?void 0:t.avatai)||{},{zoom_level:l=1,h_offset:c=0,v_offset:u=0}=s,[d,p]=x.useState(null),h=(n=d==null?void 0:d.height)!=null?n:0;x.useLayoutEffect(()=>{const f=()=>{var v,y;const b=(y=(v=Fe.headerRef)==null?void 0:v.current)==null?void 0:y.getBoundingClientRect();b&&p(b)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[i]);const m={position:"absolute",overflow:"hidden",width:"100%",height:"100%",left:0,bottom:0,zIndex:1};if(r==="avataiOnly")if(Tt){if(!a){const f=h+70;m.bottom=-3,m.width="100vw",m.height=`calc(100vh - ${f}px)`}}else m.borderRadius="var(--chat-box-border-radius, 8px)";o&&delete m.boxShadow,i||(m.display="none");const g=((f,v)=>Efe(f,Ofe(v)))(((f,v)=>{for(var y in v||(v={}))Afe.call(v,y)&&_U(f,y,v[y]);if(kU)for(var y of kU(v))Pfe.call(v,y)&&_U(f,y,v[y]);return f})({},xU),{transform:`scale(${l}) translate(${c}%, ${u}%)`});return{style:m,videoContainerStyle:g,videoStyle:xU}},oc=()=>{const e=G(ho);return!!e&&(e.closed||uf(e))},cC=()=>G(e=>e.chatBox.composerMode)==="voice",uC=Sr("");var Nfe=Object.defineProperty,CU=Object.getOwnPropertySymbols,Ife=Object.prototype.hasOwnProperty,Rfe=Object.prototype.propertyIsEnumerable,SU=(e,t,n)=>t in e?Nfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mfe=(e,t)=>{for(var n in t||(t={}))Ife.call(t,n)&&SU(e,n,t[n]);if(CU)for(var n of CU(t))Rfe.call(t,n)&&SU(e,n,t[n]);return e};const Dfe=()=>{var e,t;const{videoTrack:n}=C4(),{style:r,videoContainerStyle:o}=Lh(),[i,a]=pn(uC);return delete r.display,o.width="150%",o.transform="scale(0.8) translate(-20%, -15%)",r.borderRadius=10,x.useEffect(()=>{n&&i!=="video"&&a("video")},[a,i,n]),n?A(Rb,{target:(t=(e=Fe.containerRef)==null?void 0:e.current)!=null?t:void 0,children:A("div",{id:"livekit-video-wrapper",style:Mfe({},r),children:A("div",{id:"livekit-video-container",style:o,children:A(vhe,{trackRef:n,style:{width:"100%",objectFit:"contain"}})})})}):null};function TU(){var e,t,n;const r=dt(),{state:o,videoTrack:i,audioTrack:a}=C4(),s=R1(Fe.headerRef),l=function(){const{agentTranscriptions:d}=C4(),p=She(),{segments:h}=yz(p);return x.useMemo(()=>{const m=[...d.map(y=>ob(rb({},y),{role:"assistant"})),...h.map(y=>ob(rb({},y),{role:"user"}))].sort((y,b)=>y.firstReceivedTime-b.firstReceivedTime),g=[];let f=null;const v=y=>{y&&(g.push(ob(rb({},y),{text:y.text.join(" ")})),f=null)};return m.forEach(y=>{y.role==="assistant"?(v(f),g.push(y)):f?(f.text.push(y.text),f.lastReceivedTime=y.lastReceivedTime):f=ob(rb({},y),{text:[y.text]})}),v(f),g},[d,h])}(),c=G(d=>d.chatBox.botMode);if(x.useEffect(()=>{bt(l)||l.forEach(d=>{const p={id:d.id,text:d.text,timestamp:d.receivedAt,format:"markdown",type:d.role==="assistant"?"bot":"user",name:d.role==="assistant"?"bot":"user"};r(Un(p))})},[l,r]),Yt(c))return null;if(i)return A(Dfe,{});const u=(e=s==null?void 0:s.height)!=null?e:100;return le(Rb,{target:(n=(t=Fe.chatDetailViewRef)==null?void 0:t.current)!=null?n:void 0,children:[A(Lfe,{id:"voice-agent-view-container",style:{top:u-20},children:A(khe,{state:o,barCount:5,trackRef:a,className:"agent-visualizer",options:{minHeight:24}})}),A(jfe,{style:{top:u}})]})}const Lfe=Ae("div",{target:"e1jx82bj1"})({name:"st79xj",styles:"position:absolute;width:100%;height:140px;z-index:200;& .agent-visualizer{gap:10px;display:flex;align-items:center;justify-content:center;width:100%;height:100%;}& .lk-audio-bar{transition:background-color 300ms ease-in-out;width:30px;display:block;background-color:black;border-radius:32px;}& .lk-highlighted{background-color:#adabab;}"}),jfe=Ae("div",{target:"e1jx82bj0"})({name:"1g6dpdj",styles:`position:absolute;width:100%;height:160px;z-index:20;background:linear-gradient(
    to bottom,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) calc(100% - 40px),
    rgba(255, 255, 255, 0) 100%
  )`}),EU=e=>{let t=0;const n=setInterval(()=>{Fe.scrollToBottom(0),e(N$(Date.now())),t++,t===6&&clearInterval(n)},100)},zfe="idle",Xs="loading",Zb="succeeded",ey="failed",ic=()=>G(Ly).status===Xs,Su=()=>G(Bbe);var OU,AU;const Ffe=$r((AU||(AU=1,OU={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),OU));var Bfe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function PU(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Ffe[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var o=new RegExp(Bfe),i=null;(i=o.exec(e))!==null;)if(i[0].trim())if(i[1]){var a=i[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),t.attrs[s[0]]=s[1],o.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var Ufe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Hfe=/^\s*$/,$fe=Object.create(null),Vfe=function(e,t){t||(t={}),t.components||(t.components=$fe);var n,r=[],o=[],i=-1,a=!1;if(e.indexOf("<")!==0){var s=e.indexOf("<");r.push({type:"text",content:s===-1?e:e.substring(0,s)})}return e.replace(Ufe,function(l,c){if(a){if(l!=="</"+n.name+">")return;a=!1}var u,d=l.charAt(1)!=="/",p=l.startsWith("<!--"),h=c+l.length,m=e.charAt(h);if(p){var g=PU(l);return i<0?(r.push(g),r):((u=o[i]).children.push(g),r)}if(d&&(i++,(n=PU(l)).type==="tag"&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!m||m==="<"||n.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),i===0&&r.push(n),(u=o[i-1])&&u.children.push(n),o[i]=n),(!d||n.voidElement)&&(i>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(i--,n=i===-1?r:o[i]),!a&&m!=="<"&&m)){u=i===-1?r:o[i].children;var f=e.indexOf("<",h),v=e.slice(h,f===-1?void 0:f);Hfe.test(v)&&(v=" "),(f>-1&&i+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),r};function ty(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ni(t[0])&&(t[0]=`react-i18next:: ${t[0]}`)}}const NU={};function ny(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ni(t[0])&&NU[t[0]]||(Ni(t[0])&&(NU[t[0]]=new Date),ty(...t))}const IU=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},RU=(e,t,n)=>{e.loadNamespaces(t,IU(e,n))},MU=(e,t,n,r)=>{Ni(n)&&(n=[n]),n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,IU(e,r))},Ni=e=>typeof e=="string",jh=e=>typeof e=="object"&&e!==null,qfe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Wfe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Kfe=e=>Wfe[e];let dC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(qfe,Kfe)};const DU=()=>dC;let LU;const hC=()=>LU,pC=(e,t)=>{if(!e)return!1;const n=e.props?e.props.children:e.children;return t?n.length>0:!!n},mC=e=>{if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?zh(t):t},zh=e=>Array.isArray(e)?e:[e],jU=(e,t)=>{if(!e)return"";let n="";const r=zh(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach((i,a)=>{if(Ni(i))n+=`${i}`;else if(x.isValidElement(i)){const{props:s,type:l}=i,c=Object.keys(s).length,u=o.indexOf(l)>-1,d=s.children;if(d||!u||c)if(!d&&(!u||c)||s.i18nIsDynamicList)n+=`<${a}></${a}>`;else if(u&&c===1&&Ni(d))n+=`<${l}>${d}</${l}>`;else{const p=jU(d,t);n+=`<${a}>${p}</${a}>`}else n+=`<${l}/>`}else if(i===null)ty("Trans: the passed in value is invalid - seems you passed in a null child.");else if(jh(i)){const s=i,{format:l}=s,c=ye(s,["format"]),u=Object.keys(c);if(u.length===1){const d=l?`${u[0]}, ${l}`:u[0];n+=`{{${d}}}`}else ty("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else ty("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),n},Gfe=(e,t,n,r,o,i)=>{if(t==="")return[];const a=r.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(a.map(f=>`<${f}`).join("|")).test(t);if(!e&&!s&&!i)return[t];const l={},c=f=>{zh(f).forEach(v=>{Ni(v)||(pC(v)?c(mC(v)):jh(v)&&!x.isValidElement(v)&&Object.assign(l,v))})};c(e);const u=Vfe(`<0>${t}</0>`),d=I(I({},l),o),p=(f,v,y)=>{const b=mC(f),w=m(b,v.children,y);return(k=>Array.isArray(k)&&k.every(x.isValidElement))(b)&&w.length===0||f.props&&f.props.i18nIsDynamicList?b:w},h=(f,v,y,b,w)=>{f.dummy?(f.children=v,y.push(x.cloneElement(f,{key:b},w?void 0:v))):y.push(...x.Children.map([f],k=>{const _=I({},k.props);return delete _.i18nIsDynamicList,x.createElement(k.type,K(I({},_),{key:b,ref:k.ref}),w?null:v)}))},m=(f,v,y)=>{const b=zh(f);return zh(v).reduce((w,k,_)=>{const E=k.children&&k.children[0]&&k.children[0].content&&n.services.interpolator.interpolate(k.children[0].content,d,n.language);if(k.type==="tag"){let S=b[parseInt(k.name,10)];y.length===1&&!S&&(S=y[0][k.name]),S||(S={});const O=Object.keys(k.attrs).length!==0?(($,R)=>{const U=I({},R);return U.props=Object.assign($.props,R.props),U})({props:k.attrs},S):S,T=x.isValidElement(O),M=T&&pC(k,!0)&&!k.voidElement,D=s&&jh(O)&&O.dummy&&!T,H=jh(e)&&Object.hasOwnProperty.call(e,k.name);if(Ni(O)){const $=n.services.interpolator.interpolate(O,d,n.language);w.push($)}else if(pC(O)||M){const $=p(O,k,y);h(O,$,w,_)}else if(D){const $=m(b,k.children,y);h(O,$,w,_)}else if(Number.isNaN(parseFloat(k.name)))if(H){const $=p(O,k,y);h(O,$,w,_,k.voidElement)}else if(r.transSupportBasicHtmlNodes&&a.indexOf(k.name)>-1)if(k.voidElement)w.push(x.createElement(k.name,{key:`${k.name}-${_}`}));else{const $=m(b,k.children,y);w.push(x.createElement(k.name,{key:`${k.name}-${_}`},$))}else if(k.voidElement)w.push(`<${k.name} />`);else{const $=m(b,k.children,y);w.push(`<${k.name}>${$}</${k.name}>`)}else if(jh(O)&&!T){const $=k.children[0]?E:null;$&&w.push($)}else h(O,E,w,_,k.children.length!==1||!E)}else if(k.type==="text"){const S=r.transWrapTextNodes,O=i?r.unescape(n.services.interpolator.interpolate(k.content,d,n.language)):n.services.interpolator.interpolate(k.content,d,n.language);S?w.push(x.createElement(S,{key:`${k.name}-${_}`},O)):w.push(O)}return w},[])},g=m([{dummy:!0,children:e||[]}],u,zh(e||[]));return mC(g[0])},Yfe={type:"3rdParty",init(e){(function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dC=I(I({},dC),t)})(e.options.react),(t=>{LU=t})(e)}},zU=x.createContext();class Qfe{constructor(){((t,n,r)=>{ox(t,typeof n!="symbol"?n+"":n,r)})(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces)),this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}function FU(e){let t=e,{children:n,count:r,parent:o,i18nKey:i,context:a,tOptions:s={},values:l,defaults:c,components:u,ns:d,i18n:p,t:h,shouldUnescape:m}=t,g=ye(t,["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"]);const{i18n:f,defaultNS:v}=x.useContext(zU)||{},y=p||f||hC(),b=h||y&&y.t.bind(y);return function(w){let k=w,{children:_,count:E,parent:S,i18nKey:O,context:T,tOptions:M={},values:D,defaults:H,components:$,ns:R,i18n:U,t:B,shouldUnescape:L}=k,C=ye(k,["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"]);const V=U||hC();if(!V)return ny("You will need to pass in an i18next instance by using i18nextReactModule"),_;const N=B||V.t.bind(V)||(be=>be),q=I(I({},DU()),V.options&&V.options.react);let J=R||N.ns||V.options&&V.options.defaultNS;J=Ni(J)?[J]:J||["translation"];const Q=jU(_,q),te=H||Q||q.transEmptyNodeValue||O,{hashTransKey:X}=q,ee=O||(X?X(Q||te):Q||te);V.options&&V.options.interpolation&&V.options.interpolation.defaultVariables&&(D=D&&Object.keys(D).length>0?I(I({},D),V.options.interpolation.defaultVariables):I({},V.options.interpolation.defaultVariables));const ue=D||E!==void 0||!_?M.interpolation:{interpolation:K(I({},M.interpolation),{prefix:"#$?",suffix:"?$#"})},de=K(I(I(K(I({},M),{context:T||M.context,count:E}),D),ue),{defaultValue:te,ns:J}),ge=ee?N(ee,de):te;$&&Object.keys($).forEach(be=>{const me=$[be];typeof me.type=="function"||!me.props||!me.props.children||ge.indexOf(`${be}/>`)<0&&ge.indexOf(`${be} />`)<0||($[be]=x.createElement(function(){return x.createElement(x.Fragment,null,me)}))});const he=Gfe($||_,ge,V,q,de,L),Ce=S!==void 0?S:q.defaultTransParent;return Ce?x.createElement(Ce,C,he):he}(I({children:n,count:r,parent:o,i18nKey:i,context:a,tOptions:s,values:l,defaults:c,components:u,ns:d||b&&b.ns||v||y&&y.options&&y.options.defaultNS,i18n:y,t:h,shouldUnescape:m},g))}const BU=(e,t,n,r)=>e.getFixedT(t,n,r),jr=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:o}=x.useContext(zU)||{},i=n||r||hC();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Qfe),!i){ny("You will need to pass in an i18next instance by using initReactI18next");const w=(_,E)=>Ni(E)?E:jh(E)&&Ni(E.defaultValue)?E.defaultValue:Array.isArray(_)?_[_.length-1]:_,k=[w,{},!1];return k.t=w,k.i18n={},k.ready=!1,k}i.options.react&&i.options.react.wait!==void 0&&ny("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a=I(I(I({},DU()),i.options.react),t),{useSuspense:s,keyPrefix:l}=a;let c=o||i.options&&i.options.defaultNS;c=Ni(c)?[c]:c||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(c);const u=(i.isInitialized||i.initializedStoreOnce)&&c.every(w=>function(k,_){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.languages&&_.languages.length?_.options.ignoreJSONStructure!==void 0?_.hasLoadedNamespace(k,{lng:E.lng,precheck:(S,O)=>{if(E.bindI18n&&E.bindI18n.indexOf("languageChanging")>-1&&S.services.backendConnector.backend&&S.isLanguageChangingTo&&!O(S.isLanguageChangingTo,k))return!1}}):function(S,O){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const M=O.languages[0],D=!!O.options&&O.options.fallbackLng,H=O.languages[O.languages.length-1];if(M.toLowerCase()==="cimode")return!0;const $=(R,U)=>{const B=O.services.backendConnector.state[`${R}|${U}`];return B===-1||B===2};return!(T.bindI18n&&T.bindI18n.indexOf("languageChanging")>-1&&O.services.backendConnector.backend&&O.isLanguageChangingTo&&!$(O.isLanguageChangingTo,S)||!(O.hasResourceBundle(M,S)||!O.services.backendConnector.backend||O.options.resources&&!O.options.partialBundledLanguages||$(M,S)&&(!D||$(H,S))))}(k,_,E):(ny("i18n.languages were undefined or empty",_.languages),!0)}(w,i,a)),d=((w,k,_,E)=>x.useCallback(BU(w,k,_,E),[w,k,_,E]))(i,t.lng||null,a.nsMode==="fallback"?c:c[0],l),p=()=>d,h=()=>BU(i,t.lng||null,a.nsMode==="fallback"?c:c[0],l),[m,g]=x.useState(p);let f=c.join();t.lng&&(f=`${t.lng}${f}`);const v=((w,k)=>{const _=x.useRef();return x.useEffect(()=>{_.current=w},[w,k]),_.current})(f),y=x.useRef(!0);x.useEffect(()=>{const{bindI18n:w,bindI18nStore:k}=a;y.current=!0,!u&&!s&&(t.lng?MU(i,t.lng,c,()=>{y.current&&g(h)}):RU(i,c,()=>{y.current&&g(h)})),u&&v&&v!==f&&y.current&&g(h);const _=()=>{y.current&&g(h)};return w&&i&&i.on(w,_),k&&i&&i.store.on(k,_),()=>{y.current=!1,w&&i&&w.split(" ").forEach(E=>i.off(E,_)),k&&i&&k.split(" ").forEach(E=>i.store.off(E,_))}},[i,f]),x.useEffect(()=>{y.current&&u&&g(p)},[i,l,u]);const b=[m,i,u];if(b.t=m,b.i18n=i,b.ready=u,u||!u&&!s)return b;throw new Promise(w=>{t.lng?MU(i,t.lng,c,()=>w()):RU(i,c,()=>w())})},UU=()=>{var e,t,n,r;const o=Pt();return(t=(e=o==null?void 0:o.config)==null?void 0:e.style)!=null&&t.font_family?o.config.style.font_family:(r=(n=o==null?void 0:o.config)==null?void 0:n.custom_style)!=null&&r.current_theme_template_name?"Inter, sans-serif":"Poppins, sans-serif"},Jfe=e=>["suggestedQuestions",e],HU=()=>{var e,t;const n=Pt(),r=er(),o=G(u=>u.chatBox.botMode==="searchBar"),i=(t=(e=n==null?void 0:n.config)==null?void 0:e.custom_style)==null?void 0:t.auto_complete_type,a=o||!!i,s=G(u=>u.chatBox.showChatBox),l=G(u=>u.chatBox.showSearchBar),c=s||l;return oh({queryKey:Jfe(r),queryFn:()=>(async u=>{const{chatbotId:d,size:p=1e4,useCache:h=!0}=u;if(!d)throw new Error("chatbotId is required");const m=`${Mt.gatewayHost}/api/v1/public/suggested-question-list/agents/${d}?size=${p}&use_cache=${h}`,g=await xt.get(m);if(!g.data.response)throw new Error("Failed to fetch suggested questions");return g.data.response})({chatbotId:r}),enabled:!!n&&c&&a,staleTime:18e5})},$U={avatarSessionError:null,isAvatarSessionPending:!1,isUploadingFile:!1,isUploadingImage:!1,bestSuggestionsActiveIndex:-1},VU=sv({name:"hookState",initialState:$U,reducers:{setAvatarSessionError:(e,t)=>{e.avatarSessionError=t.payload},setAvatarSessionPending:(e,t)=>{e.isAvatarSessionPending=t.payload},setIsUploadingFile:(e,t)=>{e.isUploadingFile=t.payload},setIsUploadingImage:(e,t)=>{e.isUploadingImage=t.payload},setBestSuggestionsActiveIndex:(e,t)=>{e.bestSuggestionsActiveIndex=t.payload},resetHookState:()=>$U}}),{setAvatarSessionError:ry,setAvatarSessionPending:fC,setIsUploadingFile:qU,setIsUploadingImage:WU,setBestSuggestionsActiveIndex:Tu,resetHookState:POe}=VU.actions,Fh=e=>{const t=dt(),n=G(c=>c.chatBox.composedMessage),[r]=function(c,u,d={leading:!1}){const[p,h]=x.useState(c),m=x.useRef(!1),g=x.useRef(null),f=x.useRef(!1),v=()=>window.clearTimeout(g.current);return x.useEffect(()=>{m.current&&(!f.current&&d.leading?(f.current=!0,h(c)):(v(),g.current=window.setTimeout(()=>{f.current=!1,h(c)},u)))},[c,d.leading,u]),x.useEffect(()=>(m.current=!0,v),[]),[p,v]}(e||n,300),{data:o}=HU(),i=dr(),a=i==null?void 0:i.auto_complete_type,s=G(c=>c.hookState.bestSuggestionsActiveIndex),l=x.useMemo(()=>r&&o?o.filter(c=>c.toLocaleLowerCase()!==r.toLocaleLowerCase()&&(a==="prefix"?c.toLowerCase().startsWith(r.toLowerCase()):a==="contains"&&c.toLowerCase().includes(r.toLowerCase()))):[],[r,o,a]);return x.useEffect(()=>{t(Tu(l.length))},[t,l.length]),{bestSuggestions:l,bestSuggestionsActiveIndex:s}},Bh=({handleSendClick:e,maxRows:t=9})=>{const n=dt(),r=G(k=>k.chatBox.isMicOn),o=G(k=>k.chatBox.composedMessage),i=G(k=>k.hookState.isUploadingImage),a=G(k=>k.hookState.isUploadingFile),{bestSuggestions:s,bestSuggestionsActiveIndex:l}=Fh(),{t:c}=jr(),{text_input_background_color:u}=Vt(),d=ic(),p=Su(),h=UU(),m=d||p,g=m||r,[f,v]=x.useState("");let y=c("typeYourMessage");g&&(y=c("thinking")),r&&(y=""),(i||a)&&(y="Uploading...");const b=x.useRef(null);Fe.messageTextAreaRef=b,x.useEffect(()=>{const k=s[l];k?(v(k),setTimeout(()=>{b.current&&(b.current.selectionStart=k.length,b.current.selectionEnd=k.length)},1)):v(o)},[s,l,o]);const w=Hn(u);return r?A(kn,{px:12,c:w,fz:"sm",children:y}):A(Hb,{ref:b,placeholder:y,value:f,onChange:k=>{const _=k.target.value;v(_),n(lc(_))},onKeyDown:async k=>{if(k.key==="Enter"&&!k.shiftKey){if(m||Tt||k.nativeEvent.isComposing)return;k.preventDefault();const _=s[l];_&&n(lc(_)),e()}if(k.key==="ArrowDown"){let _=l+1;_%=s.length+1,n(Tu(_))}if(k.key==="ArrowUp"){let _=l===-1?s.length:l;_-=1,n(Tu(_))}(k.key==="ArrowLeft"||k.key==="ArrowRight")&&n(Tu(s.length))},onFocus:()=>{Tt&&setTimeout(()=>{EU(n)},300)},onBlur:()=>{var k;if(!Tt)return;const _=(k=Fe.avatarVideoContainerRef)==null?void 0:k.current;_&&(_.style.top="0"),setTimeout(()=>{EU(n),window.scrollTo({top:0,behavior:"smooth"})},300)},autosize:!0,minRows:1,maxRows:t,disabled:g,w:"calc(100% - 32px)",styles:{input:{fontFamily:h,fontSize:Tt?"var(--message-composer-mobile-font-size, 16px)":"var(--message-composer-font-size, 14px)",border:"none",background:"transparent",color:w,margin:"12px 0",padding:"4px 6px"}}})};var KU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GU=Bt.createContext&&Bt.createContext(KU),Xfe=["attr","size","title"];function Zfe(e,t){if(e==null)return{};var n,r,o=function(a,s){if(a==null)return{};var l={};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){if(s.indexOf(c)>=0)continue;l[c]=a[c]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(this,arguments)}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(n),!0).forEach(function(r){e0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e0e(e,t,n){return t=function(r){var o=function(i,a){if(typeof i!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var l=s.call(i,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}(r,"string");return typeof o=="symbol"?o:o+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QU(e){return e&&e.map((t,n)=>Bt.createElement(t.tag,iy({key:n},t.attr),QU(t.child)))}function gt(e){return t=>Bt.createElement(t0e,oy({attr:iy({},e.attr)},t),QU(e.child))}function t0e(e){var t=n=>{var r,{attr:o,size:i,title:a}=e,s=Zfe(e,Xfe),l=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),Bt.createElement("svg",oy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:r,style:iy(iy({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Bt.createElement("title",null,a),e.children)};return GU!==void 0?Bt.createElement(GU.Consumer,null,n=>t(n)):t(KU)}function n0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(e)}function r0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"9",r:"4"},child:[]},{tag:"path",attr:{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"},child:[]}]})(e)}function JU(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 6h12v12H6z"},child:[]}]})(e)}function o0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08a.956.956 0 0 1-.29-.7c0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28a11.27 11.27 0 0 0-2.67-1.85.996.996 0 0 1-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"},child:[]}]})(e)}function i0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"},child:[]}]})(e)}function a0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13v7H4V6h5.02c.05-.71.22-1.38.48-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5l-2-2zm-1.5 5h-11l2.75-3.53 1.96 2.36 2.75-3.54zm2.8-9.11c.44-.7.7-1.51.7-2.39C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89zM15.5 9a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function XU(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"},child:[]}]})(e)}function s0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(e)}function l0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(e)}function ca(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function c0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(e)}function u0e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M17 12h-3V8h-4v4H7l5 5zm2-9h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04a2.008 2.008 0 0 0-1.44 1.19c-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},child:[]}]})(e)}function ZU(e){return gt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function gC(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function d0e(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm296-80v160c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16z"},child:[]}]})(e)}const ay="0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1)",q1=e=>{const t=rs(),n=is(),r=dr(),o=(r==null?void 0:r.message_composer_version)||"v1",i=(r==null?void 0:r.use_conversation_mode)||!1,a={minHeight:o==="v1"&&i===!1?38:92,background:"var(--text-input-background-color, rgba(59, 59, 59, 1))",border:"1px solid var(--text-input-border-color, rgba(59, 59, 59, 1))",borderRadius:"0.75em",flexDirection:"column",justifyContent:"stretch",alignItems:"center",alignSelf:"stretch",margin:14,marginTop:0,gap:4,position:"relative",wordBreak:"break-word",paddingTop:bt(e)?0:110,padding:"0 12px",zIndex:30,boxShadow:`var(--message-composer-box-shadow, ${ay})`};return t&&(a.padding=0),n?Tt||(a.marginBottom=40):a.marginBottom=14,{messageComposerStyle:a}};function h0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 2L16.2426 6.24264L14.8284 7.65685L12 4.82843L9.17157 7.65685L7.75736 6.24264L12 2ZM2 12L6.24264 7.75736L7.65685 9.17157L4.82843 12L7.65685 14.8284L6.24264 16.2426L2 12ZM22 12L17.7574 16.2426L16.3431 14.8284L19.1716 12L16.3431 9.17157L17.7574 7.75736L22 12ZM12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14ZM12 22L7.75736 17.7574L9.17157 16.3431L12 19.1716L14.8284 16.3431L16.2426 17.7574L12 22Z"},child:[]}]})(e)}function eH(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"},child:[]}]})(e)}function W1(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9998 3C10.3429 3 8.99976 4.34315 8.99976 6V10C8.99976 11.6569 10.3429 13 11.9998 13C13.6566 13 14.9998 11.6569 14.9998 10V6C14.9998 4.34315 13.6566 3 11.9998 3ZM11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"},child:[]}]})(e)}function vC(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.4249 17.839L21.1925 22.6066L22.6068 21.1924L2.80777 1.3934L1.39355 2.80761L7.00016 8.41421V10C7.00016 12.7614 9.23873 15 12.0002 15C12.4825 15 12.9489 14.9317 13.3902 14.8042L14.9404 16.3544C14.0464 16.7688 13.0503 17 12.0002 17C8.47368 17 5.55627 14.3923 5.07105 11H3.05509C3.51623 15.1716 6.82854 18.4839 11.0002 18.9451V23H13.0002V18.9451C14.2341 18.8087 15.3929 18.4228 16.4249 17.839ZM11.5528 12.9669C10.2541 12.7727 9.22745 11.7461 9.03328 10.4473L11.5528 12.9669ZM19.3747 15.1604L17.9323 13.7179C18.4407 12.9084 18.788 11.9874 18.9293 11H20.9452C20.7754 12.5366 20.2187 13.9565 19.3747 15.1604ZM16.4658 12.2514L14.9173 10.703C14.9715 10.4775 15.0002 10.2421 15.0002 10V6C15.0002 4.34315 13.657 3 12.0002 3C10.7059 3 9.6031 3.81956 9.18237 4.96802L7.68575 3.47139C8.55427 1.99268 10.1613 1 12.0002 1C14.7616 1 17.0002 3.23858 17.0002 6V10C17.0002 10.8099 16.8076 11.5748 16.4658 12.2514Z"},child:[]}]})(e)}function p0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.7134 7.12811L20.4668 7.69379C20.2864 8.10792 19.7136 8.10792 19.5331 7.69379L19.2866 7.12811C18.8471 6.11947 18.0555 5.31641 17.0677 4.87708L16.308 4.53922C15.8973 4.35653 15.8973 3.75881 16.308 3.57612L17.0252 3.25714C18.0384 2.80651 18.8442 1.97373 19.2761 0.930828L19.5293 0.319534C19.7058 -0.106511 20.2942 -0.106511 20.4706 0.319534L20.7238 0.930828C21.1558 1.97373 21.9616 2.80651 22.9748 3.25714L23.6919 3.57612C24.1027 3.75881 24.1027 4.35653 23.6919 4.53922L22.9323 4.87708C21.9445 5.31641 21.1529 6.11947 20.7134 7.12811ZM8.5 6H6.5V18H8.5V6ZM4 10H2V14H4V10ZM13 2H11V22H13V2ZM17.5 8H15.5V18H17.5V8ZM22 10H20V14H22V10Z"},child:[]}]})(e)}function m0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 7H7V17H5V7ZM1 10H3V14H1V10ZM9 2H11V20H9V2ZM13 4H15V22H13V4ZM17 7H19V17H17V7ZM21 10H23V14H21V10Z"},child:[]}]})(e)}function f0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 15H19V3H22C22.5523 3 23 3.44772 23 4V14C23 14.5523 22.5523 15 22 15ZM16.7071 16.2929L10.3066 22.6934C10.1307 22.8693 9.85214 22.8891 9.65308 22.7398L8.8005 22.1004C8.3158 21.7369 8.09739 21.1174 8.24686 20.5303L9.40017 16H3C1.89543 16 1 15.1046 1 14V11.8957C1 11.6344 1.05118 11.3757 1.15064 11.1342L4.24501 3.61925C4.3993 3.24455 4.76447 3 5.16969 3H16C16.5523 3 17 3.44772 17 4V15.5858C17 15.851 16.8946 16.1054 16.7071 16.2929Z"},child:[]}]})(e)}function g0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.40017 16H3C1.89543 16 1 15.1046 1 14V11.8957C1 11.6344 1.05118 11.3757 1.15064 11.1342L4.24501 3.61925C4.3993 3.24455 4.76447 3 5.16969 3H22C22.5523 3 23 3.44772 23 4V14C23 14.5523 22.5523 15 22 15H18.5182C18.1932 15 17.8886 15.1579 17.7012 15.4233L12.2478 23.149C12.1053 23.3508 11.8367 23.4184 11.6157 23.3078L9.80163 22.4008C8.74998 21.875 8.20687 20.6874 8.49694 19.548L9.40017 16ZM17 13.4125V5H5.83939L3 11.8957V14H9.40017C10.7049 14 11.6602 15.229 11.3384 16.4934L10.4351 20.0414C10.3771 20.2693 10.4857 20.5068 10.6961 20.612L11.3572 20.9425L16.0673 14.27C16.3172 13.9159 16.6366 13.6257 17 13.4125ZM19 13H21V5H19V13Z"},child:[]}]})(e)}function v0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 8.99997H5V21H2C1.44772 21 1 20.5523 1 20V9.99997C1 9.44769 1.44772 8.99997 2 8.99997ZM7.29289 7.70708L13.6934 1.30661C13.8693 1.13066 14.1479 1.11087 14.3469 1.26016L15.1995 1.8996C15.6842 2.26312 15.9026 2.88253 15.7531 3.46966L14.5998 7.99997H21C22.1046 7.99997 23 8.8954 23 9.99997V12.1043C23 12.3656 22.9488 12.6243 22.8494 12.8658L19.755 20.3807C19.6007 20.7554 19.2355 21 18.8303 21H8C7.44772 21 7 20.5523 7 20V8.41419C7 8.14897 7.10536 7.89462 7.29289 7.70708Z"},child:[]}]})(e)}function b0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14.5998 8.00033H21C22.1046 8.00033 23 8.89576 23 10.0003V12.1047C23 12.3659 22.9488 12.6246 22.8494 12.8662L19.755 20.3811C19.6007 20.7558 19.2355 21.0003 18.8303 21.0003H2C1.44772 21.0003 1 20.5526 1 20.0003V10.0003C1 9.44804 1.44772 9.00033 2 9.00033H5.48184C5.80677 9.00033 6.11143 8.84246 6.29881 8.57701L11.7522 0.851355C11.8947 0.649486 12.1633 0.581978 12.3843 0.692483L14.1984 1.59951C15.25 2.12534 15.7931 3.31292 15.5031 4.45235L14.5998 8.00033ZM7 10.5878V19.0003H18.1606L21 12.1047V10.0003H14.5998C13.2951 10.0003 12.3398 8.77128 12.6616 7.50691L13.5649 3.95894C13.6229 3.73105 13.5143 3.49353 13.3039 3.38837L12.6428 3.0578L7.93275 9.73038C7.68285 10.0844 7.36341 10.3746 7 10.5878ZM5 11.0003H3V19.0003H5V11.0003Z"},child:[]}]})(e)}function y0e(e){return gt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,88H152V32Z",opacity:"0.2"},child:[]},{tag:"path",attr:{d:"M224,152a8,8,0,0,1-8,8H192v16h16a8,8,0,0,1,0,16H192v16a8,8,0,0,1-16,0V152a8,8,0,0,1,8-8h32A8,8,0,0,1,224,152ZM92,172a28,28,0,0,1-28,28H56v8a8,8,0,0,1-16,0V152a8,8,0,0,1,8-8H64A28,28,0,0,1,92,172Zm-16,0a12,12,0,0,0-12-12H56v24h8A12,12,0,0,0,76,172Zm88,8a36,36,0,0,1-36,36H112a8,8,0,0,1-8-8V152a8,8,0,0,1,8-8h16A36,36,0,0,1,164,180Zm-16,0a20,20,0,0,0-20-20h-8v40h8A20,20,0,0,0,148,180ZM40,112V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88v24a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H56v72a8,8,0,0,1-16,0ZM160,80h28.69L160,51.31Z"},child:[]}]})(e)}function w0e(e){return gt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M48,180c0,11,7.18,20,16,20a14.24,14.24,0,0,0,10.22-4.66A8,8,0,0,1,85.78,206.4,30.06,30.06,0,0,1,64,216c-17.65,0-32-16.15-32-36s14.35-36,32-36a30.06,30.06,0,0,1,21.78,9.6,8,8,0,0,1-11.56,11.06A14.24,14.24,0,0,0,64,160C55.18,160,48,169,48,180Zm79.6-8.69c-4-1.16-8.14-2.35-10.45-3.84-1.25-.81-1.23-1-1.12-1.9a4.57,4.57,0,0,1,2-3.67c4.6-3.12,15.34-1.73,19.82-.56A8,8,0,0,0,142,145.86c-2.12-.55-21-5.22-32.84,2.76a20.58,20.58,0,0,0-9,14.95c-2,15.88,13.65,20.41,23,23.11,12.06,3.49,13.12,4.92,12.78,7.59-.31,2.41-1.26,3.34-2.14,3.93-4.6,3.06-15.17,1.56-19.55.36A8,8,0,0,0,109.94,214a61.34,61.34,0,0,0,15.19,2c5.82,0,12.3-1,17.49-4.46a20.82,20.82,0,0,0,9.19-15.23C154,179,137.49,174.17,127.6,171.31Zm83.09-26.84a8,8,0,0,0-10.23,4.84L188,184.21l-12.47-34.9a8,8,0,0,0-15.07,5.38l20,56a8,8,0,0,0,15.07,0l20-56A8,8,0,0,0,210.69,144.47ZM216,88v24a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H56v72a8,8,0,0,1-16,0V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-27.31-8L160,51.31V80Z"},child:[]}]})(e)}function k0e(e){return gt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-32-80a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,136Zm0,32a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,168Z"},child:[]}]})(e)}function _0e(e){return gt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184,144H168a8,8,0,0,0-8,8v56a8,8,0,0,0,16,0v-8h8a28,28,0,0,0,0-56Zm0,40h-8V160h8a12,12,0,0,1,0,24Zm-48-32v56a8,8,0,0,1-16,0V152a8,8,0,0,1,16,0ZM96,208a8,8,0,0,1-8,8H56a8,8,0,0,1-7-12l25.16-44H56a8,8,0,0,1,0-16H88a8,8,0,0,1,7,12L69.79,200H88A8,8,0,0,1,96,208ZM213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v72a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48v16a8,8,0,0,0,16,0V88A8,8,0,0,0,213.66,82.34ZM160,80V51.31L188.69,80Z"},child:[]}]})(e)}function Zs(e){return gt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM48,48H208v77.38l-24.69-24.7a16,16,0,0,0-22.62,0L53.37,208H48ZM208,208H76l96-96,36,36v60ZM96,120A24,24,0,1,0,72,96,24,24,0,0,0,96,120Zm0-32a8,8,0,1,1-8,8A8,8,0,0,1,96,88Z"},child:[]}]})(e)}function bC(e){return gt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M163.51,24.81a8,8,0,0,0-8.42.88L85.25,80H40A16,16,0,0,0,24,96v64a16,16,0,0,0,16,16H85.25l69.84,54.31A8,8,0,0,0,168,224V32A8,8,0,0,0,163.51,24.81ZM152,207.64,92.91,161.69A7.94,7.94,0,0,0,88,160H40V96H88a7.94,7.94,0,0,0,4.91-1.69L152,48.36ZM208,104v48a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm32-16v80a8,8,0,0,1-16,0V88a8,8,0,0,1,16,0Z"},child:[]}]})(e)}function yC(e){return gt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M192,152V104a8,8,0,0,1,16,0v48a8,8,0,0,1-16,0Zm40-72a8,8,0,0,0-8,8v80a8,8,0,0,0,16,0V88A8,8,0,0,0,232,80ZM221.92,210.62a8,8,0,1,1-11.84,10.76L168,175.09V224a8,8,0,0,1-12.91,6.31L85.25,176H40a16,16,0,0,1-16-16V96A16,16,0,0,1,40,80H81.55L50.08,45.38A8,8,0,0,1,61.92,34.62ZM152,157.49,96.1,96H40v64H88a7.94,7.94,0,0,1,4.91,1.69L152,207.64ZM125.06,69.31l26.94-21v58.47a8,8,0,0,0,16,0V32a8,8,0,0,0-12.91-6.31l-39.85,31a8,8,0,0,0,9.82,12.63Z"},child:[]}]})(e)}const K1=()=>{const e=G(r=>r.chatBox.isMicOn),t=ic(),n=Su();return t||n||e},G1=()=>{const e=dt(),[t,n]=pn(uC),{stopMic:r}=dy();return{resetConversationMode:()=>{ne.log("resetConversationMode: switching to text mode, keeping connections alive"),n(""),e(Zh("text")),ne.log("stopMic resetConversationMode"),r(),Va.instance.stop()}}};var x0e=Object.defineProperty,C0e=Object.defineProperties,S0e=Object.getOwnPropertyDescriptors,tH=Object.getOwnPropertySymbols,T0e=Object.prototype.hasOwnProperty,E0e=Object.prototype.propertyIsEnumerable,nH=(e,t,n)=>t in e?x0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rH=(e,t)=>{for(var n in t||(t={}))T0e.call(t,n)&&nH(e,n,t[n]);if(tH)for(var n of tH(t))E0e.call(t,n)&&nH(e,n,t[n]);return e},oH=(e,t)=>C0e(e,S0e(t));const O0e=()=>{const e=dt(),t=G(O=>O.chatBox.composedMessage),n=G(O=>O.chatBox.isMicMuted),r=G(O=>O.chatBox.isSpeakerMuted),[o,i]=pn(Uh),{primary_color:a}=Vt(),{messageComposerStyle:s}=q1([]),l=x4([Se.Source.Microphone]).find(O=>O.participant.isLocal),{livekitRoom:c,status:u,muteMic:d,unmuteMic:p}=oa(),h=u==="connecting",m=vz(l),g=gz(c==null?void 0:c.localParticipant),{resetConversationMode:f}=G1(),v=n?vC:W1,y=n?"orange":"gray.7",b=r?yC:bC,w=r?"orange":"gray.7",k=K1(),_=async()=>{if(k||bt(t))return;const O=t;e(lc("")),c==null||c.localParticipant.sendText(O,{topic:"lk.chat"});const T={id:gu(),text:O,timestamp:Date.now(),format:"markdown",type:"user"};e(Un(T))};x.useEffect(()=>{if(u!=="connected"||!c)return;const O=(M,D,H)=>{ne.log("VoiceModeMessageComposer handleTrackSubscribed track:",M," publication:",D," participant:",H),ne.log("VoiceModeMessageComposer handleTrackSubscribed setAgentJoined(true)"),i(!0)};c.on("trackSubscribed",O);const T=c.remoteParticipants;for(const M of T.values())M.identity.startsWith("agent-"),ne.log("VoiceModeMessageComposer handleTrackSubscribed setAgentJoined(true)"),i(!0);return()=>{c.off("trackSubscribed",O)}},[u,c,i]),x.useEffect(()=>{u==="connected"&&o?n?d():p():d()},[n,d,p,u,o]),x.useEffect(()=>{u==="connected"&&o&&(async()=>n?d():bt(t)?p():d())()},[t,n,d,p,u,o]);const E={width:"70%",height:"70%",transition:"opacity 200ms ease"},S={transition:"outline 200ms ease",display:"flex",alignItems:"center"};return g&&(S.outline=`solid ${Math.min(5,Math.max(1,10*m))}px rgba(100, 100, 100, ${Math.min(.8,Math.max(.2,m))})`),le(ku,{id:"voice-mode-message-composer",withBorder:!0,styles:{root:s},style:S,shadow:"sm",children:[A(Rh,{visible:h||!o}),A(kn,{c:"dimmed",size:"xs",children:"Conversation mode"}),le(Fn,{w:"100%",justify:"space-between",align:"center",style:{overflow:"hidden",position:"relative",height:"32px"},children:[A(Bh,{handleSendClick:_,maxRows:1}),le(Fn,{gap:"xs",style:{padding:"4px",position:"absolute",right:0,transform:bt(t)&&!k?"translateX(0)":"translateX(29px)",transition:"transform 200ms ease"},children:[le(Zt,{radius:100,color:bt(t)?y:a,variant:"filled",loading:k,style:{transition:"background-color 200ms ease",backgroundColor:"var(--message-composer-mic-button-bg, #eb4034)"},onClick:()=>{bt(t)?e(nS(!n)):_()},children:[A(v,{style:oH(rH({},E),{opacity:bt(t)?1:0,position:"absolute"})}),A(ZU,{style:oH(rH({},E),{opacity:bt(t)?0:1})})]}),A(Zt,{radius:100,color:w,variant:"filled",onClick:()=>{const O=!r;e(ol(O)),e(af(!O))},children:A(b,{style:{width:"70%",height:"70%"}})}),A(Zt,{radius:100,color:"gray.7",variant:"filled",onClick:()=>{f()},children:A(ca,{style:{width:"70%",height:"70%"}})})]})]})]})},A0e=()=>{const e=G(a=>a.chatBox.isSpeakerMuted),{livekitRoom:t,startLivekit:n,stopLivekit:r}=oa(),o=os();x.useEffect(()=>(n(),()=>{r()}),[n,r]);const i=K1();return x.useEffect(()=>{var a,s;o||i||Tt||(s=(a=Fe.messageTextAreaRef)==null?void 0:a.current)==null||s.focus()},[o,i]),le(P1.Provider,{value:t,children:[A(TU,{}),A(Cz,{muted:e}),A(O0e,{})]})};var P0e=Object.defineProperty,N0e=Object.defineProperties,I0e=Object.getOwnPropertyDescriptors,iH=Object.getOwnPropertySymbols,R0e=Object.prototype.hasOwnProperty,M0e=Object.prototype.propertyIsEnumerable,aH=(e,t,n)=>t in e?P0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sH=(e,t)=>{for(var n in t||(t={}))R0e.call(t,n)&&aH(e,n,t[n]);if(iH)for(var n of iH(t))M0e.call(t,n)&&aH(e,n,t[n]);return e},lH=(e,t)=>N0e(e,I0e(t));const D0e=()=>{const e=dt(),t=G(D=>D.chatBox.composedMessage),n=G(D=>D.chatBox.isMicMuted),r=G(D=>D.chatBox.isSpeakerMuted),o=G(D=>D.chatBox.isAvatarSpeaking),i=G(D=>D.chatBox.botVoiceEnabled),a=G(wt),[s,l]=pn(Uh),{primary_color:c}=Vt(),{messageComposerStyle:u}=q1([]),[d,p]=x.useState(0),[h,m]=x.useState(!1),g=x.useRef(null),f=x.useRef(null),{resetConversationMode:v}=G1(),y=n?vC:W1,b=n?"orange":"gray.7",w=r?yC:bC,k=r?"orange":"gray.7",_=K1(),E=x.useCallback(async()=>{ne.log("VoiceModeMessageComposerAkool initializeLocalAudio getSharedAgoraClient");const D=await pr();if(D&&window.AgoraRTC)if(D.connectionState==="CONNECTED")try{if((await navigator.permissions.query({name:"microphone"})).state==="denied")return void ne.error("Microphone permission denied");const H=await window.AgoraRTC.createMicrophoneAudioTrack({encoderConfig:"speech_low_quality",AEC:!0,ANS:!0,AGC:!0});await D.publish(H),g.current=H,n?await H.setEnabled(!1):await H.setEnabled(!0),ne.log("VoiceModeMessageComposerAkool initializeLocalAudio setAgentJoined(true)"),l(!0),D.enableAudioVolumeIndicator(),f.current&&D.off("volume-indicator",f.current);const $=R=>{R.forEach(U=>{if(U.uid===D.uid){const B=U.level,L=Math.max(0,Math.min(1,(B-30)/50));p(L),m(L>.4)}})};f.current=$,D.on("volume-indicator",$)}catch{}else ne.log("Agora client not connected yet, waiting...");else ne.error("Agora client not initialized")},[l,n]),S=x.useCallback(async()=>{ne.log("VoiceModeMessageComposerAkool cleanupLocalAudio getSharedAgoraClient");const D=await pr();if(D)try{f.current&&(D.off("volume-indicator",f.current),f.current=null),g.current&&(g.current.stop(),g.current.close(),await D.unpublish(g.current),g.current=null)}catch{}},[]);x.useEffect(()=>{ne.log("VoiceModeMessageComposerAkool useEffect getSharedAgoraClient");let D=null;const H={current:!0};return(async()=>{const $=await pr();if(!$||!H.current)return;if($.connectionState==="CONNECTED")return void E();const R=U=>{H.current&&(U==="CONNECTED"?E():U==="DISCONNECTED"&&S())};$.on("connection-state-change",R),D=()=>$.off("connection-state-change",R)})(),()=>{H.current=!1,D==null||D(),S()}},[E,S]),x.useEffect(()=>{g.current&&(async()=>{var D,H;n?await((D=g.current)==null?void 0:D.setEnabled(!1)):await((H=g.current)==null?void 0:H.setEnabled(!0))})()},[n]),x.useEffect(()=>{ne.log("VoiceModeMessageComposerAkool useEffect isSpeakerMuted:",r),(async()=>{const D=await pr();D&&D.remoteUsers.forEach(H=>{H.audioTrack&&(r?H.audioTrack.stop():H.audioTrack.play())})})()},[r]),x.useEffect(()=>{(async()=>{if(g.current){if(n)return void await g.current.setEnabled(!1);bt(t)?await g.current.setEnabled(!0):await g.current.setEnabled(!1)}})()},[t,n]),x.useEffect(()=>{i||r?i&&r&&e(ol(!1)):e(ol(!0))},[i,r,e]);const O=async()=>{if(_||bt(t))return;o&&C1();const D=t;e(lc("")),ne.log("VoiceModeMessageComposerAkool handleSendClick getSharedAgoraClient");const H=await pr();if(H){const R={v:2,type:"chat",mid:`msg-${Date.now()}`,pld:{text:D}},U=JSON.stringify(R);await H.sendStreamMessage(U,!1)}const $={id:gu(),text:D,timestamp:Date.now(),format:"markdown",type:"user"};e(Un($))},T={width:"70%",height:"70%",transition:"opacity 200ms ease"},M={transition:"outline 200ms ease",display:"flex",alignItems:"center",paddingTop:"4px"};return h&&(M.outline=`solid ${Math.min(5,Math.max(1,10*d))}px rgba(100, 100, 100, ${Math.min(.8,Math.max(.2,d))})`),le(ku,{id:"voice-mode-message-composer",withBorder:!0,styles:{root:u},style:M,shadow:"sm",children:[A(Rh,{visible:!s}),A(kn,{c:"dimmed",size:"xs",children:"Conversation mode"}),le(Fn,{w:"100%",justify:"space-between",align:"center",style:{overflow:"hidden",position:"relative",height:"32px"},children:[A(Bh,{handleSendClick:O,maxRows:1}),le(Fn,{gap:"xs",style:{padding:"4px",position:"absolute",right:0,transform:bt(t)&&!_?"translateX(0)":"translateX(29px)",transition:"transform 200ms ease"},children:[le(Zt,{radius:100,color:bt(t)?b:c,variant:"filled",loading:_,style:{transition:"background-color 200ms ease"},onClick:()=>{bt(t)?e(nS(!n)):O()},children:[A(y,{style:lH(sH({},T),{opacity:bt(t)?1:0,position:"absolute"})}),A(ZU,{style:lH(sH({},T),{opacity:bt(t)?0:1})})]}),bt(t)&&A(Zt,{radius:100,color:k,variant:"filled",onClick:()=>{const D=!r;e(ol(D)),e(af(!D))},children:A(w,{style:{width:"70%",height:"70%"}})}),A(Zt,{radius:100,color:"gray.7",variant:"filled",onClick:()=>{C1(),Fe.shouldAbort=!0,e(ns(!1)),a&&e(Ri({threadId:a,waiting:!1}))},children:A(JU,{style:{width:"70%",height:"70%"}})}),A(Zt,{radius:100,color:"gray.7",variant:"filled",onClick:()=>{v()},children:A(ca,{style:{width:"70%",height:"70%"}})})]})]})]})},L0e=()=>{const e=os(),t=K1();return x.useEffect(()=>{var n,r;e||t||Tt||(r=(n=Fe.messageTextAreaRef)==null?void 0:n.current)==null||r.focus()},[e,t]),A(D0e,{})},ac=()=>{const e=dr(),t=(e==null?void 0:e.message_composer_version)||"v1";return{isV1:t==="v1",isV2:t==="v2",isV2Avatar:t==="v2-avatar"}};var j0e=Object.defineProperty,z0e=Object.defineProperties,F0e=Object.getOwnPropertyDescriptors,cH=Object.getOwnPropertySymbols,B0e=Object.prototype.hasOwnProperty,U0e=Object.prototype.propertyIsEnumerable,uH=(e,t,n)=>t in e?j0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sy=(e,t)=>{for(var n in t||(t={}))B0e.call(t,n)&&uH(e,n,t[n]);if(cH)for(var n of cH(t))U0e.call(t,n)&&uH(e,n,t[n]);return e},ly=(e,t)=>z0e(e,F0e(t));const H0e={width:"56px",height:"56px",borderRadius:"16px",padding:"1px"},$0e={width:"100%",height:"100%",borderRadius:"15px",padding:0,border:"none",transition:"background-color 0.2s ease"},V0e={gap:1,align:"center"},q0e={size:"xs",c:"white",style:{width:"55px",minHeight:"32px",textAlign:"center",whiteSpace:"normal",fontSize:"var(--voice-mode-button-font-size, 10px)"}},wC=({icon:e,label:t,onClick:n,color:r,disabled:o,isActive:i,onMouseEnter:a,onMouseLeave:s,loading:l})=>{const c=x.useMemo(()=>i?"var(--voice-mode-button-active-bg, #EDF2FF)":r,[i,r]),u=x.useMemo(()=>ly(sy({},$0e),{background:c||"var(--voice-mode-button-bg, var(--mantine-color-gray-3))"}),[c]),d=x.useMemo(()=>ly(sy({},H0e),{background:"var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff))"}),[]);return le(Pi,ly(sy({},V0e),{children:[A("div",{style:d,children:A(An,{onClick:n,disabled:o,onMouseEnter:a,onMouseLeave:s,style:u,loading:l,children:e})}),A(kn,ly(sy({},q0e),{children:t}))]}))},dH=()=>or({mutationFn:e=>(async t=>{const{conversation_id:n,rating:r}=t;if(!n||!r)return;const o=`${Mt.chatHost}/api/v1/survey`,i=await xt.post(o,t);if(i.status!==200||i==null||!i.data)throw new Error("Error sending survey");return i.data})(e),onError:e=>{}}),hH=Sr(void 0),pH=Sr(""),kC=Sr(!1),_C=()=>{const e=dt(),{mutate:t}=dH(),{resetConversationMode:n}=G1(),{disconnectLivekit:r}=oa(),o=G(wt),[i]=pn(pH),[a]=pn(hH),[s,l]=pn(kC),c=Pt();return{closeChatbot:async()=>{var u,d;if(n(),ne.log("closeChatbot: disconnecting all connections"),await Uv(),r(),o){l(!0);try{const p=(d=(u=c==null?void 0:c.config)==null?void 0:u.custom_style)==null?void 0:d.default_composer_mode;p&&e(Zh(p)),a&&t({conversation_id:o,rating:a,comment:i}),await e(Gr({threadId:o,keepOpen:!0})),e(Qh(!1)),e(Er(!1))}catch{}finally{setTimeout(()=>{l(!1)},300)}}},isClosing:s}};function mH(e){return gt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 6 9 17l-5-5"},child:[]}]})(e)}function W0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 8h.01"},child:[]},{tag:"path",attr:{d:"M12 12h.01"},child:[]},{tag:"path",attr:{d:"M14 8h.01"},child:[]},{tag:"path",attr:{d:"M16 12h.01"},child:[]},{tag:"path",attr:{d:"M18 8h.01"},child:[]},{tag:"path",attr:{d:"M6 8h.01"},child:[]},{tag:"path",attr:{d:"M7 16h10"},child:[]},{tag:"path",attr:{d:"M8 12h.01"},child:[]},{tag:"rect",attr:{width:"20",height:"16",x:"2",y:"4",rx:"2"},child:[]}]})(e)}function K0e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 12h6"},child:[]},{tag:"path",attr:{d:"M15 6h6"},child:[]},{tag:"path",attr:{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13"},child:[]},{tag:"path",attr:{d:"M3 18h18"},child:[]},{tag:"path",attr:{d:"M4 11h6"},child:[]}]})(e)}const fH=()=>{const e=G(o=>o.chatBox.triedToGetAvataiSession),t=G(o=>o.chatBox.streamDetails),n=G(o=>{var i,a,s;return(s=(a=(i=o.chatBox.agent)==null?void 0:i.config)==null?void 0:a.avatai)==null?void 0:s.disable_lip_sync}),r=G(o=>o.chatBox.botMode);return e&&!(t!=null&&t.agora_channel)&&!n&&Yt(r)},xC=1500,G0e=9e3,CC=.5,Y0e=Sr(!1),Q0e=Sr([]);var on=Ae.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){on[e]=on(e)});const J0e=Sr([]),cy=Sr(""),X0e=Sr(!1);function Z0e(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(e)}function ege(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(e)}function gH(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function vH(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M93.72 183.25C49.49 198.05 16 233.1 16 288c0 66 54 112 120 112h184.37m147.45-22.26C485.24 363.3 496 341.61 496 312c0-59.82-53-85.76-96-88-8.89-89.54-71-144-144-144-26.16 0-48.79 6.93-67.6 18.14"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 448 64 64"},child:[]}]})(e)}function tge(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(e)}function nge(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(e)}function rge(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 192h40a40 40 0 0 1 40 40v192a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V232a40 40 0 0 1 40-40h40m160-64-80-80-80 80m80 193V48"},child:[]}]})(e)}function oge(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M126 192H56a8 8 0 0 0-8 8v112a8 8 0 0 0 8 8h69.65a15.93 15.93 0 0 1 10.14 3.54l91.47 74.89A8 8 0 0 0 240 392V120a8 8 0 0 0-12.74-6.43l-91.47 74.89A15 15 0 0 1 126 192zm194 128c9.74-19.38 16-40.84 16-64 0-23.48-6-44.42-16-64m48 176c19.48-33.92 32-64.06 32-112s-12-77.74-32-112m48 272c30-46 48-91.43 48-160s-18-113-48-160"},child:[]}]})(e)}function ige(e){return gt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"},child:[]},{tag:"path",attr:{d:"M224 136.92v33.8a4 4 0 0 0 1.17 2.82l24 24a4 4 0 0 0 6.83-2.82v-74.15a24.53 24.53 0 0 0-12.67-21.72 23.91 23.91 0 0 0-25.55 1.83 8.27 8.27 0 0 0-.66.51l-31.94 26.15a4 4 0 0 0-.29 5.92l17.05 17.06a4 4 0 0 0 5.37.26zm0 238.16-78.07-63.92a32 32 0 0 0-20.28-7.16H64v-96h50.72a4 4 0 0 0 2.82-6.83l-24-24a4 4 0 0 0-2.82-1.17H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l91.36 74.8a8.27 8.27 0 0 0 .66.51 23.93 23.93 0 0 0 25.85 1.69A24.49 24.49 0 0 0 256 391.45v-50.17a4 4 0 0 0-1.17-2.82l-24-24a4 4 0 0 0-6.83 2.82zM125.82 336zM352 256c0-24.56-5.81-47.88-17.75-71.27a16 16 0 0 0-28.5 14.54C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l19.66 19.67a4 4 0 0 0 6.75-2A146.89 146.89 0 0 0 352 256zm64 0c0-51.19-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26l16.77 16.76a4 4 0 0 0 6.52-1.27C410.09 315.88 416 289.91 416 256z"},child:[]},{tag:"path",attr:{d:"M480 256c0-74.26-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 47.45-8.9 82.12-23.59 113a4 4 0 0 0 .77 4.55L443 391.39a4 4 0 0 0 6.4-1C470.88 348.22 480 307 480 256z"},child:[]}]})(e)}const age=()=>{const{t:e}=jr(),[t,n]=pn(J0e),[r,o]=pn(cy),[i,a]=pn(X0e);return x.useEffect(()=>{const s=async()=>{const c=await(async()=>{try{return await navigator.mediaDevices.getUserMedia({audio:!0}),(await navigator.mediaDevices.enumerateDevices()).filter(u=>u.kind==="audioinput").map(u=>({deviceId:u.deviceId,label:u.label||`Microphone ${u.deviceId.slice(0,8)}...`,groupId:u.groupId}))}catch{return[]}})();n(c),c.length>0&&!r&&o(c[0].deviceId)};s();const l=()=>{s()};return navigator.mediaDevices.addEventListener("devicechange",l),()=>{navigator.mediaDevices.removeEventListener("devicechange",l)}},[n,r,o]),le(Ht,{opened:i,onOpen:()=>a(!0),onClose:()=>a(!1),position:"top",shadow:"md",children:[A(Ht.Target,{children:A(Zt,{size:"xs",variant:"subtle",color:"dark.7",onClick:()=>a(!i),style:{position:"absolute",right:6},children:A(nge,{})})}),le(Ht.Dropdown,{children:[A(Ht.Label,{children:A(kn,{size:"xs",c:"dimmed",children:e("select_microphone")})}),t.map(s=>A(Ht.Item,{onClick:()=>(l=>{o(l),a(!1)})(s.deviceId),style:{backgroundColor:s.deviceId===r?"var(--menu-item-hover-color, #364FC7)":"transparent"},children:le(ir,{gap:"xs",children:[A(kn,{size:"xs",truncate:!0,style:{color:"var(--dropdown-item-color, white)"},children:s.label}),s.deviceId===r&&A(kn,{size:"xs",c:"blue",children:""})]})},s.deviceId)),t.length===0&&A(Ht.Item,{disabled:!0,children:A(kn,{size:"xs",c:"dimmed",children:e("no_microphones_found")})})]})]})},sge=({barCount:e=42,height:t=30,className:n,style:r})=>{const{volumesArray:o,isSpeaking:i}=(()=>{const[d,p]=pn(Y0e),[h,m]=pn(Q0e),g=x.useRef(null),{livekitRoom:f,status:v}=oa(),y=x4([Se.Source.Microphone]).find(S=>S.participant.isLocal),b=vz(y),w=gz(f==null?void 0:f.localParticipant),k=x.useCallback(async()=>{ne.log("startAgoraVolumeMonitoring getSharedAgoraClient");const S=await pr();if(!S||S.connectionState!=="CONNECTED")return;g.current&&cancelAnimationFrame(g.current);const O=()=>{var T,M;const D=((M=(T=S.getLocalAudioStats)==null?void 0:T.call(S))==null?void 0:M.sendVolumeLevel)||0;if(D>xC){const H=Math.max(0,Math.min(1,(D-xC)/(G0e-xC)));p(!0),m($=>[...$,H].slice(-42))}else p(!1),m(H=>[...H,0].slice(-42));g.current=requestAnimationFrame(O)};g.current=requestAnimationFrame(O)},[p,m]),_=x.useCallback(()=>{g.current&&(cancelAnimationFrame(g.current),g.current=null)},[]);x.useEffect(()=>{if(v==="connected"&&b!==void 0)if(b>CC){const S=Math.max(0,Math.min(1,(b-CC)/(1-CC)));p(!0),m(O=>[...O,S].slice(-42))}else p(!1),m(S=>[...S,0].slice(-42))},[b,w,v,p,m]),x.useEffect(()=>{ne.log("useVolumeVisualizer useEffect getSharedAgoraClient");let S=null;const O={current:!0};return(async()=>{const T=await pr();if(!T||!O.current)return;const M=D=>{O.current&&(D==="CONNECTED"?k().catch(H=>{ne.error("Error starting Agora volume monitoring:",H)}):D==="DISCONNECTED"&&_())};T.on("connection-state-change",M),S=()=>T.off("connection-state-change",M),T.connectionState==="CONNECTED"&&k().catch(D=>{ne.error("Error starting Agora volume monitoring:",D)})})(),()=>{O.current=!1,S==null||S(),_()}},[k,_]);const E=x.useCallback(S=>{S.forEach(O=>{const T=Math.max(0,Math.min(1,(O.level-50)/50));p(T>.4),m(M=>[...M,T].slice(-42))})},[p,m]);return{isSpeaking:d,volumesArray:h,onVolumeChange:E,resetVolumes:x.useCallback(()=>{p(!1),m([])},[p,m]),isLiveKitConnected:v==="connected"}})(),{primary_color:a}=Vt(),[s]=pn(Uh);(()=>{const[d]=pn(cy),p=G(v=>v.chatBox.composerMode),{muteMic:h,unmuteMic:m}=oa(),g=G(v=>v.chatBox.isMicMuted),f=x.useRef(g);x.useEffect(()=>{f.current=g},[g]),x.useEffect(()=>{p==="voice"&&(async()=>d&&(pu()?(ne.log("handleMicrophoneChange selectedMicrophoneId:",d),await i4(),f.current||await o4(d)):f.current?await h(d):await m(d)))()},[p,d,h,m])})();const l=o.slice(-e),c=Array.from({length:e},(d,p)=>l[p]||0),u=t-2;return le(lge,{className:n,style:r,children:[A(Rh,{visible:!s}),A(uge,{children:c.map((d,p)=>A(cge,{isActive:i&&d>.1,primaryColor:a,style:{"--bar-height":`${Math.max(4,d*u)}px`}},p))}),A(age,{})]})},lge=on.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  height: 36px;
  overflow: hidden;
  padding: 8px 24px;
  border-radius: 32px;
  /* background:
    linear-gradient(rgba(248, 249, 250, 0.8), rgba(248, 249, 250, 0.8)) padding-box,
    var(--gradient-border-main) border-box; */
  background: rgba(248, 249, 250, 0.8);
  backdrop-filter: blur(5px);
  z-index: 10;
`,cge=on.div`
  width: 2px;
  height: var(--bar-height, 4px);
  background: #343a40;
  border-radius: 1px;
  transition: all 0.1s ease;
  min-height: 4px;
`,uge=on.div`
  display: flex;
  align-items: center;
  gap: 2px;
`;var dge=Object.defineProperty,hge=Object.defineProperties,pge=Object.getOwnPropertyDescriptors,bH=Object.getOwnPropertySymbols,mge=Object.prototype.hasOwnProperty,fge=Object.prototype.propertyIsEnumerable,yH=(e,t,n)=>t in e?dge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uy=(e,t)=>{for(var n in t||(t={}))mge.call(t,n)&&yH(e,n,t[n]);if(bH)for(var n of bH(t))fge.call(t,n)&&yH(e,n,t[n]);return e},SC=(e,t)=>hge(e,pge(t));const gge={top:"70px",left:"24.5px"},vge={width:"40px",height:"40px"},bge={container:"8px",button:"8px"},yge={width:"100%",height:"100%",background:"#424242",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},wge={background:"var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff))",padding:"1px"},kge={color:"var(--voice-mode-toggle-button-color, #F1F3F5)",fontSize:"var(--voice-mode-toggle-button-font-size, 10px)",fontWeight:"400",marginTop:"6px",textAlign:"center",whiteSpace:"nowrap",overflow:"visible"},wH=({icon:e=A(p0e,{style:{width:"24px",height:"24px",color:"#F1F3F5"}}),label:t,onClick:n,position:r=gge,size:o=vge,disabled:i=!1,zIndex:a=300,borderRadius:s=bge})=>{const{t:l}=jr(),[c,u]=x.useState(null),d=t||l("voice_mode");x.useEffect(()=>{var f;const v=(f=Fe.chatDetailViewRef)==null?void 0:f.current;v&&u(v)},[]);const p=SC(uy({width:o.width,position:"absolute"},r),{gap:0,zIndex:a}),h=SC(uy(uy({},wge),o),{borderRadius:s.container}),m=SC(uy({},yge),{borderRadius:s.button,opacity:i?.5:1,cursor:i?"not-allowed":"pointer"}),g=le(Pi,{style:p,align:"center",gap:0,children:[A("div",{style:h,children:A("button",{onClick:n,disabled:i,style:m,children:e})}),A("div",{style:{textAlign:"center"},children:A("p",{style:kge,children:d})})]});return c?Os.createPortal(g,c):g};var _ge=Object.defineProperty,kH=Object.getOwnPropertySymbols,xge=Object.prototype.hasOwnProperty,Cge=Object.prototype.propertyIsEnumerable,_H=(e,t,n)=>t in e?_ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xH=(e,t)=>{for(var n in t||(t={}))xge.call(t,n)&&_H(e,n,t[n]);if(kH)for(var n of kH(t))Cge.call(t,n)&&_H(e,n,t[n]);return e};const Sge=()=>{const e=dt(),{t}=jr(),n=G(D=>D.chatBox.composedMessage),r=G(D=>D.chatBox.isMicMuted),o=G(D=>D.chatBox.isSpeakerMuted),i=G(D=>D.chatBox.botVoiceEnabled),{endCall:a}=(()=>{const D=dt(),{closeChatbot:H}=_C(),$=Pt(),{resetConversationMode:R}=G1();return{endCall:async()=>{var U,B;if(Fe.shouldAbort=!0,(B=(U=$==null?void 0:$.config)==null?void 0:U.style)==null||!B.disable_show_confirm_close_view)return R(),void D(Qh(!0));await H()}}})(),s=fH(),[l,c]=x.useState(!1),{startMic:u,stopMic:d,isTogglingMic:p}=dy(),{livekitRoom:h,status:m,muteMic:g,unmuteMic:f,startLivekit:v,disconnectLivekit:y,onConnectButtonClicked:b}=oa(),[w,k]=pn(Uh);x.useEffect(()=>()=>{m==="connected"&&(ne.log("VoiceModeMessageComposerV2Avatar useEffect disconnectLivekit"),y())},[m,y]),x.useEffect(()=>{pu()||(ne.log("VoiceModeMessageComposerV2Avatar useEffect onConnectButtonClicked"),b())},[b]),x.useEffect(()=>{ne.log("VoiceModeMessageComposerV2Avatar livekitStatus:",m),m==="connected"&&(ne.log("VoiceModeMessageComposerV2Avatar useEffect startLivekit"),v())},[v,m]),x.useEffect(()=>{if(ne.log("VoiceModeMessageComposerV2Avatar useEffect livekitStatus:",m,"livekitRoom:",h),m!=="connected"||!h)return;const D=($,R,U)=>{ne.log("VoiceModeMessageComposerV2Avatar handleTrackSubscribed. track:",$," publication:",R," participant:",U),k(!0)};h.on("trackSubscribed",D);const H=h.remoteParticipants;for(const $ of H.values())$.identity.startsWith("agent-"),ne.log("VoiceModeMessageComposerV2Avatar handleTrackSubscribed setAgentJoined(true)"),k(!0);return()=>{h.off("trackSubscribed",D)}},[m,h,k]),x.useState(0),x.useState(!1);const _=x.useRef(null);x.useRef(null);const{resetConversationMode:E}=G1(),S=r?vC:W1,O=o?yC:bC;x.useEffect(()=>{ne.log("VoiceModeMessageComposerV2Avatar useEffect getSharedAgoraClient");let D=null;const H={current:!0};return(async()=>{const $=await pr();if(!$||!H.current)return;const R=U=>{H.current&&(U==="CONNECTED"?(ne.log("startMic handleConnectionChange CONNECTED"),u()):U==="DISCONNECTED"&&(ne.log("stopMic handleConnectionChange DISCONNECTED"),d()))};$.on("connection-state-change",R),D=()=>$.off("connection-state-change",R)})(),()=>{H.current=!1,D==null||D(),ne.log("stopMic useEffect"),d()}},[u,d]),x.useEffect(()=>{_.current&&(async()=>{var D,H;r?await((D=_.current)==null?void 0:D.setEnabled(!1)):await((H=_.current)==null?void 0:H.setEnabled(!0))})()},[r]);const[T]=pn(cy);x.useEffect(()=>{pu()?r?d():u():m==="connected"&&(r?g(T):f(T))},[r,m,g,f,w,u,d,T]),x.useEffect(()=>{ne.log("VoiceModeMessageComposerV2Avatar useEffect isSpeakerMuted:",o),(async()=>{const D=await pr();D&&D.remoteUsers.forEach(H=>{H.audioTrack&&(o?H.audioTrack.stop():H.audioTrack.play())})})()},[o]),x.useEffect(()=>{(async()=>{if(_.current){if(r)return void await _.current.setEnabled(!1);bt(n)?await _.current.setEnabled(!0):await _.current.setEnabled(!1)}})()},[n,r]),x.useEffect(()=>{i||o?i&&o&&e(ol(!1)):e(ol(!0))},[i,o,e]);const M={width:"24px",height:"24px"};return ne.log("VoiceModeMessageComposerV2Avatar render agentJoined:",w,"isOffline:",s,"isSpeakerMuted:",o,"isMicMuted:",r,"canUseAgora:",pu()),le(Yn,{children:[w&&!pu()&&le(P1.Provider,{value:h,children:[A(TU,{}),A(Cz,{muted:o})]}),A(wH,{icon:A(W0e,{style:{width:"24px",height:"24px",color:"#F1F3F5"}}),label:t("keyboard"),onClick:()=>{E()}}),le(G8,{id:"voice-mode-message-composer",style:{zIndex:30,marginBottom:45},children:[A(P1.Provider,{value:h,children:A(sge,{style:{marginBottom:"12px",marginTop:"8px"}})}),le(tt,{style:{display:"flex",alignItems:"center",position:"relative",gap:"24px"},children:[A(wC,{icon:A(S,{style:xH({color:r?"var(--voice-mode-button-active-icon-color, #4263EB)":"var(--voice-mode-button-icon-color, var(--mantine-color-dark-6))"},M)}),label:t("mic"),onClick:()=>{const D=!r;e(nS(D)),D?(ne.log("stopMic handleMicClick"),d(),g()):(ne.log("startMic handleMicClick"),u(),f())},loading:p,isActive:r}),A(wC,{icon:A(o0e,{style:{color:l?"var(--voice-mode-end-call-icon-color, var(--mantine-color-gray-0))":"var(--voice-mode-button-icon-color, var(--mantine-color-dark-6))",width:"24px",height:"24px"}}),label:t("end_chat"),onClick:a,color:l?"var(--voice-mode-end-call-bg-color, #ED1C24)":"var(--voice-mode-button-bg, var(--mantine-color-gray-3))",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1)}),A(wC,{icon:A(O,{style:xH({color:o?"var(--voice-mode-button-active-icon-color, #4263EB)":"var(--voice-mode-button-icon-color, var(--mantine-color-dark-6))"},M)}),label:t("speaker"),onClick:()=>{const D=!o;e(ol(D)),e(af(!D))},isActive:o})]})]})]})},Tge=()=>{const e=os(),t=K1();return x.useEffect(()=>{var n,r;e||t||Tt||(r=(n=Fe.messageTextAreaRef)==null?void 0:n.current)==null||r.focus()},[e,t]),A(Sge,{})},Uh=Sr(!1),TC=()=>{const e=G(o=>o.chatBox.botMode),t=G(o=>{var i,a,s;return(s=(a=(i=o.chatBox.agent)==null?void 0:i.config)==null?void 0:a.avatai)==null?void 0:s.disable_lip_sync}),n=G(o=>o.chatBox.streamDetails),{isV2Avatar:r}=ac();return oc()?null:r?A(Tge,{}):!t&&n!=null&&n.agora_channel&&Yt(e)?A(L0e,{}):A(A0e,{})},Ege=Sr(!1),CH={pre_start_recognize_count:1,start_recognize_count:6,stop_recognize_count:45,active_percent:.2,inactive_percent:1,start_voice_prob:70,stop_voice_prob:50,start_rms:-50,stop_rms:-40,exp_audio_size_bytes:1024},dy=()=>{var e,t,n,r;const o=Pt(),i=er(),[a,s]=pn(Uh),{isV4:l}=Jl(),{mutate:c}=(()=>{const b=er(),w=G(wt),k=G(E=>E.chatBox.source),_=el(k);return or({mutationFn:()=>Oz({eventName:"avatar-connected",chatbotId:b,conversationId:w,visitorId:_})})})(),u=G(b=>b.chatBox.languageCode),d=(t=(e=o==null?void 0:o.config)==null?void 0:e.avatai)==null?void 0:t.disable_lip_sync,[p,h]=pn(Ege),m=x.useRef(!1),[g]=pn(cy),f=x.useCallback(async()=>{if(ne.log("startMic!!!"),d)ne.log("disableLipSync, skipping startMic");else if(!m.current){m.current=!0,h(!0);try{if(It.getState().chatBox.isMicMuted)return void ne.log("Mic is muted, skipping startMicrophone");await o4(g||void 0)}finally{h(!1),m.current=!1}}},[h,d,g]),v=x.useCallback(async()=>{if(d)ne.log("disableLipSync, skipping stopMic");else if(!m.current){m.current=!0,h(!0);try{await i4()}finally{h(!1),m.current=!1}}},[h,d]),y=x.useCallback(async b=>{var w,k;if(d)return void ne.log("disableLipSync, skipping joinChat");if(!l)return void ne.log("This is only for v4 avatar, skipping joinChat");const _=It.getState(),E=wt(_);ne.log("useAkoolAgora joinChat threadId:",E,"langCode:",b);const S=_.chatBox.streamDetails;if(S==null||!S.agora_channel)return void ne.info("No active stream session, skipping joinChat: ",S);if(ne.log("useAkoolAgora joinChat getSharedAgoraClient"),!await pr())return void ne.error("Agora client not initialized");ne.log("useAkoolAgora joinChat setAgentJoined(true)"),s(!0);const O={lang:b||u,mode:2},T={liveX_data:{chatbot_id:i,conversation_id:E||"",api_base_url:Mt.chatHost,language_code:b||u,use_livex_llm:!0,pronunciation_map:{cemoy:"seemore",cemy:"seemore",Cemoy:"seemore",Cemy:"seemore",CEMY:"seemore",CEMOY:"seemore"}},vad_config:((k=(w=o==null?void 0:o.config)==null?void 0:w.custom_style)==null?void 0:k.vad_config)||CH};ne.log("avatarParamsData:",O),ne.log("avatarParamsMetadata:",T),await async function(M,D){ne.log("setAvatarParams getSharedAgoraClient");const H=await pr();if(!H)throw new Error("Agora client not initialized");try{await r4(H,"CONNECTED",5e3)}catch(U){throw new Error("Agora client not connected; cannot send setAvatarParams: "+U)}const $={v:2,type:"command",mid:`msg-${Date.now()}`,pld:{cmd:"set-params",data:M,metadata:D}},R=JSON.stringify($);return H.sendStreamMessage(R,!1)}(O,T),c()},[(r=(n=o==null?void 0:o.config)==null?void 0:n.custom_style)==null?void 0:r.vad_config,i,u,s,l,d,c]);return window.joinChat=y,{startMic:f,stopMic:v,joinChat:y,isTogglingMic:p}};var Oge=Object.defineProperty,SH=Object.getOwnPropertySymbols,Age=Object.prototype.hasOwnProperty,Pge=Object.prototype.propertyIsEnumerable,TH=(e,t,n)=>t in e?Oge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EC=(e,t)=>{for(var n in t||(t={}))Age.call(t,n)&&TH(e,n,t[n]);if(SH)for(var n of SH(t))Pge.call(t,n)&&TH(e,n,t[n]);return e};const Mt={chatHost:"http://localhost:8000",gatewayHost:"https://dv.copilot.livex.ai",frontendHost:"https://chat.dv.copilot.livex.ai",thread:{getMessages:(e,t)=>`/api/v1/chat_history/${e}/${t}`,stream:"/api/v1/chat_stream"},threads:{new:"/api/v1/new_conversation",load:"/api/v1/conversation",close:"/api/v1/close_conversation"}},EH=(e,t)=>t.startsWith("http")?t:`${e.replace(/\/$/,"")}${t}`,OH=async(e,t,n,r,o)=>{const i=EH(e,t),a=await xt.post(i,n,EC({headers:EC({"Content-Type":"application/json"},r)},o));return a.status!==200?null:a.data};function Nge(){const e=localStorage.getItem("lvxcplt-visitor-id");if(!e){const t="0"+Date.now().toString(16)+function(n){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let i=0;i<n;i++)o+=r.charAt(Math.floor(62*Math.random()));return o}(12);return localStorage.setItem("lvxcplt-visitor-id",t),t}return e}const el=e=>{var t,n,r,o;if(e&&e==="playground"){const a=localStorage.getItem("livex_current_user");if(a)return(t=JSON.parse(a))==null?void 0:t.email}const i=sessionStorage.getItem("currentUser");return i?(o=(r=(n=JSON.parse(i))==null?void 0:n.employee)==null?void 0:r.id)!=null?o:"":Nge()},OC=()=>{const e=new URL(window.location.href);return e.origin+e.pathname},Ige=async(e,t,n)=>{var r,o;const i=EH(e,t);try{let a;if((s=>Object.values(s).some(l=>l instanceof File))(n)){const s=(l=>{const c=new FormData;return Object.entries(l).forEach(([u,d])=>{d instanceof File?c.append(u,d):d!=null&&c.append(u,String(d))}),c})(n);a=await xt.post(i,s,{headers:{"Content-Type":"multipart/form-data"},validateStatus:()=>!0})}else a=await xt.post(i,n,{headers:{"Content-Type":"application/json"},validateStatus:()=>!0});return a.status>=400?EC({status:a.status,error:((r=a.data)==null?void 0:r.error)||((o=a.data)==null?void 0:o.message)||`HTTP error ${a.status}`},a.data):a.data}catch(a){return{status:500,error:a instanceof Error?a.message:"Network error occurred"}}},Rge=async(e,t)=>{var n,r;const o=It.getState().chatBox.initialBotMode;let i=Mt.threads.new;const a=el(t),s={source:t,host_page_url:OC(),visitor_id:a,chatbot_id:(n=e.config)==null?void 0:n.agent_id,bot_mode:o,vad_cfg:CH};if(Yt(o)&&o!=="avataiOnly"){i="/api/v1/live_avatar/create_session";const l=Zi((r=e.config)==null?void 0:r.avatai)||Z9,{avatar_id:c}=l;s.avatar_id=c}return await OH(Mt.chatHost,i,s)},AH=async(e,t)=>{var n,r;if(!e)return;const o=It.getState(),{source:i,botMode:a,agent:s}=o.chatBox;if(!s)throw new Error("Should have agent here");const l=il(o);let c=Mt.threads.close;const u={conversation_id:e,chatbot_id:((n=s.config)==null?void 0:n.agent_id)||""};if(Yt(a)){if(a==="avataiOnly"&&t)return;c="/api/v1/close_live_avatar_session",S1.clearSession()}try{if(t&&navigator.sendBeacon){const d=new Blob([JSON.stringify(u)],{type:"application/json"});navigator.sendBeacon(Mt.chatHost+c,d)}else await OH(Mt.chatHost,c,u)}catch{}Oo({event_name:zt.ConversationEnd,source:i,bot_mode:a,chatbot_id:(r=s==null?void 0:s.config)==null?void 0:r.agent_id,conversation_id:e,message_id:l})},Mge=async({agentId:e,threadId:t,message:n,command:r,agentConfig:o,onData:i,imageGcsUri:a,languageCode:s,responseLength:l,options:c})=>{var u,d,p,h,m,g,f,v;const y=performance.now(),b=It.getState(),w=ho(b),k=(w==null?void 0:w.stream_details)||b.chatBox.streamDetails,_=(p=(d=(u=b.chatBox.agent)==null?void 0:u.config)==null?void 0:d.custom_style)==null?void 0:p.send_host_url,E={chatbot_id:e,conversation_id:t,question:n,command:r,stream:!0};a&&(E.image_gcs_uri=a),o&&(E.agent_config=o),l&&(E.response_length=l),_&&(E.product_url=window.location.origin+window.location.pathname);const S=(m=(h=b.chatBox.agent)==null?void 0:h.config)==null?void 0:m.avatai,O=sde();O&&(E.debug_code=O);const T={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)},M=b.chatBox.botMode;let D=Mt.thread.stream,H=5;Yt(M)&&(D="/api/v1/live_avatar_chat_stream",(S!=null&&S.disable_lip_sync||!k)&&(D="/api/v1/live_avatar/audio_stream"),H=50);const $=qa.createController(),{signal:R}=$,U=await mde(R,D,T,c);let B={},L=await U.read();const C=performance.now();let V=t;const N=[],q=()=>{for(;N.length>0;){const X=N.shift();X&&i(X)}};let J=0,Q=!1;for(;!L.done;){const X=(g=L.value)==null?void 0:g.streaming_done;if(Fe.shouldAbort){qa.abort($),Q=!0;break}const ee=It.getState();if(V=wt(ee),t!==V)break;(f=L.value)!=null&&f.audio&&Va.instance.addToQueue(L.value.audio),N.push(L),(!L.done||bt(B))&&(B=L),(J===0||J%H===0||X)&&q(),J+=1;try{L=await U.read()}catch(ue){ne.error("Error reading stream:",ue);break}}q();const te=performance.now();if(O||window.location.hostname==="localhost"){const X=(v=L.value)==null?void 0:v.id;window.livexChatbotLatencies=window.livexChatbotLatencies||[];const ee={messageId:X,toFirstTokenInMs:C-y,fromFirstTokenToLastTokenInMs:te-C,fromSentToLastTokenInMs:te-y};window.livexChatbotLatencies.push(ee)}t===V&&(qa.removeController($),i({done:!0,value:B.value,stoppedByUser:Q}))};var Dge=Object.defineProperty,Lge=Object.defineProperties,jge=Object.getOwnPropertyDescriptors,PH=Object.getOwnPropertySymbols,zge=Object.prototype.hasOwnProperty,Fge=Object.prototype.propertyIsEnumerable,NH=(e,t,n)=>t in e?Dge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Bge=async e=>{const t=((r,o)=>Lge(r,jge(o)))(((r,o)=>{for(var i in o||(o={}))zge.call(o,i)&&NH(r,i,o[i]);if(PH)for(var i of PH(o))Fge.call(o,i)&&NH(r,i,o[i]);return r})({},e),{requester:"",requester_type:"user"}),n=`${Mt.chatHost}/api/live_chat_end`;return(await xt.post(n,t)).data};var Uge=Object.defineProperty,Hge=Object.defineProperties,$ge=Object.getOwnPropertyDescriptors,IH=Object.getOwnPropertySymbols,Vge=Object.prototype.hasOwnProperty,qge=Object.prototype.propertyIsEnumerable,RH=(e,t,n)=>t in e?Uge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AC=(e,t)=>{for(var n in t||(t={}))Vge.call(t,n)&&RH(e,n,t[n]);if(IH)for(var n of IH(t))qge.call(t,n)&&RH(e,n,t[n]);return e},PC=(e,t)=>Hge(e,$ge(t));const hy=()=>{const e=G(wt),t=er(),n=dt(),r=G(i=>i.hookState.isUploadingImage),o=or({mutationFn:i=>(async a=>{const{image:s,onUploadProgress:l,chatbot_id:c,conversation_id:u,return_product:d}=a;if(!c||!u||!s.file)throw new Error("chatbot_id, conversation_id or image is missing");const p=new FormData;p.append("file",s.file),p.append("chatbot_id",c),p.append("conversation_id",u),p.append("return_product",d?"true":"false");const h={onUploadProgress:l,headers:{"Content-Type":"multipart/form-data"}},m=`${Mt.chatHost}/api/v1/image_upload`;return(await xt.post(m,p,h)).data})(PC(AC({},i),{chatbot_id:t,conversation_id:e})),onMutate:()=>{n(WU(!0))},onSettled:()=>{n(WU(!1))}});return PC(AC({},o),{isUploadingImage:r})};let Y1={};const MH=sv({name:"searchBar",initialState:{userQuestion:"",query:"",isWaitingForReply:!1,fileImages:[],processingImageStatus:"idle",products:[],searchResults:[]},reducers:{setUserQuestion:(e,t)=>{e.userQuestion=t.payload},setQuery:(e,t)=>{e.query=t.payload},setIsWaitingForReply:(e,t)=>{e.isWaitingForReply=t.payload},setProducts:(e,t)=>{e.products=t.payload},setFileImages:(e,t)=>{e.fileImages=t.payload},removeFileImage:(e,t)=>{t.payload&&(e.fileImages=e.fileImages.filter(n=>{var r;return((r=n.file)==null?void 0:r.name)!==t.payload}))},setSearchResults:(e,t)=>{e.searchResults=t.payload},setProcessingImageStatus:(e,t)=>{e.processingImageStatus=t.payload}}}),{setUserQuestion:Hh,setQuery:py,setIsWaitingForReply:my,setProducts:Wge,setFileImages:fy,removeFileImage:Kge,setProcessingImageStatus:NC,setSearchResults:Q1}=MH.actions,Gge=e=>e.searchBar.fileImages.map(t=>{var n;return Y1[((n=t.file)==null?void 0:n.name)||""]}),$h=ql("chat/updateThreadStateThunk",async(e,{getState:t,dispatch:n})=>{var r;const o=t(),{agent:i,source:a,botMode:s}=o.chatBox,l=((r=i==null?void 0:i.config)==null?void 0:r.agent_id)||"";if(!i||l==="loading"||!a)return;const{conversation_id:c,stream_details:u,kind:d,updatedThread:p}=e;let h=Zi(o.chat.threads);switch(d){case"remove":delete h[c];break;case"update":p&&h[c]&&(h[c]=Ci({},h[c],p));break;case"new":{const m={id:c,agentId:l,messages:[],createdAt:new Date().toISOString(),stream_details:u},g={};g[m.id]=m,Object.keys(h).forEach(y=>{g[y]=h[y]}),h=g;const f=il(o);Oo({event_name:zt.ConversationStart,source:a,bot_mode:s,chatbot_id:l,conversation_id:m.id,message_id:f});const v=o.chatBox.initialBotMode;Yt(v)&&v!=="avataiOnly"&&u&&($s(),n(Yh(u?v:void 0)));break}}n(G$(h)),cc(h)}),gy=()=>{const e=dt(),t=G(wt);return or({mutationFn:async n=>{t&&await e(Gr({threadId:t,keepOpenSearchBar:n.keepOpenSearchBar}))}})},DH=`Failed to get a session.
Please try again later.`,Vh=()=>{const e=dt(),t=G(m=>m.chatBox.botMode),n=G(m=>m.chatBox.streamDetails),r=G(m=>m.hookState.isAvatarSessionPending),o=G(m=>m.hookState.avatarSessionError),i=G(wt),{mutateAsync:a}=(()=>{var m,g;const f=dt(),v=Pt(),y=er(),b=G(w=>w.chatBox.source);return or({mutationFn:((g=(m=v==null?void 0:v.config)==null?void 0:m.custom_style)==null?void 0:g.akool_avatar_version)==="v4"?async({stream_mode:w="agora",background_url:k="",createNewThread:_=!1}={})=>{var E,S,O;if(ne.log("mutationFnV4 triggered createNewThread: ",_),!v||!b)return ne.log("mutationFnV4 useAvatarSessionMutationV4 agent or source is missing. agent:",v," source:",b),null;const T=wt(It.getState()),M=Zi((E=v.config)==null?void 0:E.avatai)||Z9,D={source:b,host_page_url:OC(),chatbot_id:y,avatar_id:M.avatar_id,stream_mode:w,background_url:k,visitor_id:el(b),disable_lip_sync:(O=(S=v.config)==null?void 0:S.avatai)==null?void 0:O.disable_lip_sync,conversation_id:_?void 0:T,akool_version:"v4",duration:600};ne.log("mutationFnV4 data:",D);const H=await(await fetch(`${Mt.chatHost}/api/v1/live_avatar/create_session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)})).json();return f(of(!0)),H}:async({stream_mode:w="agora",background_url:k="",createNewThread:_=!1}={})=>{var E,S,O;if(ne.log("mutationFn triggered createNewThread: ",_),!v||!b)return ne.log("mutationFn useAvatarSessionMutation agent or source is missing. agent:",v," source:",b),null;const T=wt(It.getState()),M=Zi((E=v.config)==null?void 0:E.avatai)||Z9,D={source:b,host_page_url:OC(),chatbot_id:y,avatar_id:M.avatar_id,stream_mode:w,background_url:k,visitor_id:el(b),conversation_id:_?void 0:T,disable_lip_sync:(O=(S=v.config)==null?void 0:S.avatai)==null?void 0:O.disable_lip_sync};ne.log("mutationFn data:",D);const H=await(await fetch(`${Mt.chatHost}/api/v1/live_avatar/create_session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)})).json();return f(of(!0)),H},onError:w=>{window.console.error("useAvatarSessionMutation onError",w),f(of(!0))}})})(),{saveStreamDetails:s}=wde(),{onConnectButtonClicked:l}=oa(),{isV2Avatar:c}=ac(),u=dr(),d=cC(),p=ch(X1),h=ch(Z1);return x.useEffect(()=>{e(ry(null))},[e,i]),{initiateSession:async(m=!1,g=0)=>{var f;ne.log("useCreateAvatarSession initiateSession triggered. createNewThread: ",m);let v=!1;if(t!=="avataiOnly")return ne.log("botMode !== avataiOnly, skipping initiateSession: ",t),v;if(n&&!m)return ne.log(" initiateSession has streamDetails, skipping initiateSession: ",n),e(Er(!0)),!0;Fe.isGettingAvatarSession=!0,e(Er(!0)),e(L$(!0)),e(of(!1)),e(ry(null)),e(fC(!0));let y=null;try{g>0&&await new Promise(w=>setTimeout(w,g));const b=await a({createNewThread:m});y=(b==null?void 0:b.conversation_id)||null,y&&y!==i&&(await e($h({conversation_id:y,kind:"new"})),p(!1),h({threadId:y,calledBy:"useCreateAvatarSession"})),(b==null?void 0:b.status)===200&&(f=b==null?void 0:b.stream_details)!=null&&f.agora_app_id?(y&&s(b),v=!0):e(ry(DH))}catch(b){window.console.error("Failed to get stream details:",b),e(ry(DH))}finally{if(e(fC(!1)),Fe.isGettingAvatarSession=!1,c){const b=(u==null?void 0:u.default_composer_mode)||"text";if(ne.log("useCreateAvatarSession initiateSession defaultComposerMode:",b),e(Zh(b)),!v)try{const w=y||i;w&&d&&await l(w)}catch(w){window.console.error("Failed to initiate LiveKit fallback:",w)}}}return v},errorMessage:o,isPending:r}},LH=()=>{var e;const t=Pt(),n=(e=t==null?void 0:t.config)==null?void 0:e.device_visibility;return(n==null?void 0:n.disable_on_mobile)&&Tt},IC=e=>{e.isLiveChatEnded=!1,e.chatAgentType="ai",e.messageComposerEnabled=!0},Xa=ql("chat/newThreadThunk",async(e,{getState:t,dispatch:n})=>{var r;const o=t(),{agent:i,source:a}=o.chatBox;if(!i||((r=i==null?void 0:i.config)==null?void 0:r.agent_id)==="loading"||!a||Fe.isGettingAvatarSession)return;const s=await Rge(i,a),{conversation_id:l}=s;if(n($h({conversation_id:l,kind:"new"})),l){const c=Kv();c.set(X1,!1),c.set(Z1,{threadId:l,calledBy:"newThreadThunk"})}return l});var Yge=Object.defineProperty,Qge=Object.defineProperties,Jge=Object.getOwnPropertyDescriptors,jH=Object.getOwnPropertySymbols,Xge=Object.prototype.hasOwnProperty,Zge=Object.prototype.propertyIsEnumerable,zH=(e,t,n)=>t in e?Yge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const RC=e=>{if(e.type==="audio")return null;const t=Number(e.id);return isNaN(t)?(ne.warn(" ~ :49 ~ convertMessageResponse ~ id:",e.id," typeof id: ",typeof e.id),null):((n,r)=>Qge(n,Jge(r)))(((n,r)=>{for(var o in r||(r={}))Xge.call(r,o)&&zH(n,o,r[o]);if(jH)for(var o of jH(r))Zge.call(r,o)&&zH(n,o,r[o]);return n})({id:t,threadId:e.conversation_id,timestamp:e.time,type:"bot",format:"text"},e.json_response),{done:e.done,stoppedByUser:e.stoppedByUser})},vy=ql("chat/submitFormThunk",async({form:e,values:t},{dispatch:n,rejectWithValue:r})=>{var o,i,a,s;const l=await Ige(Mt.chatHost,e.action,t);if((l==null?void 0:l.status)>=400)return r({message:(l==null?void 0:l.error)||"An error occurred",status:l==null?void 0:l.status});const c=l?(a=(i=(o=l==null?void 0:l.json_response)==null?void 0:o.text)!=null?i:e.success_message)!=null?a:"Form submitted":(s=e.failure_message)!=null?s:"Fail to submit form";if(l!=null&&l.json_response){const u=RC(l);n(Un(u))}else n(Un({id:t.message_id,threadId:t.conversation_id,text:c,type:"bot"}));return{values:t}});var eve=Object.defineProperty,FH=Object.getOwnPropertySymbols,tve=Object.prototype.hasOwnProperty,nve=Object.prototype.propertyIsEnumerable,BH=(e,t,n)=>t in e?eve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const J1=e=>{var t,n;if(!((n=(t=Fe.agent)==null?void 0:t.config)!=null&&n.agent_id))return;const r=Kv().get(Z1)()||"",{threads:o}=e;return o[r]},rve=e=>((t,n)=>{for(var r in n||(n={}))tve.call(n,r)&&BH(t,r,n[r]);if(FH)for(var r of FH(n))nve.call(n,r)&&BH(t,r,n[r]);return t})({format:e.format||"text",timestamp:new Date().toISOString()},e),UH=(e,t)=>{var n,r,o,i;const a=rve(t),s=J1(e);if(s){if(a.type==="bot"&&(s.waitingForReply=!1),a.live_chat_message_id)return void(s.messages.find(l=>l.live_chat_message_id===a.live_chat_message_id)||s.messages.push(a));if(a.id===null||a.id===void 0)a.id=(l=>{var c,u;return((u=(c=Qm(l))==null?void 0:c.id)!=null?u:-1)+1})(s.messages),s.messages.push(a);else{const l=s.messages.findIndex(c=>c.id===a.id);if(l===-1)s.messages.push(a);else{const c=s.messages[l],u=(n=c==null?void 0:c.text)!=null?n:"";let d=(r=a.text)!=null?r:"";a.incremental_text&&((o=a.incremental_text)!=null&&o.d?d=u.substring(0,u.length-a.incremental_text.d)+a.text:(i=a.incremental_text)!=null&&i.a?d=u+a.text:ne.warn("incremental_text should have either d or a")),a.stoppedByUser&&(d=u),a.text=d,s.messages[l]=a}}}};var ove=Object.defineProperty,ive=Object.defineProperties,ave=Object.getOwnPropertyDescriptors,HH=Object.getOwnPropertySymbols,sve=Object.prototype.hasOwnProperty,lve=Object.prototype.propertyIsEnumerable,$H=(e,t,n)=>t in e?ove(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VH=(e,t)=>{for(var n in t||(t={}))sve.call(t,n)&&$H(e,n,t[n]);if(HH)for(var n of HH(t))lve.call(t,n)&&$H(e,n,t[n]);return e};const Ii=ql("chat/sendMessageThunk",async(e,{dispatch:t,getState:n})=>{var r,o,i;Va.instance.stop(),Fe.shouldAbort=!1;const a=n(),{agent:s,source:l,botMode:c,selectedResponseLength:u}=a.chatBox,d=((r=s==null?void 0:s.config)==null?void 0:r.agent_id)||"",p=wt(a),h=a.chatBox.languageCode;if(!s||!l||!p)return;const m=s.attach_agent?s.config:null,{text:g,command:f,imageGcsUri:v,options:y}=e;let b=f??"";if(typeof f!="string"){let k=f;(k==null?void 0:k.type)==="support"&&(k={type:k==null?void 0:k.type,parameters:{tsi:k==null?void 0:k.parameters.target_step_id,twi:k==null?void 0:k.parameters.target_workflow_id}}),b=JSON.stringify(k)}t(Ay(!1));let w="";try{const k={agentId:d,threadId:p,message:g,command:b,agentConfig:m,onData:E=>{var S;const O=(S=E.value)==null?void 0:S.live_chat_access_token;O&&(t(Abe(O)),t(j$(!1)));const T=RC(((M,D)=>ive(M,ave(D)))(VH({},E.value),{done:E.done,stoppedByUser:E.stoppedByUser}));T&&(w=`${T==null?void 0:T.id}`,t(Un(T)),E.done&&(setTimeout(()=>{t(Un(T))},500),(M=>{var D;if((D=M.buttons)==null||!D.length)return;const H=M.buttons.filter(R=>{if(!R.text||R==null||!R.command)return!1;try{const U=JSON.parse(R.command);return!(U==null||!U.auto_execute_on_frontend)}catch{return!1}});if(H.length===0)return;H.length;const[$]=H;Dn.sendMessage($.text,$.command)})(T)))},imageGcsUri:v,languageCode:h,options:y},_=(i=(o=s.config)==null?void 0:o.custom_style)==null?void 0:i.response_length;if(u&&_!=null&&_.enabled){let E=null;switch(u){case"short":E=_.short;break;case"medium":E=_.medium;break;case"long":E=_.long}k.responseLength=E}await Mge(k),Oo({event_name:zt.MessageSent,source:l,bot_mode:c,chatbot_id:d,conversation_id:p,message_id:w})}catch(k){ne.error("Error api.sendMessageInThread:",k)}finally{t(Ri({threadId:p,waiting:!1})),window.dispatchEvent(new CustomEvent("livex-chatbox-ready"))}}),cve=ql("chatBox/setCancelParamsThunk",async(e,{dispatch:t,getState:n})=>{if(t(Ebe(e)),bt(e))return;const r=n(),o=ho(r);o!=null&&o.id&&t($h({conversation_id:o.id,kind:"update",updatedThread:{conversationType:"churnControl"}}))}),uve=ql("chatBox/setShowSearchBarThunk",async(e,{dispatch:t,getState:n})=>{const r=n(),o=ho(r),i=Iy(r);let a=!1;o&&(uf(o)?await t(Gr({threadId:(o==null?void 0:o.id)||""})):e&&i&&(a=!0)),t(nl({showSearchBar:e,showChatBox:a}))}),qH=e=>(e==null?void 0:e.search_bar_z_index)||9999,WH=e=>{const t=hu();return x.useMemo(()=>qH(t),[t])+0},MC=x.createContext(null);function dve({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:o=!0,closeOnCancel:i=!0,groupProps:a,onCancel:s,onConfirm:l,children:c}){const{cancel:u,confirm:d}=r,p=function(){const h=x.useContext(MC);if(!h)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return h}();return W.jsxs(W.Fragment,{children:[c&&W.jsx(tt,{mb:"md",children:c}),W.jsxs(ir,K(I({mt:c?0:"md",justify:"flex-end"},a),{children:[W.jsx(An,K(I({variant:"default"},t),{onClick:h=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(h)),typeof s=="function"&&s(),i&&p.closeModal(e)},children:(t==null?void 0:t.children)||u})),W.jsx(An,K(I({},n),{onClick:h=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(h)),typeof l=="function"&&l(),o&&p.closeModal(e)},children:(n==null?void 0:n.children)||d}))]}))]})}MC.displayName="@mantine/modals/ModalsContext";const[hve,DC]=function(e){return[function(t){const n=Object.keys(t).reduce((r,o)=>(r[`${e}:${o}`]=i=>t[o](i.detail),r),{});ah(()=>(Object.keys(n).forEach(r=>{window.removeEventListener(r,n[r]),window.addEventListener(r,n[r])}),()=>Object.keys(n).forEach(r=>{window.removeEventListener(r,n[r])})),[n])},function(t){return(...n)=>function(r,o){window.dispatchEvent(new CustomEvent(r,{detail:o}))}(`${e}:${String(t)}`,n[0])}]}("mantine-modals"),LC=(DC("closeModal"),DC("closeAllModals"),e=>{const t=e.modalId||b1();return DC("openContextModal")(K(I({},e),{modalId:t})),t});function KH(e,t){var n,r,o,i;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(i=(o=e.props).onClose)==null||i.call(o)}function pve(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(i=>i.id===t.modalId);if(!r)return e;KH(r,t.canceled);const o=e.modals.filter(i=>i.id!==t.modalId);return{current:o[o.length-1]||e.current,modals:o}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{KH(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:o}=t,i=e.modals.map(s=>s.id!==r?s:s.type==="content"||s.type==="confirm"?K(I({},s),{props:I(I({},s.props),o)}):s.type==="context"?K(I({},s),{props:K(I(I({},s.props),o),{innerProps:I(I({},s.props.innerProps),o.innerProps)})}):s),a=((n=e.current)==null?void 0:n.id)===r&&i.find(s=>s.id===r)||e.current;return K(I({},e),{modals:i,current:a})}default:return e}}function mve({children:e,modalProps:t,labels:n,modals:r}){const[o,i]=x.useReducer(pve,{modals:[],current:null}),a=x.useRef(o);a.current=o;const s=x.useCallback(v=>{i({type:"CLOSE_ALL",canceled:v})},[a,i]),l=x.useCallback(v=>{var y=v,{modalId:b}=y,w=ye(y,["modalId"]);const k=b||b1();return i({type:"OPEN",modal:{id:k,type:"content",props:w}}),k},[i]),c=x.useCallback(v=>{var y=v,{modalId:b}=y,w=ye(y,["modalId"]);const k=b||b1();return i({type:"OPEN",modal:{id:k,type:"confirm",props:w}}),k},[i]),u=x.useCallback((v,y)=>{var b=y,{modalId:w}=b,k=ye(b,["modalId"]);const _=w||b1();return i({type:"OPEN",modal:{id:_,type:"context",props:k,ctx:v}}),_},[i]),d=x.useCallback((v,y)=>{i({type:"CLOSE",modalId:v,canceled:y})},[a,i]),p=x.useCallback(v=>{var y=v,{modalId:b}=y,w=ye(y,["modalId"]);i({type:"UPDATE",modalId:b,newProps:w})},[i]),h=x.useCallback(v=>{var y=v,{modalId:b}=y,w=ye(y,["modalId"]);i({type:"UPDATE",modalId:b,newProps:w})},[i]);hve({openModal:l,openConfirmModal:c,openContextModal:v=>{var y=v,{modal:b}=y,w=ye(y,["modal"]);return u(b,w)},closeModal:d,closeContextModal:d,closeAllModals:s,updateModal:p,updateContextModal:h});const m={modalProps:t||{},modals:o.modals,openModal:l,openConfirmModal:c,openContextModal:u,closeModal:d,closeContextModal:d,closeAll:s,updateModal:p,updateContextModal:h},{modalProps:g,content:f}=(()=>{const v=a.current.current;switch(v==null?void 0:v.type){case"context":{const y=v.props,{innerProps:b}=y,w=ye(y,["innerProps"]),k=r[v.ctx];return{modalProps:w,content:W.jsx(k,{innerProps:b,context:m,id:v.id})}}case"confirm":{const{modalProps:y,confirmProps:b}=function(w){if(!w)return{confirmProps:{},modalProps:{}};const k=w,{id:_,children:E,onCancel:S,onConfirm:O,closeOnConfirm:T,closeOnCancel:M,cancelProps:D,confirmProps:H,groupProps:$,labels:R}=k,U=ye(k,["id","children","onCancel","onConfirm","closeOnConfirm","closeOnCancel","cancelProps","confirmProps","groupProps","labels"]);return{confirmProps:{id:_,children:E,onCancel:S,onConfirm:O,closeOnConfirm:T,closeOnCancel:M,cancelProps:D,confirmProps:H,groupProps:$,labels:R},modalProps:I({id:_},U)}}(v.props);return{modalProps:y,content:W.jsx(dve,K(I({},b),{id:v.id,labels:v.props.labels||n}))}}case"content":{const y=v.props,{children:b}=y;return{modalProps:ye(y,["children"]),content:b}}default:return{modalProps:{},content:null}}})();return W.jsxs(MC.Provider,{value:m,children:[W.jsx(Bn,K(I(I({zIndex:ia("modal")+1},t),g),{opened:o.modals.length>0,onClose:()=>{var v;return d((v=o.current)==null?void 0:v.id)},children:f})),e]})}const by=e=>(e==null?void 0:e.z_index)||9999,qh=e=>{const t=hu();return x.useMemo(()=>by(t),[t])+(e||0)},fve=e=>["accountQuota",e],gve=e=>["publicAgent",e];var vve=Object.defineProperty,bve=Object.defineProperties,yve=Object.getOwnPropertyDescriptors,GH=Object.getOwnPropertySymbols,wve=Object.prototype.hasOwnProperty,kve=Object.prototype.propertyIsEnumerable,YH=(e,t,n)=>t in e?vve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jC=(e,t)=>{for(var n in t||(t={}))wve.call(t,n)&&YH(e,n,t[n]);if(GH)for(var n of GH(t))kve.call(t,n)&&YH(e,n,t[n]);return e},zC=(e,t)=>bve(e,yve(t));const yy=e=>{if(!e||typeof e!="string"||!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())},Dn={},_ve=({onClose:e,autoScrollToBottom:t})=>{var n,r;const o=Pt(),i=er(),a=os(),s=G(R=>R.chatBox.botMode),l=G(R=>R.chatBox.source),c=G(R=>R.chatBox.chatAgentType),u=dt(),d=LH(),p=G(R=>R.chatBox.showChatBox),h=G(wt),m=G(il),{resetPosition:g}=sh(),{mutateAsync:f}=(()=>{const R=G(B=>B.chatBox.source),U=er();return or({mutationFn:async({userData:B,expire:L})=>{if(!U)return null;const C=el(R),V=`${Mt.chatHost}/api/v1/user_data`,{data:N}=await xt.post(V,{visitor_id:C,chatbot_id:U,user_data:B,expire:L});return N},retry:3,retryDelay:B=>Math.min(1e3*2**B,5e3),onError:B=>{const L=B instanceof Error?B.message:"Unknown error";throw ne.error("[useStoreUserData] Failed to store user data after retries:",L),Bv({event_name:zt.ChatbotError,note:`Failed to store user data: ${L}`}),B}})})(),{mutateAsync:v}=gy(),y=G(R=>R.chatBox.cancelParams),{initiateSession:b}=Vh(),w=((n=o==null?void 0:o.config)==null?void 0:n.deployment_stage)||"production",k=WH(),{isTop:_,isLeft:E}=Fv(),S=Ry(),O=qh(),T=((r=o==null?void 0:o.config)==null?void 0:r.livex_global_object_name)||"livexChatbot",M=v1(),D=async R=>await M.fetchQuery({queryKey:fve(R),queryFn:async()=>(async U=>{var B;const{botId:L}=U,C=U.gatewayHost||Mt.gatewayHost;if(!L)return window.console.error("botId is required"),null;const V=`${C}/api/v1/users/subscriptions/public-account-quota/${L}`,N=await xt.get(V);return(B=N==null?void 0:N.data)!=null&&B.response?N.data.response:(window.console.error("Failed to fetch account quota"),null)})({botId:R}),staleTime:U=>{const B=U.state.data;return B&&B.has_quota!==!1?18e5:0}}),H=async R=>{const U=(N=>{try{return JSON.parse(N||"{}")}catch(q){return void window.console.debug("JSON parse error: ",q)}})(R);ne.log(" ~ :168 ~ handleSupportCommand ~ commandJson:",U);let B=!1;if(!U||U.type!=="support"||!U.subscription)return{skipWelcomeVideo:B,shouldReturn:!1};B=!0;const L=(N=>{if(N==null||!N.subscription)return null;const{cancel_link:q,cancel_function_name:J}=N.subscription;return q?()=>{window.location.href=q}:J?()=>{const Q=window[J];typeof Q=="function"?Q():window.console.error(`Function ${J} not found on window object`)}:null})(U);if(!L)return ne.error("No cancel now function found"),{skipWelcomeVideo:B,shouldReturn:!1};const C=await D(i);if(C==null||!C.has_quota)return ne.error("Quota exceeded"),L(),{skipWelcomeVideo:B,shouldReturn:!0};let V=U;return o!=null&&o.config&&(V=((N,q)=>{var J;const Q=Zi(N),{use_cancel_function_with_link:te}=q.custom_style;if(te&&(J=Q.subscription)!=null&&J.cancel_link){const X=Q.subscription.cancel_link,ee=`livexCancelLinkFn_${gu()}`,ue=()=>{window.location.href=X};window[ee]=ue,Q.subscription.cancel_function_name=ee,delete Q.subscription.cancel_link}return Q})(U,o.config)),Fe.cancelHandlerCalled?(ne.warn("Custom handler already executed"),{skipWelcomeVideo:B,shouldReturn:!0}):(Fe.cancelHandlerCalled=!0,bt(y)?(u(cve(V)),{skipWelcomeVideo:B,shouldReturn:!1,commandJson:V}):(await Dn.clickChatbotButton({skipWelcomeVideo:B}),{skipWelcomeVideo:B,shouldReturn:!0}))};if(x.useEffect(()=>{const R=async U=>{const{data:B}=U;if(B&&B.type==="LiveXAPI"&&typeof B.functionName=="string"){const{functionName:L,args:C,requestId:V}=B,N=Dn[L];if(typeof N=="function")try{const q=await N(...Cr(C)?C:[]);U.source&&V&&U.source.postMessage({type:"LiveXAPIResponse",requestId:V,result:q},U.origin)}catch(q){U.source&&V&&U.source.postMessage({type:"LiveXAPIResponse",requestId:V,error:q.message||"Unknown error during API call"},U.origin)}else U.source&&V&&U.source.postMessage({type:"LiveXAPIResponse",requestId:V,error:`API function ${L} not found.`},U.origin)}};return window.addEventListener("message",R),()=>{window.removeEventListener("message",R)}},[T]),!o||d)return;window[T]||(window[T]={});const $={addEventListener:(R,U)=>{Wl[R]||(Wl[R]=[]),Wl[R].push(U)},removeEventListener:(R,U)=>{Wl[R]&&(Wl[R]=Wl[R].filter(B=>B!==U))},open:()=>{u(Er(!0)),u(Oy(!1))},close:(R=!1)=>{e({shiftKey:R})},closeClick:async()=>{var R,U,B,L;try{if((U=(R=Wl.onCloseButtonClick)==null?void 0:R.forEach)==null||U.call(R,N=>{try{N()}catch{}}),(L=(B=o==null?void 0:o.config)==null?void 0:B.style)==null||!L.disable_show_confirm_close_view)return void u(Qh(!0));const C=It.getState(),V=wt(C);if(!V)return void u(Er(!1));await u(Gr({threadId:V,keepOpen:!0})),u(Er(!1))}catch(C){window.console.error("closeClick failed",C)}},openStatus:()=>p?"open":"closed",clickChatbotButton:async({skipWelcomeVideo:R}={})=>{R!==void 0&&u(Obe(R)),u(eS("canAutoPlay")),u(Oy(!1)),s==="avataiOnly"?await b():u(Er(!0))},setAgentWithId:async(R,U=!0)=>{var B,L;if(!R)throw new Error("Agent ID is required");if(((L=(B=Fe.agent)==null?void 0:B.config)==null?void 0:L.agent_id)===R)return;h&&(Fe.shouldAbort=!0,await u(Gr({threadId:h})));const C=await D(R);C!=null&&C.has_quota||ne.error("No quota found: ",C);const V=await M.fetchQuery({queryKey:gve(R),queryFn:async()=>(async N=>{var q,J,Q;const{botId:te}=N,X=N.gatewayHost||Mt.gatewayHost;if(!te)throw new Error("botId is required");const ee=`${X}/api/v1/users/publicagents/${te}`,ue=await xt.get(ee);return(q=ue.data)!=null&&q.response?(Q=(J=ue.data)==null?void 0:J.response)!=null&&Q.inactive?(window.console.error("Public agent is inactive"),null):ue.data.response:(window.console.error("Failed to fetch public agent"),null)})({botId:R}),staleTime:N=>{const q=N.state.data;return!q||a||!U||q.inactive?0:3e5}});V||ne.error("No agent found or agent is not active"),await u(Ey(V||null))},setAgentConfig:R=>{if(o==null||!o.config)return;const U=Ci({},o.config,R);u(Ey(zC(jC({},o),{config:U})))},clearConversations:async()=>{await v({}),u(Ube(null))},setUseLiveXCopilot:R=>{u(Ty(R))},setShowSearchBar:async R=>{if(document.activeElement&&document.activeElement.blur(),c!=="liveChat"){if(It.getState().chatBox.showChatBox){const U=!!S,B=`${E?"right":"left"}-${_?"bottom":"top"}`;await Dn.fadeChatbot(B,200,U)}u(uve(R))}else LC({modal:"error",title:"Using Live Chat",centered:!0,withCloseButton:!0,innerProps:{message:"Search bar is not supported in live chat"}})},sendMessage:async(R,U,B)=>{const L=It.getState();if(Ly(L).status===Xs)return void ne.warn("Already sending a message; skipping new message");const C=wt(L);ne.log(" ~ :468 ~ useSetupApi ~ latestThreadId:",C);const V=C?L.chat.threads[C]:void 0;(!C||V!=null&&V.closed)&&(ne.warn("No active thread found or last thread is closed; creating a new thread"),await u(Xa()));const{skipWelcomeVideo:N,shouldReturn:q,commandJson:J}=await H(U);q||(await Dn.clickChatbotButton({skipWelcomeVideo:N}),await new Promise(Q=>setTimeout(Q,100)),await u(Ii({text:R,command:J?JSON.stringify(J):U,options:B})),setTimeout(()=>{t&&Fe.scrollToBottom(200)},100))},getConversationId:()=>h||(window.console.warn("No conversation id found"),""),setData:async(R,U,B,L)=>{const C="livexChatbotDataLayer";B=B??1800;const V={data:U,expire:Date.now()+1e3*B};try{const N=localStorage.getItem(C),q=N?JSON.parse(N):{};if(Object.keys(q).forEach(J=>{q[J].expire<Date.now()&&delete q[J]}),q[R]=V,localStorage.setItem(C,JSON.stringify(q)),R==="user")try{await f({userData:V.data,expire:B})}catch(J){L!=null&&L.onError&&L.onError(J)}}catch(N){const q=N instanceof Error?N.message:"Unknown error";ne.error("[setData] Failed to store data in localStorage:",q),Oo({event_name:zt.ChatbotError,source:l,bot_mode:It.getState().chatBox.botMode,chatbot_id:i,note:`setData localStorage error: ${q}`})}},setCssVariables:R=>{Gbe(R)},showChatbotButton:R=>{const U=Zi(o);b9(U,"config.style.hide_chatbot_button",!R),u(Ey(U))},setRootZIndex:R=>{var U;const B=(U=Fe.rootRef.current)==null?void 0:U.parentElement;B&&(B.style.zIndex=R.toString())},resetToDefaultZIndex:()=>{$.setRootZIndex(O)},resetToDefaultSearchBarZIndex:()=>{$.setRootZIndex(k)},isValidSubscriptionData:R=>{const U=[];if((!(R!=null&&R.customer_id)||typeof(R==null?void 0:R.customer_id)!="string")&&U.push("customer_id is required and must be a string"),(typeof(R==null?void 0:R.plan_price)!="number"||isNaN(R==null?void 0:R.plan_price))&&U.push("plan_price is required and must be a number"),R!=null&&R.plan_price||ne.warn("Plan price is 0."),yy(R==null?void 0:R.plan_start_date)||U.push("plan_start_date is required and must be in YYYY-MM-DD format"),yy(R==null?void 0:R.plan_renew_date)||U.push("plan_renew_date is required and must be in YYYY-MM-DD format"),U.length>0){if(window.console.error(U),["development","debug"].includes(w))throw Dn.resetToDefaultZIndex(),LC({modal:"error",title:"Validation Error",centered:!0,withCloseButton:!0,innerProps:{message:U.join(`
`)}}),new Error("Validation error");return!1}return!0},fadeChatbot:async(R,U=500,B=!1)=>{var L;let C="0",V="0";const N=window.innerWidth/6,q=window.innerHeight/6;switch(R){case"right-top":C=`${N}px`,V=`-${q}px`;break;case"right-bottom":C=`${N}px`,V=`${q}px`;break;case"left-top":C=`-${N}px`,V=`-${q}px`;break;case"left-bottom":C=`-${N}px`,V=`${q}px`}const J=(L=Fe.containerRef)==null?void 0:L.current;if(!J)return;const Q={transition:J.style.transition,transform:J.style.transform,opacity:J.style.opacity};return J.style.transition=`transform ${U}ms ease-in-out, opacity ${U}ms ease-in-out`,J.style.transform=`translate(${C}, ${V})`,J.style.opacity="0",await new Promise(te=>setTimeout(te,U+1)),B&&(J.style.transition=`opacity ${U}ms ease-in-out`,J.style.transform="translate(0, 0)",J.style.opacity="1"),()=>{J.style.transition=Q.transition,J.style.transform=Q.transform,J.style.opacity=Q.opacity}},resetPosition:g,sendChatbotEvent:async(R,U)=>{await Oo({event_name:R,source:l,bot_mode:s,chatbot_id:i,conversation_id:h,message_id:m,note:U})},setVadConfig:R=>{if(o==null||!o.config)return;const U=Ci({},o.config,{custom_style:zC(jC({},o.config.custom_style),{vad_config:R})});u(Ey(zC(jC({},o),{config:U})))},setLanguageCode:R=>{u(M$(R))}};b9(window,T,$),Object.assign(Dn,$)};var xve=Object.defineProperty,Cve=Object.defineProperties,Sve=Object.getOwnPropertyDescriptors,QH=Object.getOwnPropertySymbols,Tve=Object.prototype.hasOwnProperty,Eve=Object.prototype.propertyIsEnumerable,JH=(e,t,n)=>t in e?xve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FC=(e,t)=>{for(var n in t||(t={}))Tve.call(t,n)&&JH(e,n,t[n]);if(QH)for(var n of QH(t))Eve.call(t,n)&&JH(e,n,t[n]);return e},BC=(e,t)=>Cve(e,Sve(t));const UC=[];let HC=!1;const Ove=e=>{UC.push(e),(async()=>{if(!HC){for(HC=!0;UC.length>0;){const t=UC.shift();if(t)try{await t()}catch{}}HC=!1}})()},Ave=async e=>{var t,n,r,o,i,a,s,l,c;const{buttonCommand:u,frontendAction:d,state:p,dispatch:h}=e,m=wt(p),g=ho(p),f=p.chatBox.agent,v=async()=>{var y,b,w;(w=(b=(y=f==null?void 0:f.config)==null?void 0:y.custom_style)==null?void 0:b.search_bar_config)!=null&&w.use_default_mode_for_live_chat&&p.chatBox.botMode==="searchBar"&&p.chatBox.chatAgentType!=="liveChat"&&(await Dn.fadeChatbot("right-bottom",200,!0),h(Yh(void 0)))};switch(d.command){case"call_function":{const y=d.function_name||((t=u.parameters)==null?void 0:t.function_name),b=d.function_arguments||((n=u.parameters)==null?void 0:n.function_arguments);await XH({functionName:y,functionArguments:b});break}case"switch_to_live_chat":{await v();const y=BC(FC({},g),{chatAgentType:"liveChat"});h(zy(y)),h(tf.actions.setChatAgentType("liveChat"));break}case"request_salesforce_conversation":{if(await v(),!f||!m)throw new Error("Agent or conversation ID is missing");const y=(r=u.parameters)==null?void 0:r.user_data;try{const{detail:b}=await(async w=>{const k=`${Mt.chatHost}/api/salesforce/messaging-conversation`;return(await xt.post(k,w)).data})({chatbot_id:((o=f.config)==null?void 0:o.agent_id)||"",conversation_id:m,user_data:{name:y==null?void 0:y.name,email:y==null?void 0:y.email}});if(b!=="OK")throw new Error(`Failed to request Salesforce conversation: ${b}`)}catch(b){const w=BC(FC({},g),{chatAgentType:"ai"});h(zy(w)),h(tf.actions.setChatAgentType("ai")),Oo({event_name:zt.ChatbotError,note:`Salesforce conversation request failed: ${b instanceof Error?b.message:String(b)}`,source:p.chatBox.source,bot_mode:p.chatBox.botMode,chatbot_id:((i=f.config)==null?void 0:i.agent_id)||"",conversation_id:m})}finally{h(j$(!0))}break}case"hide_chatbot":h(tf.actions.setShowChatBox(!1));break;case"close_conversation":m?(h(Hh("")),h(my(!1)),h(fy([])),await h(Gr({threadId:m}))):Oo({event_name:zt.ChatbotError,note:"No thread id found on close_conversation command",source:p.chatBox.source,bot_mode:p.chatBox.botMode,chatbot_id:((s=(a=p.chatBox.agent)==null?void 0:a.config)==null?void 0:s.agent_id)||"",conversation_id:m});break;case"switch_zendesk_live_chat":{await v();const y=(c=(l=Ibe(p))==null?void 0:l.live_chat_options)==null?void 0:c.agent_id;if(!y)return;Pve(h,y,g);break}}},XH=async e=>{var t;const{functionName:n,functionArguments:r}=e,o=bM(window,n),i=It.getState(),{botMode:a,source:s,agent:l,cancelParams:c}=i.chatBox,u=wt(i),d=il(i),p={source:s,bot_mode:a,chatbot_id:((t=l==null?void 0:l.config)==null?void 0:t.agent_id)||"",conversation_id:u,message_id:d};let h={cancelParams:c},m=zt.ChurnWindowFunctionCallNotFound;if(o)try{r?await o(r):await o(),m=zt.ChurnWindowFunctionCallSuccess}catch(g){m=zt.ChurnWindowFunctionCallError,h={cancelParams:c,error:g}}Oo(BC(FC({},p),{event_name:m,note:JSON.stringify(h)}))},$C=e=>{try{const t=JSON.parse(e);if(t&&typeof t=="object")return t}catch{return null}return null},ZH=(e,t)=>{if(window.zE("webWidget","identify",{name:np.name,email:np.email}),window.zE("webWidget","chat:addTags",["livex_chat"]),window.zE("webWidget","chat:send",`User Info

Name: ${np.name}
Email: ${np.email}
Description: ${np.description}

`),t){const n=(r=>`Customer Journey

${r.messages.map(o=>{const{type:i,text:a}=o;return`${i==="bot"?"Bot":"User"}: ${a}
`}).join(`
`)}`)(t);window.zE("webWidget","chat:send",n)}e(Ty(!1)),e(nl({showSearchBar:!1}))},Pve=(e,t,n)=>{const r=window.zE;if((()=>{const o=window.zE;if(o)try{if(o("webWidget:get","chat:isChatting")!==void 0)return!0}catch{}return!1})())try{r("webWidget","show"),r("webWidget","open"),ZH(e,n)}catch{}else{const o=document.createElement("script");o.id="ze-snippet",o.src=`https://static.zdassets.com/ekr/snippet.js?key=${t}`,o.async=!1,document.body.appendChild(o),o.onload=()=>{window.zE("webWidget","open"),setTimeout(()=>{ZH(e,n)},1e3)}}},e$=()=>{var e,t;return(t=(e=Fe.agent)==null?void 0:e.config)==null?void 0:t.agent_id},t$={},Nve=Symbol((t$?"production":void 0)!=="production"?"RESET":""),Ive=function(e=()=>{try{return window.localStorage}catch{return}},t){var n;let r,o;const i={getItem:(s,l)=>{var c,u;const d=h=>{if(r!==(h=h||"")){try{o=JSON.parse(h,t==null?void 0:t.reviver)}catch{return l}r=h}return o},p=(u=(c=e())==null?void 0:c.getItem(s))!=null?u:null;return(h=>typeof(h==null?void 0:h.then)=="function")(p)?p.then(d):d(p)},setItem:(s,l)=>{var c;return(c=e())==null?void 0:c.setItem(s,JSON.stringify(l,void 0))},removeItem:s=>{var l;return(l=e())==null?void 0:l.removeItem(s)}};let a;try{a=(n=e())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(s,l)=>{if(!(e()instanceof window.Storage))return()=>{};const c=u=>{u.storageArea===e()&&u.key===s&&l(u.newValue)};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),a&&(i.subscribe=(s=>(l,c,u)=>s(l,d=>{let p;try{p=JSON.parse(d||"")}catch{p=u}c(p)}))(a)),i}();function VC(e,t,n=Ive,r){const o=Sr(r!=null&&r.getOnInit?n.getItem(e,t):t);return(t$?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=i=>{let a;return i(n.getItem(e,t)),n.subscribe&&(a=n.subscribe(e,i,t)),a},Sr(i=>i(o),(i,a,s)=>{const l=typeof s=="function"?s(i(o)):s;return l===Nve?(a(o,t),n.removeItem(e)):l instanceof Promise?l.then(c=>(a(o,c),n.setItem(e,c))):(a(o,l),n.setItem(e,l))})}var Rve=Object.defineProperty,Mve=Object.defineProperties,Dve=Object.getOwnPropertyDescriptors,n$=Object.getOwnPropertySymbols,Lve=Object.prototype.hasOwnProperty,jve=Object.prototype.propertyIsEnumerable,r$=(e,t,n)=>t in e?Rve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const X1=VC("livex_showChatHistoryView",!1,void 0,{getOnInit:!0}),wy=VC("livex_last_thread_id_map",{},void 0,{getOnInit:!0}),Z1=Sr(e=>()=>{const t=e$();return t?e(wy)[t]||"":void 0},(e,t,{threadId:n,calledBy:r})=>{ne.log("set agentLastThreadIdAtom  ~ :26 ~ threadId:",n,"calledBy:",r);const o=e$();if(!o)return;const i=e(wy)||{};t(wy,((a,s)=>Mve(a,Dve(s)))(((a,s)=>{for(var l in s||(s={}))Lve.call(s,l)&&r$(a,l,s[l]);if(n$)for(var l of n$(s))jve.call(s,l)&&r$(a,l,s[l]);return a})({},i),{[o]:n}))}),Gr=ql("chat/closeThreadThunk",async({threadId:e,keepOpen:t=!1,keepOpenSearchBar:n=!1},{dispatch:r,getState:o})=>{var i;try{qa.abortAll();const a=o(),s=Iy(a);r($h(s?{conversation_id:e,kind:"update",updatedThread:{closed:!0}}:{conversation_id:e,kind:"remove"})),Kv().set(Z1,{threadId:"",calledBy:"closeThreadThunk"});const l=Fe.avatarPlayer;l&&l.destroy();const{agent:c,source:u,initialBotMode:d,botMode:p}=a.chatBox;if(!c||!u)return;if(t||r(Er(!1)),r(tS(!1)),r(L$(!1)),r(of(!1)),r(D$(null)),s)try{await AH(e)}catch(h){window.console.error("Error closing thread API:",h),Bv({event_name:zt.ChatbotError,note:`Error in closeThread API: ${JSON.stringify(h)}`})}if(r(Sbe(null)),a.chatBox.chatAgentType==="liveChat"&&s)try{Bge({conversation_id:e,chatbot_id:((i=c.config)==null?void 0:i.agent_id)||""})}catch(h){window.console.error("Error closing live chat:",h),Bv({event_name:zt.ChatbotError,note:`Error closing live chat: ${JSON.stringify(h)}`})}return r(my(!1)),p==="searchBar"&&(r(nl({showSearchBar:n})),r(Hh("")),r(fy([])),n||r(Yh(d))),Va.instance.stop(),{success:!0}}catch(a){throw window.console.error("Error in closeThreadThunk:",a),Bv({event_name:zt.ChatbotError,note:`Error in closeThreadThunk: ${JSON.stringify(a)}`}),a}});var zve=Object.defineProperty,Fve=Object.defineProperties,Bve=Object.getOwnPropertyDescriptors,o$=Object.getOwnPropertySymbols,Uve=Object.prototype.hasOwnProperty,Hve=Object.prototype.propertyIsEnumerable,i$=(e,t,n)=>t in e?zve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ve=Object.defineProperty,Vve=Object.defineProperties,qve=Object.getOwnPropertyDescriptors,a$=Object.getOwnPropertySymbols,Wve=Object.prototype.hasOwnProperty,Kve=Object.prototype.propertyIsEnumerable,s$=(e,t,n)=>t in e?$ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const qC=[{code:"en",title:"English",selected:!1},{code:"es",title:"Espaol",selected:!1},{code:"ko",title:"",selected:!1},{code:"ja",title:"",selected:!1},{code:"zh",title:"",selected:!1},{code:"zh-TW",title:"",selected:!1},{code:"fr",title:"Franais",selected:!1},{code:"de",title:"Deutsch",selected:!1},{code:"hi",title:"",selected:!1},{code:"ar",title:"",selected:!1},{code:"pt",title:"Portugus",selected:!1},{code:"it",title:"Italiano",selected:!1},{code:"nl",title:"Nederlands",selected:!1},{code:"da",title:"Dansk",selected:!1},{code:"sv",title:"Svenska",selected:!1},{code:"fi",title:"Suomi",selected:!1},{code:"no",title:"Norsk",selected:!1},{code:"pl",title:"Polski",selected:!1},{code:"cs",title:"etina",selected:!1},{code:"sk",title:"Slovenina",selected:!1},{code:"lt",title:"Lietuvi",selected:!1},{code:"lv",title:"Latvieu",selected:!1},{code:"et",title:"Eesti",selected:!1},{code:"el",title:"",selected:!1},{code:"hu",title:"Magyar",selected:!1},{code:"hr",title:"Hrvatski",selected:!1},{code:"sr",title:"",selected:!1},{code:"sl",title:"Slovenina",selected:!1},{code:"bg",title:"",selected:!1},{code:"ro",title:"Romn",selected:!1},{code:"is",title:"slenska",selected:!1},{code:"se",title:"Davvismegiella",selected:!1}],Gve={en:{translation:{bad_response:"Bad response",bad_style_tone:"Bad style/tone",cancel:"Cancel",chat_link:"Chat Link",click_to_chat:"Click to chat",confirm_close_view_comment_label:"Add your comment",confirm_close_view_comment_placeholder:"Write your thoughts here...",confirm_close_view_no:"No",confirm_close_view_title:"Are you sure you want to close the conversation?",confirm_close_view_yes:"Yes",conversation_mode:"Conversation Mode",copied:"Copied!",copy:"Copy",could_not_get_session:"Could not get a session.",disable_bot_voice:"Disable bot voice",enable_bot_voice:"Enable bot voice",end_chat:"End Chat",good_response:"Good response",incorrect_answer:"Incorrect answer",keyboard:"Keyboard",language:"Language",listening:"Listening...",loading:"Loading...",mic:"Mic",new_chat:"New Chat",no_microphones_found:"No microphones found",poweredBy:"Powered by <0/>",proceed_cancel_button:"Cancel Now",proceed_pause_button:"Pause Now",response_length:"Response Length",response_length_long:"Verbose",response_length_medium:"Standard",response_length_short:"Concise",select_microphone:"Select Microphone",send:"Send",share:"Share",share_public_link:"Share public link",speaker:"Speaker",stop:"Stop",submit:"Submit",tell_us_more:"Tell us more",tell_us_what_went_wrong:"Tell us what went wrong...",thinking:"Thinking...",typeYourMessage:"Type your message...",unanswered_question:"Unanswered question",voice_chat:"Voice Chat",voice_mode:"Voice mode",wanted_something_else:"Wanted something else",want_something_more:"Want something more",incomplete_answer:"Incomplete answer",show_inspector:"Show Inspector",hide_inspector:"Hide Inspector"}},ar:{translation:{bad_response:" ",bad_style_tone:"/  ",cancel:"",chat_link:" ",click_to_chat:" ",confirm_close_view_comment_label:" ",confirm_close_view_comment_placeholder:"  ...",confirm_close_view_no:"",confirm_close_view_title:"      ",confirm_close_view_yes:"",conversation_mode:" ",copied:" !",copy:"",could_not_get_session:"   .",disable_bot_voice:"  ",enable_bot_voice:"  ",end_chat:" ",good_response:" ",incorrect_answer:"  ",keyboard:" ",language:"",listening:" ...",loading:" ...",mic:"",new_chat:" ",no_microphones_found:"    ",poweredBy:"  <0/>",proceed_cancel_button:" ",proceed_pause_button:"  ",response_length:" ",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:" ",send:"",share:"",share_public_link:"  ",speaker:" ",stop:"",submit:"",tell_us_more:" ",tell_us_what_went_wrong:"    ...",thinking:" ...",typeYourMessage:" ...",unanswered_question:"  ",voice_chat:" ",voice_mode:" ",wanted_something_else:"  ",want_something_more:"  ",incomplete_answer:"  "}},hi:{translation:{bad_response:" ",bad_style_tone:" /",cancel:" ",chat_link:" ",click_to_chat:"     ",confirm_close_view_comment_label:"  ",confirm_close_view_comment_placeholder:"   ...",confirm_close_view_no:"",confirm_close_view_title:"       ?",confirm_close_view_yes:"",conversation_mode:" ",copied:"  !",copy:" ",could_not_get_session:"    ",disable_bot_voice:"   ",enable_bot_voice:"   ",end_chat:"  ",good_response:" ",incorrect_answer:" ",keyboard:"",language:"",listening:"  ...",loading:"   ...",mic:"",new_chat:" ",no_microphones_found:"   ",poweredBy:"  <0/>",proceed_cancel_button:"  ",proceed_pause_button:" ",response_length:"  ",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:" ",send:"",share:"",share_public_link:"   ",speaker:"",stop:"",submit:" ",tell_us_more:"  ",tell_us_what_went_wrong:"    ...",thinking:"  ...",typeYourMessage:"    ...",unanswered_question:" ",voice_chat:" ",voice_mode:" ",wanted_something_else:"   ",want_something_more:"   ",incomplete_answer:" "}},ko:{translation:{bad_response:" ",bad_style_tone:"/  ",cancel:"",chat_link:" ",click_to_chat:" ",confirm_close_view_comment_label:" ",confirm_close_view_comment_placeholder:"  ...",confirm_close_view_no:"",confirm_close_view_title:"  ?",confirm_close_view_yes:"",conversation_mode:" ",copied:"!",copy:"",could_not_get_session:"   .",disable_bot_voice:"  ",enable_bot_voice:"  ",end_chat:" ",good_response:" ",incorrect_answer:" ",keyboard:"",language:"",listening:" ...",loading:" ...",mic:"",new_chat:" ",no_microphones_found:"   ",poweredBy:"<0/> ",proceed_cancel_button:" ",proceed_pause_button:"  ",response_length:" ",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:" ",send:"",share:"",share_public_link:"  ",speaker:"",stop:"",submit:"",tell_us_more:"  ",tell_us_what_went_wrong:" ?",thinking:" ...",typeYourMessage:" ...",unanswered_question:" ",voice_chat:" ",voice_mode:" ",wanted_something_else:"  ",want_something_more:" ",incomplete_answer:" "}},zh:{translation:{bad_response:"",bad_style_tone:"/",cancel:"",chat_link:"",click_to_chat:"",confirm_close_view_comment_label:"",confirm_close_view_comment_placeholder:"...",confirm_close_view_no:"",confirm_close_view_title:"",confirm_close_view_yes:"",conversation_mode:"",copied:"!",copy:"",could_not_get_session:"",disable_bot_voice:"",enable_bot_voice:"",end_chat:"",good_response:"",incorrect_answer:"",keyboard:"",language:"",listening:"...",loading:"...",mic:"",new_chat:"",no_microphones_found:"",poweredBy:"<0/> ",proceed_cancel_button:"",proceed_pause_button:"",response_length:"",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:"",send:"",share:"",share_public_link:"",speaker:"",stop:"",submit:"",tell_us_more:"",tell_us_what_went_wrong:"...",thinking:"...",typeYourMessage:"...",unanswered_question:"",voice_chat:"",voice_mode:"",wanted_something_else:"",want_something_more:"",incomplete_answer:""}},fi:{translation:{bad_response:"Huono vastaus",bad_style_tone:"Huono tyyli/svy",cancel:"Peruuta",chat_link:"Chat-linkki",click_to_chat:"Napsauta keskustellaksesi",confirm_close_view_comment_label:"Lis kommenttisi",confirm_close_view_comment_placeholder:"Kirjoita ajatuksesi thn...",confirm_close_view_no:"Ei",confirm_close_view_title:"Haluatko varmasti sulkea keskustelun?",confirm_close_view_yes:"Kyll",conversation_mode:"Keskustelutila",copied:"Kopioitu!",copy:"Kopioi",could_not_get_session:"Istuntoa ei voitu saada.",disable_bot_voice:"Poista botin ni kytst",enable_bot_voice:"Ota botin ni kyttn",end_chat:"Lopeta keskustelu",good_response:"Hyv vastaus",incorrect_answer:"Vr vastaus",keyboard:"Nppimist",language:"Kieli",listening:"Kuunnellaan...",loading:"Ladataan...",mic:"Mikrofoni",new_chat:"Uusi keskustelu",no_microphones_found:"Mikrofoneja ei lytynyt",poweredBy:"Voimanlhteen <0/>",proceed_cancel_button:"Peruuta nyt",proceed_pause_button:"Tauota nyt",response_length:"Vastauksen pituus",response_length_long:"Laaja",response_length_medium:"Vakio",response_length_short:"Ytimeks",select_microphone:"Valitse mikrofoni",send:"Lhet",share:"Jaa",share_public_link:"Jaa julkinen linkki",speaker:"Kaiutin",stop:"Pysyt",submit:"Lhet",tell_us_more:"Kerro lis",tell_us_what_went_wrong:"Kerro, mik meni pieleen...",thinking:"Ajatellaan...",typeYourMessage:"Kirjoita viestisi...",unanswered_question:"Vastaamaton kysymys",voice_chat:"nikeskustelu",voice_mode:"nitila",wanted_something_else:"Halusit jotain muuta",want_something_more:"Halusit jotain lis",incomplete_answer:"Eptydellinen vastaus"}},es:{translation:{bad_response:"Respuesta mala",bad_style_tone:"Mal estilo/tono",cancel:"Cancelar",chat_link:"Enlace de chat",click_to_chat:"Haz clic para chatear",confirm_close_view_comment_label:"Aade tu comentario",confirm_close_view_comment_placeholder:"Escribe tus pensamientos aqu...",confirm_close_view_no:"No",confirm_close_view_title:"Ests seguro de que quieres cerrar la conversacin?",confirm_close_view_yes:"S",conversation_mode:"Modo conversacin",copied:"Copiado!",copy:"Copiar",could_not_get_session:"No se pudo obtener una sesin.",disable_bot_voice:"Desactivar voz del bot",enable_bot_voice:"Activar voz del bot",end_chat:"Terminar Chat",good_response:"Respuesta buena",incorrect_answer:"Respuesta incorrecta",keyboard:"Teclado",language:"Idioma",listening:"Escuchando...",loading:"Cargando...",mic:"Micrfono",new_chat:"Nuevo Chat",no_microphones_found:"No se encontraron micrfonos",poweredBy:"Desarrollado por <0/>",proceed_cancel_button:"Cancelar ahora",proceed_pause_button:"Pausar ahora",response_length:"Longitud de respuesta",response_length_long:"Detallada",response_length_medium:"Estndar",response_length_short:"Concisa",select_microphone:"Seleccionar Micrfono",send:"Enviar",share:"Compartir",share_public_link:"Compartir enlace pblico",speaker:"Altavoz",stop:"Detener",submit:"Enviar",tell_us_more:"Cuntanos ms",tell_us_what_went_wrong:"Cuntanos qu sali mal...",thinking:"Pensando...",typeYourMessage:"Escribe tu mensaje...",unanswered_question:"Pregunta sin respuesta",voice_chat:"Chat de Voz",voice_mode:"Modo voz",wanted_something_else:"Quera algo diferente",want_something_more:"Quera algo ms",incomplete_answer:"Respuesta incompleta"}},de:{translation:{bad_response:"Schlechte Antwort",bad_style_tone:"Schlechter Stil/Ton",cancel:"Abbrechen",chat_link:"Chat-Link",click_to_chat:"Klicken Sie zum Chatten",confirm_close_view_comment_label:"Fgen Sie Ihren Kommentar hinzu",confirm_close_view_comment_placeholder:"Schreiben Sie hier Ihre Gedanken...",confirm_close_view_no:"Nein",confirm_close_view_title:"Sind Sie sicher, dass Sie das Gesprch beenden mchten?",confirm_close_view_yes:"Ja",conversation_mode:"Gesprchsmodus",copied:"Kopiert!",copy:"Kopieren",could_not_get_session:"Konnte keine Sitzung erhalten.",disable_bot_voice:"Bot-Stimme deaktivieren",enable_bot_voice:"Bot-Stimme aktivieren",end_chat:"Chat beenden",good_response:"Gute Antwort",incorrect_answer:"Falsche Antwort",keyboard:"Tastatur",language:"Sprache",listening:"Zuhren...",loading:"Ldt...",mic:"Mikrofon",new_chat:"Neues Gesprch",no_microphones_found:"Keine Mikrofone gefunden",poweredBy:"Untersttzt von <0/>",proceed_cancel_button:"Jetzt abbrechen",proceed_pause_button:"Jetzt pausieren",response_length:"Antwortlnge",response_length_long:"Ausfhrlich",response_length_medium:"Standard",response_length_short:"Kurz",select_microphone:"Mikrofon auswhlen",send:"Senden",share:"Teilen",share_public_link:"ffentliche Link teilen",speaker:"Lautsprecher",stop:"Stopp",submit:"Senden",tell_us_more:"Erzhlen Sie uns mehr",tell_us_what_went_wrong:"Was ist schief gelaufen?",thinking:"Denken...",typeYourMessage:"Geben Sie Ihre Nachricht ein...",unanswered_question:"Unbeantwortete Frage",voice_chat:"Sprach-Chat",voice_mode:"Sprachmodus",wanted_something_else:"Etwas anderes gewnscht",want_something_more:"Mehr wnscht",incomplete_answer:"Unvollstndige Antwort"}},ja:{translation:{bad_response:"",bad_style_tone:"/",cancel:"",chat_link:"",click_to_chat:"",confirm_close_view_comment_label:"",confirm_close_view_comment_placeholder:"...",confirm_close_view_no:"",confirm_close_view_title:"",confirm_close_view_yes:"",conversation_mode:"",copied:"!",copy:"",could_not_get_session:"",disable_bot_voice:"",enable_bot_voice:"",end_chat:"",good_response:"",incorrect_answer:"",keyboard:"",language:"",listening:"...",loading:"...",mic:"",new_chat:"",no_microphones_found:"",poweredBy:": <0/>",proceed_cancel_button:"",proceed_pause_button:"",response_length:"",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:"",send:"",share:"",share_public_link:"",speaker:"",stop:"",submit:"",tell_us_more:"",tell_us_what_went_wrong:"...",thinking:"...",typeYourMessage:"...",unanswered_question:"",voice_chat:"",voice_mode:"",wanted_something_else:"",want_something_more:"",incomplete_answer:""}},it:{translation:{bad_response:"Risposta sbagliata",bad_style_tone:"Stile/tono inadeguato",cancel:"Annulla",chat_link:"Link della chat",click_to_chat:"Clicca per chattare",confirm_close_view_comment_label:"Aggiungi il tuo commento",confirm_close_view_comment_placeholder:"Scrivi qui i tuoi pensieri...",confirm_close_view_no:"No",confirm_close_view_title:"Sei sicuro di voler chiudere la conversazione?",confirm_close_view_yes:"S",conversation_mode:"Modalit conversazione",copied:"Copiato!",copy:"Copia",could_not_get_session:"Impossibile ottenere una sessione.",disable_bot_voice:"Disabilita voce del bot",enable_bot_voice:"Abilita voce del bot",end_chat:"Termina chat",good_response:"Buona risposta",incorrect_answer:"Risposta errata",keyboard:"Tastiera",language:"Lingua",listening:"In ascolto...",loading:"Caricamento...",mic:"Microfono",new_chat:"Nuova chat",no_microphones_found:"Nessun microfono trovato",poweredBy:"Offerto da <0/>",proceed_cancel_button:"Annulla ora",proceed_pause_button:"Metti in pausa",response_length:"Lunghezza della risposta",response_length_long:"Dettagliata",response_length_medium:"Standard",response_length_short:"Concisa",select_microphone:"Seleziona microfono",send:"Invia",share:"Condividi",share_public_link:"Condividi link pubblico",speaker:"Altoparlante",stop:"Stop",submit:"Invia",tell_us_more:"Dicci di pi",tell_us_what_went_wrong:"Dicci cosa  andato storto...",thinking:"Pensando...",typeYourMessage:"Scrivi il tuo messaggio...",unanswered_question:"Domanda senza risposta",voice_chat:"Chat vocale",voice_mode:"Modalit voce",wanted_something_else:"Volevo qualcosaltro",want_something_more:"Volevo qualcosaltro",incomplete_answer:"Risposta incompleta"}},pt:{translation:{bad_response:"Resposta ruim",bad_style_tone:"Estilo/tom inadequado",cancel:"Cancelar",chat_link:"Link do chat",click_to_chat:"Clique para conversar",confirm_close_view_comment_label:"Adicione seu comentrio",confirm_close_view_comment_placeholder:"Escreva seus pensamentos aqui...",confirm_close_view_no:"No",confirm_close_view_title:"Tem certeza de que deseja encerrar a conversa?",confirm_close_view_yes:"Sim",conversation_mode:"Modo de conversa",copied:"Copiado!",copy:"Copiar",could_not_get_session:"No foi possvel obter uma sesso.",disable_bot_voice:"Desativar voz do bot",enable_bot_voice:"Ativar voz do bot",end_chat:"Encerrar chat",good_response:"Boa resposta",incorrect_answer:"Resposta incorreta",keyboard:"Teclado",language:"Idioma",listening:"Ouvindo...",loading:"Carregando...",mic:"Microfone",new_chat:"Novo chat",no_microphones_found:"Nenhum microfone encontrado",poweredBy:"Oferecido por <0/>",proceed_cancel_button:"Cancelar agora",proceed_pause_button:"Pausar agora",response_length:"Comprimento da resposta",response_length_long:"Detalhada",response_length_medium:"Padro",response_length_short:"Concisa",select_microphone:"Selecionar microfone",send:"Enviar",share:"Compartilhar",share_public_link:"Compartilhar link pblico",speaker:"Alto-falante",stop:"Parar",submit:"Enviar",tell_us_more:"Conte-nos mais",tell_us_what_went_wrong:"Diga-nos o que deu errado...",thinking:"Pensando...",typeYourMessage:"Digite sua mensagem...",unanswered_question:"Pergunta sem resposta",voice_chat:"Chat de voz",voice_mode:"Modo de voz",wanted_something_else:"Queria outra coisa",want_something_more:"Queria mais",incomplete_answer:"Resposta incompleta"}},"zh-TW":{translation:{bad_response:"",bad_style_tone:"/",cancel:"",chat_link:"",click_to_chat:"",confirm_close_view_comment_label:"",confirm_close_view_comment_placeholder:"...",confirm_close_view_no:"",confirm_close_view_title:"",confirm_close_view_yes:"",conversation_mode:"",copied:"!",copy:"",could_not_get_session:"",disable_bot_voice:"",enable_bot_voice:"",end_chat:"",good_response:"",incorrect_answer:"",keyboard:"",language:"",listening:"...",loading:"...",mic:"",new_chat:"",no_microphones_found:"",poweredBy:" <0/>",proceed_cancel_button:"",proceed_pause_button:"",response_length:"",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:"",send:"",share:"",share_public_link:"",speaker:"",stop:"",submit:"",tell_us_more:"",tell_us_what_went_wrong:"...",thinking:"...",typeYourMessage:"...",unanswered_question:"",voice_chat:"",voice_mode:"",wanted_something_else:"",want_something_more:"",incomplete_answer:""}},fr:{translation:{bad_response:"Mauvaise rponse",bad_style_tone:"Mauvais style/ton",cancel:"Annuler",chat_link:"Lien de chat",click_to_chat:"Cliquez pour discuter",confirm_close_view_comment_label:"Ajoutez votre commentaire",confirm_close_view_comment_placeholder:"crivez vos penses ici...",confirm_close_view_no:"Non",confirm_close_view_title:"tes-vous sr de vouloir fermer la conversation ?",confirm_close_view_yes:"Oui",conversation_mode:"Mode conversation",copied:"Copi !",copy:"Copier",could_not_get_session:"Impossible d'obtenir une session.",disable_bot_voice:"Dsactiver la voix du bot",enable_bot_voice:"Activer la voix du bot",end_chat:"Terminer le chat",good_response:"Bonne rponse",incorrect_answer:"Rponse incorrecte",keyboard:"Clavier",language:"Langue",listening:"coute...",loading:"Chargement...",mic:"Micro",new_chat:"Nouveau chat",no_microphones_found:"Aucun microphone trouv",poweredBy:"Propuls par <0/>",proceed_cancel_button:"Annuler maintenant",proceed_pause_button:"Pause maintenant",response_length:"Longueur de rponse",response_length_long:"Verbose",response_length_medium:"Standard",response_length_short:"Concis",select_microphone:"Slectionner le microphone",send:"Envoyer",share:"Partager",share_public_link:"Partager le lien public",speaker:"Haut-parleur",stop:"Arrter",submit:"Soumettre",tell_us_more:"Dites-nous plus",tell_us_what_went_wrong:"Dites-nous ce qui s'est mal pass...",thinking:"Rflexion...",typeYourMessage:"Tapez votre message...",unanswered_question:"Question sans rponse",voice_chat:"Chat vocal",voice_mode:"Mode vocal",wanted_something_else:"Voulait autre chose",want_something_more:"Voulait plus",incomplete_answer:"Rponse incomplte"}},nl:{translation:{bad_response:"Slecht antwoord",bad_style_tone:"Slechte stijl/toon",cancel:"Annuleren",chat_link:"Chat Link",click_to_chat:"Klik om te chatten",confirm_close_view_comment_label:"Voeg je opmerking toe",confirm_close_view_comment_placeholder:"Schrijf hier je gedachten...",confirm_close_view_no:"Nee",confirm_close_view_title:"Weet je zeker dat je het gesprek wilt sluiten?",confirm_close_view_yes:"Ja",conversation_mode:"Gespreksmodus",copied:"Gekopieerd!",copy:"Kopiren",could_not_get_session:"Kon geen sessie krijgen.",disable_bot_voice:"Botstem uitschakelen",enable_bot_voice:"Botstem inschakelen",end_chat:"Chat beindigen",good_response:"Goed antwoord",incorrect_answer:"Onjuist antwoord",keyboard:"Toetsenbord",language:"Taal",listening:"Luistert...",loading:"Laden...",mic:"Microfoon",new_chat:"Nieuwe Chat",no_microphones_found:"Geen microfoons gevonden",poweredBy:"Aangedreven door <0/>",proceed_cancel_button:"Nu annuleren",proceed_pause_button:"Nu pauzeren",response_length:"Antwoord lengte",response_length_long:"Uitgebreid",response_length_medium:"Standaard",response_length_short:"Beknopt",select_microphone:"Selecteer microfoon",send:"Verzenden",share:"Delen",share_public_link:"Deel publieke link",speaker:"Luidspreker",stop:"Stoppen",submit:"Verzenden",tell_us_more:"Vertel ons meer",tell_us_what_went_wrong:"Vertel ons wat er mis ging...",thinking:"Denkt...",typeYourMessage:"Typ je bericht...",unanswered_question:"Onbeantwoorde vraag",voice_chat:"Stemchat",voice_mode:"Stemmodus",wanted_something_else:"Wilde iets anders",want_something_more:"Wilde meer",incomplete_answer:"Onvolledig antwoord"}},sr:{translation:{bad_response:" ",bad_style_tone:" /",cancel:"",chat_link:"  ",click_to_chat:"  ",confirm_close_view_comment_label:"  ",confirm_close_view_comment_placeholder:"   ...",confirm_close_view_no:"",confirm_close_view_title:"        ?",confirm_close_view_yes:"",conversation_mode:" ",copied:"!",copy:"",could_not_get_session:"   .",disable_bot_voice:"  ",enable_bot_voice:"  ",end_chat:" ",good_response:" ",incorrect_answer:" ",keyboard:"",language:"",listening:"...",loading:"...",mic:"",new_chat:" ",no_microphones_found:"   ",poweredBy:" <0/>",proceed_cancel_button:" ",proceed_pause_button:" ",response_length:" ",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:" ",send:"",share:"",share_public_link:"  ",speaker:"",stop:"",submit:"",tell_us_more:"  ",tell_us_what_went_wrong:"      ...",thinking:"...",typeYourMessage:"  ...",unanswered_question:" ",voice_chat:" ",voice_mode:" ",wanted_something_else:"  ",want_something_more:" ",incomplete_answer:" "}},se:{translation:{bad_response:"Vttis vstdus",bad_style_tone:"Vttis stiila/vuoigatvuohta",cancel:"Gaskkal",chat_link:"Sgastallan lika",click_to_chat:"Deaddil sgastallat",confirm_close_view_comment_label:"Lasit ieat kommentra",confirm_close_view_comment_placeholder:"le ieat jurdagiid ds...",confirm_close_view_no:"Ii",confirm_close_view_title:"Leat go sihkkar ahte hliidat giddet sgastallama?",confirm_close_view_yes:"J",conversation_mode:"Sgastallan modus",copied:"Kopiererejuvvon!",copy:"Kopiere",could_not_get_session:"Ii shttn oaut doaibmasessiona.",disable_bot_voice:"Bot jiena vldde eret",enable_bot_voice:"Bot jiena aktivere",end_chat:"Loahppa sgastallat",good_response:"Buorre vstdus",incorrect_answer:"Vttis vstdus",keyboard:"Boallobeavdi",language:"Giella",listening:"Gullamin...",loading:"Vieamin...",mic:"Mikrofon",new_chat:"Oa sgastallan",no_microphones_found:"Ii gvdnon mikrofonat",poweredBy:"Doaibm <0/>",proceed_cancel_button:"Gaskkal dl",proceed_pause_button:"Bissehit dl",response_length:"Vstdusa guhkkodat",response_length_long:"Guhkes",response_length_medium:"Standrda",response_length_short:"omid",select_microphone:"Vllje mikrofon",send:"Sdde",share:"Juoge",share_public_link:"Juoge almmola lika",speaker:"Sprekar",stop:"Bissehit",submit:"Sdde",tell_us_more:"Muital eambbo",tell_us_what_went_wrong:"Muital makkr lea boasttu...",thinking:"Jurddaan...",typeYourMessage:"le ieat diehusa...",unanswered_question:"Vstideapmi gvdnam",voice_chat:"Jiena sgastallan",voice_mode:"Jiena modus",wanted_something_else:"Siihtan ear",want_something_more:"Siihtan ear",incomplete_answer:"Vstideapmi gvdnam"}},sv:{translation:{bad_response:"Dligt svar",bad_style_tone:"Dlig stil/ton",cancel:"Avbryt",chat_link:"Chattlnk",click_to_chat:"Klicka fr att chatta",confirm_close_view_comment_label:"Lgg till din kommentar",confirm_close_view_comment_placeholder:"Skriv dina tankar hr...",confirm_close_view_no:"Nej",confirm_close_view_title:"r du sker p att du vill avsluta konversationen?",confirm_close_view_yes:"Ja",conversation_mode:"Konversationslge",copied:"Kopierad!",copy:"Kopiera",could_not_get_session:"Kunde inte f en session.",disable_bot_voice:"Inaktivera botrst",enable_bot_voice:"Aktivera botrst",end_chat:"Avsluta chatt",good_response:"Bra svar",incorrect_answer:"Felaktigt svar",keyboard:"Tangentbord",language:"Sprk",listening:"Lyssnar...",loading:"Laddar...",mic:"Mikrofon",new_chat:"Ny chatt",no_microphones_found:"Inga mikrofoner hittades",poweredBy:"Drivs av <0/>",proceed_cancel_button:"Avbryt nu",proceed_pause_button:"Pausa nu",response_length:"Svarslngd",response_length_long:"Utfrlig",response_length_medium:"Standard",response_length_short:"Kortfattad",select_microphone:"Vlj mikrofon",send:"Skicka",share:"Dela",share_public_link:"Dela offentlig lnk",speaker:"Hgtalare",stop:"Stopp",submit:"Skicka",tell_us_more:"Bertta mer",tell_us_what_went_wrong:"Bertta vad som gick fel...",thinking:"Tnker...",typeYourMessage:"Skriv ditt meddelande...",unanswered_question:"Obesvarad frga",voice_chat:"Rstchatt",voice_mode:"Rstlge",wanted_something_else:"Ville ha ngot annat",want_something_more:"Ville ha mer",incomplete_answer:"Ofullstndigt svar"}},no:{translation:{bad_response:"Drlig svar",bad_style_tone:"Drlig stil/ton",cancel:"Avbryt",chat_link:"Chat-lenke",click_to_chat:"Klikk for  chatte",confirm_close_view_comment_label:"Legg til kommentaren din",confirm_close_view_comment_placeholder:"Skriv tankene dine her...",confirm_close_view_no:"Nei",confirm_close_view_title:"Er du sikker p at du vil lukke samtalen?",confirm_close_view_yes:"Ja",conversation_mode:"Samtalemodus",copied:"Kopiert!",copy:"Kopier",could_not_get_session:"Kunne ikke f en kt.",disable_bot_voice:"Deaktiver bot-stemme",enable_bot_voice:"Aktiver bot-stemme",end_chat:"Avslutt chat",good_response:"Godt svar",incorrect_answer:"Feil svar",keyboard:"Tastatur",language:"Sprk",listening:"Lytter...",loading:"Laster...",mic:"Mikrofon",new_chat:"Ny chat",no_microphones_found:"Ingen mikrofoner funnet",poweredBy:"Drevet av <0/>",proceed_cancel_button:"Avbryt n",proceed_pause_button:"Pause n",response_length:"Svar lengde",response_length_long:"Utfrlig",response_length_medium:"Standard",response_length_short:"Kortfattet",select_microphone:"Velg mikrofon",send:"Send",share:"Del",share_public_link:"Del offentlig lenke",speaker:"Hyttaler",stop:"Stopp",submit:"Send inn",tell_us_more:"Fortell oss mer",tell_us_what_went_wrong:"Fortell oss hva som gikk galt...",thinking:"Tenkende...",typeYourMessage:"Skriv meldingen din...",unanswered_question:"Ubesvart sprsml",voice_chat:"Stemmechat",voice_mode:"Stemme modus",wanted_something_else:"nsket noe annet",want_something_more:"nsket mer",incomplete_answer:"Ufullstendig svar"}},da:{translation:{bad_response:"Drligt svar",bad_style_tone:"Drlig stil/tone",cancel:"Annuller",chat_link:"Chat-link",click_to_chat:"Klik for at chatte",confirm_close_view_comment_label:"Tilfj din kommentar",confirm_close_view_comment_placeholder:"Skriv dine tanker her...",confirm_close_view_no:"Nej",confirm_close_view_title:"Er du sikker p, at du vil lukke samtalen?",confirm_close_view_yes:"Ja",conversation_mode:"Samtaletilstand",copied:"Kopieret!",copy:"Kopir",could_not_get_session:"Kunne ikke f en session.",disable_bot_voice:"Deaktiver bot-stemme",enable_bot_voice:"Aktiver bot-stemme",end_chat:"Afslut chat",good_response:"Godt svar",incorrect_answer:"Forkert svar",keyboard:"Tastatur",language:"Sprog",listening:"Lytter...",loading:"Indlser...",mic:"Mikrofon",new_chat:"Ny chat",no_microphones_found:"Ingen mikrofoner fundet",poweredBy:"Drevet af <0/>",proceed_cancel_button:"Annuller nu",proceed_pause_button:"Pause nu",response_length:"Svar lngde",response_length_long:"Omfattende",response_length_medium:"Standard",response_length_short:"Kortfattet",select_microphone:"Vlg mikrofon",send:"Send",share:"Del",share_public_link:"Del offentlig link",speaker:"Hjttaler",stop:"Stop",submit:"Indsend",tell_us_more:"Fortl os mere",tell_us_what_went_wrong:"Fortl os, hvad der gik galt...",thinking:"Tnker...",typeYourMessage:"Skriv din besked...",unanswered_question:"Ubesvaret sprgsml",voice_chat:"Stemmechat",voice_mode:"Stemme tilstand",wanted_something_else:"nskede noget andet",want_something_more:"nskede mere",incomplete_answer:"Ufuldstndig svar"}},pl:{translation:{bad_response:"Za odpowied",bad_style_tone:"Zy styl/ton",cancel:"Anuluj",chat_link:"Link do czatu",click_to_chat:"Kliknij, aby czatowa",confirm_close_view_comment_label:"Dodaj swj komentarz",confirm_close_view_comment_placeholder:"Napisz tutaj swoje przemylenia...",confirm_close_view_no:"Nie",confirm_close_view_title:"Czy na pewno chcesz zamkn rozmow?",confirm_close_view_yes:"Tak",conversation_mode:"Tryb rozmowy",copied:"Skopiowano!",copy:"Kopiuj",could_not_get_session:"Nie mona uzyska sesji.",disable_bot_voice:"Wycz gos bota",enable_bot_voice:"Wcz gos bota",end_chat:"Zakocz czat",good_response:"Dobra odpowied",incorrect_answer:"Nieprawidowa odpowied",keyboard:"Klawiatura",language:"Jzyk",listening:"Sucham...",loading:"adowanie...",mic:"Mikrofon",new_chat:"Nowy czat",no_microphones_found:"Nie znaleziono mikrofonw",poweredBy:"Wspierane przez <0/>",proceed_cancel_button:"Anuluj teraz",proceed_pause_button:"Wstrzymaj teraz",response_length:"Dugo odpowiedzi",response_length_long:"Szczegowa",response_length_medium:"Standardowa",response_length_short:"Zwiza",select_microphone:"Wybierz mikrofon",send:"Wylij",share:"Udostpnij",share_public_link:"Udostpnij publiczny link",speaker:"Gonik",stop:"Stop",submit:"Zatwierd",tell_us_more:"Powiedz nam wicej",tell_us_what_went_wrong:"Powiedz nam, co poszo nie tak...",thinking:"Myl...",typeYourMessage:"Wpisz swoj wiadomo...",unanswered_question:"Pytanie bez odpowiedzi",voice_chat:"Czat gosowy",voice_mode:"Tryb gosowy",wanted_something_else:"Chciaem czego innego",show_inspector:"Poka inspektora",hide_inspector:"Ukryj inspektora"}},cs:{translation:{bad_response:"patn odpov",bad_style_tone:"patn styl/tn",cancel:"Zruit",chat_link:"Odkaz na chat",click_to_chat:"Kliknte pro chat",confirm_close_view_comment_label:"Pidejte svj koment",confirm_close_view_comment_placeholder:"Napite sv mylenky zde...",confirm_close_view_no:"Ne",confirm_close_view_title:"Jste si jisti, e chcete ukonit konverzaci?",confirm_close_view_yes:"Ano",conversation_mode:"Reim konverzace",copied:"Zkoprovno!",copy:"Koprovat",could_not_get_session:"Nelze zskat relaci.",disable_bot_voice:"Zakzat hlas bota",enable_bot_voice:"Povolit hlas bota",end_chat:"Ukonit chat",good_response:"Dobr odpov",incorrect_answer:"Nesprvn odpov",keyboard:"Klvesnice",language:"Jazyk",listening:"Poslouchm...",loading:"Natn...",mic:"Mikrofon",new_chat:"Nov chat",no_microphones_found:"Nebyly nalezeny dn mikrofony",poweredBy:"Pohnno <0/>",proceed_cancel_button:"Zruit nyn",proceed_pause_button:"Pozastavit nyn",response_length:"Dlka odpovdi",response_length_long:"Podrobn",response_length_medium:"Standardn",response_length_short:"Strun",select_microphone:"Vybrat mikrofon",send:"Odeslat",share:"Sdlet",share_public_link:"Sdlet veejn odkaz",speaker:"Reproduktor",stop:"Stop",submit:"Odeslat",tell_us_more:"eknte nm vce",tell_us_what_went_wrong:"eknte nm, co se pokazilo...",thinking:"Pemlm...",typeYourMessage:"Napite svou zprvu...",unanswered_question:"Nezodpovzen otzka",voice_chat:"Hlasov chat",voice_mode:"Hlasov reim",wanted_something_else:"Chtl jsem nco jinho",show_inspector:"Zobrazit inspektor",hide_inspector:"Skrt inspektor"}},sk:{translation:{bad_response:"Zl odpove",bad_style_tone:"Zl tl/tn",cancel:"Zrui",chat_link:"Odkaz na chat",click_to_chat:"Kliknite pre chat",confirm_close_view_comment_label:"Pridajte svoj komentr",confirm_close_view_comment_placeholder:"Napte svoje mylienky tu...",confirm_close_view_no:"Nie",confirm_close_view_title:"Ste si ist, e chcete ukoni konverzciu?",confirm_close_view_yes:"no",conversation_mode:"Reim konverzcie",copied:"Skoprovan!",copy:"Koprova",could_not_get_session:"Nepodarilo sa zska relciu.",disable_bot_voice:"Zakza hlas bota",enable_bot_voice:"Povoli hlas bota",end_chat:"Ukoni chat",good_response:"Dobr odpove",incorrect_answer:"Nesprvna odpove",keyboard:"Klvesnica",language:"Jazyk",listening:"Povam...",loading:"Natavam...",mic:"Mikrofn",new_chat:"Nov chat",no_microphones_found:"Nenali sa iadne mikrofny",poweredBy:"Pohan <0/>",proceed_cancel_button:"Zrui teraz",proceed_pause_button:"Pozastavi teraz",response_length:"Dka odpovede",response_length_long:"Podrobn",response_length_medium:"tandardn",response_length_short:"Strun",select_microphone:"Vybra mikrofn",send:"Odosla",share:"Zdiea",share_public_link:"Zdiea verejn odkaz",speaker:"Reproduktor",stop:"Stop",submit:"Odosla",tell_us_more:"Povedzte nm viac",tell_us_what_went_wrong:"Povedzte nm, o sa pokazilo...",thinking:"Premam...",typeYourMessage:"Napte svoju sprvu...",unanswered_question:"Nezodpovedan otzka",voice_chat:"Hlasov chat",voice_mode:"Hlasov reim",wanted_something_else:"Chcel som nieo in",show_inspector:"Zobrazi inpektor",hide_inspector:"Skry inpektor"}},lt:{translation:{bad_response:"Blogas atsakymas",bad_style_tone:"Blogas stilius/tonas",cancel:"Ataukti",chat_link:"Pokalbio nuoroda",click_to_chat:"Spustelkite, kad pradtumte pokalb",confirm_close_view_comment_label:"Pridkite savo komentar",confirm_close_view_comment_placeholder:"Paraykite savo mintis ia...",confirm_close_view_no:"Ne",confirm_close_view_title:"Ar tikrai norite udaryti pokalb?",confirm_close_view_yes:"Taip",conversation_mode:"Pokalbio reimas",copied:"Nukopijuota!",copy:"Kopijuoti",could_not_get_session:"Nepavyko gauti sesijos.",disable_bot_voice:"Ijungti boto bals",enable_bot_voice:"jungti boto bals",end_chat:"Baigti pokalb",good_response:"Geras atsakymas",incorrect_answer:"Neteisingas atsakymas",keyboard:"Klaviatra",language:"Kalba",listening:"Klausau...",loading:"Kraunama...",mic:"Mikrofonas",new_chat:"Naujas pokalbis",no_microphones_found:"Mikrofon nerasta",poweredBy:"Veikia su <0/>",proceed_cancel_button:"Ataukti dabar",proceed_pause_button:"Pristabdyti dabar",response_length:"Atsakymo ilgis",response_length_long:"Isamus",response_length_medium:"Standartinis",response_length_short:"Glausta",select_microphone:"Pasirinkti mikrofon",send:"Sisti",share:"Dalintis",share_public_link:"Dalintis viea nuoroda",speaker:"Garsiakalbis",stop:"Stop",submit:"Pateikti",tell_us_more:"Pasakykite mums daugiau",tell_us_what_went_wrong:"Pasakykite mums, kas nutiko...",thinking:"Galvoju...",typeYourMessage:"veskite savo inut...",unanswered_question:"Neatsakytas klausimas",voice_chat:"Balso pokalbis",voice_mode:"Balso reimas",wanted_something_else:"Norjau kako kito",show_inspector:"Rodyti inspektori",hide_inspector:"Slpti inspektori"}},lv:{translation:{bad_response:"Slikta atbilde",bad_style_tone:"Slikts stils/tonis",cancel:"Atcelt",chat_link:"Trzanas saite",click_to_chat:"Noklikiniet, lai trztu",confirm_close_view_comment_label:"Pievienojiet savu komentru",confirm_close_view_comment_placeholder:"Uzrakstiet savas domas eit...",confirm_close_view_no:"N",confirm_close_view_title:"Vai tiem vlaties aizvrt sarunu?",confirm_close_view_yes:"J",conversation_mode:"Sarunas rems",copied:"Nokopts!",copy:"Kopt",could_not_get_session:"Nevarja iegt sesiju.",disable_bot_voice:"Atspjot robota balsi",enable_bot_voice:"Iespjot robota balsi",end_chat:"Beigt trzanu",good_response:"Laba atbilde",incorrect_answer:"Nepareiza atbilde",keyboard:"Tastatra",language:"Valoda",listening:"Klausos...",loading:"Ield...",mic:"Mikrofons",new_chat:"Jauna trzana",no_microphones_found:"Mikrofoni nav atrasti",poweredBy:"Darbina <0/>",proceed_cancel_button:"Atcelt tagad",proceed_pause_button:"Pauzt tagad",response_length:"Atbildes garums",response_length_long:"Detalizta",response_length_medium:"Standarta",response_length_short:"sa",select_microphone:"Izvlties mikrofonu",send:"Stt",share:"Kopgot",share_public_link:"Kopgot publisko saiti",speaker:"Skarunis",stop:"Stop",submit:"Iesniegt",tell_us_more:"Paststiet mums vairk",tell_us_what_went_wrong:"Paststiet mums, kas notika...",thinking:"Domju...",typeYourMessage:"Ierakstiet savu ziojumu...",unanswered_question:"Neatbildts jautjums",voice_chat:"Balss trzana",voice_mode:"Balss rems",wanted_something_else:"Gribju kaut ko citu",show_inspector:"Rdt inspektoru",hide_inspector:"Paslpt inspektoru"}},et:{translation:{bad_response:"Halb vastus",bad_style_tone:"Halb stiil/toon",cancel:"Thista",chat_link:"Vestluse link",click_to_chat:"Klpsake vestlemiseks",confirm_close_view_comment_label:"Lisa oma kommentaar",confirm_close_view_comment_placeholder:"Kirjuta oma mtted siia...",confirm_close_view_no:"Ei",confirm_close_view_title:"Kas olete kindel, et soovite vestluse sulgeda?",confirm_close_view_yes:"Jah",conversation_mode:"Vestlusreiim",copied:"Kopeeritud!",copy:"Kopeeri",could_not_get_session:"Ei saanud sessiooni.",disable_bot_voice:"Keela boti hl",enable_bot_voice:"Luba boti hl",end_chat:"Lpeta vestlus",good_response:"Hea vastus",incorrect_answer:"Vale vastus",keyboard:"Klaviatuur",language:"Keel",listening:"Kuulan...",loading:"Laadimine...",mic:"Mikrofon",new_chat:"Uus vestlus",no_microphones_found:"Mikrofone ei leitud",poweredBy:"Toetab <0/>",proceed_cancel_button:"Thista kohe",proceed_pause_button:"Peata kohe",response_length:"Vastuse pikkus",response_length_long:"ksikasjalik",response_length_medium:"Standardne",response_length_short:"Lhike",select_microphone:"Vali mikrofon",send:"Saada",share:"Jaga",share_public_link:"Jaga avalikku linki",speaker:"Klar",stop:"Peata",submit:"Esita",tell_us_more:"Rgi meile rohkem",tell_us_what_went_wrong:"Rgi meile, mis lks valesti...",thinking:"Mtlen...",typeYourMessage:"Kirjuta oma snum...",unanswered_question:"Vastamata ksimus",voice_chat:"Hlvestlus",voice_mode:"Hlreiim",wanted_something_else:"Tahtsin midagi muud",show_inspector:"Nita inspektorit",hide_inspector:"Peida inspektor"}},el:{translation:{bad_response:" ",bad_style_tone:" /",cancel:"",chat_link:" ",click_to_chat:"   ",confirm_close_view_comment_label:"   ",confirm_close_view_comment_placeholder:"    ...",confirm_close_view_no:"",confirm_close_view_title:"       ;",confirm_close_view_yes:"",conversation_mode:" ",copied:"!",copy:"",could_not_get_session:"     .",disable_bot_voice:"  bot",enable_bot_voice:"  bot",end_chat:" ",good_response:" ",incorrect_answer:" ",keyboard:"",language:"",listening:"...",loading:"...",mic:"",new_chat:" ",no_microphones_found:"  ",poweredBy:"   <0/>",proceed_cancel_button:" ",proceed_pause_button:" ",response_length:" ",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:" ",send:"",share:"",share_public_link:"  ",speaker:"",stop:"",submit:"",tell_us_more:"  ",tell_us_what_went_wrong:"    ...",thinking:"...",typeYourMessage:"   ...",unanswered_question:" ",voice_chat:" ",voice_mode:" ",wanted_something_else:"  ",show_inspector:" ",hide_inspector:" "}},hu:{translation:{bad_response:"Rossz vlasz",bad_style_tone:"Rossz stlus/hangnem",cancel:"Mgse",chat_link:"Csevegs link",click_to_chat:"Kattintson a csevegshez",confirm_close_view_comment_label:"Adja hozz megjegyzst",confirm_close_view_comment_placeholder:"rja ide gondolatait...",confirm_close_view_no:"Nem",confirm_close_view_title:"Biztosan be szeretn zrni a beszlgetst?",confirm_close_view_yes:"Igen",conversation_mode:"Beszlgetsi md",copied:"Msolva!",copy:"Msols",could_not_get_session:"Nem sikerlt munkamenetet ltrehozni.",disable_bot_voice:"Bot hang letiltsa",enable_bot_voice:"Bot hang engedlyezse",end_chat:"Csevegs befejezse",good_response:"J vlasz",incorrect_answer:"Helytelen vlasz",keyboard:"Billentyzet",language:"Nyelv",listening:"Hallgatok...",loading:"Betlts...",mic:"Mikrofon",new_chat:"j csevegs",no_microphones_found:"Nem tallhatk mikrofonok",poweredBy:"<0/> ltal mkdtetve",proceed_cancel_button:"Mgse most",proceed_pause_button:"Sznet most",response_length:"Vlasz hossza",response_length_long:"Rszletes",response_length_medium:"Standard",response_length_short:"Tmr",select_microphone:"Mikrofon kivlasztsa",send:"Klds",share:"Megoszts",share_public_link:"Nyilvnos link megosztsa",speaker:"Hangszr",stop:"Lellts",submit:"Beklds",tell_us_more:"Mondjon tbbet",tell_us_what_went_wrong:"Mondja el, mi romlott el...",thinking:"Gondolkodom...",typeYourMessage:"rja be zenett...",unanswered_question:"Megvlaszolatlan krds",voice_chat:"Hang csevegs",voice_mode:"Hang md",wanted_something_else:"Mst akartam",show_inspector:"Ellenr megjelentse",hide_inspector:"Ellenr elrejtse"}},hr:{translation:{bad_response:"Lo odgovor",bad_style_tone:"Lo stil/ton",cancel:"Otkai",chat_link:"Link za chat",click_to_chat:"Kliknite za chat",confirm_close_view_comment_label:"Dodajte svoj komentar",confirm_close_view_comment_placeholder:"Napiite svoje misli ovdje...",confirm_close_view_no:"Ne",confirm_close_view_title:"Jeste li sigurni da elite zatvoriti razgovor?",confirm_close_view_yes:"Da",conversation_mode:"Nain razgovora",copied:"Kopirano!",copy:"Kopiraj",could_not_get_session:"Nije mogue dobiti sesiju.",disable_bot_voice:"Onemogui glas bota",enable_bot_voice:"Omogui glas bota",end_chat:"Zavri chat",good_response:"Dobar odgovor",incorrect_answer:"Netoan odgovor",keyboard:"Tipkovnica",language:"Jezik",listening:"Sluam...",loading:"Uitavanje...",mic:"Mikrofon",new_chat:"Novi chat",no_microphones_found:"Nisu pronaeni mikrofoni",poweredBy:"Pokree <0/>",proceed_cancel_button:"Otkai sada",proceed_pause_button:"Pauziraj sada",response_length:"Duljina odgovora",response_length_long:"Detaljan",response_length_medium:"Standardan",response_length_short:"Kratak",select_microphone:"Odaberi mikrofon",send:"Poalji",share:"Podijeli",share_public_link:"Podijeli javni link",speaker:"Zvunik",stop:"Zaustavi",submit:"Poalji",tell_us_more:"Recite nam vie",tell_us_what_went_wrong:"Recite nam to je polo po zlu...",thinking:"Razmiljam...",typeYourMessage:"Unesite svoju poruku...",unanswered_question:"Neodgovoreno pitanje",voice_chat:"Glasovni chat",voice_mode:"Glasovni nain",wanted_something_else:"Htio sam neto drugo",show_inspector:"Prikai inspektora",hide_inspector:"Sakrij inspektora"}},sl:{translation:{bad_response:"Slab odgovor",bad_style_tone:"Slab slog/ton",cancel:"Preklii",chat_link:"Povezava do klepeta",click_to_chat:"Kliknite za klepet",confirm_close_view_comment_label:"Dodajte svoj komentar",confirm_close_view_comment_placeholder:"Napiite svoje misli tukaj...",confirm_close_view_no:"Ne",confirm_close_view_title:"Ali ste prepriani, da elite zapreti pogovor?",confirm_close_view_yes:"Da",conversation_mode:"Nain pogovora",copied:"Kopirano!",copy:"Kopiraj",could_not_get_session:"Ni bilo mogoe dobiti seje.",disable_bot_voice:"Onemogoi glas bota",enable_bot_voice:"Omogoi glas bota",end_chat:"Konaj klepet",good_response:"Dober odgovor",incorrect_answer:"Napaen odgovor",keyboard:"Tipkovnica",language:"Jezik",listening:"Posluam...",loading:"Nalaganje...",mic:"Mikrofon",new_chat:"Nov klepet",no_microphones_found:"Mikrofoni niso najdeni",poweredBy:"Poganja <0/>",proceed_cancel_button:"Preklii zdaj",proceed_pause_button:"Pavziraj zdaj",response_length:"Dolina odgovora",response_length_long:"Podroben",response_length_medium:"Standardni",response_length_short:"Kratek",select_microphone:"Izberi mikrofon",send:"Polji",share:"Deli",share_public_link:"Deli javno povezavo",speaker:"Zvonik",stop:"Ustavi",submit:"Polji",tell_us_more:"Povejte nam ve",tell_us_what_went_wrong:"Povejte nam, kaj je lo narobe...",thinking:"Razmiljam...",typeYourMessage:"Vnesite svoje sporoilo...",unanswered_question:"Neodgovorjeno vpraanje",voice_chat:"Glasovni klepet",voice_mode:"Glasovni nain",wanted_something_else:"Hotel sem nekaj drugega",show_inspector:"Prikai inpektorja",hide_inspector:"Skrij inpektorja"}},bg:{translation:{bad_response:" ",bad_style_tone:" /",cancel:"",chat_link:"  ",click_to_chat:"  ",confirm_close_view_comment_label:"  ",confirm_close_view_comment_placeholder:"   ...",confirm_close_view_no:"",confirm_close_view_title:"  ,     ?",confirm_close_view_yes:"",conversation_mode:"  ",copied:"!",copy:"",could_not_get_session:"     .",disable_bot_voice:"   ",enable_bot_voice:"   ",end_chat:"  ",good_response:" ",incorrect_answer:" ",keyboard:"",language:"",listening:"...",loading:"...",mic:"",new_chat:" ",no_microphones_found:"   ",poweredBy:"  <0/>",proceed_cancel_button:" ",proceed_pause_button:" ",response_length:"  ",response_length_long:"",response_length_medium:"",response_length_short:"",select_microphone:" ",send:"",share:"",share_public_link:"  ",speaker:"",stop:"",submit:"",tell_us_more:"  ",tell_us_what_went_wrong:"    ...",thinking:"...",typeYourMessage:"  ...",unanswered_question:" ",voice_chat:" ",voice_mode:" ",wanted_something_else:"  ",show_inspector:" ",hide_inspector:" "}},ro:{translation:{bad_response:"Rspuns prost",bad_style_tone:"Stil/ton prost",cancel:"Anuleaz",chat_link:"Link chat",click_to_chat:"Facei clic pentru a conversa",confirm_close_view_comment_label:"Adugai comentariul dvs.",confirm_close_view_comment_placeholder:"Scriei gndurile dvs. aici...",confirm_close_view_no:"Nu",confirm_close_view_title:"Suntei sigur c dorii s nchidei conversaia?",confirm_close_view_yes:"Da",conversation_mode:"Mod conversaie",copied:"Copiat!",copy:"Copiaz",could_not_get_session:"Nu s-a putut obine sesiunea.",disable_bot_voice:"Dezactiveaz vocea botului",enable_bot_voice:"Activeaz vocea botului",end_chat:"nchide chat-ul",good_response:"Rspuns bun",incorrect_answer:"Rspuns incorect",keyboard:"Tastatur",language:"Limb",listening:"Ascult...",loading:"Se ncarc...",mic:"Microfon",new_chat:"Chat nou",no_microphones_found:"Nu s-au gsit microfoane",poweredBy:"Oferit de <0/>",proceed_cancel_button:"Anuleaz acum",proceed_pause_button:"Pauz acum",response_length:"Lungimea rspunsului",response_length_long:"Detaliat",response_length_medium:"Standard",response_length_short:"Concis",select_microphone:"Selecteaz microfonul",send:"Trimite",share:"Distribuie",share_public_link:"Distribuie link public",speaker:"Difuzor",stop:"Stop",submit:"Trimite",tell_us_more:"Spunei-ne mai multe",tell_us_what_went_wrong:"Spunei-ne ce a mers greit...",thinking:"M gndesc...",typeYourMessage:"Tastai mesajul dvs...",unanswered_question:"ntrebare fr rspuns",voice_chat:"Chat vocal",voice_mode:"Mod vocal",wanted_something_else:"Am vrut altceva",show_inspector:"Arat inspectorul",hide_inspector:"Ascunde inspectorul"}},is:{translation:{bad_response:"Slmt svar",bad_style_tone:"Slmur stll/tnn",cancel:"Htta vi",chat_link:"Spjall hlekkur",click_to_chat:"Smelltu til a spjalla",confirm_close_view_comment_label:"Bttu vi athugasemd",confirm_close_view_comment_placeholder:"Skrifau hugsanir nar hr...",confirm_close_view_no:"Nei",confirm_close_view_title:"Ertu viss um a  viljir loka samtalinu?",confirm_close_view_yes:"J",conversation_mode:"Samtalsstilling",copied:"Afrita!",copy:"Afrita",could_not_get_session:"Gat ekki fengi setu.",disable_bot_voice:"Slkkva  rdd vlmennis",enable_bot_voice:"Kveikja  rdd vlmennis",end_chat:"Enda spjall",good_response:"Gott svar",incorrect_answer:"Rangt svar",keyboard:"Lyklabor",language:"Tunguml",listening:"Hlusta...",loading:"Hleur...",mic:"Hljnemi",new_chat:"Ntt spjall",no_microphones_found:"Engir hljnemar fundust",poweredBy:"Kni af <0/>",proceed_cancel_button:"Htta vi nna",proceed_pause_button:"Gera hl nna",response_length:"Lengd svars",response_length_long:"tarlegt",response_length_medium:"Venjulegt",response_length_short:"Stutt",select_microphone:"Veldu hljnema",send:"Senda",share:"Deila",share_public_link:"Deila opinberum hlekk",speaker:"Htalari",stop:"Stva",submit:"Senda inn",tell_us_more:"Segu okkur meira",tell_us_what_went_wrong:"Segu okkur hva fr rskeiis...",thinking:"Hugsa...",typeYourMessage:"Skrifau skilabo n...",unanswered_question:"svara spurning",voice_chat:"Raddspjall",voice_mode:"Raddstilling",wanted_something_else:"Vildi eitthva anna",show_inspector:"Sna skounarmann",hide_inspector:"Fela skounarmann"}}},Wh="en",l$="livex_chat_language_code",c$=e=>{if(!e)return Wh;if(e==="zh-TW")return"zh-TW";let t=e.split("-")[0];return qC.some(n=>n.code===t)||(t=Wh),t},u$=e=>(e=(e==="auto"?c$(navigator.language):e)||Wh,oS(l$,e)),Yve=(e,t)=>{const n=u$(e);let r=qC;return t&&t.length>0&&(r=qC.filter(o=>t.includes(o.code))),r.map(o=>o.code===n?((i,a)=>Vve(i,qve(a)))(((i,a)=>{for(var s in a||(a={}))Wve.call(a,s)&&s$(i,s,a[s]);if(a$)for(var s of a$(a))Kve.call(a,s)&&s$(i,s,a[s]);return i})({},o),{selected:!0}):o)};var WC,d$,KC,h$,Eu=function(){if(d$)return WC;function e(h){this._maxSize=h,this.clear()}d$=1,e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(h){return this._values[h]},e.prototype.set=function(h,m){return this._size>=this._maxSize&&this.clear(),h in this._values||this._size++,this._values[h]=m};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=new e(512),s=new e(512),l=new e(512);function c(h){return a.get(h)||a.set(h,u(h).map(function(m){return m.replace(i,"$2")}))}function u(h){return h.match(t)||[""]}function d(h){return typeof h=="string"&&h&&["'",'"'].indexOf(h.charAt(0))!==-1}function p(h){return!d(h)&&(function(m){return m.match(r)&&!m.match(n)}(h)||function(m){return o.test(m)}(h))}return WC={Cache:e,split:u,normalizePath:c,setter:function(h){var m=c(h);return s.get(h)||s.set(h,function(g,f){for(var v=0,y=m.length,b=g;v<y-1;){var w=m[v];if(w==="__proto__"||w==="constructor"||w==="prototype")return g;b=b[m[v++]]}b[m[v]]=f})},getter:function(h,m){var g=c(h);return l.get(h)||l.set(h,function(f){for(var v=0,y=g.length;v<y;){if(f==null&&m)return;f=f[g[v++]]}return f})},join:function(h){return h.reduce(function(m,g){return m+(d(g)||n.test(g)?"["+g+"]":(m?".":"")+g)},"")},forEach:function(h,m,g){(function(f,v,y){var b,w,k,_,E=f.length;for(w=0;w<E;w++)(b=f[w])&&(p(b)&&(b='"'+b+'"'),_=d(b),k=!_&&/^\d+$/.test(b),v.call(y,b,_,k,w,f))})(Array.isArray(h)?h:u(h),m,g)}},WC}(),p$,GC=function(){if(h$)return KC;h$=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=i=>i.match(e)||[],n=i=>i[0].toUpperCase()+i.slice(1),r=(i,a)=>t(i).join(a).toLowerCase(),o=i=>t(i).reduce((a,s)=>`${a}${a?s[0].toUpperCase()+s.slice(1).toLowerCase():s.toLowerCase()}`,"");return KC={words:t,upperFirst:n,camelCase:o,pascalCase:i=>n(o(i)),snakeCase:i=>r(i,"_"),kebabCase:i=>r(i,"-"),sentenceCase:i=>n(r(i," ")),titleCase:i=>t(i).map(n).join(" ")},KC}(),ky={exports:{}},Qve=function(){if(p$)return ky.exports;function e(t,n){var r=t.length,o=new Array(r),i={},a=r,s=function(u){for(var d=new Map,p=0,h=u.length;p<h;p++){var m=u[p];d.has(m[0])||d.set(m[0],new Set),d.has(m[1])||d.set(m[1],new Set),d.get(m[0]).add(m[1])}return d}(n),l=function(u){for(var d=new Map,p=0,h=u.length;p<h;p++)d.set(u[p],p);return d}(t);for(n.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)i[a]||c(t[a],a,new Set);return o;function c(u,d,p){if(p.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[d]){i[d]=!0;var m=s.get(u)||new Set;if(d=(m=Array.from(m)).length){p.add(u);do{var g=m[--d];c(g,l.get(g),p)}while(d);p.delete(u)}o[--r]=u}}}return p$=1,ky.exports=function(t){return e(function(n){for(var r=new Set,o=0,i=n.length;o<i;o++){var a=n[o];r.add(a[0]),r.add(a[1])}return Array.from(r)}(t),t)},ky.exports.array=e,ky.exports}();const Jve=$r(Qve),Xve=Object.prototype.toString,Zve=Error.prototype.toString,ebe=RegExp.prototype.toString,tbe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",nbe=/^Symbol\((.*)\)(.*)$/;function m$(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return function(o){return o!=+o?"NaN":o===0&&1/o<0?"-0":""+o}(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return tbe.call(e).replace(nbe,"Symbol($1)");const r=Xve.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+Zve.call(e)+"]":r==="RegExp"?ebe.call(e):null}function sc(e,t){let n=m$(e,t);return n!==null?n:JSON.stringify(e,function(r,o){let i=m$(this[r],t);return i!==null?i:o},2)}function f$(e){return e==null?[]:[].concat(e)}let g$,v$,b$,rbe=/\$\{\s*(\w+)\s*\}/g;g$=Symbol.toStringTag;class y${constructor(t,n,r,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[g$]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=o,this.errors=[],this.inner=[],f$(t).forEach(i=>{if(Do.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}v$=Symbol.hasInstance,b$=Symbol.toStringTag;class Do extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(rbe,(o,i)=>sc(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,o,i){const a=new y$(t,n,r,o);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[b$]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Do)}static[v$](t){return y$[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Za={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const o=r!=null&&r!==n?` (cast from the value \`${sc(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${sc(n,!0)}\``+o:`${e} must match the configured type. The validated value was: \`${sc(n,!0)}\``+o}},Lo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},YC={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_y={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"};Object.assign(Object.create(null),{mixed:Za,string:Lo,number:{min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date:YC,object:_y,array:{min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},boolean:{isValue:"${path} field must be ${value}"},tuple:{notType:e=>{const{path:t,value:n,spec:r}=e,o=r.types.length;if(Array.isArray(n)){if(n.length<o)return`${t} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${sc(n,!0)}\``;if(n.length>o)return`${t} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${sc(n,!0)}\``}return Do.formatError(Za.notType,e)}}});const QC=e=>e&&e.__isYupSchema__;class xy{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:i}=n,a=typeof r=="function"?r:(...s)=>s.every(l=>l===r);return new xy(t,(s,l)=>{var c;let u=a(...s)?o:i;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),o=this.fn(r,t,n);if(o===void 0||o===t)return t;if(!QC(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}const w$="$",k$=".";class Ou{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===w$,this.isValue=this.key[0]===k$,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?w$:this.isValue?k$:"";this.path=this.key.slice(r.length),this.getter=this.path&&Eu.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let o=this.isContext?r:this.isValue?t:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Ou.prototype.__isYupRef=!0;const Au=e=>e==null;function Kh(e){function t({value:n,path:r="",options:o,originalValue:i,schema:a},s,l){const{name:c,test:u,params:d,message:p,skipAbsent:h}=e;let{parent:m,context:g,abortEarly:f=a.spec.abortEarly,disableStackTrace:v=a.spec.disableStackTrace}=o;function y(T){return Ou.isRef(T)?T.getValue(n,m,g):T}function b(T={}){const M=Object.assign({value:n,originalValue:i,label:a.spec.label,path:T.path||r,spec:a.spec,disableStackTrace:T.disableStackTrace||v},d,T.params);for(const H of Object.keys(M))M[H]=y(M[H]);const D=new Do(Do.formatError(T.message||p,M),n,M.path,T.type||c,M.disableStackTrace);return D.params=M,D}const w=f?s:l;let k={path:r,parent:m,type:c,from:o.from,createError:b,resolve:y,options:o,originalValue:i,schema:a};const _=T=>{Do.isError(T)?w(T):T?l(null):w(b())},E=T=>{Do.isError(T)?w(T):s(T)};if(h&&Au(n))return _(!0);let S;try{var O;if(S=u.call(k,n,k),typeof((O=S)==null?void 0:O.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${k.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(S).then(_,E)}}catch(T){return void E(T)}_(S)}return t.OPTIONS=e,t}function obe(e,t,n,r=n){let o,i,a;return t?(Eu.forEach(t,(s,l,c)=>{let u=l?s.slice(1,s.length-1):s,d=(e=e.resolve({context:r,parent:o,value:n})).type==="tuple",p=c?parseInt(u,10):0;if(e.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[p],e=d?e.spec.types[p]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e.type}")`);o=n,n=n&&n[u],e=e.fields[u]}i=u,a=l?"["+s+"]":"."+s}),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class Cy extends Set{describe(){const t=[];for(const n of this.values())t.push(Ou.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Cy(this.values())}merge(t,n){const r=this.clone();return t.forEach(o=>r.add(o)),n.forEach(o=>r.delete(o)),r}}function Gh(e,t=new Map){if(QC(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Gh(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,o]of e.entries())n.set(r,Gh(o,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Gh(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,o]of Object.entries(e))n[r]=Gh(o,t)}return n}let es=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Cy,this._blacklist=new Cy,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Za.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Gh(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(o=>{e.tests.forEach(i=>{o.test(i.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((r,o)=>o.resolve(r,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,o;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r=t.assert==="ignore-optionality",o=n._cast(e,t);if(t.assert!==!1&&!n.isType(o)){if(r&&Au(o))return o;let i=sc(e),a=sc(o);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(a!==i?`result of cast: ${a}`:""))}return o}_cast(e,t){let n=e===void 0?e:this.transforms.reduce((r,o)=>o.call(this,r,e,this),e);return n===void 0&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:o,originalValue:i=e,strict:a=this.spec.strict}=t,s=e;a||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:o,value:s,originalValue:i,options:t,tests:l},n,c=>{if(c.length)return r(c,s);this.runTests({path:o,value:s,originalValue:i,options:t,tests:this.tests},n,r)})}runTests(e,t,n){let r=!1,{tests:o,value:i,originalValue:a,path:s,options:l}=e,c=m=>{r||(r=!0,t(m,i))},u=m=>{r||(r=!0,n(m,i))},d=o.length,p=[];if(!d)return u([]);let h={value:i,originalValue:a,path:s,options:l,schema:this};for(let m=0;m<o.length;m++)(0,o[m])(h,c,function(g){g&&(Array.isArray(g)?p.push(...g):p.push(g)),--d<=0&&u(p)})}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:o,options:i}){const a=e??t;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const s=typeof a=="number";let l=n[a];const c=Object.assign({},i,{strict:!0,parent:n,value:l,originalValue:o[a],key:void 0,[s?"index":"key"]:a,path:s||a.includes(".")?`${r||""}[${s?a:`"${a}"`}]`:(r?`${r}.`:"")+e});return(u,d,p)=>this.resolve(c)._validate(l,c,d,p)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),o=(n=t==null?void 0:t.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((i,a)=>r._validate(e,t,(s,l)=>{Do.isError(s)&&(s.value=l),a(s)},(s,l)=>{s.length?a(new Do(s,l,void 0,void 0,o)):i(l)}))}validateSync(e,t){var n;let r,o=this.resolve(Object.assign({},t,{value:e})),i=(n=t==null?void 0:t.disableStackTrace)!=null?n:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(a,s)=>{throw Do.isError(a)&&(a.value=s),a},(a,s)=>{if(a.length)throw new Do(a,e,void 0,void 0,i);r=s}),r}isValid(e,t){return this.validate(e,t).then(()=>!0,n=>{if(Do.isError(n))return!1;throw n})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(Do.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Gh(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Kh({message:t,name:"nullable",test(r){return r!==null||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Kh({message:t,name:"optionality",test(r){return r!==void 0||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=Za.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Za.notNull){return this.nullability(!1,e)}required(e=Za.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=e.length===1?typeof e[0]=="function"?{test:e[0]}:e[0]:e.length===2?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Za.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Kh(t),o=t.exclusive||t.name&&n.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===t.name&&(o||i.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let n=this.clone(),r=f$(e).map(o=>new Ou(o));return r.forEach(o=>{o.isSibling&&n.deps.push(o.key)}),n.conditions.push(typeof t=="function"?new xy(r,t):xy.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Kh({message:e,name:"typeError",skipAbsent:!0,test(n){return!!this.schema._typeCheck(n)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Za.oneOf){let n=this.clone();return e.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=Kh({message:t,name:"oneOf",skipAbsent:!0,test(r){let o=this.schema._whitelist,i=o.resolveAll(this.resolve);return!!i.includes(r)||this.createError({params:{values:Array.from(o).join(", "),resolved:i}})}}),n}notOneOf(e,t=Za.notOneOf){let n=this.clone();return e.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=Kh({message:t,name:"notOneOf",test(r){let o=this.schema._blacklist,i=o.resolveAll(this.resolve);return!i.includes(r)||this.createError({params:{values:Array.from(o).join(", "),resolved:i}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:o,nullable:i}=t.spec;return{meta:r,label:n,optional:o,nullable:i,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,s,l)=>l.findIndex(c=>c.name===a.name)===s)}}};es.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])es.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:a}=obe(this,t,n,r.context);return a[e](o&&o[i],Object.assign({},r,{parent:o,path:t}))};for(const e of["equals","is"])es.prototype[e]=es.prototype.oneOf;for(const e of["not","nope"])es.prototype[e]=es.prototype.notOneOf;const ibe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function JC(e){var t,n;const r=ibe.exec(e);return r?{year:tl(r[1]),month:tl(r[2],1)-1,day:tl(r[3],1),hour:tl(r[4]),minute:tl(r[5]),second:tl(r[6]),millisecond:r[7]?tl(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:tl(r[10]),minuteOffset:tl(r[11])}:null}function tl(e,t=0){return Number(e)||t}let abe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sbe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,lbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,cbe=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),ube=e=>Au(e)||e===e.trim(),dbe={}.toString();function ts(){return new _$}class _$ extends es{constructor(){super({type:"string",check:t=>(t instanceof String&&(t=t.valueOf()),typeof t=="string")}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const o=t!=null&&t.toString?t.toString():t;return o===dbe?t:o})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||Za.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Lo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Lo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Lo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r,o,i=!1;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:o}=n:r=n),this.test({name:o||"matches",message:r||Lo.matches,params:{regex:t},skipAbsent:!0,test:a=>a===""&&i||a.search(t)!==-1})}email(t=Lo.email){return this.matches(abe,{name:"email",message:t,excludeEmptyString:!0})}url(t=Lo.url){return this.matches(sbe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Lo.uuid){return this.matches(lbe,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n,r,o="";return t&&(typeof t=="object"?{message:o="",allowOffset:n=!1,precision:r}=t:o=t),this.matches(cbe,{name:"datetime",message:o||Lo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:o||Lo.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const a=JC(i);return!!a&&!!a.z}}).test({name:"datetime_precision",message:o||Lo.datetime_precision,params:{precision:r},skipAbsent:!0,test:i=>{if(!i||r==null)return!0;const a=JC(i);return!!a&&a.precision===r}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Lo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:ube})}lowercase(t=Lo.lowercase){return this.transform(n=>Au(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Au(n)||n===n.toLowerCase()})}uppercase(t=Lo.uppercase){return this.transform(n=>Au(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Au(n)||n===n.toUpperCase()})}}ts.prototype=_$.prototype;let hbe=new Date("");class XC extends es{constructor(){super({type:"date",check:t=>(n=>Object.prototype.toString.call(n)==="[object Date]")(t)&&!isNaN(t.getTime())}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=function(o){const i=JC(o);if(!i)return Date.parse?Date.parse(o):Number.NaN;if(i.z===void 0&&i.plusMinus===void 0)return new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond).valueOf();let a=0;return i.z!=="Z"&&i.plusMinus!==void 0&&(a=60*i.hourOffset+i.minuteOffset,i.plusMinus==="+"&&(a=0-a)),Date.UTC(i.year,i.month,i.day,i.hour,i.minute+a,i.second,i.millisecond)}(t),isNaN(t)?XC.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(Ou.isRef(t))r=t;else{let o=this.cast(t);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(t,n=YC.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(o){return o>=this.resolve(r)}})}max(t,n=YC.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(o){return o<=this.resolve(r)}})}}function x$(e,t){let n=1/0;return e.some((r,o)=>{var i;if((i=t.path)!=null&&i.includes(r))return n=o,!0}),n}function C$(e){return(t,n)=>x$(e,t)-x$(e,n)}XC.INVALID_DATE=hbe;const pbe=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function Sy(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=Sy(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Sy(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Sy)}):"optional"in e?e.optional():e}let S$=e=>Object.prototype.toString.call(e)==="[object Object]";function T$(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const mbe=C$([]);function ef(e){return new E$(e)}class E$ extends es{constructor(t){super({type:"object",check:n=>S$(n)||typeof n=="function"}),this.fields=Object.create(null),this._sortErrors=mbe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let o=super._cast(t,n);if(o===void 0)return this.getDefault(n);if(!this._typeCheck(o))return o;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(o).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const d of s){let p=i[d],h=d in o;if(p){let m,g=o[d];c.path=(n.path?`${n.path}.`:"")+d,p=p.resolve({value:g,context:n.context,parent:l});let f=p instanceof es?p.spec:void 0,v=f==null?void 0:f.strict;if(f!=null&&f.strip){u=u||d in o;continue}m=n.__validating&&v?o[d]:p.cast(o[d],c),m!==void 0&&(l[d]=m)}else h&&!a&&(l[d]=o[d]);(h!==d in l||l[d]!==o[d])&&(u=!0)}return u?l:o}_validate(t,n={},r,o){let{from:i=[],originalValue:a=t,recursive:s=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(t,n,r,(l,c)=>{if(!s||!S$(c))return void o(l,c);a=a||c;let u=[];for(let d of this._nodes){let p=this.fields[d];!p||Ou.isRef(p)||u.push(p.asNestedTest({options:n,key:d,parent:c,parentPath:n.path,originalParent:a}))}this.runTests({tests:u,value:c,originalValue:a,options:n},r,d=>{o(d.sort(this._sortErrors).concat(l),c)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[o,i]of Object.entries(this.fields)){const a=r[o];r[o]=a===void 0?i:a}return n.withMutation(o=>o.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var o;const i=this.fields[r];let a=t;(o=a)!=null&&o.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=function(o,i=[]){let a=[],s=new Set,l=new Set(i.map(([u,d])=>`${u}-${d}`));function c(u,d){let p=Eu.split(u)[0];s.add(p),l.has(`${d}-${p}`)||a.push([d,p])}for(const u of Object.keys(o)){let d=o[u];s.add(u),Ou.isRef(d)&&d.isSibling?c(d.path,u):QC(d)&&"deps"in d&&d.deps.forEach(p=>c(p,u))}return Jve.array(Array.from(s),a).reverse()}(t,n),r._sortErrors=C$(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let o=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),o=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),o)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return Sy(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,o])=>t.includes(r)&&t.includes(o)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let o=Eu.getter(t,!0);return this.transform(i=>{if(!i)return i;let a=i;return((s,l)=>{const c=[...Eu.normalizePath(l)];if(c.length===1)return c[0]in s;let u=c.pop(),d=Eu.getter(Eu.join(c),!0)(s);return!(!d||!(u in d))})(i,t)&&(a=Object.assign({},i),r||delete a[t],a[n]=o(i)),a})}json(){return this.transform(pbe)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||_y.exact,test(n){if(n==null)return!0;const r=T$(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=_y.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const i=T$(this.schema,o);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=_y.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const o of Object.keys(n))r[t(o)]=n[o];return r})}camelCase(){return this.transformKeys(GC.camelCase)}snakeCase(){return this.transformKeys(GC.snakeCase)}constantCase(){return this.transformKeys(t=>GC.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[i,a]of Object.entries(n.fields)){var o;let s=t;(o=s)!=null&&o.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[i]})),r.fields[i]=a.describe(s)}return r}}ef.prototype=E$.prototype;const fbe=e=>e instanceof Error?e.message:typeof e=="string"?e:typeof e=="number"?`Error code: ${e}`:e&&typeof e=="object"&&"message"in e?String(e.message):"Unknown error",gbe=ef({visitorId:ts().strict().required(),user:ef({account:ef({account_id:ts().strict().optional(),name:ts().strict().optional(),email:ts().strict().optional()}).optional(),subscription:ef({subscription_id:ts().strict().optional(),plan_name:ts().strict().optional(),plan_price:ts().strict().optional(),plan_start_date:ts().strict().optional().test("is-valid-date","Invalid date format",e=>!e||yy(e)),plan_renew_date:ts().strict().optional().test("is-valid-date","Invalid date format",e=>!e||yy(e))}).optional()}).optional()}),vbe=e=>{try{return gbe.validateSync(e),!0}catch(t){return(n=>{var r,o;const{errorMessage:i,invalidData:a}=n;let s="";try{s=` | Invalid data: ${JSON.stringify(a)}`}catch{s=" (Non-serializable data)"}const l=`Validation failed for livexDataLayer: ${i}${s}`;if(!$s())return Oo({event_name:zt.SetDataValidationError,note:l,source:Fe.source,bot_mode:Fe.botMode,chatbot_id:(o=(r=Fe.agent)==null?void 0:r.config)==null?void 0:o.agent_id}).catch(c=>{ne.error("Failed to track validation error:",c)});ne.log(" ~ :45 ~ trackValidationError ~ note: ",l)})({errorMessage:fbe(t),invalidData:e}),!1}},Fe={agent:void 0,threadId:void 0,botMode:void 0,source:void 0,scrollToBottom:e=>{},scrollToLastMessagePair:(e=200)=>{},setExpiredTime:e=>{},switchToLiveChat:()=>{},addLiveChatMessage:(e,t,n)=>{},simulateAgentJoined:()=>{},simulateLiveChatEnded:()=>{},testSendAfterCloseRace:e=>{},firebaseApp:void 0,firestore:void 0,avatarPlayer:void 0,avatarVideoContainerRef:null,headerRef:null,footerRef:null,containerRef:null,chatDetailViewRef:null,chatWrapperRef:null,messageTextAreaRef:null,lastBotMessageRef:x.createRef(),rootRef:x.createRef(),shadowRootRef:null,isMobileKeyboardShown:!1,shouldAbort:!1,cancelHandlerCalled:!1,isGettingAvatarSession:!1};$s()&&(window.chatBoxUtils=Fe,Fe.setExpiredTime=e=>{try{It.dispatch(Nbe(e)),window.console.log(`[chatbox] expiredTime set to ${e}s`)}catch(t){window.console.error("Failed to set expiredTime via chatBoxUtils.setExpiredTime",t)}},Fe.switchToLiveChat=()=>{try{const e=It.getState(),t=ho(e);t&&It.dispatch(zy(((n,r)=>Fve(n,Bve(r)))(((n,r)=>{for(var o in r||(r={}))Uve.call(r,o)&&i$(n,o,r[o]);if(o$)for(var o of o$(r))Hve.call(r,o)&&i$(n,o,r[o]);return n})({},t),{chatAgentType:"liveChat"}))),It.dispatch(ZC("liveChat")),window.console.log("[chatbox] chatAgentType switched to liveChat")}catch(e){window.console.error("Failed to switch to live chat via chatBoxUtils.switchToLiveChat",e)}},Fe.addLiveChatMessage=(e,t="agent",n="text")=>{try{Fe.switchToLiveChat();const r={text:e,done:!0,sender:t,type:t,format:n,live_chat_message_id:`dev_${Date.now()}_${Math.random().toString(36).slice(2,8)}`};It.dispatch(Un(r)),window.console.log(`[chatbox] live chat message added (${t}):`,e)}catch(r){window.console.error("Failed to add live chat message via chatBoxUtils.addLiveChatMessage",r)}},Fe.testSendAfterCloseRace=async()=>{var e,t,n;const r=((t=(e=Fe.agent)==null?void 0:e.config)==null?void 0:t.livex_global_object_name)||"livexChatbot",o=window[r];if(!o)return void window.console.error("[chatbox][race-test] API not found on window");const i=async a=>{await o.sendMessage(a),await new Promise(l=>setTimeout(l,50));const s=It.getState();return wt(s)};try{const a=await i("test1");await new Promise(h=>setTimeout(h,1e3));const s=await i("test2");await((n=o.closeClick)==null?void 0:n.call(o)),await new Promise(h=>setTimeout(h,10));const l=It.getState(),c=wt(l),u=c?l.chat.threads[c]:void 0;c&&u&&!u.closed&&await It.dispatch(Gr({threadId:c,keepOpen:!0}));const d=await i("test3");await new Promise(h=>setTimeout(h,1e3));const p=await i("test4");window.console.log("[chatbox][race-test] thread after sends:",{t1:a,t2:s,t3:d,t4:p}),window.console.log("[chatbox][race-test] summary:",(()=>{const{chat:h}=It.getState(),m={};return Object.values(h.threads).forEach(g=>{if(g==null||!g.id)return;const f=g.messages.filter(v=>(v==null?void 0:v.type)==="user").map(v=>String((v==null?void 0:v.text)||""));m[g.id]=f}),m})())}catch(a){window.console.error("[chatbox][race-test] failed:",a)}},Fe.simulateAgentJoined=()=>{try{Fe.switchToLiveChat(),Fe.addLiveChatMessage("Agent joined the conversation","system"),It.dispatch(Py(!1)),window.console.log("[chatbox] simulated: agent joined")}catch(e){window.console.error("Failed to simulate agent joined",e)}},Fe.simulateLiveChatEnded=()=>{try{Fe.addLiveChatMessage("Agent left the conversation","system"),It.dispatch(Py(!0)),window.console.log("[chatbox] simulated: live chat ended")}catch(e){window.console.error("Failed to simulate live chat ended",e)}});const bbe=["zendeskSideApp","fullScreen"],ybe=["playground"],O$={useLiveXCopilot:!1,agent:void 0,botMode:void 0,botLanguage:"en",initialBotMode:void 0,showWelcomeMessage:(()=>{const e=localStorage.getItem("welcomeMessageHiddenAt");if(!e)return!0;const t=new Date(e).getTime();return new Date().getTime()-t>864e5})(),chatBoxWidth:0,chatBoxHeight:0,chatBoxDefaultWidth:0,chatBoxDefaultHeight:0,expanded:!1,visualViewportUpdatedAt:0,composedMessage:"",showChatBox:!1,showNavigationView:!1,showConfirmCloseView:!1,showAvatarVideo:!1,expiredTime:YR.expiredTime,showSearchBar:!1,showPopupImageSrc:"",source:void 0,chatAgentType:"ai",isLiveChatEnded:!1,live_chat_access_token:localStorage.getItem("livex_live_chat_access_token"),languageCode:"en",resizingType:null,isMicOn:!1,isAvatarSpeaking:!1,isChurnControlEnabled:!1,voiceControlPermissionState:null,isDragging:!1,stopRequestedAt:null,videoAutoPlayStatus:null,cancelParams:{},streamDetails:null,isWelcomeVideoPlayed:!1,triedToGetAvataiSession:!1,clickToStartClicked:!1,botVoiceEnabled:!0,showDoneVideo:!1,skipWelcomeVideo:!1,messageComposerEnabled:!0,composerMode:"text",isMicMuted:!1,isSpeakerMuted:!1,selectedResponseLength:null},A$=(e,t)=>{var n,r,o,i,a,s,l,c;t?(e.chatBoxWidth=((i=(o=(r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.style)==null?void 0:o.expansion)==null?void 0:i.width)||.9*window.innerWidth,e.chatBoxHeight=((c=(l=(s=(a=e.agent)==null?void 0:a.config)==null?void 0:s.style)==null?void 0:l.expansion)==null?void 0:c.height)||.9*window.innerHeight):(e.chatBoxWidth=e.chatBoxDefaultWidth,e.chatBoxHeight=e.chatBoxDefaultHeight),e.chatBoxWidth=isNaN(e.chatBoxWidth)?e.chatBoxDefaultWidth:e.chatBoxWidth,e.chatBoxHeight=isNaN(e.chatBoxHeight)?e.chatBoxDefaultHeight:e.chatBoxHeight};function P$(e){var t,n;e.botMode!=="searchBar"?e.showNavigationView=!bt((n=(t=e.agent)==null?void 0:t.config)==null?void 0:n.navigation_items):e.showNavigationView=!1}const tf=sv({name:"chatBox",initialState:O$,reducers:{setExpiredTime:(e,t)=>{e.expiredTime=t.payload},initSetting:(e,t)=>{var n,r,o;window.livexChatbotLatencies=[];const i=t.payload,{agent:a,options:s}=i;e.agent=a,e.languageCode=u$((n=a==null?void 0:a.config)==null?void 0:n.language),e.botLanguage=(p=>p==="auto"?c$(navigator.language):p||Wh)(i.botLanguage);const l=UD("livexChatboxWidth",s.style.width),c=UD("livexChatboxHeight",s.style.height);e.chatBoxDefaultWidth=l,e.chatBoxDefaultHeight=c,e.expanded=i.initExpanded;let u=i.botMode;if(u==="voice"&&(u=void 0),e.botMode=u,e.initialBotMode=u,e.showConfirmCloseView=!1,e.expiredTime=s.expiredTime,P$(e),function(p){p.botMode!=="searchBar"?p.showWelcomeMessage=!0:p.showWelcomeMessage=!1}(e),Fe.agent=i.agent,Fe.botMode=u,e.cancelParams={},Yt(u)){e.expiredTime=600,e.showAvatarVideo=!0;const{width:p,height:h}=((m,g)=>{const f=window.innerWidth,v=window.innerHeight,y=Math.min(m,f),b=Math.min(g,v),w=Math.min(y,b);let k,_;return w===y?(k=w,_=Math.round(1.5*k)):(_=w,k=Math.round(2*_/3)),{width:k,height:_}})(l,c);e.chatBoxDefaultWidth=p,e.chatBoxDefaultHeight=h}((o=(r=a==null?void 0:a.config)==null?void 0:r.custom_style)==null?void 0:o.default_composer_mode)==="voice"&&(e.composerMode="voice"),A$(e,i.initExpanded);const d=i.source||"chatbox";Fe.source=d,e.source=d,function(){var p,h;if((p=window.Android)!=null&&p.getDataFromApp){const m=window.Android.getDataFromApp();window.livexDataLayer=Ci({},window.livexDataLayer,m)}else if((h=window.iOS)!=null&&h.getDataFromApp){const m=window.iOS.getDataFromApp();window.livexDataLayer=Ci({},window.livexDataLayer,m)}if(window.livexDataLayer){vbe(window.livexDataLayer),window.livexDataLayer.user&&Dn.setData("user",window.livexDataLayer.user),window.livexDataLayer.visitorId&&localStorage.setItem("lvxcplt-visitor-id",window.livexDataLayer.visitorId);const m=window.livexDataLayer.initSetting;m!=null&&m.onLoad&&m.onLoad()}}()},setBotMode:(e,t)=>{e.botMode=t.payload},setUseLiveXCopilot:(e,t)=>{e.useLiveXCopilot=t.payload},reset:()=>(localStorage.removeItem("livex_live_chat_access_token"),O$),setAgent:(e,t)=>{var n,r;e.agent=t.payload,Fe.agent=t.payload;const o=(r=(n=t.payload)==null?void 0:n.config)==null?void 0:r.chatbot_mode;e.botMode=o,e.initialBotMode=o},setChatBoxWidth:(e,t)=>{e.chatBoxWidth=t.payload},setChatBoxHeight:(e,t)=>{e.chatBoxHeight=t.payload},setChatBoxDefaultWidth:(e,t)=>{e.chatBoxDefaultWidth=t.payload,localStorage.setItem("livexChatboxWidth",`${t.payload}`)},setChatBoxDefaultHeight:(e,t)=>{e.chatBoxDefaultHeight=t.payload,localStorage.setItem("livexChatboxHeight",`${t.payload}`)},setExpanded:(e,t)=>{e.expanded=t.payload,A$(e,t.payload)},setVisualViewportUpdatedAt:(e,t)=>{e.visualViewportUpdatedAt=t.payload},setComposedMessage:(e,t)=>{e.composedMessage=t.payload},setShowChatBox:(e,t)=>{var n,r,o,i,a;if(e.showChatBox=t.payload,Tt){const s=(o=(r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.style)==null?void 0:o.search_bar_z_index;if(s)if(t.payload)Dn.setRootZIndex(s);else{const l=by((a=(i=e.agent)==null?void 0:i.config)==null?void 0:a.style);Dn.setRootZIndex(l)}}if(t.payload||(Fe.cancelHandlerCalled=!1),!Yt(e.botMode)||e.botMode==="avataiOnly"||!e.showChatBox){if(!bt(e.cancelParams))return void localStorage.removeItem("openChatBox");localStorage.setItem("openChatBox",t.payload.toString())}},setShowSearchBar:(e,t)=>{var n,r,o,i;if(e.showSearchBar=t.payload.showSearchBar,e.showChatBox=t.payload.showChatBox||!1,t.payload.showSearchBar){const a=qH((r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.style);Dn.setRootZIndex(a),e.botMode="searchBar",e.showWelcomeMessage=!1}else{const a=by((i=(o=e.agent)==null?void 0:o.config)==null?void 0:i.style);Dn.setRootZIndex(a);const s=e.initialBotMode;setTimeout(()=>{It.dispatch(Yh(s))},300)}},setShowWelcomeMessage:(e,t)=>{e.showWelcomeMessage=t.payload,t.payload?localStorage.removeItem("welcomeMessageHiddenAt"):localStorage.setItem("welcomeMessageHiddenAt",new Date().toString())},setShowAvatarVideo:(e,t)=>{e.showAvatarVideo=t.payload},resetShowNavigationView:e=>{P$(e)},setShowNavigationView:(e,t)=>{e.showNavigationView=t.payload},setShowConfirmCloseView:(e,t)=>{e.showConfirmCloseView=t.payload},setShowPopupImageSrc:(e,t)=>{e.showPopupImageSrc=t.payload},setChatAgentType:(e,t)=>{e.chatAgentType=t.payload,t.payload==="liveChat"&&(e.showNavigationView=!1)},setIsLiveChatEnded:(e,t)=>{e.isLiveChatEnded=t.payload},setLanguageCode:(e,t)=>{e.languageCode=t.payload,rS(l$,t.payload)},setResizingType:(e,t)=>{e.resizingType=t.payload},setIsAvatarSpeaking:(e,t)=>{e.isAvatarSpeaking=t.payload},setIsMicOn:(e,t)=>{e.isMicOn=t.payload},setIsChurnControlEnabled:(e,t)=>{e.isChurnControlEnabled=t.payload},setVoiceControlPermissionState:(e,t)=>{e.voiceControlPermissionState=t.payload},setIsDragging:(e,t)=>{e.isDragging=t.payload},setStopRequestedAt:(e,t)=>{e.stopRequestedAt=t.payload},setVideoAutoPlayStatus:(e,t)=>{e.videoAutoPlayStatus=t.payload},setCancelParams:(e,t)=>{e.cancelParams=t.payload},setStreamDetails:(e,t)=>{e.streamDetails=t.payload,t.payload!==null&&setTimeout(()=>{S1.startSessionMonitoring(t.payload)},0)},setIsWelcomeVideoPlayed:(e,t)=>{e.isWelcomeVideoPlayed=t.payload},setTriedToGetAvataiSession:(e,t)=>{e.triedToGetAvataiSession=t.payload},setClickToStartClicked:(e,t)=>{e.clickToStartClicked=t.payload},setBotVoiceEnabled:(e,t)=>{e.botVoiceEnabled=t.payload},setShowDoneVideo:(e,t)=>{e.showDoneVideo=t.payload},setSkipWelcomeVideo:(e,t)=>{e.skipWelcomeVideo=t.payload},setLiveChatAccessToken:(e,t)=>{e.live_chat_access_token=t.payload,t.payload?localStorage.setItem("livex_live_chat_access_token",t.payload):localStorage.removeItem("livex_live_chat_access_token")},setMessageComposerEnabled:(e,t)=>{e.messageComposerEnabled=t.payload},setComposerMode:(e,t)=>{e.composerMode=t.payload},setIsMicMuted:(e,t)=>{e.isMicMuted=t.payload},setIsSpeakerMuted:(e,t)=>{e.isSpeakerMuted=t.payload},setSelectedResponseLength:(e,t)=>{e.selectedResponseLength=t.payload}},extraReducers:e=>{(t=>{t.addCase(Ii.pending,(n,r)=>{var o,i;const a=(i=(o=r==null?void 0:r.meta)==null?void 0:o.arg)==null?void 0:i.command;if(a){let s;if(typeof a=="string")try{s=JSON.parse(a)}catch(l){window.console.debug("JSON parse error: ",l)}else s=a;["cancel_subscription","pause_subscription"].some(l=>{var c,u;return(u=(c=s==null?void 0:s.parameters)==null?void 0:c.twi)==null?void 0:u.startsWith(l)})&&(n.isChurnControlEnabled=!0)}})})(e),(t=>{t.addCase(Gr.pending,n=>{n.composedMessage="",n.isChurnControlEnabled=!1,n.cancelParams={},n.live_chat_access_token=null,localStorage.removeItem("livex_live_chat_access_token")}),t.addCase(Gr.fulfilled,n=>{IC(n)}),t.addCase(Gr.rejected,n=>{IC(n)})})(e),(t=>{t.addCase(Xa.fulfilled,n=>{IC(n)})})(e)}}),{setUseLiveXCopilot:Ty,setAgent:Ey,setBotMode:Yh,setChatBoxWidth:wbe,setChatBoxHeight:kbe,setChatBoxDefaultWidth:_be,setChatBoxDefaultHeight:xbe,setExpanded:IOe,setVisualViewportUpdatedAt:N$,setComposedMessage:lc,setShowChatBox:Er,setShowSearchBar:nl,initSetting:Cbe,reset:I$,setShowWelcomeMessage:Oy,resetShowNavigationView:Sbe,setShowNavigationView:Ay,setShowConfirmCloseView:Qh,setShowPopupImageSrc:R$,setShowAvatarVideo:ROe,setChatAgentType:ZC,setIsLiveChatEnded:Py,setLanguageCode:M$,setResizingType:nf,setIsAvatarSpeaking:ns,setIsMicOn:rl,setIsChurnControlEnabled:Tbe,setVoiceControlPermissionState:Jh,setIsDragging:Ny,setStopRequestedAt:D$,setVideoAutoPlayStatus:eS,setCancelParams:Ebe,setStreamDetails:rf,setIsWelcomeVideoPlayed:tS,setTriedToGetAvataiSession:of,setClickToStartClicked:L$,setBotVoiceEnabled:af,setShowDoneVideo:Xh,setSkipWelcomeVideo:Obe,setLiveChatAccessToken:Abe,setComposerMode:Zh,setIsMicMuted:nS,setIsSpeakerMuted:ol,setSelectedResponseLength:Pbe,setMessageComposerEnabled:j$,setExpiredTime:Nbe}=tf.actions,z$=e=>{var t,n;return!((n=(t=e.chatBox.agent)==null?void 0:t.config)==null||!n.style.enable_display_verified_source)},Ibe=e=>{var t,n,r,o,i;return(i=(o=(r=(n=(t=e.chatBox.agent)==null?void 0:t.config)==null?void 0:n.tools)==null?void 0:r.document_qa)==null?void 0:o.no_answer_action)==null?void 0:i.zendesk},Rbe=e=>e.chatBox.live_chat_access_token,rs=()=>G(e=>e.chatBox.botMode)==="zendeskSideApp",sf=()=>G(e=>e.chatBox.botMode)==="fullScreen",os=()=>G(e=>e.chatBox.source)==="playground",is=()=>G(e=>e.chatBox.botMode)==="searchBar",Iy=e=>{const t=ho(e);return!!Array.isArray(t==null?void 0:t.messages)&&t.messages.some(n=>(n==null?void 0:n.type)==="user")},Ry=()=>G(Iy),My=()=>G(e=>e.chatBox.chatAgentType)==="liveChat",Pu=()=>G(e=>e.chatBox.messageComposerEnabled),F$=()=>{var e,t,n,r,o,i,a,s,l,c,u;const d=G(v=>v.chatBox.agent),p=(n=(t=(e=d==null?void 0:d.config)==null?void 0:e.tools)==null?void 0:t.document_qa)==null?void 0:n.no_answer_action,h=(o=(r=p==null?void 0:p.salesforce)==null?void 0:r.live_chat_options)==null?void 0:o.enabled,m=(a=(i=p==null?void 0:p.zendesk)==null?void 0:i.live_chat_options)==null?void 0:a.enabled,g=(l=(s=p==null?void 0:p.intercom)==null?void 0:s.live_chat_options)==null?void 0:l.enabled,f=(u=(c=p==null?void 0:p.livex)==null?void 0:c.live_chat_options)==null?void 0:u.enabled;return!!(h||m||g||f)},B$=()=>{const e=G(ho);return G(t=>t.chatBox.streamDetails)||(e==null?void 0:e.stream_details)},lf=()=>{const e=G(i=>i.chatBox.botMode),t=G(i=>i.chatBox.triedToGetAvataiSession),n=G(i=>i.chatBox.streamDetails),r=G(i=>i.chatBox.showChatBox),o=x.useMemo(()=>e==="avataiOnly"&&!n&&!t,[e,n,t]);return Tt?!!o||!r:e==="avataiOnly"&&!n&&!t},rS=(e,t)=>{const n=JSON.stringify(t);localStorage.setItem(e,n)},oS=(e,t)=>{try{return JSON.parse(localStorage.getItem(e))||t}catch(n){return ne.error("Failed to load from local storage:",n),localStorage.removeItem(e),t}},U$="livexChatbotThreads",cf=()=>oS(U$,{}),cc=e=>{Fe.botMode!=="zendeskSideApp"&&rS(U$,e)};var Mbe=Object.defineProperty,Dbe=Object.defineProperties,Lbe=Object.getOwnPropertyDescriptors,Dy=Object.getOwnPropertySymbols,H$=Object.prototype.hasOwnProperty,$$=Object.prototype.propertyIsEnumerable,V$=(e,t,n)=>t in e?Mbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ep=(e,t)=>{for(var n in t||(t={}))H$.call(t,n)&&V$(e,n,t[n]);if(Dy)for(var n of Dy(t))$$.call(t,n)&&V$(e,n,t[n]);return e},tp=(e,t)=>Dbe(e,Lbe(t));const np={name:"",email:"",description:""},uf=(e,t=1800)=>{var n;const r=Qm((n=e==null?void 0:e.messages)!=null?n:[]),o=(r==null?void 0:r.timestamp)||(e==null?void 0:e.createdAt);if(!e||!o)return!1;const i=new Date,a=new Date(o);return Math.abs(i.getTime()-a.getTime())>1e3*t},jbe={messagesUpdatedAt:Date.now(),config:oS("config",{agreeToTerms:!0}),threads:(()=>{const e=cf();for(const t in e){const n=e[t];if(uf(n)){const r=e[t];r&&(r.closed=!0)}n.conversationType==="churnControl"&&delete e[t],n.id||delete e[t]}return e})(),new:{},close:{},send:{},submitForm:{status:zfe,error:null,cache:{}},source:void 0},q$=sv({name:"chat",initialState:jbe,reducers:{setThread:(e,t)=>{const n=t.payload;n&&(e.threads=tp(ep({},e.threads),{[n.id]:n}),cc(e.threads))},setThreads:(e,t)=>{e.threads=t.payload,cc(e.threads)},clearThreads:e=>{e.threads={},cc(e.threads)},updateAgreeToTerms:(e,t)=>{e.config.agreeToTerms=t.payload,rS("config",e.config)},updateThreadMessage:(e,t)=>{const n=t.payload,{doNotScrollToBottom:r}=n,o=((i,a)=>{var s={};for(var l in i)H$.call(i,l)&&a.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&Dy)for(var l of Dy(i))a.indexOf(l)<0&&$$.call(i,l)&&(s[l]=i[l]);return s})(n,["doNotScrollToBottom"]);UH(e,o),cc(e.threads),!r&&(e.messagesUpdatedAt=Date.now())},updateWaitingForReply:(e,t)=>{const{threadId:n,waiting:r}=t.payload,o=tp(ep({},e.threads[n]),{waitingForReply:r});return tp(ep({},e),{threads:tp(ep({},e.threads),{[n]:o})})},clearSubmitFormError:e=>{e.submitForm.error=null}},extraReducers:e=>{(t=>{t.addCase(Gr.fulfilled,n=>{n.close.status=Zb,n.close.error=null}).addCase(Gr.pending,n=>{n.send={},n.close.status=Xs,n.close.error=null}).addCase(Gr.rejected,(n,r)=>{n.close.status=ey,n.close.error=r.error})})(e),(t=>{t.addCase(Xa.fulfilled,n=>{n.new.status=Zb,n.new.error=null}).addCase(Xa.pending,n=>{n.new.status=Xs,n.new.error=null}).addCase(Xa.rejected,(n,r)=>{n.new.status=ey,n.new.error=r.error})})(e),(t=>{t.addCase(vy.fulfilled,(n,r)=>{n.submitForm.cache.email=r.payload.values.email,n.submitForm.cache.name=r.payload.values.name,n.submitForm.cache.phone=r.payload.values.phone,n.submitForm.status=Zb,n.submitForm.error=null}).addCase(vy.pending,n=>{n.submitForm.status=Xs}).addCase(vy.rejected,(n,r)=>{n.submitForm.status=ey,n.submitForm.error=r.payload||r.error})})(e),(t=>{t.addCase(Ii.fulfilled,n=>{n.send.status=Zb,n.send.error=null,cc(n.threads)}).addCase(Ii.pending,(n,r)=>{const o=J1(n);o&&(n.send.status=Xs,n.send.error=null,n.threads[o.id].waitingForReply=!0,UH(n,VH({type:"user"},r.meta.arg)),cc(n.threads))}).addCase(Ii.rejected,(n,r)=>{n.send.status=ey,n.send.error=r.error})})(e)}}),zbe=e=>e.chat.config.agreeToTerms,Ly=e=>e.chat.send,W$=e=>e.chat.submitForm,ho=e=>J1(e.chat),wt=e=>{const t=J1(e.chat);return t==null?void 0:t.id},Fbe=e=>e.chat.new.status,Bbe=e=>{const t=J1(e.chat);return t==null?void 0:t.waitingForReply},jy=HR(ho,e=>{var t;const n=e.chatBox.agent,r=e.chatBox.botLanguage;if((t=n==null?void 0:n.config)==null||!t.initial_message)return[];const o=n.config.initial_message;return(Cr(o)?o:[o]).map(i=>{const a=(i.json_response.multi_lang_text||{})[r]||i.json_response.text,s=(i.json_response.buttons||[]).map(l=>{const c=(l.multi_lang_text||{})[r]||l.text;return tp(ep({},l),{text:c})});return tp(ep({},i.json_response),{text:a,buttons:s,done:i.done})})},(e,t)=>{var n;const r=e!=null&&e.waitingForReply?[{type:"loading"}]:[];return[...t,...(n=e==null?void 0:e.messages)!=null?n:[],...r]}),il=HR(jy,e=>{let t=e.length-1;return t<0&&(t=null),t}),K$=(e,t)=>{const n=Number(t);if(isNaN(n))return null;const r=e.findIndex(i=>i.id===t);if(r===-1)return null;const o=e.slice(0,r+1).filter(i=>i.type==="user").at(-1);return(o==null?void 0:o.text)||null},{clearThreads:Ube,updateAgreeToTerms:MOe,updateThreadMessage:Un,clearSubmitFormError:Hbe,setThread:zy,setThreads:G$,updateWaitingForReply:Ri}=q$.actions,$be=q$.reducer,iS=[];iS.push(e=>t=>n=>{const r=e.getState();r.chatBox.source!=="playground"&&Zue(r,n),t(n)}),iS.push(e=>t=>n=>{(r=>{var o,i;const{store:a,action:s}=r,l=$C((i=(o=s.meta)==null?void 0:o.arg)==null?void 0:i.command),{dispatch:c,getState:u}=a,d=l==null?void 0:l.frontend_action;if(d)for(const p of d){const{perform_on:h}=p;h&&h!==s.type||Ove(async()=>{const m=u();await Ave({buttonCommand:l,frontendAction:p,state:m,dispatch:c})})}})({store:e,action:n}),t(n)});const It=function(e){var t,n=ple(),r=e||{},o=r.reducer,i=o===void 0?void 0:o,a=r.middleware,s=a===void 0?n():a,l=r.devTools,c=l===void 0||l,u=r.preloadedState,d=u===void 0?void 0:u,p=r.enhancers,h=p===void 0?void 0:p;if(typeof i=="function")t=i;else{if(!function(b){if(typeof b!="object"||b===null)return!1;var w=Object.getPrototypeOf(b);if(w===null)return!0;for(var k=w;Object.getPrototypeOf(k)!==null;)k=Object.getPrototypeOf(k);return w===k}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Zse(i)}var m=s;typeof m=="function"&&(m=m(n));var g=ele.apply(void 0,m),f=iv;c&&(f=ule($l({trace:!1},typeof c=="object"&&c)));var v=new hle(g),y=v;return Array.isArray(h)?y=Vd([g],h):typeof h=="function"&&(y=h(v)),UR(t,d,f.apply(void 0,y))}({reducer:{chat:$be,chatBox:tf.reducer,searchBar:MH.reducer,hookState:VU.reducer},middleware:e=>e({immutableCheck:!1,serializableCheck:!1}).concat(iS),devTools:{}}),dt=Ase,G=mR;var Vbe=Object.defineProperty,Y$=Object.getOwnPropertySymbols,qbe=Object.prototype.hasOwnProperty,Wbe=Object.prototype.propertyIsEnumerable,Q$=(e,t,n)=>t in e?Vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,df=(e,t)=>{for(var n in t||(t={}))qbe.call(t,n)&&Q$(e,n,t[n]);if(Y$)for(var n of Y$(t))Wbe.call(t,n)&&Q$(e,n,t[n]);return e};const J$=(e,t)=>function(n){if(n.length!==9||n[0]!=="#")return n;const r=parseInt(n.slice(1,3),16),o=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16),a=parseInt(n.slice(7,9),16)/255,s=Math.round(255*(1-a)+a*r),l=Math.round(255*(1-a)+a*o),c=Math.round(255*(1-a)+a*i);return`#${s.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}(`#${e==null?void 0:e.substring(1,7)}${Math.round(255*t).toString(16).padStart(2,"0")}`.toUpperCase()),hf="#3D5AFE",X$="#E5E7EB",Z$="#98FF98",aS="#51cf66",sS="#f03e3e",Vt=e=>{var t;const n=G(a=>a.chatBox.agent)||e,r=(t=n==null?void 0:n.config)==null?void 0:t.custom_style,o=x.useMemo(()=>{var a;return df(df(df({},(s=>{var l;const c=((l=s==null?void 0:s.style)==null?void 0:l.primary_color)||hf,u=Iu(.3,c,"command_button_bg"),d=c,p=Hn(u),h=Hn(d),m=Iu(.1,aS,"promotion_command_button_bg"),g=Iu(.1,sS,"cancel_command_button_bg");return{primary_color:c,secondary_color:"#FF1744",tooltip_color:"#212529",text_color:"var(--gray-blue-grey-blue-60, #6b7a99)",background_color:"#FFFFFF",bot_message_background_color:"#F1F3F5",user_message_background_color:c,text_input_background_color:"white",text_input_border_color:"#E5E7EB",text_input_icon_color:c,header_background_color:c,header_border_bottom:"",search_bar_header_background_color:"white",search_bar_header_border_bottom:`2px solid ${X$}`,markdown_link_color:hf,markdown_link_hover_color:Nu(.2,hf,"markdown_link_hover_color"),markdown_link_font_weight:"400",markdown_link_text_decoration:"underline",markdown_user_link_color:Z$,markdown_user_link_hover_color:Nu(.2,Z$,"markdown_user_link_hover_color"),markdown_user_link_font_weight:"500",markdown_user_link_text_decoration:"underline",border_color:X$,name:"professional",command_button_bg:u,command_button_hover_bg:d,command_button_text_color:p,command_button_hover_text_color:h,wm_command_button_bg:u,wm_command_button_hover_bg:d,wm_command_button_text_color:p,wm_command_button_hover_text_color:h,promotion_command_button_bg:m,promotion_command_button_text_color:Hn(m),promotion_command_button_hover_bg:aS,promotion_command_button_hover_text_color:Hn(aS),cancel_command_button_bg:g,cancel_command_button_text_color:Hn(g),cancel_command_button_hover_bg:sS,cancel_command_button_hover_text_color:Hn(sS)}})(n==null?void 0:n.config)),nD((a=n==null?void 0:n.config)==null?void 0:a.style,ZM)),nD(r==null?void 0:r.theme,ZM))},[n,r]),i={placeholder_color:J$(o.text_color,.5),label_color:J$(o.text_color,.8),secondary_color:o.secondary_color};return df(df({},i),o)},Hn=e=>{try{let t=e;if(e.includes("gradient")){const n=e.match(/#[a-fA-F0-9]{3,8}|rgba?\([^)]+\)/);n&&(t=n[0])}return t.startsWith("rgba(")&&(t=Kbe(t)),function(n){if(n==="transparent")return 0;var r=Fd(n),o=Object.keys(r).map(function(l){var c=r[l]/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}),i=o[0],a=o[1],s=o[2];return parseFloat((.2126*i+.7152*a+.0722*s).toFixed(3))}(t)>.5?"#000":"#fff"}catch(t){return ne.error("getContrastText: invalid color: ",e," error: ",t),"#000"}},Kbe=e=>{try{const t=e.match(/rgba?\(([^)]+)\)/);if(!t)return e;const n=t[1].split(",").map(c=>parseFloat(c.trim()));if(n.length<4)return e;const[r,o,i,a]=n,s=Math.round(255*(1-a)+a*r),l=Math.round(255*(1-a)+a*o);return`rgb(${s}, ${l}, ${Math.round(255*(1-a)+a*i)})`}catch(t){return ne.error("convertRgbaToOpaque: invalid rgba color: ",e," error: ",t),e}},Nu=(e,t,n)=>{try{return Bse(e,t)}catch(r){return window.console.error(`darken ${n}: invalid color: ${t} error: ${r}`),hf}},Iu=(e,t,n)=>{try{return Hse(e,t)}catch(r){return window.console.error(`lighten ${n}: invalid color: ${t} error: ${r}`),hf}},Gbe=e=>{var t;try{const n=(t=Fe.shadowRootRef)==null?void 0:t.current;if(!n||!n.shadowRoot)return window.console.error("setShadowDomCssVariables: No shadow root available"),!1;const r=n.shadowRoot.getElementById("chatbox-theme-variables");if(!r)return window.console.error("setShadowDomCssVariables: No style element found"),!1;const o=Array.isArray(e)?e:[e];let i=r.textContent||"",a=!1;for(const{key:s,value:l}of o){const c=s.includes("_")?s.replace(/_/g,"-"):s,u=c.startsWith("--")?c:`--${c}`,d=/:host\s*{([^}]*)}/g;let p,h=!1,m="",g=0;for(;(p=d.exec(i))!==null;){m+=i.substring(g,p.index),g=p.index;const f=p[1],v=d.lastIndex,y=new RegExp(`${u}:\\s*([^;]+);`,"g");y.exec(f)?(m+=`:host {${f.replace(y,`${u}: ${l};`)}}`,g=v,h=!0,a=!0):(m+=p[0],g=v)}m+=i.substring(g),h||(m=m.includes(":host {")?m.replace(/:host\s*{/,`:host {
  ${u}: ${l};`):`:host {
  ${u}: ${l};
}

${m}`,a=!0),i=m}return r.textContent=i,a}catch(n){return window.console.error("Error setting CSS variables:",n),!1}};var Ybe=Object.defineProperty,eV=Object.getOwnPropertySymbols,Qbe=Object.prototype.hasOwnProperty,Jbe=Object.prototype.propertyIsEnumerable,tV=(e,t,n)=>t in e?Ybe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xbe=(e,t)=>{for(var n in t||(t={}))Qbe.call(t,n)&&tV(e,n,t[n]);if(eV)for(var n of eV(t))Jbe.call(t,n)&&tV(e,n,t[n]);return e};function Fy(e){const{children:t,borderRadius:n,variant:r="contained",color:o="white",disabled:i,onClick:a,style:s={},title:l,tooltipPosition:c}=e,[u,d]=x.useState(!1);x.useEffect(()=>{d(!1)},[i,t]);const p=u?Nu(.1,o,"IconButton.buttonColor"):o;let h=p,m=p;i&&(h="#ccc");const g=n||"4px";let f="transparent";switch(r){case"outlined":h="transparent",f=o;break;case"contained":m=Hn(o);break;case"flat":m=o,i&&(m="#ccc"),h="transparent",f=u?Nu(.1,o,"IconButton.borderColor"):"transparent"}return A(hi,{openDelay:300,label:l,disabled:!l,position:c,withArrow:!0,children:A(Zbe,{style:Xbe({background:h,borderRadius:g,border:`1px solid ${f}`,color:m,cursor:i?"not-allowed":"pointer"},s),onClick:v=>{i||!a||a(v)},onMouseOver:()=>{i||d(!0)},onMouseOut:()=>{i||d(!1)},children:t})})}const Zbe=Ae("span",{target:"e1x8uzgu0"})(()=>({cursor:"pointer",color:"white",padding:"5px",margin:"-5px",border:"none",borderRadius:"50%",width:"34px",height:"34px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out","& svg":{width:"100%",height:"100%"}}),""),jo=e=>{const t=e||gr.maxVolumes;return new Array(t).fill(-1)},gr={volumes:jo(40),maxVolumes:40};var eye=Object.defineProperty,tye=Object.defineProperties,nye=Object.getOwnPropertyDescriptors,nV=Object.getOwnPropertySymbols,rye=Object.prototype.hasOwnProperty,oye=Object.prototype.propertyIsEnumerable,rV=(e,t,n)=>t in e?eye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oV=(e,t)=>{for(var n in t||(t={}))rye.call(t,n)&&rV(e,n,t[n]);if(nV)for(var n of nV(t))oye.call(t,n)&&rV(e,n,t[n]);return e},iV=(e,t)=>tye(e,nye(t));const aV=()=>{const e=G(wt),t=G(s=>s.chatBox.botMode),n=er(),r=dt(),[o,i]=x.useState(!1),a=or({mutationFn:async s=>{if(!e||!n)return;i(!0),Fe.shouldAbort=!1,r(Ay(!1)),r(Ri({threadId:e,waiting:!0}));const l=iV(oV({},s),{conversation_id:e,chatbot_id:n,is_audio_input:s.is_audio_input||!0,output_type:s.output_type||"avatai",stream:!0,audio_mime_type:s.mimeType}),c=qa.createController(),{signal:u}=c,d=await fetch(`${Mt.chatHost}/api/v1/live_avatar/multi_input_chat_stream`,{method:"POST",signal:u,headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});let p=e;const h=d.headers.get("x-transcribed-text");try{const E={type:"user",text:h?new TextDecoder().decode(Uint8Array.from(atob(h),S=>S.charCodeAt(0))):""};r(Un(E))}catch(E){window.console.error("file: usePostVoiceRecording.ts:73  mutationFn:  error:",E)}r(rl(!1)),i(!1);let m=0,g=5;Yt(t)&&(g=50);let f=!1;const v=[],y=E=>{var S;if((S=E.value)!=null&&S.audio)Va.instance.addToQueue(E.value.audio);else{const O=RC(iV(oV({},E.value),{done:E.done,stoppedByUser:E.stoppedByUser}));r(Un(O))}},b=()=>{for(;v.length>0;){const E=v.shift();E&&y(E)}};let w,k={},_={};try{w=nj(d.body).getReader(),_=await w.read()}catch(E){window.console.error("file: usePostVoiceRecording.ts:53  mutationFn:  error:",E)}if(!w)throw new Error("Reader is undefined");for(;!_.done;){if(Fe.shouldAbort){qa.abort(c),f=!0;break}const E=It.getState();if(p=wt(E),e!==p)break;v.push(_),(m===0||m%g===0)&&b(),m+=1,_=await w.read(),_.done||(k=_)}return b(),r(Ri({threadId:e,waiting:!1})),y({done:!0,value:k.value,stoppedByUser:f}),qa.removeController(c),k.value}});return{postVoiceRecording:a.mutateAsync,isLoading:a.isPending,error:a.error,isUploading:o}};var iye=Object.defineProperty,Yr=(e,t,n)=>((r,o,i)=>o in r?iye(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);const aye={audio:{autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0}},po=new class{constructor(){Yr(this,"currentMediaStream"),Yr(this,"currentAudioContext"),Yr(this,"audioRecorder"),Yr(this,"isSpeaking",!1),Yr(this,"enableCheckAvatarVoice",!1),Yr(this,"enablePause",!1),Yr(this,"averageAvatarVolume",0),Yr(this,"avatarVoiceCount",0),Yr(this,"checkVolumeTaskId"),Yr(this,"shouldCancelRecord",!1),Yr(this,"shouldDestroyRecorder",!1),Yr(this,"chunks",[]),Yr(this,"silenceTimer"),Yr(this,"SILENCE_THRESHOLD",.1),Yr(this,"SILENCE_DURATION",1500),Yr(this,"isAutoRecording",!1)}async requestPermission(){var e;if((e=navigator==null?void 0:navigator.permissions)==null||!e.query)return"notSupported";try{return(await navigator.permissions.query({name:"microphone"})).state}catch(t){return window.console.error("Permission request failed:",t),"failed"}}async initRecorder({oninit:e,onsend:t,onInitFailed:n}){ne.log("initRecorder called");try{this.shouldDestroyRecorder=!1,this.shouldCancelRecord=!1,this.chunks=[];const r=await navigator.mediaDevices.getUserMedia(aye),o=await this.requestPermission();if(o!=="granted")return ne.log("initRecorder failed - permission not granted:",o),n==null||n(o),!1;if(this.shouldDestroyRecorder)return ne.log("initRecorder cancelled - shouldDestroyRecorder is true"),!1;if(this.currentAudioContext=new AudioContext,this.currentMediaStream=this.createFilterStream(r),!window.MediaRecorder)throw new Error("MediaRecorder not supported");return this.audioRecorder=new MediaRecorder(r),this.audioRecorder.addEventListener("dataavailable",i=>{this.shouldCancelRecord||i.data.size>0&&this.chunks.push(i.data)}),this.audioRecorder.addEventListener("stop",()=>{if(this.shouldCancelRecord||this.chunks.length===0)return void(this.chunks=[]);const i=new Blob(this.chunks,{type:this.chunks[0].type});(a=>new Promise((s,l)=>{const c=new FileReader;c.onload=()=>{const u=c.result.split(",")[1];s(u)},c.onerror=()=>{l(new Error("Failed to convert blob to base64"))},c.readAsDataURL(a)}))(i).then(a=>{const s=i.type.split(";");t==null||t(a,s.length>1?s[0]:i.type)}),this.chunks=[],this.stopRecord()}),e==null||e(),ne.log("initRecorder completed successfully"),!0}catch(r){return ne.log("initRecorder failed:",r),window.console.error("Recorder initialization failed:",r),r instanceof Error&&r.name==="NotAllowedError"&&window.console.warn("Please enable microphone access in your browser settings"),n==null||n("failed"),!1}}startRecord(e){var t,n;if(ne.log("startRecord called"),!this.audioRecorder||!this.currentMediaStream||!this.currentAudioContext)return ne.log("startRecord failed - recorder not initialized"),void window.console.error("Recorder not initialized");((t=this.audioRecorder)==null?void 0:t.state)==="inactive"&&(ne.log("Starting MediaRecorder..."),(n=this.audioRecorder)==null||n.start(1e3)),this.shouldCancelRecord=!1;const r=this.currentAudioContext.createMediaStreamSource(this.currentMediaStream),o=this.currentAudioContext.createAnalyser();r==null||r.connect(o),o.fftSize=2048;const i=o.frequencyBinCount,a=new Uint8Array(i);this.checkVolumeTaskId=window.setInterval(()=>{o.getByteFrequencyData(a);let s=0;for(let u=0;u<i;u++)s+=a[u]/30*(a[u]/30);const l=Math.sqrt(s/i),c=l<.01?0:l;(u=>{bt(gr.volumes)&&(gr.volumes=jo()),gr.volumes.length>=gr.maxVolumes&&gr.volumes.shift(),gr.volumes.push(u)})(c),this.enablePause&&(c<this.SILENCE_THRESHOLD?this.silenceTimer||(this.silenceTimer=setTimeout(()=>{var u;((u=this.audioRecorder)==null?void 0:u.state)==="recording"&&this.stopRecord()},this.SILENCE_DURATION)):this.silenceTimer&&(clearTimeout(this.silenceTimer),this.silenceTimer=void 0))},100)}createFilterStream(e){if(!this.currentAudioContext)return e;const t=this.currentAudioContext.createBiquadFilter();t.type="bandpass",t.frequency.value=1e3,t.Q.value=10;const n=this.currentAudioContext.createGain();n.gain.value=2.5;const r=this.currentAudioContext.createMediaStreamDestination();return this.currentAudioContext.createMediaStreamSource(e).connect(t),t.connect(n),n.connect(r),r.stream}stopRecord(){var e,t;this.currentMediaStream!==void 0&&(this.checkVolumeTaskId&&(clearInterval(this.checkVolumeTaskId),this.checkVolumeTaskId=void 0),this.silenceTimer&&(clearTimeout(this.silenceTimer),this.silenceTimer=void 0),((e=this.audioRecorder)==null?void 0:e.state)==="recording"&&((t=this.audioRecorder)==null||t.stop()),this.enableCheckAvatarVoice=!1,this.averageAvatarVolume=0,this.avatarVoiceCount=0)}cancelRecord(){this.shouldCancelRecord=!0,this.stopRecord()}destroyRecorder(){ne.log("destroyRecorder called"),this.shouldDestroyRecorder=!0,this.stopRecord(),this.cleanupRecorder()}cleanupRecorder(){var e;this.checkVolumeTaskId&&(clearInterval(this.checkVolumeTaskId),this.checkVolumeTaskId=void 0),this.silenceTimer&&(clearTimeout(this.silenceTimer),this.silenceTimer=void 0),(e=this.currentAudioContext)==null||e.close(),this.currentAudioContext=void 0,this.currentMediaStream&&(this.currentMediaStream.getAudioTracks().forEach(t=>t.stop()),this.currentMediaStream=void 0),this.audioRecorder=void 0}startAutoRecording({oninit:e,onsend:t,onInitFailed:n}){this.isAutoRecording=!0,this.enablePause=!0;const r=async()=>{this.isAutoRecording&&(this.cleanupRecorder(),await this.initRecorder({oninit:()=>{e==null||e(),this.enablePause=!0,this.startRecord()},onsend:async(o,i)=>{await(t==null?void 0:t(o,i)),this.isAutoRecording&&(this.enablePause=!0,setTimeout(r,100))},onInitFailed:n})||(this.isAutoRecording=!1,this.enablePause=!1))};r()}stopAutoRecording(e=!1){this.isAutoRecording=!1,this.enablePause=!1,e&&this.cancelRecord(),this.cleanupRecorder()}},sye=on.div`
  position: absolute;
  bottom: -2px;
  left: -1;
  display: flex;
  align-items: center;
  background: rgba(0, 0, 0, 0.8);
  padding: 6px;
  border-radius: 8px;
  gap: 16px;
  width: calc(100% + 2px);
`,lye=on.div`
  flex: 1;
  height: ${30}px;
  display: flex;
  align-items: center;
  gap: 2px;
  overflow: hidden;
`,cye=on.div`
  flex: 1;
  display: flex;
  align-items: center;
  gap: 2px;
  height: 100%;
`,uye=on.div`
  width: 3px;
  height: ${e=>e.height<0?"4px":`${Math.max(4,e.height)}px`};
  background: ${e=>e.height<0?"rgba(255, 255, 255, 0.2)":"white"};
  border-radius: 1px;
`,dye=on.div`
  color: white;
  font-size: 14px;
  min-width: 40px;
  text-align: right;
`,hye=()=>{var e;const t=dt(),n=G(b=>b.chatBox.isMicOn),r=G(b=>b.chatBox.botMode),{postVoiceRecording:o,isUploading:i}=aV(),a=G(b=>b.chatBox.streamDetails),{mutate:s}=Si(),[l,c]=x.useState(0),[u,d]=x.useState(jo()),p=G(b=>b.chatBox.chatBoxWidth),h=G(b=>b.chatBox.voiceControlPermissionState)==="granted",m=dr(),g=!((e=m==null?void 0:m.response_length)!=null&&e.enabled);x.useEffect(()=>{if(n)return po.initRecorder({oninit:()=>{t(Jh("granted")),po.startRecord()},onInitFailed:b=>{t(Jh(b)),t(rl(!1))},onsend:async(b,w)=>{let k="text";Yt(r)&&(k=a!=null&&a.agora_channel?"avatai":"audio"),o({output_type:k,question:b,mimeType:w})}}),()=>{po.destroyRecorder()}},[r,o,n,t,a]),x.useEffect(()=>{const b=p/400*40;gr.maxVolumes=Math.floor(b);const w=jo();d(w)},[p]),x.useEffect(()=>{let b,w;return n&&h&&(b=setInterval(()=>{c(k=>k+1)},1e3),w=setInterval(()=>{const k=[...gr.volumes].slice(-gr.maxVolumes);d(k)},100)),()=>{clearInterval(b),clearInterval(w),gr.volumes=jo(),d(jo()),c(0)}},[n,h]);const f=()=>{s({event_name:zt.VoiceInputCancel}),t(rl(!1)),po.cancelRecord()},v=()=>{s({event_name:zt.VoiceInputClose}),po.stopRecord()};if(!n&&!i)return null;const y=b=>{let w=[A(Zt,{radius:100,color:"gray.7",onClick:f,disabled:i,children:A(ca,{style:{width:20}})},"cancel"),A(Zt,{autoContrast:!0,radius:100,variant:"filled",onClick:v,color:"gray.1",loading:i,disabled:i||l<1||!h,children:A(gC,{style:{width:"70%",height:"70%"}})},"confirm")];return g&&(w=w.reverse()),w[b]};return le(sye,{children:[y(0),A(lye,{children:A(cye,{style:{width:5*u.length},children:u.map((b,w)=>A(uye,{height:Math.min(28*b,28)},w))})}),A(dye,{children:(b=>`${Math.floor(b/60)}:${(b%60).toString().padStart(2,"0")}`)(l)}),y(1)]})},pye=on.div`
  display: flex;
  align-items: center;
  /* background: rgba(0, 0, 0, 0.8); */
  padding: 6px 16px;
  border-radius: 8px;
  gap: 16px;
  width: calc(100% + 2px);
`,mye=on.div`
  flex: 1;
  height: ${30}px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  overflow: hidden;
`,fye=on.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  height: 100%;
`,gye=on.div`
  width: 4px;
  height: ${e=>e.height<0?"4px":`${Math.max(4,e.height)}px`};
  background: ${e=>e.height<0?"#CED4DA":"#868E96"};
  border-radius: 1px;
`,vye=()=>{const e=dt(),t=G(h=>h.chatBox.isMicOn),n=G(h=>h.chatBox.botMode),{postVoiceRecording:r,isUploading:o}=aV(),i=G(h=>h.chatBox.streamDetails),{mutate:a}=Si(),[s,l]=x.useState(0),[c,u]=x.useState(jo()),d=G(h=>h.chatBox.chatBoxWidth),p=G(h=>h.chatBox.voiceControlPermissionState)==="granted";return x.useEffect(()=>{if(t)return po.initRecorder({oninit:()=>{e(Jh("granted")),po.startRecord()},onInitFailed:h=>{e(Jh(h)),e(rl(!1))},onsend:async(h,m)=>{let g="text";Yt(n)&&(g=i!=null&&i.agora_channel?"avatai":"audio"),r({output_type:g,question:h,mimeType:m})}}),()=>{po.destroyRecorder()}},[n,r,t,e,i]),x.useEffect(()=>{const h=d/400*50;gr.maxVolumes=Math.floor(h);const m=jo();u(m)},[d]),x.useEffect(()=>{let h,m;return t&&p&&(h=setInterval(()=>{l(g=>g+1)},1e3),m=setInterval(()=>{const g=[...gr.volumes].slice(-gr.maxVolumes);u(g)},100)),()=>{clearInterval(h),clearInterval(m),gr.volumes=jo(),u(jo()),l(0)}},[t,p]),t||o?le(Pi,{h:"100%",w:"100%",gap:"0px",children:[A(pye,{children:A(mye,{children:A(fye,{style:{width:5*c.length},children:c.map((h,m)=>A(gye,{height:Math.min(28*h,28)},m))})})}),le(ir,{ml:"auto",style:{paddingRight:"16px"},children:[A(Zt,{radius:100,color:"gray.7",onClick:()=>{a({event_name:zt.VoiceInputCancel}),e(rl(!1)),po.cancelRecord()},disabled:o,children:A(ca,{style:{width:20}})},"cancel"),A(Zt,{autoContrast:!0,radius:100,variant:"filled",onClick:()=>{a({event_name:zt.VoiceInputClose}),po.stopRecord()},color:"gray.1",loading:o,disabled:o||s<1||!p,children:A(gC,{style:{width:"70%",height:"70%"}})},"confirm")]})]}):null};var bye=Object.defineProperty,yye=Object.defineProperties,wye=Object.getOwnPropertyDescriptors,sV=Object.getOwnPropertySymbols,kye=Object.prototype.hasOwnProperty,_ye=Object.prototype.propertyIsEnumerable,lV=(e,t,n)=>t in e?bye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xye=()=>{const e=G(wt),t=er(),n=dt();return or({mutationFn:async r=>{if(!e||!t||!r.question)return void ne.log("useRequestTranscribeAudio threadId or agent or data.question is missing. agent:",t," threadId:",e," data:",r);Fe.shouldAbort=!1,n(Ay(!1)),n(Ri({threadId:e,waiting:!0}));const o=((i,a)=>yye(i,wye(a)))(((i,a)=>{for(var s in a||(a={}))kye.call(a,s)&&lV(i,s,a[s]);if(sV)for(var s of sV(a))_ye.call(a,s)&&lV(i,s,a[s]);return i})({},r),{conversation_id:e,chatbot_id:t,is_audio_input:!0,audio_mime_type:r.mimeType});try{const i=await fetch(`${Mt.chatHost}/api/v1/live_avatar/transcribe_audio`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return(await i.json()).transcribed_text}catch(i){return ne.error("Error transcribing audio:",i),""}}})},Cye=on.div`
  display: flex;
  align-items: center;
  /* background: rgba(0, 0, 0, 0.8); */
  padding: 6px 16px;
  border-radius: 8px;
  gap: 16px;
  width: calc(100% + 2px);
`,Sye=on.div`
  flex: 1;
  height: ${30}px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  overflow: hidden;
`,Tye=on.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  height: 100%;
`,Eye=on.div`
  width: 4px;
  height: ${e=>e.height<0?"4px":`${Math.max(4,e.height)}px`};
  background: ${e=>e.height<0?"#CED4DA":"#868E96"};
  border-radius: 1px;
`,Oye=({handleSendClick:e})=>{const t=dt(),n=G(f=>f.chatBox.isMicOn),r=G(f=>f.chatBox.botMode),{mutateAsync:o,isPending:i}=xye(),a=G(f=>f.chatBox.streamDetails),{mutateAsync:s}=Si(),[l,c]=x.useState(0),[u,d]=x.useState(jo()),p=G(f=>f.chatBox.chatBoxWidth),h=G(f=>f.chatBox.voiceControlPermissionState),m=h==="granted",g=x.useRef(e);return x.useEffect(()=>{g.current=e},[e]),x.useEffect(()=>{if(n)return ne.log("useEffect triggered"),po.initRecorder({oninit:()=>{ne.log("oninit callback fired"),t(Jh("granted"))},onInitFailed:f=>{ne.log("onInitFailed callback fired:",f),t(Jh(f))},onsend:async(f,v)=>{ne.log("onsend callback fired");const y=await o({question:f,mimeType:v});ne.log(" onsend: transcribedText:",y),g.current&&g.current(y),t(rl(!1))}}),()=>{ne.log("useEffect cleanup - destroying recorder"),po.destroyRecorder()}},[r,o,t,a,n]),x.useEffect(()=>{ne.log("Recording effect - isMicOn:",n,"voiceControlPermissionState:",h),n&&h==="granted"&&(ne.log("Starting recording..."),po.startRecord())},[n,h]),x.useEffect(()=>{const f=p/400*50;gr.maxVolumes=Math.floor(f);const v=jo();d(v)},[p]),x.useEffect(()=>{let f,v;return n&&m&&(f=setInterval(()=>{c(y=>y+1)},1e3),v=setInterval(()=>{const y=[...gr.volumes].slice(-gr.maxVolumes);d(y)},100)),()=>{clearInterval(f),clearInterval(v),gr.volumes=jo(),d(jo()),c(0)}},[n,m]),n||i?le(Pi,{h:"100%",w:"100%",gap:"0px",children:[A(Cye,{children:A(Sye,{children:A(Tye,{style:{width:5*u.length},children:u.map((f,v)=>A(Eye,{height:Math.min(28*f,28)},v))})})}),le(ir,{ml:"auto",style:{paddingRight:"16px"},children:[A(Zt,{radius:100,color:"gray.7",onClick:()=>{s({event_name:zt.VoiceInputCancel}),t(rl(!1)),po.cancelRecord()},disabled:i,children:A(ca,{style:{width:20}})},"cancel"),A(Zt,{autoContrast:!0,radius:100,variant:"filled",onClick:()=>{po.stopRecord(),s({event_name:zt.VoiceInputClose})},color:"gray.1",loading:i,disabled:i||l<1||!m,children:A(gC,{style:{width:"70%",height:"70%"}})},"confirm")]})]}):null},lS=({handleSendClick:e})=>{const{isV1:t,isV2Avatar:n}=ac();return t?A(hye,{}):n?A(Oye,{handleSendClick:e}):A(vye,{})},rp=()=>G(Fbe)==="loading";var Aye=Object.defineProperty,Pye=Object.defineProperties,Nye=Object.getOwnPropertyDescriptors,By=Object.getOwnPropertySymbols,cV=Object.prototype.hasOwnProperty,uV=Object.prototype.propertyIsEnumerable,dV=(e,t,n)=>t in e?Aye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hV=(e,t)=>{for(var n in t||(t={}))cV.call(t,n)&&dV(e,n,t[n]);if(By)for(var n of By(t))uV.call(t,n)&&dV(e,n,t[n]);return e},pV=(e,t)=>Pye(e,Nye(t)),mV=(e,t)=>{var n={};for(var r in e)cV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&By)for(var r of By(e))t.indexOf(r)<0&&uV.call(e,r)&&(n[r]=e[r]);return n};const Iye=({progress:e,size:t,strokeWidth:n})=>{const r=(t-n)/2,o=2*Math.PI*r,i=o-e/100*o;return le("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,xmlns:"http://www.w3.org/2000/svg",children:[A("circle",{cx:t/2,cy:t/2,r,fill:"none",stroke:"#e6e6e6",strokeWidth:n}),A("circle",{cx:t/2,cy:t/2,r,fill:"none",stroke:"#007bff",strokeWidth:n,strokeDasharray:o,strokeDashoffset:i,strokeLinecap:"round"})]})},cS=e=>{const{images:t,setImages:n,progressMap:r}=e,o=G(a=>a.hookState.isUploadingImage);if(bt(t))return null;const i=a=>{if(o){const s=r.get(a)||0;return A("div",{style:{position:"absolute",right:0,top:0,padding:4,transform:"rotate(-90deg)"},children:A(Iye,{progress:s,size:15,strokeWidth:3})})}return A(Fy,{onClick:()=>(s=>{n(l=>l.filter((c,u)=>u!==s))})(a),style:{position:"absolute",right:0,top:0},variant:"flat",color:"black",children:A(ca,{})})};return A(Rye,{children:t.map((a,s)=>le(Mye,{children:[A("img",{src:a.dataURL,alt:""}),i(s)]},s))})},Rye=Ae(e=>{const t=e,{className:n}=t,r=mV(t,["className"]);return A("livex-chatbox-message-image-view",pV(hV({},r),{class:n}))},{target:"e13izj6h1"})(e=>{const{disabled:t}=e,n={display:"flex",alignItems:"center",padding:8,position:"absolute",top:0,left:0};return t&&(n.cursor="not-allowed",n["& textarea"]={cursor:"not-allowed"}),n},""),Mye=Ae(e=>{const t=e,{className:n}=t,r=mV(t,["className"]);return A("livex-chatbox-message-image-view-image-container",pV(hV({},r),{class:n}))},{target:"e13izj6h0"})(()=>({border:"1px solid #e5e7eb",display:"flex",alignItems:"center",flexGrow:1,borderRadius:"0.5em",padding:8,width:100,height:100,position:"relative","& img":{width:"100%",height:"100%",objectFit:"contain"}}),"");function fV(e){return gt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"},child:[]}]})(e)}function Dye(e){return gt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},child:[]}]})(e)}function Lye(e){return gt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.5 3.75a.75.75 0 0 0-1.264-.546L5.203 7H2.667a.75.75 0 0 0-.7.48A6.985 6.985 0 0 0 1.5 10c0 .887.165 1.737.468 2.52.111.29.39.48.7.48h2.535l4.033 3.796a.75.75 0 0 0 1.264-.546V3.75ZM16.45 5.05a.75.75 0 0 0-1.06 1.061 5.5 5.5 0 0 1 0 7.778.75.75 0 0 0 1.06 1.06 7 7 0 0 0 0-9.899Z"},child:[]},{tag:"path",attr:{d:"M14.329 7.172a.75.75 0 0 0-1.061 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 0 0 1.06 1.06 4 4 0 0 0 0-5.656Z"},child:[]}]})(e)}function jye(e){return gt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.047 3.062a.75.75 0 0 1 .453.688v12.5a.75.75 0 0 1-1.264.546L5.203 13H2.667a.75.75 0 0 1-.7-.48A6.985 6.985 0 0 1 1.5 10c0-.887.165-1.737.468-2.52a.75.75 0 0 1 .7-.48h2.535l4.033-3.796a.75.75 0 0 1 .811-.142ZM13.78 7.22a.75.75 0 1 0-1.06 1.06L14.44 10l-1.72 1.72a.75.75 0 0 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L16.56 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L15.5 8.94l-1.72-1.72Z"},child:[]}]})(e)}const uS=()=>{const[e,t]=x.useState(!1),n=G(r=>r.chatBox.stopRequestedAt);return x.useEffect(()=>{if(n){t(!0);const r=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(r)}},[n]),A(Ro,{mounted:e,transition:"fade-up",duration:300,timingFunction:"ease-out",children:r=>A(zye,{style:r,children:"Stop Requested..."})})},zye=Ae("div",{target:"e1bkyjkp0"})({name:"twdfza",styles:"position:absolute;right:0px;top:-42px;padding:4px;background-color:rgba(255, 255, 255, 0.8);border-radius:4px"});function Fye(e){return gt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"},child:[]}]})(e)}const dS=()=>{const e=dt(),t=er(),n=G(wt),r=B$(),{isV4:o}=Jl();return or({mutationFn:async()=>{Va.instance.stop(),e(D$(new Date().getTime())),r!=null&&r.uid&&(o?await C1():await(async i=>{const{chatbot_id:a,conversation_id:s}=i;if(!a||!s)throw new Error("chatbot_id and conversation_id are required");const l=`${Mt.chatHost}/api/v1/live_avatar/stop_stream`;return(await xt.post(l,i)).data})({chatbot_id:t,conversation_id:n}))}})};function Bye(e){return gt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"},child:[]}]})(e)}function Uye(e){return gt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5M6.854 5.146a.5.5 0 1 0-.708.708L7.293 7 6.146 8.146a.5.5 0 1 0 .708.708L8 7.707l1.146 1.147a.5.5 0 1 0 .708-.708L8.707 7l1.147-1.146a.5.5 0 0 0-.708-.708L8 6.293z"},child:[]}]})(e)}function Hye(e){return gt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.146 5.146a.5.5 0 0 1 .708 0L8 6.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 7l1.147 1.146a.5.5 0 0 1-.708.708L8 7.707 6.854 8.854a.5.5 0 1 1-.708-.708L7.293 7 6.146 5.854a.5.5 0 0 1 0-.708"},child:[]},{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"},child:[]}]})(e)}function gV(e){return gt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-6.839 9.688v-.522a1.5 1.5 0 0 0-.117-.641.86.86 0 0 0-.322-.387.86.86 0 0 0-.469-.129.87.87 0 0 0-.471.13.87.87 0 0 0-.32.386 1.5 1.5 0 0 0-.117.641v.522q0 .384.117.641a.87.87 0 0 0 .32.387.9.9 0 0 0 .471.126.9.9 0 0 0 .469-.126.86.86 0 0 0 .322-.386 1.55 1.55 0 0 0 .117-.642m.803-.516v.513q0 .563-.205.973a1.47 1.47 0 0 1-.589.627q-.381.216-.917.216a1.86 1.86 0 0 1-.92-.216 1.46 1.46 0 0 1-.589-.627 2.15 2.15 0 0 1-.205-.973v-.513q0-.569.205-.975.205-.411.59-.627.386-.22.92-.22.535 0 .916.22.383.219.59.63.204.406.204.972M1 15.925v-3.999h1.459q.609 0 1.005.235.396.233.589.68.196.445.196 1.074 0 .634-.196 1.084-.197.451-.595.689-.396.237-.999.237zm1.354-3.354H1.79v2.707h.563q.277 0 .483-.082a.8.8 0 0 0 .334-.252q.132-.17.196-.422a2.3 2.3 0 0 0 .068-.592q0-.45-.118-.753a.9.9 0 0 0-.354-.454q-.237-.152-.61-.152Zm6.756 1.116q0-.373.103-.633a.87.87 0 0 1 .301-.398.8.8 0 0 1 .475-.138q.225 0 .398.097a.7.7 0 0 1 .273.26.85.85 0 0 1 .12.381h.765v-.073a1.33 1.33 0 0 0-.466-.964 1.4 1.4 0 0 0-.49-.272 1.8 1.8 0 0 0-.606-.097q-.534 0-.911.223-.375.222-.571.633-.197.41-.197.978v.498q0 .568.194.976.195.406.571.627.375.216.914.216.44 0 .785-.164t.551-.454a1.27 1.27 0 0 0 .226-.674v-.076h-.765a.8.8 0 0 1-.117.364.7.7 0 0 1-.273.248.9.9 0 0 1-.401.088.85.85 0 0 1-.478-.131.83.83 0 0 1-.298-.393 1.7 1.7 0 0 1-.103-.627zm5.092-1.76h.894l-1.275 2.006 1.254 1.992h-.908l-.85-1.415h-.035l-.852 1.415h-.862l1.24-2.015-1.228-1.984h.932l.832 1.439h.035z"},child:[]}]})(e)}function $ye(e){return gt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"},child:[]}]})(e)}function Vye(e){return gt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"},child:[]}]})(e)}var qye=Object.defineProperty,Wye=Object.defineProperties,Kye=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,vV=Object.prototype.hasOwnProperty,bV=Object.prototype.propertyIsEnumerable,yV=(e,t,n)=>t in e?qye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pf=(e,t)=>{for(var n in t||(t={}))vV.call(t,n)&&yV(e,n,t[n]);if(Uy)for(var n of Uy(t))bV.call(t,n)&&yV(e,n,t[n]);return e};const wV=e=>{var t=e,{children:n,disabled:r=!1,disabledStyle:o,style:i,onClick:a}=t,s=((c,u)=>{var d={};for(var p in c)vV.call(c,p)&&u.indexOf(p)<0&&(d[p]=c[p]);if(c!=null&&Uy)for(var p of Uy(c))u.indexOf(p)<0&&bV.call(c,p)&&(d[p]=c[p]);return d})(t,["children","disabled","disabledStyle","style","onClick"]);let l=pf({},i);return r&&(l=pf(pf(pf({},l),{opacity:.4,cursor:"not-allowed",color:"var(--mantine-color-gray-5)"}),o||{})),A(Zt,((c,u)=>Wye(c,Kye(u)))(pf({},s),{disabled:!1,variant:s.variant||"filled",style:l,onClick:()=>{ne.log("LiveXActionIcon onClick. disabled: ",r),r||a==null||a()},children:n}))},Hy=({handleSendClick:e})=>{const t=dt(),{t:n}=jr(),r=G(w=>w.chatBox.botMode),o=G(w=>w.chatBox.isAvatarSpeaking),i=G(w=>w.chatBox.isMicOn),a=G(w=>w.chatBox.composedMessage),s=G(wt),l=Pu(),c=dr(),{isV4:u}=Jl(),{isV2Avatar:d}=ac(),{primary_color:p}=Vt(),h=ic(),m=Su(),{mutate:g}=dS(),{onConnectButtonClicked:f}=oa(),v=h||m||i,y=()=>{Yt(r)&&g(),Fe.shouldAbort=!0,t(ns(!1)),s&&t(Ri({threadId:s,waiting:!1}))};if(i)return null;let b=c==null?void 0:c.use_conversation_mode;return Yt(r)&&(b=u),le(ir,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)",flexWrap:"nowrap"},children:[!d&&b&&A(hi,{label:n("conversation_mode"),children:A(Zt,{radius:100,color:`var(--message-composer-icon-color, ${p})`,variant:"filled",disabled:v,onClick:()=>{t(Zh("voice")),f()},style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",display:"flex",alignItems:"center",justifyContent:"center"},children:A(r0e,{style:{width:"70%",height:"70%"}})})}),A(hi,h||o?{label:n("stop"),children:A(tt,{children:d?A(wV,{color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",disabled:!h&&!o,onClick:y,disabledStyle:{backgroundColor:"transparent"},variant:"subtle",style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",display:"flex",alignItems:"center",justifyContent:"center"},children:A(d0e,{})}):A(Zt,{radius:100,color:`var(--message-composer-icon-color, ${p})`,variant:"filled",onClick:y,disabled:!h&&!o,style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",display:"flex",alignItems:"center",justifyContent:"center"},children:A(JU,{style:{width:"70%",height:"70%"}})})})}:{label:n("send"),children:A(tt,{children:d?A(wV,{color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",disabled:v||bt(a)||!l,onClick:e,variant:"subtle",disabledStyle:{backgroundColor:"transparent"},style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",display:"flex",alignItems:"center",justifyContent:"center"},children:A($ye,{})}):A(Zt,{style:{borderRadius:"100%",width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",display:"flex",alignItems:"center",justifyContent:"center"},color:`var(--message-composer-icon-color, ${p})`,variant:"filled",disabled:v||bt(a)||!l,onClick:e,children:A(Fye,{style:{width:"70%",height:"70%"}})})})})]})};var Gye=Object.defineProperty,Yye=Object.defineProperties,Qye=Object.getOwnPropertyDescriptors,kV=Object.getOwnPropertySymbols,Jye=Object.prototype.hasOwnProperty,Xye=Object.prototype.propertyIsEnumerable,_V=(e,t,n)=>t in e?Gye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zye=(e,t)=>{for(var n in t||(t={}))Jye.call(t,n)&&_V(e,n,t[n]);if(kV)for(var n of kV(t))Xye.call(t,n)&&_V(e,n,t[n]);return e},ewe=(e,t)=>Yye(e,Qye(t));const hS=()=>{const e=dt(),t=G(m=>m.chatBox.isMicOn),n=My(),r=G(m=>m.chatBox.botMode),o=G(m=>m.chatBox.isAvatarSpeaking),i=G(m=>m.chatBox.voiceControlPermissionState),{isV4:a}=Jl(),{text_input_icon_color:s}=Vt(),{mutate:l}=dS(),{mutate:c}=Si(),u=Pu(),d=!!i&&i!=="granted"||!u,p=t?eH:W1,h=!t&&!n;return Yt(r)&&a?null:A(Ro,{mounted:h,transition:"scale",duration:200,timingFunction:"ease",children:m=>A(hi,{disabled:!d,label:d?"Please allow microphone access":"",position:"top-start",children:A(Zt,{color:s,variant:"subtle",disabled:d,style:ewe(Zye({},m),{transformOrigin:"center",color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"}),onClick:()=>{c({event_name:zt.VoiceInputStart}),Yt(r)&&o&&l(),Fe.shouldAbort=!0,e(rl(!0))},children:A(p,{style:{width:"90%",height:"90%"}})})})})};var twe=Object.defineProperty,nwe=Object.defineProperties,rwe=Object.getOwnPropertyDescriptors,xV=Object.getOwnPropertySymbols,owe=Object.prototype.hasOwnProperty,iwe=Object.prototype.propertyIsEnumerable,CV=(e,t,n)=>t in e?twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SV=(e,t)=>{for(var n in t||(t={}))owe.call(t,n)&&CV(e,n,t[n]);if(xV)for(var n of xV(t))iwe.call(t,n)&&CV(e,n,t[n]);return e},TV=(e,t)=>nwe(e,rwe(t));const awe=()=>{const e=G(wt),t=er(),n=dt(),r=G(i=>i.hookState.isUploadingFile),o=or({mutationFn:i=>(async a=>{const{file:s,conversationId:l,chatbotId:c}=a;if(!l||!c||!s)throw new Error("conversationId, chatbotId or file is missing");const u=new FormData;u.append("file",s),u.append("conversation_id",l),u.append("chatbot_id",c);const d=`${Mt.chatHost}/api/live_chat_upload_file`;return(await xt.post(d,u,{headers:{"Content-Type":"multipart/form-data"}})).data})(TV(SV({},i),{chatbotId:t,conversationId:e})),onMutate:()=>{n(qU(!0))},onSettled:()=>{n(qU(!1))}});return TV(SV({},o),{isUploadingFile:r})};var EV,OV,pS,AV,mS,PV,fS,NV,gS,IV,vS,RV,bS,MV,DV,LV,jV,zV,FV,BV,UV,HV,$V,VV,qV,WV,KV,GV,YV,QV,yS,JV,wS,XV,ZV,eq,kS,tq,_S,nq,rq,oq,xS,iq,CS,aq,SS,sq,lq,cq,TS,uq,dq,hq,pq,mq,fq,gq,vq,bq,ES,yq,OS,wq,AS,kq,_q,xq,Cq,Sq,Tq,Eq,PS,Oq,NS,Aq,IS,Pq,RS,Nq,MS,Iq,Rq,Mq,DS,Dq,Lq,jq,zq,Fq,Bq,Uq,LS,Hq,jS,$q,zS,Vq,qq,Wq,FS,Kq,BS,Gq,Yq,Qq,Jq,Xq;function Zq(){return AV||(AV=1,pS=function(e,t){return e===t||e!=e&&t!=t}),pS}function $y(){if(PV)return mS;PV=1;var e=Zq();return mS=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},mS}function Vy(){if(LV)return DV;LV=1;var e=OV?EV:(OV=1,EV=function(){this.__data__=[],this.size=0}),t=function(){if(NV)return fS;NV=1;var a=$y(),s=Array.prototype.splice;return fS=function(l){var c=this.__data__,u=a(c,l);return!(u<0||(u==c.length-1?c.pop():s.call(c,u,1),--this.size,0))},fS}(),n=function(){if(IV)return gS;IV=1;var a=$y();return gS=function(s){var l=this.__data__,c=a(l,s);return c<0?void 0:l[c][1]},gS}(),r=function(){if(RV)return vS;RV=1;var a=$y();return vS=function(s){return a(this.__data__,s)>-1},vS}(),o=function(){if(MV)return bS;MV=1;var a=$y();return bS=function(s,l){var c=this.__data__,u=a(c,s);return u<0?(++this.size,c.push([s,l])):c[u][1]=l,this},bS}();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,DV=i}function eW(){if(WV)return qV;WV=1;var e=typeof Xg=="object"&&Xg&&Xg.Object===Object&&Xg;return qV=e}function as(){if(GV)return KV;GV=1;var e=eW(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return KV=n}function US(){if(QV)return YV;QV=1;var e=as().Symbol;return YV=e}function qy(){if(eq)return ZV;eq=1;var e=US(),t=function(){if(JV)return yS;JV=1;var o=US(),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,l=o?o.toStringTag:void 0;return yS=function(c){var u=a.call(c,l),d=c[l];try{c[l]=void 0;var p=!0}catch{}var h=s.call(c);return p&&(u?c[l]=d:delete c[l]),h},yS}(),n=function(){if(XV)return wS;XV=1;var o=Object.prototype.toString;return wS=function(i){return o.call(i)},wS}(),r=e?e.toStringTag:void 0;return ZV=function(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":r&&r in Object(o)?t(o):n(o)}}function mf(){return tq||(tq=1,kS=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}),kS}function tW(){if(nq)return _S;nq=1;var e=qy(),t=mf();return _S=function(n){if(!t(n))return!1;var r=e(n);return r=="[object Function]"||r=="[object GeneratorFunction]"||r=="[object AsyncFunction]"||r=="[object Proxy]"},_S}function swe(){if(iq)return xS;iq=1;var e=function(){if(oq)return rq;oq=1;var n=as()["__core-js_shared__"];return rq=n}(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();return xS=function(n){return!!t&&t in n},xS}function nW(){if(aq)return CS;aq=1;var e=Function.prototype.toString;return CS=function(t){if(t!=null){try{return e.call(t)}catch{}try{return t+""}catch{}}return""},CS}function Ru(){if(uq)return TS;uq=1;var e=function(){if(sq)return SS;sq=1;var n=tW(),r=swe(),o=mf(),i=nW(),a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return SS=function(p){return!(!o(p)||r(p))&&(n(p)?d:a).test(i(p))},SS}(),t=(cq||(cq=1,lq=function(n,r){return n==null?void 0:n[r]}),lq);return TS=function(n,r){var o=t(n,r);return e(o)?o:void 0},TS}function HS(){if(hq)return dq;hq=1;var e=Ru()(as(),"Map");return dq=e}function Wy(){if(mq)return pq;mq=1;var e=Ru()(Object,"create");return pq=e}function lwe(){if(xq)return _q;xq=1;var e=function(){if(gq)return fq;gq=1;var a=Wy();return fq=function(){this.__data__=a?a(null):{},this.size=0}}(),t=(bq||(bq=1,vq=function(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}),vq),n=function(){if(yq)return ES;yq=1;var a=Wy(),s=Object.prototype.hasOwnProperty;return ES=function(l){var c=this.__data__;if(a){var u=c[l];return u==="__lodash_hash_undefined__"?void 0:u}return s.call(c,l)?c[l]:void 0},ES}(),r=function(){if(wq)return OS;wq=1;var a=Wy(),s=Object.prototype.hasOwnProperty;return OS=function(l){var c=this.__data__;return a?c[l]!==void 0:s.call(c,l)},OS}(),o=function(){if(kq)return AS;kq=1;var a=Wy();return AS=function(s,l){var c=this.__data__;return this.size+=this.has(s)?0:1,c[s]=a&&l===void 0?"__lodash_hash_undefined__":l,this},AS}();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,_q=i}function Ky(){if(Oq)return PS;Oq=1;var e=(Eq||(Eq=1,Tq=function(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}),Tq);return PS=function(t,n){var r=t.__data__;return e(n)?r[typeof n=="string"?"string":"hash"]:r.map},PS}function cwe(){if(Mq)return Rq;Mq=1;var e=function(){if(Sq)return Cq;Sq=1;var a=lwe(),s=Vy(),l=HS();return Cq=function(){this.size=0,this.__data__={hash:new a,map:new(l||s),string:new a}}}(),t=function(){if(Aq)return NS;Aq=1;var a=Ky();return NS=function(s){var l=a(this,s).delete(s);return this.size-=l?1:0,l},NS}(),n=function(){if(Pq)return IS;Pq=1;var a=Ky();return IS=function(s){return a(this,s).get(s)},IS}(),r=function(){if(Nq)return RS;Nq=1;var a=Ky();return RS=function(s){return a(this,s).has(s)},RS}(),o=function(){if(Iq)return MS;Iq=1;var a=Ky();return MS=function(s,l){var c=a(this,s),u=c.size;return c.set(s,l),this.size+=c.size==u?0:1,this},MS}();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Rq=i}function uwe(){if(jq)return Lq;jq=1;var e=Vy(),t=function(){if(zV)return jV;zV=1;var s=Vy();return jV=function(){this.__data__=new s,this.size=0}}(),n=(BV||(BV=1,FV=function(s){var l=this.__data__,c=l.delete(s);return this.size=l.size,c}),FV),r=(HV||(HV=1,UV=function(s){return this.__data__.get(s)}),UV),o=(VV||(VV=1,$V=function(s){return this.__data__.has(s)}),$V),i=function(){if(Dq)return DS;Dq=1;var s=Vy(),l=HS(),c=cwe();return DS=function(u,d){var p=this.__data__;if(p instanceof s){var h=p.__data__;if(!l||h.length<199)return h.push([u,d]),this.size=++p.size,this;p=this.__data__=new c(h)}return p.set(u,d),this.size=p.size,this},DS}();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,Lq=a}function rW(){if(Hq)return LS;Hq=1;var e=function(){if(Uq)return Bq;Uq=1;var t=Ru(),n=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Bq=n}();return LS=function(t,n,r){n=="__proto__"&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r},LS}function oW(){if($q)return jS;$q=1;var e=rW(),t=Zq(),n=Object.prototype.hasOwnProperty;return jS=function(r,o,i){var a=r[o];(!n.call(r,o)||!t(a,i)||i===void 0&&!(o in r))&&e(r,o,i)},jS}function Gy(){if(Vq)return zS;Vq=1;var e=oW(),t=rW();return zS=function(n,r,o,i){var a=!o;o||(o={});for(var s=-1,l=r.length;++s<l;){var c=r[s],u=i?i(o[c],n[c],c,o,n):void 0;u===void 0&&(u=n[c]),a?t(o,c,u):e(o,c,u)}return o},zS}function ff(){return Kq||(Kq=1,FS=function(e){return e!=null&&typeof e=="object"}),FS}function dwe(){if(Qq)return Yq;Qq=1;var e=function(){if(Gq)return BS;Gq=1;var a=qy(),s=ff();return BS=function(l){return s(l)&&a(l)=="[object Arguments]"},BS}(),t=ff(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!o.call(a,"callee")};return Yq=i}function $S(){if(Xq)return Jq;Xq=1;var e=Array.isArray;return Jq=e}var iW,aW,sW,VS,lW,qS,cW,uW,dW,WS,hW,KS={exports:{}};function pW(){return sW||(sW=1,function(e,t){var n=as(),r=aW?iW:(aW=1,iW=function(){return!1}),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}(KS,KS.exports)),KS.exports}function mW(){return cW?qS:(cW=1,qS=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},qS)}function GS(){return hW||(hW=1,WS=function(e){return function(t){return e(t)}}),WS}var fW,gW,vW,YS,bW,QS,yW,JS,wW,kW,_W,XS,xW,ZS,CW,eT,SW,tT,TW,EW,OW,nT,AW,rT,PW,oT,NW,iT={exports:{}};function aT(){return fW||(fW=1,function(e,t){var n=eW(),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch{}}();e.exports=a}(iT,iT.exports)),iT.exports}function hwe(){if(vW)return gW;vW=1;var e=function(){if(dW)return uW;dW=1;var i=qy(),a=mW(),s=ff(),l={};return l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,uW=function(c){return s(c)&&a(c.length)&&!!l[i(c)]}}(),t=GS(),n=aT(),r=n&&n.isTypedArray,o=r?t(r):e;return gW=o}function IW(){if(bW)return YS;bW=1;var e=(Wq||(Wq=1,qq=function(s,l){for(var c=-1,u=Array(s);++c<s;)u[c]=l(c);return u}),qq),t=dwe(),n=$S(),r=pW(),o=function(){if(lW)return VS;lW=1;var s=/^(?:0|[1-9]\d*)$/;return VS=function(l,c){var u=typeof l;return!!(c=c??9007199254740991)&&(u=="number"||u!="symbol"&&s.test(l))&&l>-1&&l%1==0&&l<c},VS}(),i=hwe(),a=Object.prototype.hasOwnProperty;return YS=function(s,l){var c=n(s),u=!c&&t(s),d=!c&&!u&&r(s),p=!c&&!u&&!d&&i(s),h=c||u||d||p,m=h?e(s.length,String):[],g=m.length;for(var f in s)(l||a.call(s,f))&&(!h||!(f=="length"||d&&(f=="offset"||f=="parent")||p&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||o(f,g)))&&m.push(f);return m},YS}function sT(){if(yW)return QS;yW=1;var e=Object.prototype;return QS=function(t){var n=t&&t.constructor;return t===(typeof n=="function"&&n.prototype||e)},QS}function RW(){return wW||(wW=1,JS=function(e,t){return function(n){return e(t(n))}}),JS}function pwe(){if(xW)return XS;xW=1;var e=sT(),t=function(){if(_W)return kW;_W=1;var r=RW()(Object.keys,Object);return kW=r}(),n=Object.prototype.hasOwnProperty;return XS=function(r){if(!e(r))return t(r);var o=[];for(var i in Object(r))n.call(r,i)&&i!="constructor"&&o.push(i);return o},XS}function MW(){if(CW)return ZS;CW=1;var e=tW(),t=mW();return ZS=function(n){return n!=null&&t(n.length)&&!e(n)},ZS}function lT(){if(SW)return eT;SW=1;var e=IW(),t=pwe(),n=MW();return eT=function(r){return n(r)?e(r):t(r)},eT}function mwe(){if(AW)return nT;AW=1;var e=mf(),t=sT(),n=(OW||(OW=1,EW=function(o){var i=[];if(o!=null)for(var a in Object(o))i.push(a);return i}),EW),r=Object.prototype.hasOwnProperty;return nT=function(o){if(!e(o))return n(o);var i=t(o),a=[];for(var s in o)s=="constructor"&&(i||!r.call(o,s))||a.push(s);return a},nT}function cT(){if(PW)return rT;PW=1;var e=IW(),t=mwe(),n=MW();return rT=function(r){return n(r)?e(r,!0):t(r)},rT}var DW,LW,jW,zW,FW,BW,UW,HW,$W,uT,VW,dT,qW,WW,KW,GW,YW,hT,QW,pT,JW,mT,XW,fT,ZW,eK,tK,nK,rK,oK,iK,aK,sK,lK,cK,gT,uK,dK,hK,vT,pK,bT,mK,yT,fK,wT,gK,kT,vK,_T,bK,yK,wK,xT,kK,CT,_K,xK,CK,ST,SK,TK,EK,TT,OK,ET,AK,OT={exports:{}};function PK(){return UW?BW:(UW=1,BW=function(){return[]})}function AT(){if($W)return HW;$W=1;var e=(FW||(FW=1,zW=function(i,a){for(var s=-1,l=i==null?0:i.length,c=0,u=[];++s<l;){var d=i[s];a(d,s,i)&&(u[c++]=d)}return u}),zW),t=PK(),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,o=r?function(i){return i==null?[]:(i=Object(i),e(r(i),function(a){return n.call(i,a)}))}:t;return HW=o}function NK(){return qW||(qW=1,dT=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}),dT}function IK(){if(KW)return WW;KW=1;var e=RW()(Object.getPrototypeOf,Object);return WW=e}function RK(){if(YW)return GW;YW=1;var e=NK(),t=IK(),n=AT(),r=PK(),o=Object.getOwnPropertySymbols?function(i){for(var a=[];i;)e(a,n(i)),i=t(i);return a}:r;return GW=o}function MK(){if(JW)return pT;JW=1;var e=NK(),t=$S();return pT=function(n,r,o){var i=r(n);return t(n)?i:e(i,o(n))},pT}function PT(){if(cK)return lK;cK=1;var e=function(){if(tK)return eK;tK=1;var y=Ru()(as(),"DataView");return eK=y}(),t=HS(),n=function(){if(rK)return nK;rK=1;var y=Ru()(as(),"Promise");return nK=y}(),r=function(){if(iK)return oK;iK=1;var y=Ru()(as(),"Set");return oK=y}(),o=function(){if(sK)return aK;sK=1;var y=Ru()(as(),"WeakMap");return aK=y}(),i=qy(),a=nW(),s="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",d="[object DataView]",p=a(e),h=a(t),m=a(n),g=a(r),f=a(o),v=i;return(e&&v(new e(new ArrayBuffer(1)))!=d||t&&v(new t)!=s||n&&v(n.resolve())!=l||r&&v(new r)!=c||o&&v(new o)!=u)&&(v=function(y){var b=i(y),w=b=="[object Object]"?y.constructor:void 0,k=w?a(w):"";if(k)switch(k){case p:return d;case h:return s;case m:return l;case g:return c;case f:return u}return b}),lK=v}function NT(){if(pK)return vT;pK=1;var e=function(){if(hK)return dK;hK=1;var t=as().Uint8Array;return dK=t}();return vT=function(t){var n=new t.constructor(t.byteLength);return new e(n).set(new e(t)),n},vT}function fwe(){if(bK)return _T;bK=1;var e=NT(),t=function(){if(mK)return bT;mK=1;var i=NT();return bT=function(a,s){var l=s?i(a.buffer):a.buffer;return new a.constructor(l,a.byteOffset,a.byteLength)},bT}(),n=function(){if(fK)return yT;fK=1;var i=/\w*$/;return yT=function(a){var s=new a.constructor(a.source,i.exec(a));return s.lastIndex=a.lastIndex,s},yT}(),r=function(){if(gK)return wT;gK=1;var i=US(),a=i?i.prototype:void 0,s=a?a.valueOf:void 0;return wT=function(l){return s?Object(s.call(l)):{}},wT}(),o=function(){if(vK)return kT;vK=1;var i=NT();return kT=function(a,s){var l=s?i(a.buffer):a.buffer;return new a.constructor(l,a.byteOffset,a.length)},kT}();return _T=function(i,a,s){var l=i.constructor;switch(a){case"[object ArrayBuffer]":return e(i);case"[object Boolean]":case"[object Date]":return new l(+i);case"[object DataView]":return t(i,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(i,s);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(i);case"[object RegExp]":return n(i);case"[object Symbol]":return r(i)}},_T}function gwe(){if(kK)return xT;kK=1;var e=function(){if(wK)return yK;wK=1;var r=mf(),o=Object.create,i=function(){function a(){}return function(s){if(!r(s))return{};if(o)return o(s);a.prototype=s;var l=new a;return a.prototype=void 0,l}}();return yK=i}(),t=IK(),n=sT();return xT=function(r){return typeof r.constructor!="function"||n(r)?{}:e(t(r))},xT}function vwe(){if(CK)return xK;CK=1;var e=function(){if(_K)return CT;_K=1;var i=PT(),a=ff();return CT=function(s){return a(s)&&i(s)=="[object Map]"},CT}(),t=GS(),n=aT(),r=n&&n.isMap,o=r?t(r):e;return xK=o}function bwe(){if(EK)return TK;EK=1;var e=function(){if(SK)return ST;SK=1;var i=PT(),a=ff();return ST=function(s){return a(s)&&i(s)=="[object Set]"},ST}(),t=GS(),n=aT(),r=n&&n.isSet,o=r?t(r):e;return TK=o}function ywe(){if(OK)return TT;OK=1;var e=uwe(),t=(Fq||(Fq=1,zq=function(T,M){for(var D=-1,H=T==null?0:T.length;++D<H&&M(T[D],D,T)!==!1;);return T}),zq),n=oW(),r=function(){if(TW)return tT;TW=1;var T=Gy(),M=lT();return tT=function(D,H){return D&&T(H,M(H),D)},tT}(),o=function(){if(NW)return oT;NW=1;var T=Gy(),M=cT();return oT=function(D,H){return D&&T(H,M(H),D)},oT}(),i=(DW||(DW=1,function(T,M){var D=as(),H=M&&!M.nodeType&&M,$=H&&T&&!T.nodeType&&T,R=$&&$.exports===H?D.Buffer:void 0,U=R?R.allocUnsafe:void 0;T.exports=function(B,L){if(L)return B.slice();var C=B.length,V=U?U(C):new B.constructor(C);return B.copy(V),V}}(OT,OT.exports)),OT.exports),a=(jW||(jW=1,LW=function(T,M){var D=-1,H=T.length;for(M||(M=Array(H));++D<H;)M[D]=T[D];return M}),LW),s=function(){if(VW)return uT;VW=1;var T=Gy(),M=AT();return uT=function(D,H){return T(D,M(D),H)},uT}(),l=function(){if(QW)return hT;QW=1;var T=Gy(),M=RK();return hT=function(D,H){return T(D,M(D),H)},hT}(),c=function(){if(XW)return mT;XW=1;var T=MK(),M=AT(),D=lT();return mT=function(H){return T(H,D,M)},mT}(),u=function(){if(ZW)return fT;ZW=1;var T=MK(),M=RK(),D=cT();return fT=function(H){return T(H,D,M)},fT}(),d=PT(),p=function(){if(uK)return gT;uK=1;var T=Object.prototype.hasOwnProperty;return gT=function(M){var D=M.length,H=new M.constructor(D);return D&&typeof M[0]=="string"&&T.call(M,"index")&&(H.index=M.index,H.input=M.input),H},gT}(),h=fwe(),m=gwe(),g=$S(),f=pW(),v=vwe(),y=mf(),b=bwe(),w=lT(),k=cT(),_="[object Arguments]",E="[object Function]",S="[object Object]",O={};return O[_]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[S]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[E]=O["[object WeakMap]"]=!1,TT=function T(M,D,H,$,R,U){var B,L=1&D,C=2&D,V=4&D;if(H&&(B=R?H(M,$,R,U):H(M)),B!==void 0)return B;if(!y(M))return M;var N=g(M);if(N){if(B=p(M),!L)return a(M,B)}else{var q=d(M),J=q==E||q=="[object GeneratorFunction]";if(f(M))return i(M,L);if(q==S||q==_||J&&!R){if(B=C||J?{}:m(M),!L)return C?l(M,o(B,M)):s(M,r(B,M))}else{if(!O[q])return R?M:{};B=h(M,q,L)}}U||(U=new e);var Q=U.get(M);if(Q)return Q;U.set(M,B),b(M)?M.forEach(function(X){B.add(T(X,D,H,X,M,U))}):v(M)&&M.forEach(function(X,ee){B.set(ee,T(X,D,H,ee,M,U))});var te=N?void 0:(V?C?u:c:C?k:w)(M);return t(te||M,function(X,ee){te&&(X=M[ee=X]),n(B,ee,T(X,D,H,ee,M,U))}),B},TT}var wwe=function(){if(AK)return ET;AK=1;var e=ywe();return ET=function(t){return e(t,5)},ET}();const kwe=$r(wwe),Mu={SUNSHINE:"sunshine",INTERCOM:"intercom"},_we={[Mu.SUNSHINE]:["video/3gpp2","video/3gpp","video/x-msvideo","video/mp4","video/quicktime","video/mpeg","video/ogg","video/webm","video/x-ms-wmv","audio/aac","audio/amr","audio/x-caf","audio/m4a","audio/mp3","audio/mpeg","audio/ogg","audio/wav","image/bmp","image/heic","image/heif","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp","text/csv","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","message/rfc822","text/calendar","application/x-iwork-keynote-sffkey","text/plain","application/vnd.oasis.opendocument.text","application/vnd.apple-pages","application/pdf","application/vnd.apple-pkpass","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/xml","text/yaml","model/vnd.usdz+zip","text/x-vcard","application/x-7z-compressed","application/zip","application/x-iwork-numbers-sffnumbers"],[Mu.INTERCOM]:["*/*"]},xwe=()=>{const e=G(n=>n.chatBox.agent),t=x.useMemo(()=>{var n,r,o,i;return(a=>{const s=[{platform:Mu.SUNSHINE,isEnabled:l=>{var c,u;return l.action==="zendesk"&&((u=(c=l.zendesk)==null?void 0:c.live_chat_options)==null?void 0:u.channel)==="sunshine"}},{platform:Mu.INTERCOM,isEnabled:l=>l.action==="intercom"},{platform:Mu.INTERCOM,isEnabled:l=>{var c,u;return!(l.action!=="workflow"||(u=(c=l.intercom)==null?void 0:c.live_chat_options)==null||!u.enabled)}},{platform:Mu.SUNSHINE,isEnabled:l=>{var c,u,d,p;return!(l.action!=="workflow"||(u=(c=l.zendesk)==null?void 0:c.live_chat_options)==null||!u.enabled||((p=(d=l.zendesk)==null?void 0:d.live_chat_options)==null?void 0:p.channel)!=="sunshine")}}].find(l=>l.isEnabled(a));return(s==null?void 0:s.platform)||Mu.INTERCOM})((i=(o=(r=(n=e==null?void 0:e.config)==null?void 0:n.tools)==null?void 0:r.document_qa)==null?void 0:o.no_answer_action)!=null?i:{})},[e]);return(n=>kwe(_we[n]))(t)},Yy=({setFileItemsToUpload:e})=>{const{text_input_icon_color:t}=Vt(),n=x.useRef(null),r=xwe(),{mutateAsync:o}=awe(),i=Pu();return My()?le(Yn,{children:[A(Zt,{disabled:!i,color:t,variant:"subtle",onClick:()=>{var a;(a=n.current)==null||a.click()},children:A(i0e,{style:{width:"70%",height:"70%"}})}),A(Cwe,{ref:n,type:"file",multiple:!0,onChange:async a=>{var s,l;if((s=a.target)==null||!s.files)return;const c=Array.from((l=a.target)==null?void 0:l.files),u=c.filter(d=>d.size>52428800?(alert(`File "${d.name}" exceeds 50 MB size limit`),!1):!(!r.includes("*/*")&&!r.some(p=>d.type===p))||(alert(`File "${d.name}" has unsupported format.`),!1));if(u.length!==0){e(d=>[...d.filter(p=>!u.some(h=>h.name===p.file.name)),...u.map(p=>({file:p}))]);for(const d of u)try{await o({file:d})}catch{}a.target.value="",e([])}else a.target.value=""},accept:r.join(",")})]}):null},Cwe=Ae("input",{target:"e6gsq9w0"})({name:"1ce4s23",styles:"clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;bottom:0;left:0;white-space:nowrap;width:1px"}),DK=[{value:"short",key:"response_length_short"},{value:"medium",key:"response_length_medium"},{value:"long",key:"response_length_long"}];function IT(){var e;const t=dt(),{primary_color:n}=Vt(),r=dr(),o=G(s=>s.chatBox.selectedResponseLength),{t:i}=jr();if((e=r==null?void 0:r.response_length)==null||!e.enabled)return null;const a=DK.find(s=>s.value===o);return le(Ht,{position:"bottom-start",shadow:"md",styles:{dropdown:{zIndex:1e4}},children:[A(Ht.Target,{children:A(An,{variant:o?"filled":"outline",size:"xs",radius:"lg",color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",children:a?i(a.key):A(K0e,{})})}),le(Ht.Dropdown,{children:[A(Ht.Label,{children:i("response_length")}),DK.map(s=>A(Ht.Item,{onClick:()=>(l=>{t(Pbe(l))})(s.value===o?null:s.value),color:s.value===o?n:void 0,rightSection:s.value===o?A(mH,{size:16}):null,children:i(s.key)},s.value))]})]})}const LK=({text:e,query:t})=>{if(!t||!e)return A(Yn,{children:e});const n=e.toLowerCase(),r=t.toLowerCase(),o=n.indexOf(r);if(o===-1)return A(Yn,{children:e});const i=o+r.length;return le(Yn,{children:[o>0&&A(kn,{component:"span",c:"dimmed",children:e.substring(0,o)}),A(kn,{component:"span",fw:500,style:{color:"var(--highlighted-text-color, black)"},children:e.substring(o,i)}),i<e.length&&A(kn,{component:"span",c:"dimmed",children:e.substring(i)})]})},RT=({handleSendClick:e})=>{const t=dt(),n=G(s=>s.chatBox.composedMessage),r=ic(),{primary_color:o}=Vt(),{bestSuggestions:i,bestSuggestionsActiveIndex:a}=Fh();return bt(i)||r||!n?null:le(Fn,{w:"100%",direction:"column",children:[A(Pi,{gap:"0px",style:{padding:"4px"},w:"100%",children:i.slice(0,3).map((s,l)=>{const c=l===a;return A(An,{color:o,style:{paddingLeft:"4px",paddingRight:"4px"},onClick:()=>(async u=>{await t(lc(u)),e()})(s),styles:{root:{height:"auto",minHeight:0,paddingTop:"4px",paddingBottom:"4px",alignItems:"flex-start"},inner:{width:"100%",justifyContent:"flex-start"},label:{width:"100%",textAlign:"left"}},variant:c?"light":"subtle",children:le(Fn,{w:"100%",gap:"xs",align:"flex-start",children:[A(tt,{display:"flex",style:{alignItems:"center",justifyContent:"center",flexShrink:0},children:A(Dye,{style:{color:"var(--magnifying-glass-color, black)"},size:16})}),A(kn,{size:"md",style:{whiteSpace:"normal",textAlign:"left"},children:A(LK,{text:s,query:n})}),c&&A(Fn,{ml:"auto",children:A(Bye,{size:12})})]})},l)})}),A(Y8,{})]})},Swe=({callbacks:e})=>{var t;const n=dt(),r=G(wt),o=rp(),i=dr(),a=os(),s=(t=i==null?void 0:i.response_length)==null?void 0:t.enabled,l=G($=>$.chatBox.isLiveChatEnded),c=G($=>$.chatBox.botMode),u=G($=>$.chatBox.botVoiceEnabled),d=G($=>$.chatBox.isMicOn),p=G($=>$.chatBox.composerMode),[h,m]=x.useState([]),[g,f]=x.useState([]),[v,y]=x.useState(new Map),b=ic(),w=Su(),k=Pu(),_=b||w||!k,E=lf(),{mutateAsync:S}=hy(),{bestSuggestions:O,bestSuggestionsActiveIndex:T}=Fh(),M=async()=>{var $,R;if(_||d)return;Tt||(R=($=Fe.messageTextAreaRef)==null?void 0:$.current)==null||R.focus();const U=It.getState().chatBox.composedMessage,B=O[T]||U;if(bt(B)&&bt(h)&&bt(g))return;n(lc("")),n(Tu(-1));let L="";if(!bt(h))for(const[C,V]of h.entries())L=(await S({image:V,onUploadProgress:N=>{const{loaded:q,total:J=1}=N,Q=Math.round(100*q/J);y(te=>new Map(te.set(C,Q)))}})).image_gcs_uri;m([]),e==null||e.onSendMessage({text:B,imageGcsUri:L})},D=_||d;x.useEffect(()=>{var $,R,U,B;if(!a&&!D&&!Tt){if(p==="voice")return void((R=($=Fe.messageTextAreaRef)==null?void 0:$.current)==null||R.blur());(B=(U=Fe.messageTextAreaRef)==null?void 0:U.current)==null||B.focus()}},[a,D,p]);const{messageComposerStyle:H}=q1(h);return l||o||!r||E?null:p==="voice"?A(TC,{}):le(Fn,{styles:{root:H},children:[A(uS,{}),A(lS,{}),A(cS,{images:h,setImages:m,progressMap:v}),Yt(c)&&A(Fy,{color:"white",variant:"flat",onClick:()=>{const $=!u;$||(n(Xh(!0)),Va.instance.stop()),n(af($))},title:u?"Disable bot voice":"Enable bot voice",style:{position:"absolute",left:6,top:-40,background:"black"},children:A(u?Lye:jye,{})}),A(RT,{handleSendClick:M}),s?le(Yn,{children:[A(Fn,{w:"100%",children:A(Bh,{handleSendClick:M})}),!d&&le(Fn,{justify:"space-between",style:{padding:"4px",paddingTop:"0px"},w:"100%",children:[le(ir,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[A(Yy,{setFileItemsToUpload:f}),A(IT,{})]}),le(ir,{style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[A(hS,{}),A(Hy,{handleSendClick:M})]})]})]}):A(Fn,{justify:"space-between",style:{paddingLeft:"4px",paddingRight:"4px"},w:"100%",children:!d&&le(Fn,{align:"center",w:"100%",children:[A(hS,{}),A(Yy,{setFileItemsToUpload:f}),A(Bh,{handleSendClick:M}),A(Hy,{handleSendClick:M})]})})]})},jK=()=>{const e=dt(),{t}=jr(),n=G(o=>o.chatBox.botMode),r=G(o=>o.chatBox.botVoiceEnabled);return Yt(n)?A(hi,{label:t(r?"disable_bot_voice":"enable_bot_voice"),children:A(Zt,{variant:"subtle",onClick:async()=>{var o,i;const a=!r,s=await pr();if(a){if(e(ol(!1)),s){const l=(i=s.remoteUsers[0])==null?void 0:i.audioTrack;l&&l.play()}}else if(Va.instance.stop(),e(ol(!0)),s){const l=(o=s.remoteUsers[0])==null?void 0:o.audioTrack;l&&l.stop()}e(af(a))},color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"},children:A(r?oge:ige,{})})}):null},Twe=({callbacks:e})=>{const t=dt(),n=G(wt),r=rp(),o=os(),i=G(D=>D.chatBox.isLiveChatEnded),a=G(D=>D.chatBox.isMicOn),s=G(D=>D.chatBox.composerMode),l=G(D=>D.chatBox.isAvatarSpeaking),[c,u]=x.useState([]),[d,p]=x.useState([]),[h,m]=x.useState(new Map),g=ic(),f=Su(),v=Pu(),y=g||f||!v,b=lf(),{mutateAsync:w}=hy(),{bestSuggestions:k,bestSuggestionsActiveIndex:_}=Fh(),E=G(D=>D.chatBox.streamDetails),{isV4:S}=Jl(),O=async()=>{var D,H;if(y||a)return;Tt||(H=(D=Fe.messageTextAreaRef)==null?void 0:D.current)==null||H.focus(),l&&S&&C1();const $=It.getState().chatBox.composedMessage,R=k[_]||$;if(bt(R)&&bt(c)&&bt(d))return;t(lc("")),t(Tu(-1));let U="";if(!bt(c))for(const[B,L]of c.entries())U=(await w({image:L,onUploadProgress:C=>{const{loaded:V,total:N=1}=C,q=Math.round(100*V/N);m(J=>new Map(J.set(B,q)))}})).image_gcs_uri;u([]);try{S&&E!=null&&E.agora_channel?(n&&t(Ri({threadId:n,waiting:!0})),t(Un({type:"user",text:R,id:Date.now().toString(),done:!0})),await hj(R)):e==null||e.onSendMessage({text:R,imageGcsUri:U})}catch{n&&t(Ri({threadId:n,waiting:!1}))}},T=y||a;x.useEffect(()=>{var D,H,$,R;if(!o&&!T&&!Tt){if(s==="voice")return void((H=(D=Fe.messageTextAreaRef)==null?void 0:D.current)==null||H.blur());(R=($=Fe.messageTextAreaRef)==null?void 0:$.current)==null||R.focus()}},[o,T,s]);const{messageComposerStyle:M}=q1(c);return i||r||!n||b?null:s==="voice"?A(TC,{}):le(Fn,{styles:{root:M},children:[A(uS,{}),A(lS,{}),A(cS,{images:c,setImages:u,progressMap:h}),A(RT,{handleSendClick:O}),A(Fn,{w:"100%",children:A(Bh,{handleSendClick:O})}),!a&&le(Fn,{justify:"space-between",style:{padding:"0px 4px 14px 4px"},w:"100%",children:[le(ir,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[A(jK,{}),A(IT,{}),A(Yy,{setFileItemsToUpload:p})]}),le(ir,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[A(hS,{}),A(Hy,{handleSendClick:O})]})]})]})};var Ewe=Object.defineProperty,Owe=Object.defineProperties,Awe=Object.getOwnPropertyDescriptors,zK=Object.getOwnPropertySymbols,Pwe=Object.prototype.hasOwnProperty,Nwe=Object.prototype.propertyIsEnumerable,FK=(e,t,n)=>t in e?Ewe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iwe=(e,t)=>{for(var n in t||(t={}))Pwe.call(t,n)&&FK(e,n,t[n]);if(zK)for(var n of zK(t))Nwe.call(t,n)&&FK(e,n,t[n]);return e},Rwe=(e,t)=>Owe(e,Awe(t));const Mwe=()=>{const e=dt(),t=G(f=>f.chatBox.isMicOn),n=My(),r=G(f=>f.chatBox.botMode),o=G(f=>f.chatBox.isAvatarSpeaking),i=G(f=>f.chatBox.voiceControlPermissionState),{isV4:a}=Jl(),{isV2Avatar:s}=ac(),l=G(f=>f.chatBox.composerMode),{text_input_icon_color:c}=Vt(),{mutate:u}=dS(),{mutate:d}=Si(),p=Pu(),h=!!i&&i!=="granted"||!p,m=t?eH:W1,g=!t&&!n;return Yt(r)&&a&&s&&l!=="voice"?A(Ro,{mounted:g,transition:"scale",duration:200,timingFunction:"ease",children:f=>A(hi,{disabled:!h,label:h?"Please allow microphone access":"",position:"top-start",children:A(Zt,{color:c,variant:"subtle",disabled:h,style:Rwe(Iwe({},f),{transformOrigin:"center",color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"}),onClick:()=>{d({event_name:zt.VoiceInputStart}),Yt(r)&&o&&u(),Fe.shouldAbort=!0,e(rl(!0))},children:A(m,{})})})}):null},Dwe=({callbacks:e})=>{const t=dt(),n=G(wt),r=rp(),o=os(),i=G(D=>D.chatBox.isLiveChatEnded),a=G(D=>D.chatBox.isMicOn),s=G(D=>D.chatBox.composerMode),l=G(D=>D.chatBox.isAvatarSpeaking),[c,u]=x.useState([]),[d,p]=x.useState([]),[h,m]=x.useState(new Map),g=ic(),f=Su(),v=Pu(),y=g||f||!v,b=lf(),{mutateAsync:w}=hy(),{bestSuggestions:k,bestSuggestionsActiveIndex:_}=Fh(),E=G(D=>D.chatBox.streamDetails),{isV4:S}=Jl(),O=async D=>{var H,$;if(ne.log(" handleSendClick messageToSend:",D," isV4:",S," streamDetails:",E),!D&&(y||a))return;Tt||($=(H=Fe.messageTextAreaRef)==null?void 0:H.current)==null||$.focus(),l&&S&&C1();const R=It.getState(),U=D||R.chatBox.composedMessage,B=k[_]||U;if(bt(B)&&bt(c)&&bt(d))return;t(lc("")),t(Tu(-1));let L="";if(!bt(c))for(const[C,V]of c.entries())L=(await w({image:V,onUploadProgress:N=>{const{loaded:q,total:J=1}=N,Q=Math.round(100*q/J);m(te=>new Map(te.set(C,Q)))}})).image_gcs_uri;u([]);try{S&&E!=null&&E.agora_channel?(n&&t(Ri({threadId:n,waiting:!0})),t(Un({type:"user",text:B,id:Date.now().toString(),done:!0})),await hj(B)):e==null||e.onSendMessage({text:B,imageGcsUri:L})}catch{n&&t(Ri({threadId:n,waiting:!1}))}},T=y||a;x.useEffect(()=>{var D,H,$,R;if(!o&&!T&&!Tt){if(s==="voice")return void((H=(D=Fe.messageTextAreaRef)==null?void 0:D.current)==null||H.blur());(R=($=Fe.messageTextAreaRef)==null?void 0:$.current)==null||R.focus()}},[o,T,s]);const{messageComposerStyle:M}=q1(c);return i||r||!n||b?null:s==="voice"?A(TC,{}):le(Fn,{styles:{root:M},children:[A(wH,{onClick:()=>{t(Zh("voice"))}}),A(uS,{}),A(lS,{handleSendClick:O}),A(cS,{images:c,setImages:u,progressMap:h}),A(RT,{handleSendClick:O}),A(Fn,{w:"100%",children:A(Bh,{handleSendClick:O})}),!a&&le(Fn,{justify:"space-between",style:{padding:"0px 4px 14px 4px"},w:"100%",children:[le(ir,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[A(jK,{}),A(IT,{}),A(Yy,{setFileItemsToUpload:p})]}),le(ir,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[A(Mwe,{}),A(Hy,{handleSendClick:O})]})]})]})},Lwe=({callbacks:e})=>{const t=dr(),n=t==null?void 0:t.message_composer_version,r=lh(kC),o=oc();if(r)return null;if(o)return A("div",{style:{padding:12,textAlign:"center",color:"var(--mantine-color-dimmed)"},children:"Your conversation has ended"});switch(n){case"v2":return A(Twe,{callbacks:e});case"v2-avatar":return A(Dwe,{callbacks:e});default:return A(Swe,{callbacks:e})}};var jwe=Object.defineProperty,zwe=Object.defineProperties,Fwe=Object.getOwnPropertyDescriptors,BK=Object.getOwnPropertySymbols,Bwe=Object.prototype.hasOwnProperty,Uwe=Object.prototype.propertyIsEnumerable,UK=(e,t,n)=>t in e?jwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hwe=(e,t)=>{for(var n in t||(t={}))Bwe.call(t,n)&&UK(e,n,t[n]);if(BK)for(var n of BK(t))Uwe.call(t,n)&&UK(e,n,t[n]);return e},$we=(e,t)=>zwe(e,Fwe(t));const HK=e=>{var t,n;return((t=e==null?void 0:e.parameters)==null?void 0:t.intention)==="cancel_subscription"?"cancel":((n=e==null?void 0:e.parameters)==null?void 0:n.intention)==="get_promotion"?"promotion":"default"},Vwe=e=>{const{button:t,onClick:n}=e,{text:r,command:o}=t,i=$C(o||""),a=HK(i);return A(qwe,{onClick:()=>{n==null||n(t)},$buttonType:a,children:r})},qwe=Ae("button",{target:"e1t4r4ou1"})(({$buttonType:e})=>{const t={cursor:"pointer",display:"flex",padding:"0em 1em",fontSize:"var(--command-button-font-size, 12px)",fontWeight:"var(--command-button-font-weight, 400)",borderRadius:"var(--command-button-border-radius, 0.5em)",textAlign:"end",alignItems:"center",wordBreak:"normal",boxShadow:`var(--command-button-box-shadow, ${ay})`,whiteSpace:"var(--command-button-white-space, wrap)",border:"var(--command-button-border, 0px)",height:"var(--command-button-height, 32px)"};return $we(Hwe({},t),e==="cancel"?{color:"var(--cancel-command-button-text-color, rgba(184, 184, 184, 1))",background:"var(--cancel-command-button-bg)",border:"var(--cancel-command-button-border)","&:hover":{background:"var(--cancel-command-button-hover-bg)",color:"var(--cancel-command-button-hover-text-color)",border:"var(--cancel-command-button-hover-border)"}}:e==="promotion"?{color:"var(--promotion-command-button-text-color)",background:"var(--promotion-command-button-bg)",border:"var(--promotion-command-button-border)","&:hover":{background:"var(--promotion-command-button-hover-bg)",color:"var(--promotion-command-button-hover-text-color)",border:"var(--promotion-command-button-hover-border)"}}:{color:"var(--command-button-text-color)",background:"var(--command-button-bg)","&:hover":{background:"var(--command-button-hover-bg)",color:"var(--command-button-hover-text-color)"}})},""),Wwe=({message:e,callbacks:t,isLastMessage:n})=>{const{mutate:r}=Si(),o=(e==null?void 0:e.buttons)||[];return bt(o)||!n&&!e.shouldShowCommandButtons?null:A(Kwe,{children:o.map((i,a)=>A(Vwe,{button:i,onClick:()=>(s=>{try{t==null||t.onSendMessage(s),r({event_name:"ButtonClicked",note:JSON.stringify(s)})}catch{}})(i)},`${e.id}-command-${a}`))})},Kwe=Ae("div",{target:"e1t4r4ou0"})({display:"flex",flexDirection:"var(--message-commands-flex-direction, column)",gap:"0.5em",alignItems:"flex-end",marginTop:"auto",width:"100%",overflow:"auto",paddingBottom:"var(--message-commands-container-padding-bottom, 9px)"},""),gf=e=>{const{className:t}=e,n=e.size||20;return le("div",{role:"status",className:t,style:{width:n,height:n,flex:`0 0 ${n}px`},children:[le("svg",{"aria-hidden":"true",className:"animate-spin",style:{color:"var(--spinner-track-color, rgba(229, 231, 235, 1))",fill:"var(--spinner-color, #2563eb)"},viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),A("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),A("span",{className:"sr-only",children:"Loading..."})]})};var $K,VK={exports:{}},Gwe=($K||($K=1,function(e){e.exports=function(){var t=1e3,n=6e4,r=36e5,o="millisecond",i="second",a="minute",s="hour",l="day",c="week",u="month",d="quarter",p="year",h="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var $=["th","st","nd","rd"],R=H%100;return"["+H+($[(R-20)%10]||$[R]||$[0])+"]"}},y=function(H,$,R){var U=String(H);return!U||U.length>=$?H:""+Array($+1-U.length).join(R)+H},b={s:y,z:function(H){var $=-H.utcOffset(),R=Math.abs($),U=Math.floor(R/60),B=R%60;return($<=0?"+":"-")+y(U,2,"0")+":"+y(B,2,"0")},m:function H($,R){if($.date()<R.date())return-H(R,$);var U=12*(R.year()-$.year())+(R.month()-$.month()),B=$.clone().add(U,u),L=R-B<0,C=$.clone().add(U+(L?-1:1),u);return+(-(U+(R-B)/(L?B-C:C-B))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:u,y:p,w:c,d:l,D:h,h:s,m:a,s:i,ms:o,Q:d}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},w="en",k={};k[w]=v;var _="$isDayjsObject",E=function(H){return H instanceof M||!(!H||!H[_])},S=function H($,R,U){var B;if(!$)return w;if(typeof $=="string"){var L=$.toLowerCase();k[L]&&(B=L),R&&(k[L]=R,B=L);var C=$.split("-");if(!B&&C.length>1)return H(C[0])}else{var V=$.name;k[V]=$,B=V}return!U&&B&&(w=B),B||!U&&w},O=function(H,$){if(E(H))return H.clone();var R=typeof $=="object"?$:{};return R.date=H,R.args=arguments,new M(R)},T=b;T.l=S,T.i=E,T.w=function(H,$){return O(H,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var M=function(){function H(R){this.$L=S(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[_]=!0}var $=H.prototype;return $.parse=function(R){this.$d=function(U){var B=U.date,L=U.utc;if(B===null)return new Date(NaN);if(T.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var C=B.match(g);if(C){var V=C[2]-1||0,N=(C[7]||"0").substring(0,3);return L?new Date(Date.UTC(C[1],V,C[3]||1,C[4]||0,C[5]||0,C[6]||0,N)):new Date(C[1],V,C[3]||1,C[4]||0,C[5]||0,C[6]||0,N)}}return new Date(B)}(R),this.init()},$.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},$.$utils=function(){return T},$.isValid=function(){return this.$d.toString()!==m},$.isSame=function(R,U){var B=O(R);return this.startOf(U)<=B&&B<=this.endOf(U)},$.isAfter=function(R,U){return O(R)<this.startOf(U)},$.isBefore=function(R,U){return this.endOf(U)<O(R)},$.$g=function(R,U,B){return T.u(R)?this[U]:this.set(B,R)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(R,U){var B=this,L=!!T.u(U)||U,C=T.p(R),V=function(ue,de){var ge=T.w(B.$u?Date.UTC(B.$y,de,ue):new Date(B.$y,de,ue),B);return L?ge:ge.endOf(l)},N=function(ue,de){return T.w(B.toDate()[ue].apply(B.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(de)),B)},q=this.$W,J=this.$M,Q=this.$D,te="set"+(this.$u?"UTC":"");switch(C){case p:return L?V(1,0):V(31,11);case u:return L?V(1,J):V(0,J+1);case c:var X=this.$locale().weekStart||0,ee=(q<X?q+7:q)-X;return V(L?Q-ee:Q+(6-ee),J);case l:case h:return N(te+"Hours",0);case s:return N(te+"Minutes",1);case a:return N(te+"Seconds",2);case i:return N(te+"Milliseconds",3);default:return this.clone()}},$.endOf=function(R){return this.startOf(R,!1)},$.$set=function(R,U){var B,L=T.p(R),C="set"+(this.$u?"UTC":""),V=(B={},B[l]=C+"Date",B[h]=C+"Date",B[u]=C+"Month",B[p]=C+"FullYear",B[s]=C+"Hours",B[a]=C+"Minutes",B[i]=C+"Seconds",B[o]=C+"Milliseconds",B)[L],N=L===l?this.$D+(U-this.$W):U;if(L===u||L===p){var q=this.clone().set(h,1);q.$d[V](N),q.init(),this.$d=q.set(h,Math.min(this.$D,q.daysInMonth())).$d}else V&&this.$d[V](N);return this.init(),this},$.set=function(R,U){return this.clone().$set(R,U)},$.get=function(R){return this[T.p(R)]()},$.add=function(R,U){var B,L=this;R=Number(R);var C=T.p(U),V=function(J){var Q=O(L);return T.w(Q.date(Q.date()+Math.round(J*R)),L)};if(C===u)return this.set(u,this.$M+R);if(C===p)return this.set(p,this.$y+R);if(C===l)return V(1);if(C===c)return V(7);var N=(B={},B[a]=n,B[s]=r,B[i]=t,B)[C]||1,q=this.$d.getTime()+R*N;return T.w(q,this)},$.subtract=function(R,U){return this.add(-1*R,U)},$.format=function(R){var U=this,B=this.$locale();if(!this.isValid())return B.invalidDate||m;var L=R||"YYYY-MM-DDTHH:mm:ssZ",C=T.z(this),V=this.$H,N=this.$m,q=this.$M,J=B.weekdays,Q=B.months,te=B.meridiem,X=function(de,ge,he,Ce){return de&&(de[ge]||de(U,L))||he[ge].slice(0,Ce)},ee=function(de){return T.s(V%12||12,de,"0")},ue=te||function(de,ge,he){var Ce=de<12?"AM":"PM";return he?Ce.toLowerCase():Ce};return L.replace(f,function(de,ge){return ge||function(he){switch(he){case"YY":return String(U.$y).slice(-2);case"YYYY":return T.s(U.$y,4,"0");case"M":return q+1;case"MM":return T.s(q+1,2,"0");case"MMM":return X(B.monthsShort,q,Q,3);case"MMMM":return X(Q,q);case"D":return U.$D;case"DD":return T.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return X(B.weekdaysMin,U.$W,J,2);case"ddd":return X(B.weekdaysShort,U.$W,J,3);case"dddd":return J[U.$W];case"H":return String(V);case"HH":return T.s(V,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return ue(V,N,!0);case"A":return ue(V,N,!1);case"m":return String(N);case"mm":return T.s(N,2,"0");case"s":return String(U.$s);case"ss":return T.s(U.$s,2,"0");case"SSS":return T.s(U.$ms,3,"0");case"Z":return C}return null}(de)||C.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(R,U,B){var L,C=this,V=T.p(U),N=O(R),q=(N.utcOffset()-this.utcOffset())*n,J=this-N,Q=function(){return T.m(C,N)};switch(V){case p:L=Q()/12;break;case u:L=Q();break;case d:L=Q()/3;break;case c:L=(J-q)/6048e5;break;case l:L=(J-q)/864e5;break;case s:L=J/r;break;case a:L=J/n;break;case i:L=J/t;break;default:L=J}return B?L:T.a(L)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return k[this.$L]},$.locale=function(R,U){if(!R)return this.$L;var B=this.clone(),L=S(R,U,!0);return L&&(B.$L=L),B},$.clone=function(){return T.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},H}(),D=M.prototype;return O.prototype=D,[["$ms",o],["$s",i],["$m",a],["$H",s],["$W",l],["$M",u],["$y",p],["$D",h]].forEach(function(H){D[H[1]]=function($){return this.$g($,H[0],H[1])}}),O.extend=function(H,$){return H.$i||(H($,M,O),H.$i=!0),O},O.locale=S,O.isDayjs=E,O.unix=function(H){return O(1e3*H)},O.en=k[w],O.Ls=k,O.p={},O}()}(VK)),VK.exports);const pt=$r(Gwe);function qK({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:o,size:i}){var a,s,l;const c=function({direction:d,levelIndex:p,rowIndex:h,cellIndex:m,size:g}){switch(d){case"up":return p===0&&h===0?null:h===0?{levelIndex:p-1,rowIndex:m<=g[p-1][g[p-1].length-1]-1?g[p-1].length-1:g[p-1].length-2,cellIndex:m}:{levelIndex:p,rowIndex:h-1,cellIndex:m};case"down":return h===g[p].length-1||h===g[p].length-2&&m>=g[p][g[p].length-1]?{levelIndex:p+1,rowIndex:0,cellIndex:m}:{levelIndex:p,rowIndex:h+1,cellIndex:m};case"left":return p===0&&h===0&&m===0?null:h===0&&m===0?{levelIndex:p-1,rowIndex:g[p-1].length-1,cellIndex:g[p-1][g[p-1].length-1]-1}:m===0?{levelIndex:p,rowIndex:h-1,cellIndex:g[p][h-1]-1}:{levelIndex:p,rowIndex:h,cellIndex:m-1};case"right":return h===g[p].length-1&&m===g[p][h]-1?{levelIndex:p+1,rowIndex:0,cellIndex:0}:m===g[p][h]-1?{levelIndex:p,rowIndex:h+1,cellIndex:0}:{levelIndex:p,rowIndex:h,cellIndex:m+1};default:return{levelIndex:p,rowIndex:h,cellIndex:m}}}({direction:t,size:i,rowIndex:r,cellIndex:o,levelIndex:n});if(!c)return;const u=(l=(s=(a=e.current)==null?void 0:a[c.levelIndex])==null?void 0:s[c.rowIndex])==null?void 0:l[c.cellIndex];u&&(u.disabled||u.getAttribute("data-hidden")||u.getAttribute("data-outside")?qK({controlsRef:e,direction:t,levelIndex:c.levelIndex,cellIndex:c.cellIndex,rowIndex:c.rowIndex,size:i}):u.focus())}function MT({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:o}){const i=function(a){switch(a){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}(o.key);if(i){o.preventDefault();const a=function(s){var l;return(l=s.current)==null?void 0:l.map(c=>c.map(u=>u.length))}(e);qK({controlsRef:e,direction:i,levelIndex:t,rowIndex:n,cellIndex:r,size:a})}}var WK,KK={exports:{}},Ywe=(WK||(WK=1,function(e){e.exports=function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(r,o,i){var a,s=function(d,p,h){h===void 0&&(h={});var m=new Date(d),g=function(f,v){v===void 0&&(v={});var y=v.timeZoneName||"short",b=f+"|"+y,w=n[b];return w||(w=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:f,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:y}),n[b]=w),w}(p,h);return g.formatToParts(m)},l=function(d,p){for(var h=s(d,p),m=[],g=0;g<h.length;g+=1){var f=h[g],v=f.type,y=f.value,b=t[v];b>=0&&(m[b]=parseInt(y,10))}var w=m[3],k=w===24?0:w,_=m[0]+"-"+m[1]+"-"+m[2]+" "+k+":"+m[4]+":"+m[5]+":000",E=+d;return(i.utc(_).valueOf()-(E-=E%1e3))/6e4},c=o.prototype;c.tz=function(d,p){d===void 0&&(d=a);var h,m=this.utcOffset(),g=this.toDate(),f=g.toLocaleString("en-US",{timeZone:d}),v=Math.round((g-new Date(f))/1e3/60),y=15*-Math.round(g.getTimezoneOffset()/15)-v;if(Number(y)){if(h=i(f,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(y,!0),p){var b=h.utcOffset();h=h.add(m-b,"minute")}}else h=this.utcOffset(0,p);return h.$x.$timezone=d,h},c.offsetName=function(d){var p=this.$x.$timezone||i.tz.guess(),h=s(this.valueOf(),p,{timeZoneName:d}).find(function(m){return m.type.toLowerCase()==="timezonename"});return h&&h.value};var u=c.startOf;c.startOf=function(d,p){if(!this.$x||!this.$x.$timezone)return u.call(this,d,p);var h=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(h,d,p).tz(this.$x.$timezone,!0)},i.tz=function(d,p,h){var m=h&&p,g=h||p||a,f=l(+i(),g);if(typeof d!="string")return i(d).tz(g);var v=function(k,_,E){var S=k-60*_*1e3,O=l(S,E);if(_===O)return[S,_];var T=l(S-=60*(O-_)*1e3,E);return O===T?[S,O]:[k-60*Math.min(O,T)*1e3,Math.max(O,T)]}(i.utc(d,m).valueOf(),f,g),y=v[0],b=v[1],w=i(y).utcOffset(b);return w.$x.$timezone=g,w},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(d){a=d}}}()}(KK)),KK.exports);const Qwe=$r(Ywe);var GK,YK={exports:{}},Jwe=(GK||(GK=1,function(e){e.exports=function(){var t="minute",n=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(o,i,a){var s=i.prototype;a.utc=function(m){return new i({date:m,utc:!0,args:arguments})},s.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),t):g},s.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var l=s.parse;s.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),l.call(this,m)};var c=s.init;s.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var u=s.utcOffset;s.utcOffset=function(m,g){var f=this.$utils().u;if(f(m))return this.$u?0:f(this.$offset)?u.call(this):this.$offset;if(typeof m=="string"&&(m=function(w){w===void 0&&(w="");var k=w.match(n);if(!k)return null;var _=(""+k[0]).match(r)||["-",0,0],E=_[0],S=60*+_[1]+ +_[2];return S===0?0:E==="+"?S:-S}(m),m===null))return this;var v=Math.abs(m)<=16?60*m:m;if(v===0)return this.utc(g);var y=this.clone();if(g)return y.$offset=v,y.$u=!1,y;var b=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(y=this.local().add(v+b,t)).$offset=v,y.$x.$localOffset=b,y};var d=s.format;s.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,g)},s.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var p=s.toDate;s.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var h=s.diff;s.diff=function(m,g,f){if(m&&this.$u===m.$u)return h.call(this,m,g,f);var v=this.local(),y=a(m).local();return h.call(v,y,g,f)}}}()}(YK)),YK.exports);const Xwe=$r(Jwe);pt.extend(Xwe),pt.extend(Qwe);const QK=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=function(o,i){return i?pt(o).tz(i).utcOffset()+o.getTimezoneOffset():0}(e,t);return n==="remove"&&(r*=-1),pt(e).add(r,"minutes").toDate()};function Du(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(o=>QK(o,n,e)):QK(t,n,e)}const Zwe=x.createContext({locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1});function Mi(){const e=x.useContext(Zwe),t=x.useCallback(a=>a||e.locale,[e.locale]),n=x.useCallback(a=>a||e.timezone||void 0,[e.timezone]),r=x.useCallback(a=>typeof a=="number"?a:e.firstDayOfWeek,[e.firstDayOfWeek]),o=x.useCallback(a=>Array.isArray(a)?a:e.weekendDays,[e.weekendDays]),i=x.useCallback(a=>typeof a=="string"?a:e.labelSeparator,[e.labelSeparator]);return K(I({},e),{getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:o,getLabelSeparator:i})}function e5e(e,t){const n=Mi(),r=o=>Du("remove",o,n.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[o,i]=e;return o?i?`${r(o)}  ${r(i)}`:`${r(o)} `:""}return t==="multiple"&&Array.isArray(e)?e.map(o=>o&&r(o)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function JK({value:e,type:t,name:n,form:r}){return W.jsx("input",{type:"hidden",value:e5e(e,t),name:n,form:r})}JK.displayName="@mantine/dates/HiddenDatesInput";var XK={day:"m_396ce5cb"};const t5e={},n5e=(e,{size:t})=>({day:{"--day-size":wn(t,"day-size")}}),DT=ft((e,t)=>{const n=$e("Day",t5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,date:u,disabled:d,__staticSelector:p,weekend:h,outside:m,selected:g,renderDay:f,inRange:v,firstInRange:y,lastInRange:b,hidden:w,static:k,highlightToday:_}=r,E=ye(r,["classNames","className","style","styles","unstyled","vars","date","disabled","__staticSelector","weekend","outside","selected","renderDay","inRange","firstInRange","lastInRange","hidden","static","highlightToday"]),S=_t({name:p||"Day",classes:XK,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:n5e,rootSelector:"day"}),O=Mi();return W.jsx(co,K(I(K(I({},S("day",{style:w?{display:"none"}:void 0})),{component:k?"div":"button",ref:t,disabled:d,"data-today":pt(u).isSame(Du("add",new Date,O.getTimezone()),"day")||void 0,"data-hidden":w||void 0,"data-highlight-today":_||void 0,"data-disabled":d||void 0,"data-weekend":!d&&!m&&h||void 0,"data-outside":!d&&m||void 0,"data-selected":!d&&g||void 0,"data-in-range":v&&!d||void 0,"data-first-in-range":y&&!d||void 0,"data-last-in-range":b&&!d||void 0,"data-static":k||void 0,unstyled:l}),E),{children:(f==null?void 0:f(u))||pt(u).date()}))});DT.classes=XK,DT.displayName="@mantine/dates/Day";var ZK={weekday:"m_18a3eca"};const r5e={},o5e=(e,{size:t})=>({weekdaysRow:{"--wr-fz":Dr(t),"--wr-spacing":ao(t)}}),LT=ft((e,t)=>{const n=$e("WeekdaysRow",r5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,locale:u,firstDayOfWeek:d,weekdayFormat:p,cellComponent:h="th",__staticSelector:m,withWeekNumbers:g}=r,f=ye(r,["classNames","className","style","styles","unstyled","vars","locale","firstDayOfWeek","weekdayFormat","cellComponent","__staticSelector","withWeekNumbers"]),v=_t({name:m||"WeekdaysRow",classes:ZK,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:o5e,rootSelector:"weekdaysRow"}),y=Mi(),b=function({locale:w,format:k="dd",firstDayOfWeek:_=1}){const E=pt().day(_),S=[];for(let O=0;O<7;O+=1)typeof k=="string"?S.push(pt(E).add(O,"days").locale(w).format(k)):S.push(k(pt(E).add(O,"days").toDate()));return S}({locale:y.getLocale(u),format:p,firstDayOfWeek:y.getFirstDayOfWeek(d)}).map((w,k)=>W.jsx(h,K(I({},v("weekday")),{children:w}),k));return W.jsxs(tt,K(I(I({component:"tr",ref:t},v("weekdaysRow")),f),{children:[g&&W.jsx(h,K(I({},v("weekday")),{children:"#"})),b]}))});function i5e({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=pt(e).subtract(pt(e).date()-1,"day"),o=pt(r).startOf("day"),i=o.toDate(),a=function(c,u=1){let d=pt(c);const p=u===0?6:u-1;for(;d.day()!==p;)d=d.add(1,"day");return d.toDate()}(o.add(+o.daysInMonth()-1,"day").toDate(),t),s=function(c,u=1){let d=pt(c);for(;d.day()!==u;)d=d.subtract(1,"day");return d.toDate()}(i,t),l=[];for(;s<=a;){const c=[];for(let u=0;u<7;u+=1)c.push(new Date(s)),s.setDate(s.getDate()+1);l.push(c)}if(n&&l.length<6){const c=l[l.length-1],u=c[c.length-1],d=new Date(u);for(d.setDate(d.getDate()+1);l.length<6;){const p=[];for(let h=0;h<7;h+=1)p.push(new Date(d)),d.setDate(d.getDate()+1);l.push(p)}}return l}function eG(e,t){return pt(e).format("YYYY-MM")===pt(t).format("YYYY-MM")}function tG(e,t){return!(t instanceof Date)||pt(e).isAfter(pt(t).subtract(1,"day"),"day")}function nG(e,t){return!(t instanceof Date)||pt(e).isBefore(pt(t).add(1,"day"),"day")}LT.classes=ZK,LT.displayName="@mantine/dates/WeekdaysRow";var rG,oG={exports:{}},a5e=(rG||(rG=1,function(e){e.exports=function(){var t="day";return function(n,r,o){var i=function(l){return l.add(4-l.isoWeekday(),t)},a=r.prototype;a.isoWeekYear=function(){return i(this).year()},a.isoWeek=function(l){if(!this.$utils().u(l))return this.add(7*(l-this.isoWeek()),t);var c,u,d,p=i(this),h=(c=this.isoWeekYear(),d=4-(u=(this.$u?o.utc:o)().year(c).startOf("year")).isoWeekday(),u.isoWeekday()>4&&(d+=7),u.add(d,t));return p.diff(h,"week")+1},a.isoWeekday=function(l){return this.$utils().u(l)?this.day()||7:this.day(this.day()%7?l:l-7)};var s=a.startOf;a.startOf=function(l,c){var u=this.$utils(),d=!!u.u(c)||c;return u.p(l)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(l,c)}}}()}(oG)),oG.exports);const s5e=$r(a5e);function l5e(e){const t=e.find(n=>pt(n).day()===1);return pt(t).isoWeek()}pt.extend(s5e);var iG={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const c5e={withCellSpacing:!0},u5e=(e,{size:t})=>({weekNumber:{"--wn-fz":Dr(t),"--wn-size":wn(t,"wn-size")}}),Qy=ft((e,t)=>{const n=$e("Month",c5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,__staticSelector:u,locale:d,firstDayOfWeek:p,weekdayFormat:h,month:m,weekendDays:g,getDayProps:f,excludeDate:v,minDate:y,maxDate:b,renderDay:w,hideOutsideDates:k,hideWeekdays:_,getDayAriaLabel:E,static:S,__getDayRef:O,__onDayKeyDown:T,__onDayClick:M,__onDayMouseEnter:D,__preventFocus:H,__stopPropagation:$,withCellSpacing:R,size:U,highlightToday:B,withWeekNumbers:L}=r,C=ye(r,["classNames","className","style","styles","unstyled","vars","__staticSelector","locale","firstDayOfWeek","weekdayFormat","month","weekendDays","getDayProps","excludeDate","minDate","maxDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","static","__getDayRef","__onDayKeyDown","__onDayClick","__onDayMouseEnter","__preventFocus","__stopPropagation","withCellSpacing","size","highlightToday","withWeekNumbers"]),V=_t({name:u||"Month",classes:iG,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:u5e,rootSelector:"month"}),N=Mi(),q=i5e({month:m,firstDayOfWeek:N.getFirstDayOfWeek(p),consistentWeeks:N.consistentWeeks}),J=function(ee,ue,de,ge,he,Ce,be){const me=ee.flat().filter(xe=>{var Ee;return nG(xe,de)&&tG(xe,ue)&&!(he!=null&&he(xe))&&!((Ee=ge==null?void 0:ge(xe))!=null&&Ee.disabled)&&(!Ce||eG(xe,be))}),pe=me.find(xe=>{var Ee;return(Ee=ge==null?void 0:ge(xe))==null?void 0:Ee.selected});return pe||me.find(xe=>pt().isSame(xe,"date"))||me[0]}(q,y,b,f,v,k,m),{resolvedClassNames:Q,resolvedStyles:te}=L1({classNames:o,styles:s,props:n}),X=q.map((ee,ue)=>{const de=ee.map((ge,he)=>{const Ce=!eG(ge,m),be=(E==null?void 0:E(ge))||pt(ge).locale(d||N.locale).format("D MMMM YYYY"),me=f==null?void 0:f(ge),pe=pt(ge).isSame(J,"date");return W.jsx("td",K(I({},V("monthCell")),{"data-with-spacing":R||void 0,children:W.jsx(DT,K(I({__staticSelector:u||"Month",classNames:Q,styles:te,unstyled:l,"data-mantine-stop-propagation":$||void 0,highlightToday:B,renderDay:w,date:ge,size:U,weekend:N.getWeekendDays(g).includes(ge.getDay()),outside:Ce,hidden:!!k&&Ce,"aria-label":be,static:S,disabled:(v==null?void 0:v(ge))||!nG(ge,b)||!tG(ge,y),ref:Ie=>O==null?void 0:O(ue,he,Ie)},me),{onKeyDown:Ie=>{var xe;(xe=me==null?void 0:me.onKeyDown)==null||xe.call(me,Ie),T==null||T(Ie,{rowIndex:ue,cellIndex:he,date:ge})},onMouseEnter:Ie=>{var xe;(xe=me==null?void 0:me.onMouseEnter)==null||xe.call(me,Ie),D==null||D(Ie,ge)},onClick:Ie=>{var xe;(xe=me==null?void 0:me.onClick)==null||xe.call(me,Ie),M==null||M(Ie,ge)},onMouseDown:Ie=>{var xe;(xe=me==null?void 0:me.onMouseDown)==null||xe.call(me,Ie),H&&Ie.preventDefault()},tabIndex:H||!pe?-1:0}))}),ge.toString())});return W.jsxs("tr",K(I({},V("monthRow")),{children:[L&&W.jsx("td",K(I({},V("weekNumber")),{children:l5e(ee)})),de]}),ue)});return W.jsxs(tt,K(I(K(I({component:"table"},V("month")),{size:U,ref:t}),C),{children:[!_&&W.jsx("thead",K(I({},V("monthThead")),{children:W.jsx(LT,{__staticSelector:u||"Month",locale:d,firstDayOfWeek:p,weekdayFormat:h,size:U,classNames:Q,styles:te,unstyled:l,withWeekNumbers:L})})),W.jsx("tbody",K(I({},V("monthTbody")),{children:X}))]}))});Qy.classes=iG,Qy.displayName="@mantine/dates/Month";var aG={pickerControl:"m_dc6a3c71"};const d5e={},h5e=(e,{size:t})=>({pickerControl:{"--dpc-fz":Dr(t),"--dpc-size":wn(t,"dpc-size")}}),Jy=ft((e,t)=>{const n=$e("PickerControl",d5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,firstInRange:u,lastInRange:d,inRange:p,__staticSelector:h,selected:m,disabled:g}=r,f=ye(r,["classNames","className","style","styles","unstyled","vars","firstInRange","lastInRange","inRange","__staticSelector","selected","disabled"]),v=_t({name:h||"PickerControl",classes:aG,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:h5e,rootSelector:"pickerControl"});return W.jsx(co,I(K(I({},v("pickerControl")),{ref:t,unstyled:l,"data-picker-control":!0,"data-selected":m&&!g||void 0,"data-disabled":g||void 0,"data-in-range":p&&!g&&!m||void 0,"data-first-in-range":u&&!g||void 0,"data-last-in-range":d&&!g||void 0,disabled:g}),f))});function sG(e,t,n){return!(!t&&!n)&&!!(t&&pt(e).isBefore(t,"year")||n&&pt(e).isAfter(n,"year"))}function lG(e){const t=e.getFullYear(),n=t-t%10;let r=0;const o=[[],[],[],[]];for(let i=0;i<4;i+=1){const a=i===3?1:3;for(let s=0;s<a;s+=1)o[i].push(new Date(n+r,0)),r+=1}return o}Jy.classes=aG,Jy.displayName="@mantine/dates/PickerControl";var cG={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const p5e={yearsListFormat:"YYYY",withCellSpacing:!0},Xy=ft((e,t)=>{const n=$e("YearsList",p5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,decade:u,yearsListFormat:d,locale:p,minDate:h,maxDate:m,getYearControlProps:g,__staticSelector:f,__getControlRef:v,__onControlKeyDown:y,__onControlClick:b,__onControlMouseEnter:w,__preventFocus:k,__stopPropagation:_,withCellSpacing:E,size:S}=r,O=ye(r,["classNames","className","style","styles","unstyled","vars","decade","yearsListFormat","locale","minDate","maxDate","getYearControlProps","__staticSelector","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","__preventFocus","__stopPropagation","withCellSpacing","size"]),T=_t({name:f||"YearsList",classes:cG,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,rootSelector:"yearsList"}),M=Mi(),D=lG(u),H=function(R,U,B,L){const C=R.flat().filter(N=>{var q;return!(sG(N,U,B)||(q=L==null?void 0:L(N))!=null&&q.disabled)});return C.find(N=>{var q;return(q=L==null?void 0:L(N))==null?void 0:q.selected})||C.find(N=>pt().isSame(N,"year"))||C[0]}(D,h,m,g),$=D.map((R,U)=>{const B=R.map((L,C)=>{const V=g==null?void 0:g(L),N=pt(L).isSame(H,"year");return W.jsx("td",K(I({},T("yearsListCell")),{"data-with-spacing":E||void 0,children:W.jsx(Jy,K(I(K(I({},T("yearsListControl")),{size:S,unstyled:l,"data-mantine-stop-propagation":_||void 0,disabled:sG(L,h,m),ref:q=>v==null?void 0:v(U,C,q)}),V),{onKeyDown:q=>{var J;(J=V==null?void 0:V.onKeyDown)==null||J.call(V,q),y==null||y(q,{rowIndex:U,cellIndex:C,date:L})},onClick:q=>{var J;(J=V==null?void 0:V.onClick)==null||J.call(V,q),b==null||b(q,L)},onMouseEnter:q=>{var J;(J=V==null?void 0:V.onMouseEnter)==null||J.call(V,q),w==null||w(q,L)},onMouseDown:q=>{var J;(J=V==null?void 0:V.onMouseDown)==null||J.call(V,q),k&&q.preventDefault()},tabIndex:k||!N?-1:0,children:pt(L).locale(M.getLocale(p)).format(d)}))}),C)});return W.jsx("tr",K(I({},T("yearsListRow")),{children:B}),U)});return W.jsx(tt,K(I(I({component:"table",ref:t,size:S},T("yearsList")),O),{children:W.jsx("tbody",{children:$})}))});function uG(e,t,n){return!(!t&&!n)&&!!(t&&pt(e).isBefore(t,"month")||n&&pt(e).isAfter(n,"month"))}Xy.classes=cG,Xy.displayName="@mantine/dates/YearsList";var dG={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const m5e={monthsListFormat:"MMM",withCellSpacing:!0},Zy=ft((e,t)=>{const n=$e("MonthsList",m5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,__staticSelector:u,year:d,monthsListFormat:p,locale:h,minDate:m,maxDate:g,getMonthControlProps:f,__getControlRef:v,__onControlKeyDown:y,__onControlClick:b,__onControlMouseEnter:w,__preventFocus:k,__stopPropagation:_,withCellSpacing:E,size:S}=r,O=ye(r,["classNames","className","style","styles","unstyled","vars","__staticSelector","year","monthsListFormat","locale","minDate","maxDate","getMonthControlProps","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","__preventFocus","__stopPropagation","withCellSpacing","size"]),T=_t({name:u||"MonthsList",classes:dG,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,rootSelector:"monthsList"}),M=Mi(),D=function(R){const U=pt(R).startOf("year").toDate(),B=[[],[],[],[]];let L=0;for(let C=0;C<4;C+=1)for(let V=0;V<3;V+=1)B[C].push(pt(U).add(L,"months").toDate()),L+=1;return B}(d),H=function(R,U,B,L){const C=R.flat().filter(N=>{var q;return!(uG(N,U,B)||(q=L==null?void 0:L(N))!=null&&q.disabled)});return C.find(N=>{var q;return(q=L==null?void 0:L(N))==null?void 0:q.selected})||C.find(N=>pt().isSame(N,"month"))||C[0]}(D,m,g,f),$=D.map((R,U)=>{const B=R.map((L,C)=>{const V=f==null?void 0:f(L),N=pt(L).isSame(H,"month");return W.jsx("td",K(I({},T("monthsListCell")),{"data-with-spacing":E||void 0,children:W.jsx(Jy,K(I(K(I({},T("monthsListControl")),{size:S,unstyled:l,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":_||void 0,disabled:uG(L,m,g),ref:q=>v==null?void 0:v(U,C,q)}),V),{onKeyDown:q=>{var J;(J=V==null?void 0:V.onKeyDown)==null||J.call(V,q),y==null||y(q,{rowIndex:U,cellIndex:C,date:L})},onClick:q=>{var J;(J=V==null?void 0:V.onClick)==null||J.call(V,q),b==null||b(q,L)},onMouseEnter:q=>{var J;(J=V==null?void 0:V.onMouseEnter)==null||J.call(V,q),w==null||w(q,L)},onMouseDown:q=>{var J;(J=V==null?void 0:V.onMouseDown)==null||J.call(V,q),k&&q.preventDefault()},tabIndex:k||!N?-1:0,children:pt(L).locale(M.getLocale(h)).format(p)}))}),C)});return W.jsx("tr",K(I({},T("monthsListRow")),{children:B}),U)});return W.jsx(tt,K(I(I({component:"table",ref:t,size:S},T("monthsList")),O),{children:W.jsx("tbody",{children:$})}))});Zy.classes=dG,Zy.displayName="@mantine/dates/MonthsList";var hG={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const f5e={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},g5e=(e,{size:t})=>({calendarHeader:{"--dch-control-size":wn(t,"dch-control-size"),"--dch-fz":Dr(t)}}),uc=ft((e,t)=>{const n=$e("CalendarHeader",f5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,nextIcon:u,previousIcon:d,nextLabel:p,previousLabel:h,onNext:m,onPrevious:g,onLevelClick:f,label:v,nextDisabled:y,previousDisabled:b,hasNextLevel:w,levelControlAriaLabel:k,withNext:_,withPrevious:E,__staticSelector:S,__preventFocus:O,__stopPropagation:T}=r,M=ye(r,["classNames","className","style","styles","unstyled","vars","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","label","nextDisabled","previousDisabled","hasNextLevel","levelControlAriaLabel","withNext","withPrevious","__staticSelector","__preventFocus","__stopPropagation"]),D=_t({name:S||"CalendarHeader",classes:hG,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:g5e,rootSelector:"calendarHeader"}),H=O?$=>$.preventDefault():void 0;return W.jsxs(tt,K(I(K(I({},D("calendarHeader")),{ref:t}),M),{children:[E&&W.jsx(co,K(I({},D("calendarHeaderControl")),{"data-direction":"previous","aria-label":h,onClick:g,unstyled:l,onMouseDown:H,disabled:b,"data-disabled":b||void 0,tabIndex:O||b?-1:0,"data-mantine-stop-propagation":T||void 0,children:d||W.jsx(_u,K(I({},D("calendarHeaderControlIcon")),{"data-direction":"previous",size:"45%"}))})),W.jsx(co,K(I({component:w?"button":"div"},D("calendarHeaderLevel")),{onClick:w?f:void 0,unstyled:l,onMouseDown:w?H:void 0,disabled:!w,"data-static":!w||void 0,"aria-label":k,tabIndex:O||!w?-1:0,"data-mantine-stop-propagation":T||void 0,children:v})),_&&W.jsx(co,K(I({},D("calendarHeaderControl")),{"data-direction":"next","aria-label":p,onClick:m,unstyled:l,onMouseDown:H,disabled:y,"data-disabled":y||void 0,tabIndex:O||y?-1:0,"data-mantine-stop-propagation":T||void 0,children:u||W.jsx(_u,K(I({},D("calendarHeaderControlIcon")),{"data-direction":"next",size:"45%"}))}))]}))});uc.classes=hG,uc.displayName="@mantine/dates/CalendarHeader";const v5e={decadeLabelFormat:"YYYY"},ew=ft((e,t)=>{const n=$e("DecadeLevel",v5e,e),{decade:r,locale:o,minDate:i,maxDate:a,yearsListFormat:s,getYearControlProps:l,__getControlRef:c,__onControlKeyDown:u,__onControlClick:d,__onControlMouseEnter:p,withCellSpacing:h,__preventFocus:m,nextIcon:g,previousIcon:f,nextLabel:v,previousLabel:y,onNext:b,onPrevious:w,nextDisabled:k,previousDisabled:_,levelControlAriaLabel:E,withNext:S,withPrevious:O,decadeLabelFormat:T,classNames:M,styles:D,unstyled:H,__staticSelector:$,__stopPropagation:R,size:U}=n,B=ye(n,["decade","locale","minDate","maxDate","yearsListFormat","getYearControlProps","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","nextDisabled","previousDisabled","levelControlAriaLabel","withNext","withPrevious","decadeLabelFormat","classNames","styles","unstyled","__staticSelector","__stopPropagation","size"]),L=Mi(),[C,V]=function(te){const X=lG(te);return[X[0][0],X[3][0]]}(r),N={__staticSelector:$||"DecadeLevel",classNames:M,styles:D,unstyled:H,size:U},q=typeof k=="boolean"?k:!!a&&!pt(V).endOf("year").isBefore(a),J=typeof _=="boolean"?_:!!i&&!pt(C).startOf("year").isAfter(i),Q=(te,X)=>pt(te).locale(o||L.locale).format(X);return W.jsxs(tt,K(I({"data-decade-level":!0,size:U,ref:t},B),{children:[W.jsx(uc,I({label:typeof T=="function"?T(C,V):`${Q(C,T)}  ${Q(V,T)}`,__preventFocus:m,__stopPropagation:R,nextIcon:g,previousIcon:f,nextLabel:v,previousLabel:y,onNext:b,onPrevious:w,nextDisabled:q,previousDisabled:J,hasNextLevel:!1,levelControlAriaLabel:E,withNext:S,withPrevious:O},N)),W.jsx(Xy,I({decade:r,locale:o,minDate:i,maxDate:a,yearsListFormat:s,getYearControlProps:l,__getControlRef:c,__onControlKeyDown:u,__onControlClick:d,__onControlMouseEnter:p,__preventFocus:m,__stopPropagation:R,withCellSpacing:h},N))]}))});ew.classes=I(I({},Xy.classes),uc.classes),ew.displayName="@mantine/dates/DecadeLevel";const b5e={yearLabelFormat:"YYYY"},tw=ft((e,t)=>{const n=$e("YearLevel",b5e,e),{year:r,locale:o,minDate:i,maxDate:a,monthsListFormat:s,getMonthControlProps:l,__getControlRef:c,__onControlKeyDown:u,__onControlClick:d,__onControlMouseEnter:p,withCellSpacing:h,__preventFocus:m,nextIcon:g,previousIcon:f,nextLabel:v,previousLabel:y,onNext:b,onPrevious:w,onLevelClick:k,nextDisabled:_,previousDisabled:E,hasNextLevel:S,levelControlAriaLabel:O,withNext:T,withPrevious:M,yearLabelFormat:D,__staticSelector:H,__stopPropagation:$,size:R,classNames:U,styles:B,unstyled:L}=n,C=ye(n,["year","locale","minDate","maxDate","monthsListFormat","getMonthControlProps","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","levelControlAriaLabel","withNext","withPrevious","yearLabelFormat","__staticSelector","__stopPropagation","size","classNames","styles","unstyled"]),V=Mi(),N={__staticSelector:H||"YearLevel",classNames:U,styles:B,unstyled:L,size:R},q=typeof _=="boolean"?_:!!a&&!pt(r).endOf("year").isBefore(a),J=typeof E=="boolean"?E:!!i&&!pt(r).startOf("year").isAfter(i);return W.jsxs(tt,K(I({"data-year-level":!0,size:R,ref:t},C),{children:[W.jsx(uc,I({label:typeof D=="function"?D(r):pt(r).locale(o||V.locale).format(D),__preventFocus:m,__stopPropagation:$,nextIcon:g,previousIcon:f,nextLabel:v,previousLabel:y,onNext:b,onPrevious:w,onLevelClick:k,nextDisabled:q,previousDisabled:J,hasNextLevel:S,levelControlAriaLabel:O,withNext:T,withPrevious:M},N)),W.jsx(Zy,I({year:r,locale:o,minDate:i,maxDate:a,monthsListFormat:s,getMonthControlProps:l,__getControlRef:c,__onControlKeyDown:u,__onControlClick:d,__onControlMouseEnter:p,__preventFocus:m,__stopPropagation:$,withCellSpacing:h},N))]}))});tw.classes=I(I({},uc.classes),Zy.classes),tw.displayName="@mantine/dates/YearLevel";const y5e={monthLabelFormat:"MMMM YYYY"},nw=ft((e,t)=>{const n=$e("MonthLevel",y5e,e),{month:r,locale:o,firstDayOfWeek:i,weekdayFormat:a,weekendDays:s,getDayProps:l,excludeDate:c,minDate:u,maxDate:d,renderDay:p,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:g,__getDayRef:f,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:b,withCellSpacing:w,highlightToday:k,withWeekNumbers:_,__preventFocus:E,__stopPropagation:S,nextIcon:O,previousIcon:T,nextLabel:M,previousLabel:D,onNext:H,onPrevious:$,onLevelClick:R,nextDisabled:U,previousDisabled:B,hasNextLevel:L,levelControlAriaLabel:C,withNext:V,withPrevious:N,monthLabelFormat:q,classNames:J,styles:Q,unstyled:te,__staticSelector:X,size:ee,static:ue}=n,de=ye(n,["month","locale","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","minDate","maxDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","__getDayRef","__onDayKeyDown","__onDayClick","__onDayMouseEnter","withCellSpacing","highlightToday","withWeekNumbers","__preventFocus","__stopPropagation","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","levelControlAriaLabel","withNext","withPrevious","monthLabelFormat","classNames","styles","unstyled","__staticSelector","size","static"]),ge=Mi(),he={__staticSelector:X||"MonthLevel",classNames:J,styles:Q,unstyled:te,size:ee},Ce=typeof U=="boolean"?U:!!d&&!pt(r).endOf("month").isBefore(d),be=typeof B=="boolean"?B:!!u&&!pt(r).startOf("month").isAfter(u);return W.jsxs(tt,K(I({"data-month-level":!0,size:ee,ref:t},de),{children:[W.jsx(uc,I({label:typeof q=="function"?q(r):pt(r).locale(o||ge.locale).format(q),__preventFocus:E,__stopPropagation:S,nextIcon:O,previousIcon:T,nextLabel:M,previousLabel:D,onNext:H,onPrevious:$,onLevelClick:R,nextDisabled:Ce,previousDisabled:be,hasNextLevel:L,levelControlAriaLabel:C,withNext:V,withPrevious:N},he)),W.jsx(Qy,I({month:r,locale:o,firstDayOfWeek:i,weekdayFormat:a,weekendDays:s,getDayProps:l,excludeDate:c,minDate:u,maxDate:d,renderDay:p,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:g,__getDayRef:f,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:b,__preventFocus:E,__stopPropagation:S,static:ue,withCellSpacing:w,highlightToday:k,withWeekNumbers:_},he))]}))});nw.classes=I(I({},Qy.classes),uc.classes),nw.displayName="@mantine/dates/MonthLevel";var pG={levelsGroup:"m_30b26e33"};const w5e={},dc=ft((e,t)=>{const n=$e("LevelsGroup",w5e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,__staticSelector:u}=r,d=ye(r,["classNames","className","style","styles","unstyled","vars","__staticSelector"]),p=_t({name:u||"LevelsGroup",classes:pG,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,rootSelector:"levelsGroup"});return W.jsx(tt,I(I({ref:t},p("levelsGroup")),d))});dc.classes=pG,dc.displayName="@mantine/dates/LevelsGroup";const k5e={numberOfColumns:1},rw=ft((e,t)=>{const n=$e("DecadeLevelGroup",k5e,e),{decade:r,locale:o,minDate:i,maxDate:a,yearsListFormat:s,getYearControlProps:l,__onControlClick:c,__onControlMouseEnter:u,withCellSpacing:d,__preventFocus:p,nextIcon:h,previousIcon:m,nextLabel:g,previousLabel:f,onNext:v,onPrevious:y,nextDisabled:b,previousDisabled:w,classNames:k,styles:_,unstyled:E,__staticSelector:S,__stopPropagation:O,numberOfColumns:T,levelControlAriaLabel:M,decadeLabelFormat:D,size:H,vars:$}=n,R=ye(n,["decade","locale","minDate","maxDate","yearsListFormat","getYearControlProps","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","nextDisabled","previousDisabled","classNames","styles","unstyled","__staticSelector","__stopPropagation","numberOfColumns","levelControlAriaLabel","decadeLabelFormat","size","vars"]),U=x.useRef([]),B=Array(T).fill(0).map((L,C)=>{const V=pt(r).add(10*C,"years").toDate();return W.jsx(ew,{size:H,yearsListFormat:s,decade:V,withNext:C===T-1,withPrevious:C===0,decadeLabelFormat:D,__onControlClick:c,__onControlMouseEnter:u,__onControlKeyDown:(N,q)=>MT({levelIndex:C,rowIndex:q.rowIndex,cellIndex:q.cellIndex,event:N,controlsRef:U}),__getControlRef:(N,q,J)=>{Array.isArray(U.current[C])||(U.current[C]=[]),Array.isArray(U.current[C][N])||(U.current[C][N]=[]),U.current[C][N][q]=J},levelControlAriaLabel:typeof M=="function"?M(V):M,locale:o,minDate:i,maxDate:a,__preventFocus:p,__stopPropagation:O,nextIcon:h,previousIcon:m,nextLabel:g,previousLabel:f,onNext:v,onPrevious:y,nextDisabled:b,previousDisabled:w,getYearControlProps:l,__staticSelector:S||"DecadeLevelGroup",classNames:k,styles:_,unstyled:E,withCellSpacing:d},C)});return W.jsx(dc,K(I({classNames:k,styles:_,__staticSelector:S||"DecadeLevelGroup",ref:t,size:H,unstyled:E},R),{children:B}))});rw.classes=I(I({},dc.classes),ew.classes),rw.displayName="@mantine/dates/DecadeLevelGroup";const _5e={numberOfColumns:1},ow=ft((e,t)=>{const n=$e("YearLevelGroup",_5e,e),{year:r,locale:o,minDate:i,maxDate:a,monthsListFormat:s,getMonthControlProps:l,__onControlClick:c,__onControlMouseEnter:u,withCellSpacing:d,__preventFocus:p,nextIcon:h,previousIcon:m,nextLabel:g,previousLabel:f,onNext:v,onPrevious:y,onLevelClick:b,nextDisabled:w,previousDisabled:k,hasNextLevel:_,classNames:E,styles:S,unstyled:O,__staticSelector:T,__stopPropagation:M,numberOfColumns:D,levelControlAriaLabel:H,yearLabelFormat:$,size:R,vars:U}=n,B=ye(n,["year","locale","minDate","maxDate","monthsListFormat","getMonthControlProps","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","classNames","styles","unstyled","__staticSelector","__stopPropagation","numberOfColumns","levelControlAriaLabel","yearLabelFormat","size","vars"]),L=x.useRef([]),C=Array(D).fill(0).map((V,N)=>{const q=pt(r).add(N,"years").toDate();return W.jsx(tw,{size:R,monthsListFormat:s,year:q,withNext:N===D-1,withPrevious:N===0,yearLabelFormat:$,__stopPropagation:M,__onControlClick:c,__onControlMouseEnter:u,__onControlKeyDown:(J,Q)=>MT({levelIndex:N,rowIndex:Q.rowIndex,cellIndex:Q.cellIndex,event:J,controlsRef:L}),__getControlRef:(J,Q,te)=>{Array.isArray(L.current[N])||(L.current[N]=[]),Array.isArray(L.current[N][J])||(L.current[N][J]=[]),L.current[N][J][Q]=te},levelControlAriaLabel:typeof H=="function"?H(q):H,locale:o,minDate:i,maxDate:a,__preventFocus:p,nextIcon:h,previousIcon:m,nextLabel:g,previousLabel:f,onNext:v,onPrevious:y,onLevelClick:b,nextDisabled:w,previousDisabled:k,hasNextLevel:_,getMonthControlProps:l,classNames:E,styles:S,unstyled:O,__staticSelector:T||"YearLevelGroup",withCellSpacing:d},N)});return W.jsx(dc,K(I({classNames:E,styles:S,__staticSelector:T||"YearLevelGroup",ref:t,size:R,unstyled:O},B),{children:C}))});ow.classes=I(I({},tw.classes),dc.classes),ow.displayName="@mantine/dates/YearLevelGroup";const x5e={numberOfColumns:1},iw=ft((e,t)=>{const n=$e("MonthLevelGroup",x5e,e),{month:r,locale:o,firstDayOfWeek:i,weekdayFormat:a,weekendDays:s,getDayProps:l,excludeDate:c,minDate:u,maxDate:d,renderDay:p,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:g,__onDayClick:f,__onDayMouseEnter:v,withCellSpacing:y,highlightToday:b,withWeekNumbers:w,__preventFocus:k,nextIcon:_,previousIcon:E,nextLabel:S,previousLabel:O,onNext:T,onPrevious:M,onLevelClick:D,nextDisabled:H,previousDisabled:$,hasNextLevel:R,classNames:U,styles:B,unstyled:L,numberOfColumns:C,levelControlAriaLabel:V,monthLabelFormat:N,__staticSelector:q,__stopPropagation:J,size:Q,static:te,vars:X}=n,ee=ye(n,["month","locale","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","minDate","maxDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","__onDayClick","__onDayMouseEnter","withCellSpacing","highlightToday","withWeekNumbers","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","classNames","styles","unstyled","numberOfColumns","levelControlAriaLabel","monthLabelFormat","__staticSelector","__stopPropagation","size","static","vars"]),ue=x.useRef([]),de=Array(C).fill(0).map((ge,he)=>{const Ce=pt(r).add(he,"months").toDate();return W.jsx(nw,{month:Ce,withNext:he===C-1,withPrevious:he===0,monthLabelFormat:N,__stopPropagation:J,__onDayClick:f,__onDayMouseEnter:v,__onDayKeyDown:(be,me)=>MT({levelIndex:he,rowIndex:me.rowIndex,cellIndex:me.cellIndex,event:be,controlsRef:ue}),__getDayRef:(be,me,pe)=>{Array.isArray(ue.current[he])||(ue.current[he]=[]),Array.isArray(ue.current[he][be])||(ue.current[he][be]=[]),ue.current[he][be][me]=pe},levelControlAriaLabel:typeof V=="function"?V(Ce):V,locale:o,firstDayOfWeek:i,weekdayFormat:a,weekendDays:s,getDayProps:l,excludeDate:c,minDate:u,maxDate:d,renderDay:p,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:g,__preventFocus:k,nextIcon:_,previousIcon:E,nextLabel:S,previousLabel:O,onNext:T,onPrevious:M,onLevelClick:D,nextDisabled:H,previousDisabled:$,hasNextLevel:R,classNames:U,styles:B,unstyled:L,__staticSelector:q||"MonthLevelGroup",size:Q,static:te,withCellSpacing:y,highlightToday:b,withWeekNumbers:w},he)});return W.jsx(dc,K(I({classNames:U,styles:B,__staticSelector:q||"MonthLevelGroup",ref:t,size:Q},ee),{children:de}))});iw.classes=I(I({},dc.classes),nw.classes),iw.displayName="@mantine/dates/MonthLevelGroup";const mG=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function jT({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:o=!0}){const i=x.useRef(e),a=Mi(),[s,l,c]=k1({value:Du("add",t,a.getTimezone(),!o),defaultValue:Du("add",n,a.getTimezone(),!o),finalValue:mG(e),onChange:d=>{r==null||r(Du("remove",d,a.getTimezone(),!o))}});let u=s;return i.current!==e&&(i.current=e,t===void 0&&(u=n!==void 0?n:mG(e),l(u))),[u,l,c]}function zT(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function vf(e,t,n){return function(r){return r===0?"month":r===1?"year":"decade"}(kL(zT(e,0),zT(t,0),zT(n,2)))}const C5e={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},aw=ft((e,t)=>{var n,r,o,i,a,s;const l=$e("Calendar",C5e,e),c=l,{vars:u,maxLevel:d,minLevel:p,defaultLevel:h,level:m,onLevelChange:g,date:f,defaultDate:v,onDateChange:y,numberOfColumns:b,columnsToScroll:w,ariaLabels:k,nextLabel:_,previousLabel:E,onYearSelect:S,onMonthSelect:O,onYearMouseEnter:T,onMonthMouseEnter:M,__updateDateOnYearSelect:D,__updateDateOnMonthSelect:H,firstDayOfWeek:$,weekdayFormat:R,weekendDays:U,getDayProps:B,excludeDate:L,renderDay:C,hideOutsideDates:V,hideWeekdays:N,getDayAriaLabel:q,monthLabelFormat:J,nextIcon:Q,previousIcon:te,__onDayClick:X,__onDayMouseEnter:ee,withCellSpacing:ue,highlightToday:de,withWeekNumbers:ge,monthsListFormat:he,getMonthControlProps:Ce,yearLabelFormat:be,yearsListFormat:me,getYearControlProps:pe,decadeLabelFormat:Ie,classNames:xe,styles:Ee,unstyled:Re,minDate:Be,maxDate:it,locale:at,__staticSelector:Qe,size:Je,__preventFocus:Me,__stopPropagation:He,onNextDecade:Ue,onPreviousDecade:Ve,onNextYear:ce,onPreviousYear:re,onNextMonth:fe,onPreviousMonth:ve,static:De,__timezoneApplied:Xe}=c,ht=ye(c,["vars","maxLevel","minLevel","defaultLevel","level","onLevelChange","date","defaultDate","onDateChange","numberOfColumns","columnsToScroll","ariaLabels","nextLabel","previousLabel","onYearSelect","onMonthSelect","onYearMouseEnter","onMonthMouseEnter","__updateDateOnYearSelect","__updateDateOnMonthSelect","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","monthLabelFormat","nextIcon","previousIcon","__onDayClick","__onDayMouseEnter","withCellSpacing","highlightToday","withWeekNumbers","monthsListFormat","getMonthControlProps","yearLabelFormat","yearsListFormat","getYearControlProps","decadeLabelFormat","classNames","styles","unstyled","minDate","maxDate","locale","__staticSelector","size","__preventFocus","__stopPropagation","onNextDecade","onPreviousDecade","onNextYear","onPreviousYear","onNextMonth","onPreviousMonth","static","__timezoneApplied"]),{resolvedClassNames:nt,resolvedStyles:Ze}=L1({classNames:xe,styles:Ee,props:l}),[vt,lt]=k1({value:m?vf(m,p,d):void 0,defaultValue:h?vf(h,p,d):void 0,finalValue:vf(void 0,p,d),onChange:g}),[qe,ot]=jT({type:"default",value:f,defaultValue:v,onChange:y,applyTimezone:!Xe}),yt={__staticSelector:Qe||"Calendar",styles:Ze,classNames:nt,unstyled:Re,size:Je},gn=Mi(),$t=w||b||1,$o=new Date,vn=qe||Du("add",Be&&Be>$o?Be:$o,gn.getTimezone());return W.jsxs(tt,K(I({ref:t,size:Je,"data-calendar":!0},ht),{children:[vt==="month"&&W.jsx(iw,I({month:vn,minDate:Be,maxDate:it,firstDayOfWeek:$,weekdayFormat:R,weekendDays:U,getDayProps:B,excludeDate:L,renderDay:C,hideOutsideDates:V,hideWeekdays:N,getDayAriaLabel:q,onNext:()=>{const qt=pt(vn).add($t,"month").toDate();fe==null||fe(qt),ot(qt)},onPrevious:()=>{const qt=pt(vn).subtract($t,"month").toDate();ve==null||ve(qt),ot(qt)},hasNextLevel:d!=="month",onLevelClick:()=>lt("year"),numberOfColumns:b,locale:at,levelControlAriaLabel:k==null?void 0:k.monthLevelControl,nextLabel:(n=k==null?void 0:k.nextMonth)!=null?n:_,nextIcon:Q,previousLabel:(r=k==null?void 0:k.previousMonth)!=null?r:E,previousIcon:te,monthLabelFormat:J,__onDayClick:X,__onDayMouseEnter:ee,__preventFocus:Me,__stopPropagation:He,static:De,withCellSpacing:ue,highlightToday:de,withWeekNumbers:ge},yt)),vt==="year"&&W.jsx(ow,I({year:vn,numberOfColumns:b,minDate:Be,maxDate:it,monthsListFormat:he,getMonthControlProps:Ce,locale:at,onNext:()=>{const qt=pt(vn).add($t,"year").toDate();ce==null||ce(qt),ot(qt)},onPrevious:()=>{const qt=pt(vn).subtract($t,"year").toDate();re==null||re(qt),ot(qt)},hasNextLevel:d!=="month"&&d!=="year",onLevelClick:()=>lt("decade"),levelControlAriaLabel:k==null?void 0:k.yearLevelControl,nextLabel:(o=k==null?void 0:k.nextYear)!=null?o:_,nextIcon:Q,previousLabel:(i=k==null?void 0:k.previousYear)!=null?i:E,previousIcon:te,yearLabelFormat:be,__onControlMouseEnter:M,__onControlClick:(qt,Jr)=>{H&&ot(Jr),lt(vf("month",p,d)),O==null||O(Jr)},__preventFocus:Me,__stopPropagation:He,withCellSpacing:ue},yt)),vt==="decade"&&W.jsx(rw,I({decade:vn,minDate:Be,maxDate:it,yearsListFormat:me,getYearControlProps:pe,locale:at,onNext:()=>{const qt=pt(vn).add(10*$t,"year").toDate();Ue==null||Ue(qt),ot(qt)},onPrevious:()=>{const qt=pt(vn).subtract(10*$t,"year").toDate();Ve==null||Ve(qt),ot(qt)},numberOfColumns:b,nextLabel:(a=k==null?void 0:k.nextDecade)!=null?a:_,nextIcon:Q,previousLabel:(s=k==null?void 0:k.previousDecade)!=null?s:E,previousIcon:te,decadeLabelFormat:Ie,__onControlMouseEnter:T,__onControlClick:(qt,Jr)=>{D&&ot(Jr),lt(vf("year",p,d)),S==null||S(Jr)},__preventFocus:Me,__stopPropagation:He,withCellSpacing:ue},yt))]}))});aw.classes=I(I(I({},rw.classes),ow.classes),iw.classes),aw.displayName="@mantine/dates/Calendar";const S5e={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},FT=ft((e,t)=>{const n=UB("DateInput",S5e,e),{inputProps:r,wrapperProps:o,value:i,defaultValue:a,onChange:s,clearable:l,clearButtonProps:c,popoverProps:u,getDayProps:d,locale:p,valueFormat:h,dateParser:m,minDate:g,maxDate:f,fixOnBlur:v,onFocus:y,onBlur:b,onClick:w,onKeyDown:k,readOnly:_,name:E,form:S,rightSection:O,unstyled:T,classNames:M,styles:D,allowDeselect:H,preserveTime:$,date:R,defaultDate:U,onDateChange:B}=n,L=ye(n,["inputProps","wrapperProps","value","defaultValue","onChange","clearable","clearButtonProps","popoverProps","getDayProps","locale","valueFormat","dateParser","minDate","maxDate","fixOnBlur","onFocus","onBlur","onClick","onKeyDown","readOnly","name","form","rightSection","unstyled","classNames","styles","allowDeselect","preserveTime","date","defaultDate","onDateChange"]),C=x.useRef(null),V=x.useRef(null),[N,q]=x.useState(!1),{calendarProps:J,others:Q}=function(xe){const Ee=xe,{maxLevel:Re,minLevel:Be,defaultLevel:it,level:at,onLevelChange:Qe,nextIcon:Je,previousIcon:Me,date:He,defaultDate:Ue,onDateChange:Ve,numberOfColumns:ce,columnsToScroll:re,ariaLabels:fe,nextLabel:ve,previousLabel:De,onYearSelect:Xe,onMonthSelect:ht,onYearMouseEnter:nt,onMonthMouseEnter:Ze,onNextMonth:vt,onPreviousMonth:lt,onNextYear:qe,onPreviousYear:ot,onNextDecade:yt,onPreviousDecade:gn,withCellSpacing:$t,highlightToday:$o,__updateDateOnYearSelect:vn,__updateDateOnMonthSelect:qt,withWeekNumbers:Jr,firstDayOfWeek:vs,weekdayFormat:Pn,weekendDays:Wt,getDayProps:mo,excludeDate:vr,renderDay:Vo,hideOutsideDates:Xr,hideWeekdays:mi,getDayAriaLabel:Fi,monthLabelFormat:P,monthsListFormat:z,getMonthControlProps:j,yearLabelFormat:Y,yearsListFormat:Z,getYearControlProps:Te,decadeLabelFormat:ae,allowSingleDateInRange:F,allowDeselect:Oe,minDate:Ke,maxDate:At,locale:Jt}=Ee;return{calendarProps:{maxLevel:Re,minLevel:Be,defaultLevel:it,level:at,onLevelChange:Qe,nextIcon:Je,previousIcon:Me,date:He,defaultDate:Ue,onDateChange:Ve,numberOfColumns:ce,columnsToScroll:re,ariaLabels:fe,nextLabel:ve,previousLabel:De,onYearSelect:Xe,onMonthSelect:ht,onYearMouseEnter:nt,onMonthMouseEnter:Ze,onNextMonth:vt,onPreviousMonth:lt,onNextYear:qe,onPreviousYear:ot,onNextDecade:yt,onPreviousDecade:gn,withCellSpacing:$t,highlightToday:$o,__updateDateOnYearSelect:vn,__updateDateOnMonthSelect:qt,withWeekNumbers:Jr,firstDayOfWeek:vs,weekdayFormat:Pn,weekendDays:Wt,getDayProps:mo,excludeDate:vr,renderDay:Vo,hideOutsideDates:Xr,hideWeekdays:mi,getDayAriaLabel:Fi,monthLabelFormat:P,monthsListFormat:z,getMonthControlProps:j,yearLabelFormat:Y,yearsListFormat:Z,getYearControlProps:Te,decadeLabelFormat:ae,allowSingleDateInRange:F,allowDeselect:Oe,minDate:Ke,maxDate:At,locale:Jt},others:ye(Ee,["maxLevel","minLevel","defaultLevel","level","onLevelChange","nextIcon","previousIcon","date","defaultDate","onDateChange","numberOfColumns","columnsToScroll","ariaLabels","nextLabel","previousLabel","onYearSelect","onMonthSelect","onYearMouseEnter","onMonthMouseEnter","onNextMonth","onPreviousMonth","onNextYear","onPreviousYear","onNextDecade","onPreviousDecade","withCellSpacing","highlightToday","__updateDateOnYearSelect","__updateDateOnMonthSelect","withWeekNumbers","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","monthLabelFormat","monthsListFormat","getMonthControlProps","yearLabelFormat","yearsListFormat","getYearControlProps","decadeLabelFormat","allowSingleDateInRange","allowDeselect","minDate","maxDate","locale"])}}(L),te=Mi(),X=m||(xe=>{const Ee=pt(xe,h,te.getLocale(p)).toDate();return Number.isNaN(Ee.getTime())?function(Re,Be){if(Re===null)return null;const it=Du("add",new Date(Re),Be);return Number.isNaN(it.getTime())||!Re?null:it}(xe,te.getTimezone()):Ee}),ee=H!==void 0?H:l,ue=xe=>xe?pt(xe).locale(te.getLocale(p)).format(h):"",[de,ge,he]=jT({type:"default",value:i,defaultValue:a,onChange:s}),[Ce,be]=jT({type:"default",value:R,defaultValue:a||U,onChange:B});x.useEffect(()=>{he&&i!==null&&be(i)},[he,i]);const[me,pe]=x.useState(ue(de));x.useEffect(()=>{pe(ue(de))},[te.getLocale(p)]);const Ie=O||(l&&de&&!_?W.jsx(Ph,I({variant:"transparent",onMouseDown:xe=>xe.preventDefault(),tabIndex:-1,onClick:()=>{ge(null),!he&&pe(""),q(!1)},unstyled:T,size:r.size||"sm"},c)):null);return Ha(()=>{de!==void 0&&!N&&pe(ue(de))},[de]),xL(()=>q(!1),void 0,[C.current,V.current]),W.jsxs(W.Fragment,{children:[W.jsx(uo.Wrapper,K(I({},o),{__staticSelector:"DateInput",ref:C,children:W.jsxs(fr,K(I({opened:N,trapFocus:!1,position:"bottom-start",disabled:_,withRoles:!1,unstyled:T},u),{children:[W.jsx(fr.Target,{children:W.jsx(uo,K(I(I({"data-dates-input":!0,"data-read-only":_||void 0,autoComplete:"off",ref:t,value:me,onChange:xe=>{const Ee=xe.currentTarget.value;if(pe(Ee),q(!0),Ee.trim()===""&&l)ge(null);else{const Re=X(Ee);(function({date:Be,maxDate:it,minDate:at}){return!(Be==null||Number.isNaN(Be.getTime())||it&&pt(Be).isAfter(it,"date")||at&&pt(Be).isBefore(at,"date"))})({date:Re,minDate:g,maxDate:f})&&(ge(Re),be(Re))}},onBlur:xe=>{b==null||b(xe),q(!1),v&&pe(ue(de))},onFocus:xe=>{y==null||y(xe),q(!0)},onClick:xe=>{w==null||w(xe),q(!0)},onKeyDown:xe=>{xe.key==="Escape"&&q(!1),k==null||k(xe)},readOnly:_,rightSection:Ie},r),Q),{__staticSelector:"DateInput"}))}),W.jsx(fr.Dropdown,{onMouseDown:xe=>xe.preventDefault(),"data-dates-dropdown":!0,ref:V,children:W.jsx(aw,K(I({__staticSelector:"DateInput",__timezoneApplied:!0},J),{classNames:M,styles:D,unstyled:T,__preventFocus:!0,minDate:g,maxDate:f,locale:p,getDayProps:xe=>K(I({},d==null?void 0:d(xe)),{selected:pt(de).isSame(xe,"day"),onClick:Ee=>{var Re,Be;(Be=d==null?void 0:(Re=d(xe)).onClick)==null||Be.call(Re,Ee);const it=$?function(Qe,Je){if(!Qe||!Je)return Je;const Me=Qe.getHours(),He=Qe.getMinutes(),Ue=Qe.getSeconds(),Ve=Qe.getMilliseconds(),ce=new Date(Je);return ce.setHours(Me),ce.setMinutes(He),ce.setSeconds(Ue),ce.setMilliseconds(Ve),ce}(de,xe):xe,at=l&&ee&&pt(de).isSame(xe,"day")?null:it;ge(at),!he&&pe(ue(at)),q(!1)}}),size:r.size,date:Ce,onDateChange:be}))})]}))})),W.jsx(JK,{name:E,form:S,value:de,type:"default"})]})});FT.classes=I(I({},uo.classes),aw.classes),FT.displayName="@mantine/dates/DateInput";var fG,gG={exports:{}},T5e=(fG||(fG=1,function(e){e.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,o=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,s={},l=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(f){this[g]=+f}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(f){if(!f||f==="Z")return 0;var v=f.match(/([+-]|\d\d)/g),y=60*v[1]+(+v[2]||0);return y===0?0:v[0]==="+"?-y:y}(g)}],d=function(g){var f=s[g];return f&&(f.indexOf?f:f.s.concat(f.f))},p=function(g,f){var v,y=s.meridiem;if(y){for(var b=1;b<=24;b+=1)if(g.indexOf(y(b,0,f))>-1){v=b>12;break}}else v=g===(f?"pm":"PM");return v},h={A:[a,function(g){this.afternoon=p(g,!1)}],a:[a,function(g){this.afternoon=p(g,!0)}],Q:[r,function(g){this.month=3*(g-1)+1}],S:[r,function(g){this.milliseconds=100*+g}],SS:[o,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[o,c("day")],Do:[a,function(g){var f=s.ordinal,v=g.match(/\d+/);if(this.day=v[0],f)for(var y=1;y<=31;y+=1)f(y).replace(/\[|\]/g,"")===g&&(this.day=y)}],w:[i,c("week")],ww:[o,c("week")],M:[i,c("month")],MM:[o,c("month")],MMM:[a,function(g){var f=d("months"),v=(d("monthsShort")||f.map(function(y){return y.slice(0,3)})).indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[a,function(g){var f=d("months").indexOf(g)+1;if(f<1)throw new Error;this.month=f%12||f}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(g){this.year=l(g)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function m(g){var f,v;f=g,v=s&&s.formats;for(var y=(g=f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,T,M){var D=M&&M.toUpperCase();return T||v[M]||t[M]||v[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(H,$,R){return $||R.slice(1)})})).match(n),b=y.length,w=0;w<b;w+=1){var k=y[w],_=h[k],E=_&&_[0],S=_&&_[1];y[w]=S?{regex:E,parser:S}:k.replace(/^\[|\]$/g,"")}return function(O){for(var T={},M=0,D=0;M<b;M+=1){var H=y[M];if(typeof H=="string")D+=H.length;else{var $=H.regex,R=H.parser,U=O.slice(D),B=$.exec(U)[0];R.call(T,B),O=O.replace(B,"")}}return function(L){var C=L.afternoon;if(C!==void 0){var V=L.hours;C?V<12&&(L.hours+=12):V===12&&(L.hours=0),delete L.afternoon}}(T),T}}return function(g,f,v){v.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(l=g.parseTwoDigitYear);var y=f.prototype,b=y.parse;y.parse=function(w){var k=w.date,_=w.utc,E=w.args;this.$u=_;var S=E[1];if(typeof S=="string"){var O=E[2]===!0,T=E[3]===!0,M=O||T,D=E[2];T&&(D=E[2]),s=this.$locale(),!O&&D&&(s=v.Ls[D]),this.$d=function(U,B,L,C){try{if(["x","X"].indexOf(B)>-1)return new Date((B==="X"?1e3:1)*U);var V=m(B)(U),N=V.year,q=V.month,J=V.day,Q=V.hours,te=V.minutes,X=V.seconds,ee=V.milliseconds,ue=V.zone,de=V.week,ge=new Date,he=J||(N||q?1:ge.getDate()),Ce=N||ge.getFullYear(),be=0;N&&!q||(be=q>0?q-1:ge.getMonth());var me,pe=Q||0,Ie=te||0,xe=X||0,Ee=ee||0;return ue?new Date(Date.UTC(Ce,be,he,pe,Ie,xe,Ee+60*ue.offset*1e3)):L?new Date(Date.UTC(Ce,be,he,pe,Ie,xe,Ee)):(me=new Date(Ce,be,he,pe,Ie,xe,Ee),de&&(me=C(me).week(de).toDate()),me)}catch{return new Date("")}}(k,S,_,v),this.init(),D&&D!==!0&&(this.$L=this.locale(D).$L),M&&k!=this.format(S)&&(this.$d=new Date("")),s={}}else if(S instanceof Array)for(var H=S.length,$=1;$<=H;$+=1){E[1]=S[$-1];var R=v.apply(this,E);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}$===H&&(this.$d=new Date(""))}else b.call(this,w)}}}()}(gG)),gG.exports);const E5e=$r(T5e);pt.extend(E5e);const O5e=e=>e?pt(e).format("YYYY-MM-DD"):"",vG=e=>{if(!e)return;if(e==="today")return pt().startOf("day").toDate();const t=pt(e,["MM/DD/YYYY"],!0);return t.isValid()?t.toDate():void 0},A5e=({field:e,values:t,handleChangeEvent:n,className:r,isSubmitting:o})=>{const[i,a]=x.useState(null),s=t[e.name],l=qh(1),c=vG(e==null?void 0:e.min_date),u=vG(e==null?void 0:e.max_date);return x.useEffect(()=>{a((d=>{if(!d)return null;const p=pt(d,["YYYY-MM-DD","MM/DD/YYYY"],!0);return p.isValid()?p.toDate():null})(s||""))},[s,e.name]),A(FT,{id:e.name,name:e.name,value:i,onChange:d=>{a(d);const p={target:{name:e.name,value:O5e(d)}};n(p)},placeholder:e.placeholder,required:e.required,disabled:o,valueFormat:"MM/DD/YYYY",clearable:!0,minDate:c,maxDate:u,classNames:{input:r},styles:{input:{paddingLeft:"0.03rem",fontSize:"16px"}},popoverProps:{zIndex:l}})};function P5e(e){return gt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"},child:[]}]})(e)}const N5e=Ae("div",{target:"e18wyqks8"})("position:",e=>e.position==="inline"?"relative":"absolute",";top:",e=>e.position==="inline"?"auto":"0",";left:",e=>e.position==="inline"?"auto":"0",";right:",e=>e.position==="inline"?"auto":"0",";padding:",e=>e.position==="inline"?"2px 0px":"12px 2px",";overflow:hidden;"),I5e=Ae("div",{target:"e18wyqks7"})({name:"aaj215",styles:"width:100%;overflow-x:auto;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"}),R5e=Ae("div",{target:"e18wyqks6"})("display:flex;gap:12px;max-height:50px;width:",e=>e.position==="inline"?"100%":"fit-content",";-ms-overflow-style:none;"),M5e=Ae("div",{target:"e18wyqks5"})("display:flex;align-items:center;gap:8px;padding:8px 12px;background:#f5f5f5;border-radius:8px;min-width:",e=>e.position==="inline"?"auto":"150px",";width:",e=>e.position==="inline"?"100%":"auto",";max-height:50px;position:relative;"),D5e=Ae("div",{target:"e18wyqks4"})({name:"1gkgtms",styles:"display:flex;flex-direction:column;gap:2px"}),L5e=Ae("span",{target:"e18wyqks3"})({name:"9xbt58",styles:"max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px"}),j5e=Ae("span",{target:"e18wyqks2"})({name:"1pc7f9i",styles:"font-size:10px;color:#6b7280;text-transform:uppercase"}),z5e=Ae("button",{target:"e18wyqks1"})({name:"1oxhxwq",styles:"position:absolute;right:4px;top:4px;background:none;border:none;cursor:pointer;padding:4px;color:#6b7280;&:hover{color:#374151;}"}),F5e={doc:A(gV,{}),docx:A(gV,{}),pdf:A(y0e,{}),txt:A(k0e,{}),csv:A(w0e,{}),zip:A(_0e,{}),jpg:A(Zs,{}),jpeg:A(Zs,{}),png:A(Zs,{}),gif:A(Zs,{}),bmp:A(Zs,{}),webp:A(Zs,{}),svg:A(Zs,{}),heic:A(Zs,{}),heif:A(Zs,{})},B5e=e=>{var t;const{fileName:n}=e,r=((t=n.split(".").pop())==null?void 0:t.toLowerCase())||"";return A(U5e,{children:F5e[r]||A(P5e,{})})},U5e=Ae("div",{target:"e18wyqks0"})({name:"byt1ty",styles:"font-size:24px;display:flex;align-items:center;justify-content:center;min-width:24px"}),H5e=e=>{const{files:t,setFiles:n,position:r="absolute"}=e;return t.length===0?null:A(N5e,{position:r,children:A(I5e,{children:A(R5e,{position:r,children:t.map((o,i)=>le(M5e,{position:r,children:[A(B5e,{fileName:o.file.name}),le(D5e,{children:[A(L5e,{children:o.file.name}),A(j5e,{children:o.file.name.split(".").pop()})]}),A(z5e,{onClick:()=>(a=>{n(s=>s.filter((l,c)=>c!==a))})(i),children:A(ca,{size:16})})]},o.file.name+i))})})})},bG=Sr({});var $5e=Object.defineProperty,V5e=Object.defineProperties,q5e=Object.getOwnPropertyDescriptors,yG=Object.getOwnPropertySymbols,W5e=Object.prototype.hasOwnProperty,K5e=Object.prototype.propertyIsEnumerable,wG=(e,t,n)=>t in e?$5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BT=(e,t)=>{for(var n in t||(t={}))W5e.call(t,n)&&wG(e,n,t[n]);if(yG)for(var n of yG(t))K5e.call(t,n)&&wG(e,n,t[n]);return e},UT=(e,t)=>V5e(e,q5e(t));const G5e=({field:e,values:t,handleChange:n,className:r,isSubmitting:o})=>{const[i,a]=pn(bG),s=e.max_size||25,l=1024*s*1024,c=t[e.name],u=c?[{file:c}]:[];return le("div",{className:"flex flex-col gap-2",children:[e.label&&le("label",{children:[" ",e.label," (",s,"MB Max.)"," "]}),le("div",{className:"flex flex-col gap-2",children:[A("input",{type:"file",id:e.name,name:e.name,onChange:d=>{const p=d.target.files[0];if(p)if(p.size>l){const h=`File size must be less than ${s}MB`;a(UT(BT({},i),{[e.name]:h})),n(e.name,p)}else a(UT(BT({},i),{[e.name]:""})),n(e.name,p)},required:e.required||!1,className:"hidden",disabled:o,accept:e.accept||"*/*"}),A("label",{htmlFor:e.name,className:"inline-flex items-center justify-center gap-2 rounded-md px-3 py-2 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 cursor-pointer "+(o?"opacity-50 cursor-not-allowed":""),style:{fontSize:"16px"},children:c?"Change File":e.placeholder||"Choose File"}),c&&A(H5e,{files:u,setFiles:d=>{(typeof d=="function"?d(u):d).length===0&&(n(e.name,null),a(UT(BT({},i),{[e.name]:""})))},position:"inline"}),i[e.name]&&A("div",{className:"text-red-600 text-sm mt-1",children:i[e.name]})]})]})};var Y5e=Object.defineProperty,Q5e=Object.defineProperties,J5e=Object.getOwnPropertyDescriptors,kG=Object.getOwnPropertySymbols,X5e=Object.prototype.hasOwnProperty,Z5e=Object.prototype.propertyIsEnumerable,_G=(e,t,n)=>t in e?Y5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sw=(e,t)=>{for(var n in t||(t={}))X5e.call(t,n)&&_G(e,n,t[n]);if(kG)for(var n of kG(t))Z5e.call(t,n)&&_G(e,n,t[n]);return e},HT=(e,t)=>Q5e(e,J5e(t));const e2e=e=>{const{fields:t,initialValues:n,onClickHandler:r}=e,o=(()=>{var _,E,S,O,T,M;const D=G(H=>H.chatBox.agent);return(M=(T=(O=(S=(E=(_=D==null?void 0:D.config)==null?void 0:_.tools)==null?void 0:E.document_qa)==null?void 0:S.no_answer_action)==null?void 0:O.salesforce)==null?void 0:T.ticket_options)==null?void 0:M.enabled})(),i=Vt(),a=dt();x.useLayoutEffect(()=>{Fe.scrollToLastMessagePair()},[]);const s=x.useMemo(()=>Hn("white"),[]),l="h-10 bg-white block w-full rounded-md border-0 p-2 ring-1 ring-inset ring-gray-300 placeholder:text-sm placeholder:text-gray-400",c=G(W$),u=c.status==="loading",[d]=pn(bG),p={email:{default:"",hasLabel:!0,render:(_,E)=>A("input",{type:"email",id:_.name,name:_.name,value:E[_.name],placeholder:_.placeholder,required:_.required||!1,className:l,disabled:u,pattern:"[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}$",style:{fontSize:"16px"},onInvalid:S=>{S.target.setCustomValidity("Please enter a valid email address")},onChange:S=>{S.target.setCustomValidity(""),w(S)}})},phone:{default:"",hasLabel:!0,render:(_,E)=>A("input",{type:"tel",id:_.name,name:_.name,value:E[_.name],placeholder:_.placeholder,pattern:"^(?:\\+\\d{1,2}\\s?)?(?:\\(\\d{3}\\)|\\d{3})[\\-.\\s]?\\d{3}[\\-.\\s]?\\d{4}$",onInvalid:S=>{S.target.setCustomValidity("Please enter a valid phone number")},onChange:S=>{S.target.setCustomValidity(""),w(S)},required:_.required||!1,className:l,disabled:u,style:{fontSize:"16px"}})},number:{default:"",hasLabel:!0,render:(_,E)=>A("input",{type:"number",id:_.name,name:_.name,value:E[_.name],onChange:w,placeholder:_.placeholder,className:l,disabled:u,style:{fontSize:"16px"}})},text:{default:"",hasLabel:!0,render:(_,E)=>A("input",{type:"text",id:_.name,name:_.name,value:E[_.name],pattern:_.name==="name"&&o?"^[a-zA-Z]+ [a-zA-Z]+.*$":void 0,onInvalid:S=>{_.name==="name"&&o&&S.target.setCustomValidity("Please enter your full name (first and last name)")},onChange:S=>{S.target.setCustomValidity(""),w(S)},required:_.required||!1,className:l,placeholder:_.placeholder,disabled:u,style:{fontSize:"16px"}})},textarea:{default:"",hasLabel:!0,render:(_,E)=>{var S;return A("input",{type:"textarea",id:_.name,name:_.name,value:E[_.name],onChange:w,placeholder:_.placeholder,className:((S=_.style)==null?void 0:S.this)||l,disabled:u,style:{fontSize:"16px"}})}},fieldset:{default:null,hasLabel:!1,render:(_,E)=>{var S;return le("fieldset",{className:"flex flex-col",children:[_.label&&A("legend",{className:"text-sm leading-6",children:_.label}),_.subtitle&&A("p",{className:"text-sm leading-6",children:_.subtitle}),A("div",{className:"mt-4 flex gap-5 justify-center flex-wrap",children:(S=_.fields)==null?void 0:S.map((O,T)=>{var M;return le("div",{className:"flex items-center gap-2",children:[O.label&&((M=p[O.type])==null?void 0:M.hasLabel)&&A("label",{htmlFor:O.name,className:"block text-sm leading-6",children:O.label}),A("div",{children:h(O,E)})]},`${O.name}_${T}`)})})]})}},checkbox:{default:!1,hasLabel:!1,render:(_,E)=>{var S,O;const T=!!E[_.name];return A("livex-checkbox-container",{children:le("label",{htmlFor:_.name,className:((S=_.style)==null?void 0:S.label)||"",style:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:[A("livex-checkmark-container",{style:{background:T?i.primary_color:"white"},children:A(l0e,{style:{color:"white"}})}),A("input",{type:"checkbox",id:_.name,name:_.name,checked:T,onChange:()=>{b(_.name,!E[_.name])},className:((O=_.style)==null?void 0:O.this)||"",style:{display:"none",accentColor:i.primary_color,color:Hn(i.primary_color)},disabled:u}),_.label]})})}},radio:{default:null,hasLabel:!1,render:(_,E)=>{var S,O,T;return le("fieldset",{children:[A("legend",{className:((S=_.style)==null?void 0:S.label)||"text-sm leading-6",children:_.label}),_.subtitle&&A("p",{className:((O=_.style)==null?void 0:O.subtitle)||"mt-1 text-sm leading-6 text-gray-600",children:_.subtitle}),A("livex-form-component-radio-buttons-container",{children:(T=_.options)==null?void 0:T.map((M,D)=>{var H;const $=E[_.name]===M.value;return A("livex-radio-button-container",{children:le("label",{htmlFor:M.name,className:((H=_.style)==null?void 0:H.optionLabel)||"block text-sm leading-6",style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[A("livex-radio-button-check-marker",{style:{background:$?i.primary_color:"white"}}),A("input",{type:"radio",id:M.name,name:_.name,value:M.value,checked:$,onChange:()=>{b(_.name,M.value)},style:{display:"none"},disabled:u}),M.label]})},D)})})]})}},select:{default:"",hasLabel:!1,render:(_,E)=>{var S;return le("div",{className:"flex flex-col gap-2",children:[A("label",{htmlFor:_.name,children:_.label}),le("select",{id:_.name,value:E[_.name],name:_.name,onChange:w,className:l,style:{paddingLeft:"2px",fontSize:"16px"},required:_.required||!1,children:[A("option",{value:"",disabled:!0,children:"Select option"}),(S=_.options)==null?void 0:S.map((O,T)=>A("option",{value:O.value,className:"h-4 w-4 text-sm border-gray-300 text-indigo-600 focus:ring-indigo-600 text-white",children:O.label},T))]})]})}},date:{default:"",hasLabel:!0,render:(_,E)=>A(A5e,{field:_,values:E,handleChangeEvent:w,className:l,isSubmitting:u})},file:{default:null,hasLabel:!1,render:(_,E)=>A(G5e,{field:_,values:E,handleChange:b,className:l,isSubmitting:u})},button:{hasLabel:!1,render:(_,E)=>{var S;const O=["submit","send_message"].includes(_.onclick)?"submit":"button";let T=((S=_.style)==null?void 0:S.this)||"rounded-md px-2.5 py-1.5 text-sm shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50";u&&(T+=" opacity-50 cursor-not-allowed");const M=le("div",{className:"flex items-center gap-4",children:[_.label,u&&O==="submit"&&A(gf,{className:"w-4 h-4"})]});return A("button",{type:O,value:E[_.name],onClick:O==="submit"&&(()=>f(_))||_.onclick&&(()=>k(_))||void 0,className:T,disabled:u,children:M})}}},h=(_,E)=>{var S,O,T;try{const M=(S=p[_.type])==null?void 0:S.render;return M?M(_,E):((T=(O=ne).warn)==null||T.call(O,`Undefined form field type "${_.type}"`,_),null)}catch(M){return ne.error("Field render failed",_,M),A("div",{className:"text-red-600 text-sm",children:"Unsupported field configuration."})}},m=_=>p[_.type].default!==void 0,[g,f]=x.useState(null),[v,y]=x.useState(t.filter(_=>m(_)).reduce((_,E)=>{var S,O;return E.type==="fieldset"?(O=(S=E.fields)==null?void 0:S.filter(T=>m(T)))==null||O.forEach(T=>{_[T.name]=T.value||p[E.type].default}):_[E.name]=E.value||p[E.type].default,_},sw({},n)));ne.debug("FormComponent initial values",{values:v});const b=(_,E)=>{ne.debug("handleChange",{name:_,value:E}),y(HT(sw({},v),{[_]:E}))},w=_=>{b(_.target.name,_.target.value)},k=_=>{r==null||r(HT(sw({},v),{[_.name]:_.value}),_)};return le(t2e,{onSubmit:_=>{_.preventDefault(),Object.values(d).some(E=>E!=="")?ne.warn("Form submission prevented due to field errors",d):r==null||r(HT(sw({},v),{[g.name]:g.value}),g)},theme:i,inputTextColor:s,children:[(_=>{if(_){const E=(_==null?void 0:_.message)||"Something went wrong. Please try again later.";return setTimeout(()=>{a(Hbe(null))},5e3),A("div",{className:"w-full text-center absolute bottom-9 text-sm text-red-600",children:E})}return null})(c.error),t.map((_,E)=>{var S,O,T;return le("div",{className:((S=_.style)==null?void 0:S.root)||"livex-chatbox-markdown",children:[_.label&&((O=p[_.type])==null?void 0:O.hasLabel)&&A("label",{htmlFor:_.name,className:(T=_.style)==null?void 0:T.label,children:_.label}),h(_,v)]},E)})]})},t2e=on.form`
  display: flex;
  flex-direction: column;
  align-self: stretch;
  width: 100%;
  gap: 0.5em;
  position: relative;
  background-color: var(--message-form-background-color, white);

  & label {
    color: var(--message-form-label-color, ${e=>e.theme.label_color});
    font-size: 0.875em;
    line-height: 1.25em;
    font-weight: 500;
  }

  & select {
    background-color: var(--message-form-select-background-color, white);
    color: var(--message-form-select-color, ${e=>e.inputTextColor});
  }

  & input {
    background: var(--message-form-input-background-color, white);
    color: var(--message-form-input-color, ${e=>e.inputTextColor});
  }

  & textarea {
    color: var(--message-form-input-color, ${e=>e.inputTextColor});
  }

  & button {
    background-color: var(--message-form-button-background-color, white);
    color: var(--message-form-button-color, black);
  }

  & button:hover {
    background-color: var(--message-form-button-background-color-hover, rgba(66, 99, 235, 1));
    color: var(--message-form-button-color-hover, white);
  }

  & input:focus,
  & button:focus,
  & select:focus {
    outline: 0;
    /* border-color: ${e=>e.theme.primary_color}; */
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
  }

  & input::placeholder {
    color: ${e=>`var(--message-form-placeholder-color, ${e.theme.placeholder_color})`};
  }
`;var n2e=Object.defineProperty,r2e=Object.defineProperties,o2e=Object.getOwnPropertyDescriptors,xG=Object.getOwnPropertySymbols,i2e=Object.prototype.hasOwnProperty,a2e=Object.prototype.propertyIsEnumerable,CG=(e,t,n)=>t in e?n2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$T=(e,t)=>{for(var n in t||(t={}))i2e.call(t,n)&&CG(e,n,t[n]);if(xG)for(var n of xG(t))a2e.call(t,n)&&CG(e,n,t[n]);return e},s2e=(e,t)=>r2e(e,o2e(t));const l2e=({message:e,callbacks:t})=>{var n,r,o;const i=G(wt),a=er(),s=dt(),l=e.id,c=G(W$),u=$T({},e==null?void 0:e.form);return e&&e!=null&&e.form&&((r=(n=e==null?void 0:e.form)==null?void 0:n.fields)==null?void 0:r.length)>0&&(u.fields=u.fields.map(d=>{const p=$T({},d);return c.cache&&(d.name==="email"&&c.cache.email?p.value=c.cache.email:d.name==="phone"&&c.cache.phone?p.value=c.cache.phone:d.name==="name"&&c.cache.name&&(p.value=c.cache.name)),p})),u.form_name=(o=e==null?void 0:e.form)==null?void 0:o.form_name,bt(u.fields)?null:A(c2e,{children:A(u2e,{className:"w-full md:w-96 md:max-w-96 shadow-md",children:A(e2e,{fields:u.fields,onClickHandler:(d,p)=>{var h;const{field:m,label:g,command:f,onclick:v}=p,y=(h=u.success_message)!=null?h:"Form submit";switch(v){case"send_message":Object.assign(np,{name:d.name,email:d.email,description:d.description}),s(Un({id:l,threadId:i,text:y,type:"bot"})),s(Ii({text:g,command:f}));break;case"submit":(b=>{var w,k,_,E;if(!u.action)return;const S={form:u,values:s2e($T({},b),{message_id:l,conversation_id:i,agent_id:a,form_name:(w=u.form_name)!=null?w:"",form_id:(k=u.form_id)!=null?k:"",tsi:(_=u.tsi)!=null?_:"",twi:(E=u.twi)!=null?E:"",tags:[]})};s(vy(S))})(d);break;case"cancel":(()=>{var b;const w=(b=u.cancel_message)!=null?b:"Form cancel";s(Un({id:l,threadId:i,text:w,type:"bot"}))})()}}})})})},c2e=Ae("div",{target:"es5thjq1"})({name:"l9dduf",styles:"max-width:100%;display:flex;justify-content:center"}),u2e=Ae("div",{target:"es5thjq0"})({name:"1a84xpq",styles:"background:var(--message-form-background-color, white);display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;align-self:stretch;padding:0.75em;border:2px solid #eee;border-radius:0.75em;color:var(--message-form-color, rgba(134, 142, 150, 1))"}),op=()=>{var e,t,n;const r=Pt();return(n=(t=(e=r==null?void 0:r.config)==null?void 0:e.custom_style)==null?void 0:t.center_stage)!=null&&n},bf=(e,t)=>{(e||Tt)&&localStorage.setItem("openChatBox","false"),window.open(t,"_blank","noopener,noreferrer")};var d2e=Object.defineProperty,SG=Object.getOwnPropertySymbols,h2e=Object.prototype.hasOwnProperty,p2e=Object.prototype.propertyIsEnumerable,TG=(e,t,n)=>t in e?d2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const EG=e=>{const t=e.replace(/[^0-9.]/g,"");try{return Number(parseFloat(t).toFixed(2))}catch{return-1}},m2e=e=>{const t=op(),{mutate:n}=Si(),[r,o]=x.useState(!1),{product:i,opacity:a}=e,{image_url:s,name:l,variant:c,price:u,url:d,compare_at_price:p}=i,[h,m]=x.useState(!1),g=Vt(),f=EG(u);let v=EG(p);v<=f&&(v=-1);const y=u,{platform:b,product_id:w,variant_id:k,enable_add_to_cart:_,add_to_cart:E}=i,S=_||(E==null?void 0:E.enable);return le(g2e,{style:{opacity:a,border:"var(--product-item-container-border, 1px solid #ddd)"},className:"shadow-md",children:[A("livex-product-info-container",{style:{borderColor:h?"var(--product-info-hover-border-color, "+(g.primary_color||"#edf2f7")+")":"var(--product-info-border-color, transparent)"},onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:A(v2e,{className:"py-1.5",src:s,onClick:()=>{const O=function(T,M,D){try{const H=new URL(T);return H.searchParams.set(M,D),H.toString()}catch{return T}}(d,"from_livex","true");qL(O),bf(t,O)}})}),le("livex-product-desc-container",{children:[A("livex-product-name",{children:l}),A("livex-product-name",{children:c}),le("livex-product-price-container",{children:[f>=0&&A("span",{style:{fontSize:"var(--product-price-font-size, 0.6em)"},children:y}),v>=0&&A("span",{style:{fontSize:"var(--product-compare-price-font-size, 0.6em)",color:"var(--product-compare-price-color, black)",textDecoration:"var(--product-compare-price-text-decoration, line-through)",textDecorationThickness:"var(--product-compare-price-text-decoration-thickness, 1.5px)"},children:p})]}),S&&A(f2e,{onClick:O=>(async T=>{if(!r){if(T.preventDefault(),o(!0),b==="shopify"&&w&&k){const M="/cart/add.js",D=new FormData;D.append("quantity","1"),D.append("form_type","product"),D.append("utf8",""),D.append("id",k),D.append("product-id",w);const H=document.querySelector("cart-drawer")||document.querySelector("cart-notification");if(H&&H.getSectionsToRender)try{D.append("sections",H.getSectionsToRender().map($=>$.id))}catch{}try{const $=await xt({method:"post",url:M,data:D,headers:{"Content-Type":"multipart/form-data",Accept:"application/javascript"}});n({event_name:zt.LivexAddToCart}),window.publish&&typeof window.publish=="function"&&window.publish("cart-update",{source:"product-form",productVariantId:k,cartData:$.data}),H&&H.renderContents&&(H.renderContents($.data),H.classList.contains("is-empty")&&H.classList.remove("is-empty"))}catch{}}(E==null?void 0:E.action)==="redirect"&&E!=null&&E.redirect_link&&bf(t,E.redirect_link),o(!1)}})(O),className:"p-1 rounded-md",children:r?"Adding to cart...":"Add to cart"})]})]})},f2e=Ae("button",{target:"eek3ldp3"})({name:"1my0kr7",styles:`position:var(--add-to-cart-button-position, absolute);bottom:var(--add-to-cart-button-bottom, 4px);font-size:var(--add-to-cart-button-font-size, 0.6em);color:var(--add-to-cart-button-color, white);cursor:var(--add-to-cart-button-cursor, pointer);font-weight:var(--add-to-cart-button-font-weight, 700);width:var(--add-to-cart-button-width, 90%);height:var(--add-to-cart-button-height, auto);border:var(--add-to-cart-button-border, 1px solid rgb(68, 135, 213));border-radius:var(
    --add-to-cart-button-border-radius,
    var(--add-to-cart-button-border-top-left-radius, 0.25rem) var(--add-to-cart-button-border-top-right-radius, 0.25rem)
      var(--add-to-cart-button-border-bottom-right-radius, 0.25rem)
      var(--add-to-cart-button-border-bottom-left-radius, 0.25rem)
  );text-align:var(--add-to-cart-button-text-align, center);transition:var(--add-to-cart-button-transition, all 0.3s ease);background-color:var(--add-to-cart-button-bg, rgb(88, 166, 255));&:hover{background-color:var(--add-to-cart-button-hover-bg, rgb(68, 135, 213));}`}),g2e=Ae("div",{target:"eek3ldp2"})({name:"1hrwpt6",styles:"background:var(--product-item-bg, white);transition:var(--product-item-transition, border-color 0.3s ease);border-width:var(--product-item-border-width, 2px);border-style:var(--product-item-border-style, solid);border-color:var(--product-item-border-color, transparent);cursor:var(--product-item-cursor, default);border-radius:var(--product-item-border-radius, 0.5em);display:var(--product-item-display, flex);flex-direction:var(--product-item-flex-direction, column);align-items:var(--product-item-align-items, center);height:var(--product-item-height, 200px);min-width:var(--product-item-min-width, 170px)"}),v2e=Ae("img",{target:"eek3ldp1"})({name:"biv0g8",styles:"width:var(--product-image-width, auto);height:var(--product-image-height, 120px)"}),OG=e=>{const{message:t}=e,n=G(wt),r=rs(),{products:o=[]}=t,i=x.useRef(null);let a=!1;const s=o==null?void 0:o.map((l,c)=>{var u,d;const p=`${n}-product-${c}`;return(l.enable_add_to_cart||(u=l.add_to_cart)!=null&&u.enable)&&(a=!0),A(m2e,((h,m)=>{for(var g in m||(m={}))h2e.call(m,g)&&TG(h,g,m[g]);if(SG)for(var g of SG(m))p2e.call(m,g)&&TG(h,g,m[g]);return h})({},{messageId:(d=t==null?void 0:t.id)!=null?d:null,product:l,opacity:1}),p)});return bt(o)||r?null:A(b2e,{hasCart:a,ref:i,children:A("livex-product-selector-center-column",{style:{gap:"var(--product-selector-gap, 10px)"},children:s})})},b2e=Ae("div",{shouldForwardProp:e=>e!=="hasCart",target:"eek3ldp0"})("display:var(--product-selector-display, flex);width:var(--product-selector-width, 100%);position:var(--product-selector-position, relative);min-height:",({hasCart:e})=>e?"var(--product-selector-min-height-with-cart, var(--product-selector-min-height, 200px))":"var(--product-selector-min-height, 200px)",";margin-bottom:",({hasCart:e})=>e?"var(--product-selector-margin-bottom-with-cart, 20px)":"var(--product-selector-margin-bottom, 0px)",";"),AG=["http","https","mailto","tel"];function y2e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let o=-1;for(;++o<AG.length;){const i=AG[o];if(r===i.length&&t.slice(0,i.length).toLowerCase()===i)return t}return o=t.indexOf("?"),o!==-1&&r>o||(o=t.indexOf("#"),o!==-1&&r>o)?t:"javascript:void(0)";/*!
     * Determine if an object is a Buffer
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */}var PG,NG,w2e=(NG||(NG=1,PG=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}),PG);const IG=$r(w2e);function yf(e){return e&&typeof e=="object"?"position"in e||"type"in e?RG(e.position):"start"in e||"end"in e?RG(e):"line"in e||"column"in e?VT(e):"":""}function VT(e){return MG(e&&e.line)+":"+MG(e&&e.column)}function RG(e){return VT(e&&e.start)+"-"+VT(e&&e.end)}function MG(e){return e&&typeof e=="number"?e:1}let Di=class extends Error{constructor(e,t,n){const r=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(n=t,t=void 0),typeof n=="string"){const i=n.indexOf(":");i===-1?r[1]=n:(r[0]=n.slice(0,i),r[1]=n.slice(i+1))}t&&("type"in t||"position"in t?t.position&&(o=t.position):"start"in t||"end"in t?o=t:("line"in t||"column"in t)&&(o.start=t)),this.name=yf(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}};Di.prototype.file="",Di.prototype.name="",Di.prototype.reason="",Di.prototype.message="",Di.prototype.stack="",Di.prototype.fatal=null,Di.prototype.column=null,Di.prototype.line=null,Di.prototype.source=null,Di.prototype.ruleId=null,Di.prototype.position=null;const ss={basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');wf(e);let n,r=0,o=-1,i=e.length;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1);return o<0?"":e.slice(r,o)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1),s>-1&&(e.charCodeAt(i)===t.charCodeAt(s--)?s<0&&(o=i):(s=-1,o=a));return r===o?o=a:o<0&&(o=e.length),e.slice(r,o)},dirname:function(e){if(wf(e),e.length===0)return".";let t,n=-1,r=e.length;for(;--r;)if(e.charCodeAt(r)===47){if(t){n=r;break}}else t||(t=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)},extname:function(e){wf(e);let t,n=e.length,r=-1,o=0,i=-1,a=0;for(;n--;){const s=e.charCodeAt(n);if(s!==47)r<0&&(t=!0,r=n+1),s===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1);else if(t){o=n+1;break}}return i<0||r<0||a===0||a===1&&i===r-1&&i===o+1?"":e.slice(i,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)wf(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":function(r){wf(r);const o=r.charCodeAt(0)===47;let i=function(a,s){let l,c,u="",d=0,p=-1,h=0,m=-1;for(;++m<=a.length;){if(m<a.length)l=a.charCodeAt(m);else{if(l===47)break;l=47}if(l===47){if(p!==m-1&&h!==1)if(p!==m-1&&h===2){if(u.length<2||d!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){if(c=u.lastIndexOf("/"),c!==u.length-1){c<0?(u="",d=0):(u=u.slice(0,c),d=u.length-1-u.lastIndexOf("/")),p=m,h=0;continue}}else if(u.length>0){u="",d=0,p=m,h=0;continue}}s&&(u=u.length>0?u+"/..":"..",d=2)}else u.length>0?u+="/"+a.slice(p+1,m):u=a.slice(p+1,m),d=m-p-1;p=m,h=0}else l===46&&h>-1?h++:h=-1}return u}(r,!o);return i.length===0&&!o&&(i="."),i.length>0&&r.charCodeAt(r.length-1)===47&&(i+="/"),o?"/"+i:i}(t)},sep:"/"};function wf(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const k2e={cwd:function(){return"/"}};function qT(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function _2e(e){if(typeof e=="string")e=new URL(e);else if(!qT(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=t.pathname;let r=-1;for(;++r<n.length;)if(n.charCodeAt(r)===37&&n.charCodeAt(r+1)===50){const o=n.charCodeAt(r+2);if(o===70||o===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}(e)}const WT=["history","path","basename","stem","extname","dirname"];let DG=class{constructor(e){let t;t=e?typeof e=="string"||function(o){return IG(o)}(e)?{value:e}:qT(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=k2e.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<WT.length;){const o=WT[r];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}for(n in t)WT.includes(n)||(this[n]=t[n])}get path(){return this.history[this.history.length-1]}set path(e){qT(e)&&(e=_2e(e)),GT(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?ss.dirname(this.path):void 0}set dirname(e){LG(this.basename,"dirname"),this.path=ss.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?ss.basename(this.path):void 0}set basename(e){GT(e,"basename"),KT(e,"basename"),this.path=ss.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?ss.extname(this.path):void 0}set extname(e){if(KT(e,"extname"),LG(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ss.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?ss.basename(this.path,this.extname):void 0}set stem(e){GT(e,"stem"),KT(e,"stem"),this.path=ss.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,n){const r=new Di(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}};function KT(e,t){if(e&&e.includes(ss.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ss.sep+"`")}function GT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function LG(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function lw(e){if(e)throw e}var YT,jG,x2e=function(){if(jG)return YT;jG=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(l){return typeof Array.isArray=="function"?Array.isArray(l):t.call(l)==="[object Array]"},i=function(l){if(!l||t.call(l)!=="[object Object]")return!1;var c,u=e.call(l,"constructor"),d=l.constructor&&l.constructor.prototype&&e.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!u&&!d)return!1;for(c in l);return c===void 0||e.call(l,c)},a=function(l,c){n&&c.name==="__proto__"?n(l,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):l[c.name]=c.newValue},s=function(l,c){if(c==="__proto__"){if(!e.call(l,c))return;if(r)return r(l,c).value}return l[c]};return YT=function l(){var c,u,d,p,h,m,g=arguments[0],f=1,v=arguments.length,y=!1;for(typeof g=="boolean"&&(y=g,g=arguments[1]||{},f=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});f<v;++f)if((c=arguments[f])!=null)for(u in c)d=s(g,u),g!==(p=s(c,u))&&(y&&p&&(i(p)||(h=o(p)))?(h?(h=!1,m=d&&o(d)?d:[]):m=d&&i(d)?d:{},a(g,{name:u,newValue:l(y,m,p)})):p!==void 0&&a(g,{name:u,newValue:p}));return g},YT}();const kf=$r(x2e);function ip(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.toStringTag in e||Symbol.iterator in e)}function zG(){const e=[],t={run:function(...n){let r=-1;const o=n.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);(function i(a,...s){const l=e[++r];let c=-1;if(a)o(a);else{for(;++c<n.length;)(s[c]===null||s[c]===void 0)&&(s[c]=n[c]);n=s,l?function(u,d){let p;return h;function h(...f){const v=u.length>f.length;let y;v&&f.push(m);try{y=u.apply(this,f)}catch(b){if(v&&p)throw b;return m(b)}v||(y&&y.then&&typeof y.then=="function"?y.then(g,m):y instanceof Error?m(y):g(y))}function m(f,...v){p||(p=!0,d(f,...v))}function g(f){m(null,f)}}(l,i)(...s):o(null,...s)}})(null,...n)},use:function(n){if(typeof n!="function")throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const C2e=function e(){const t=zG(),n=[];let r,o={},i=-1;return a.data=function(s,l){return typeof s=="string"?arguments.length===2?(XT("data",r),o[s]=l,a):FG.call(o,s)&&o[s]||null:s?(XT("data",r),o=s,a):o},a.Parser=void 0,a.Compiler=void 0,a.freeze=function(){if(r)return a;for(;++i<n.length;){const[s,...l]=n[i];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const c=s.call(a,...l);typeof c=="function"&&t.use(c)}return r=!0,i=Number.POSITIVE_INFINITY,a},a.attachers=n,a.use=function(s,...l){let c;if(XT("use",r),s!=null)if(typeof s=="function")h(s,...l);else{if(typeof s!="object")throw new TypeError("Expected usable value, not `"+s+"`");Array.isArray(s)?p(s):d(s)}return c&&(o.settings=Object.assign(o.settings||{},c)),a;function u(m){if(typeof m=="function")h(m);else{if(typeof m!="object")throw new TypeError("Expected usable value, not `"+m+"`");if(Array.isArray(m)){const[g,...f]=m;h(g,...f)}else d(m)}}function d(m){p(m.plugins),m.settings&&(c=Object.assign(c||{},m.settings))}function p(m){let g=-1;if(m!=null){if(!Array.isArray(m))throw new TypeError("Expected a list of plugins, not `"+m+"`");for(;++g<m.length;)u(m[g])}}function h(m,g){let f,v=-1;for(;++v<n.length;)if(n[v][0]===m){f=n[v];break}f?(ip(f[1])&&ip(g)&&(g=kf(!0,f[1],g)),f[1]=g):n.push([...arguments])}},a.parse=function(s){a.freeze();const l=_f(s),c=a.Parser;return QT("parse",c),BG(c,"parse")?new c(String(l),l).parse():c(String(l),l)},a.stringify=function(s,l){a.freeze();const c=_f(l),u=a.Compiler;return JT("stringify",u),UG(s),BG(u,"compile")?new u(s,c).compile():u(s,c)},a.run=function(s,l,c){if(UG(s),a.freeze(),!c&&typeof l=="function"&&(c=l,l=void 0),!c)return new Promise(u);function u(d,p){function h(m,g,f){g=g||s,m?p(m):d?d(g):c(null,g,f)}t.run(s,_f(l),h)}u(null,c)},a.runSync=function(s,l){let c,u;return a.run(s,l,d),HG("runSync","run",u),c;function d(p,h){lw(p),c=h,u=!0}},a.process=function(s,l){if(a.freeze(),QT("process",a.Parser),JT("process",a.Compiler),!l)return new Promise(c);function c(u,d){const p=_f(s);function h(m,g){m||!g?d(m):u?u(g):l(null,g)}a.run(a.parse(p),p,(m,g,f)=>{if(!m&&g&&f){const v=a.stringify(g,f);v==null||(function(y){return typeof y=="string"||IG(y)}(v)?f.value=v:f.result=v),h(m,f)}else h(m)})}c(null,l)},a.processSync=function(s){let l;a.freeze(),QT("processSync",a.Parser),JT("processSync",a.Compiler);const c=_f(s);return a.process(c,u),HG("processSync","process",l),c;function u(d){l=!0,lw(d)}},a;function a(){const s=e();let l=-1;for(;++l<n.length;)s.use(...n[l]);return s.data(kf(!0,{},o)),s}}().freeze(),FG={}.hasOwnProperty;function BG(e,t){return typeof e=="function"&&e.prototype&&(function(n){let r;for(r in n)if(FG.call(n,r))return!0;return!1}(e.prototype)||t in e.prototype)}function QT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function JT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function XT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UG(e){if(!ip(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function HG(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _f(e){return function(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}(e)?e:new DG(e)}const cw={};function $G(e,t,n){if(function(r){return!(!r||typeof r!="object")}(e)){if("value"in e)return e.type!=="html"||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return VG(e.children,t,n)}return Array.isArray(e)?VG(e,t,n):""}function VG(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=$G(e[o],t,n);return r.join("")}function ls(e,t,n,r){const o=e.length;let i,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function Li(e,t){return e.length>0?(ls(e,e.length,0,t),e):t}const qG={}.hasOwnProperty;function S2e(e,t){let n;for(n in t){const r=(qG.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){qG.call(r,i)||(r[i]=[]);const a=o[i];T2e(r[i],Array.isArray(a)?a:a?[a]:[])}}}function T2e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ls(e,0,0,r)}const cs=hc(/[A-Za-z]/),ua=hc(/[\dA-Za-z]/),E2e=hc(/[#-'*+\--9=?A-Z^-~]/);function ZT(e){return e!==null&&(e<32||e===127)}const e3=hc(/\d/),O2e=hc(/[\dA-Fa-f]/),A2e=hc(/[!-/:-@[-`{-~]/);function Ct(e){return e!==null&&e<-2}function zo(e){return e!==null&&(e<0||e===32)}function an(e){return e===-2||e===-1||e===32}const P2e=hc(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),N2e=hc(/\s/);function hc(e){return function(t){return t!==null&&e.test(String.fromCharCode(t))}}function _n(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(s){return an(s)?(e.enter(n),a(s)):t(s)};function a(s){return an(s)&&i++<o?(e.consume(s),a):(e.exit(n),t(s))}}const I2e={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(i){return i===null?void e.consume(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),_n(e,t,"linePrefix"))},function(i){return e.enter("paragraph"),r(i)});let n;return t;function r(i){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(i)}function o(i){return i===null?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(i)):Ct(i)?(e.consume(i),e.exit("chunkText"),r):(e.consume(i),o)}}},R2e={tokenize:function(e){const t=this,n=[];let r,o,i,a=0;return s;function s(b){if(a<n.length){const w=n[a];return t.containerState=w[1],e.attempt(w[0].continuation,l,c)(b)}return c(b)}function l(b){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const w=t.events.length;let k,_=w;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){k=t.events[_][1].end;break}v(a);let E=w;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},k),E++;return ls(t.events,_+1,0,t.events.slice(w)),t.events.length=E,c(b)}return s(b)}function c(b){if(a===n.length){if(!r)return p(b);if(r.currentConstruct&&r.currentConstruct.concrete)return m(b);t.interrupt=!(!r.currentConstruct||r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(WG,u,d)(b)}function u(b){return r&&y(),v(a),p(b)}function d(b){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,m(b)}function p(b){return t.containerState={},e.attempt(WG,h,m)(b)}function h(b){return a++,n.push([t.currentConstruct,t.containerState]),p(b)}function m(b){return b===null?(r&&y(),v(0),void e.consume(b)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),g(b))}function g(b){return b===null?(f(e.exit("chunkFlow"),!0),v(0),void e.consume(b)):Ct(b)?(e.consume(b),f(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(b),g)}function f(b,w){const k=t.sliceStream(b);if(w&&k.push(null),b.previous=o,o&&(o.next=b),o=b,r.defineSkip(b.start),r.write(k),t.parser.lazy[b.start.line]){let _=r.events.length;for(;_--;)if(r.events[_][1].start.offset<i&&(!r.events[_][1].end||r.events[_][1].end.offset>i))return;const E=t.events.length;let S,O,T=E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(S){O=t.events[T][1].end;break}S=!0}for(v(a),_=E;_<t.events.length;)t.events[_][1].end=Object.assign({},O),_++;ls(t.events,T+1,0,t.events.slice(E)),t.events.length=_}}function v(b){let w=n.length;for(;w-- >b;){const k=n[w];t.containerState=k[1],k[0].exit.call(t,e)}n.length=b}function y(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}},WG={tokenize:function(e,t,n){return _n(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function KG(e){return e===null||zo(e)||N2e(e)?1:P2e(e)?2:void 0}function t3(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const n3={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=KG(r);let i;return function(s){return i=s,e.enter("attentionSequence"),a(s)};function a(s){if(s===i)return e.consume(s),a;const l=e.exit("attentionSequence"),c=KG(s),u=!c||c===2&&o||n.includes(s),d=!o||o===2&&c||n.includes(r);return l._open=!!(i===42?u:u&&(o||!d)),l._close=!!(i===42?d:d&&(c||!u)),t(s)}},resolveAll:function(e,t){let n,r,o,i,a,s,l,c,u=-1;for(;++u<e.length;)if(e[u][0]==="enter"&&e[u][1].type==="attentionSequence"&&e[u][1]._close){for(n=u;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),p=Object.assign({},e[u][1].start);GG(d,-s),GG(p,s),i={type:s>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:p},o={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},a.end)},e[n][1].end=Object.assign({},i.start),e[u][1].start=Object.assign({},a.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Li(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Li(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",o,t]]),l=Li(l,t3(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=Li(l,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=Li(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,ls(e,n-1,u-n+3,l),u=n+l.length-c-2;break}}for(u=-1;++u<e.length;)e[u][1].type==="attentionSequence"&&(e[u][1].type="data");return e}};function GG(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const M2e={name:"autolink",tokenize:function(e,t,n){let r=0;return function(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(p){return cs(p)?(e.consume(p),i):l(p)}function i(p){return p===43||p===45||p===46||ua(p)?(r=1,a(p)):l(p)}function a(p){return p===58?(e.consume(p),r=0,s):(p===43||p===45||p===46||ua(p))&&r++<32?(e.consume(p),a):(r=0,l(p))}function s(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||ZT(p)?n(p):(e.consume(p),s)}function l(p){return p===64?(e.consume(p),c):E2e(p)?(e.consume(p),l):n(p)}function c(p){return ua(p)?u(p):n(p)}function u(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):d(p)}function d(p){if((p===45||ua(p))&&r++<63){const h=p===45?d:u;return e.consume(p),h}return n(p)}}},uw={tokenize:function(e,t,n){return function(o){return an(o)?_n(e,r,"linePrefix")(o):r(o)};function r(o){return o===null||Ct(o)?t(o):n(o)}},partial:!0},YG={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)};function o(i){return an(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}},continuation:{tokenize:function(e,t,n){const r=this;return function(i){return an(i)?_n(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)};function o(i){return e.attempt(YG,t,n)(i)}}},exit:function(e){e.exit("blockQuote")}},QG={name:"characterEscape",tokenize:function(e,t,n){return function(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),r};function r(o){return A2e(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}},JG=document.createElement("i");function Lu(e){const t="&"+e+";";JG.innerHTML=t;const n=JG.textContent;return(n.charCodeAt(n.length-1)!==59||e==="semi")&&n!==t&&n}const XG={name:"characterReference",tokenize:function(e,t,n){const r=this;let o,i,a=0;return function(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),s};function s(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,i=ua,c(u))}function l(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=O2e,c):(e.enter("characterReferenceValue"),o=7,i=e3,c(u))}function c(u){if(u===59&&a){const d=e.exit("characterReferenceValue");return i!==ua||Lu(r.sliceSerialize(d))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return i(u)&&a++<o?(e.consume(u),c):n(u)}}},ZG={tokenize:function(e,t,n){const r=this;return function(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}},partial:!0},eY={name:"codeFenced",tokenize:function(e,t,n){const r=this,o={tokenize:function(b,w,k){let _=0;return E;function E(D){return b.enter("lineEnding"),b.consume(D),b.exit("lineEnding"),S}function S(D){return b.enter("codeFencedFence"),an(D)?_n(b,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):O(D)}function O(D){return D===i?(b.enter("codeFencedFenceSequence"),T(D)):k(D)}function T(D){return D===i?(_++,b.consume(D),T):_>=s?(b.exit("codeFencedFenceSequence"),an(D)?_n(b,M,"whitespace")(D):M(D)):k(D)}function M(D){return D===null||Ct(D)?(b.exit("codeFencedFence"),w(D)):k(D)}},partial:!0};let i,a=0,s=0;return function(b){return function(w){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,i=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(w)}(b)};function l(b){return b===i?(s++,e.consume(b),l):s<3?n(b):(e.exit("codeFencedFenceSequence"),an(b)?_n(e,c,"whitespace")(b):c(b))}function c(b){return b===null||Ct(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(ZG,h,y)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(b))}function u(b){return b===null||Ct(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(b)):an(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_n(e,d,"whitespace")(b)):b===96&&b===i?n(b):(e.consume(b),u)}function d(b){return b===null||Ct(b)?c(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||Ct(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(b)):b===96&&b===i?n(b):(e.consume(b),p)}function h(b){return e.attempt(o,y,m)(b)}function m(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g}function g(b){return a>0&&an(b)?_n(e,f,"linePrefix",a+1)(b):f(b)}function f(b){return b===null||Ct(b)?e.check(ZG,h,y)(b):(e.enter("codeFlowValue"),v(b))}function v(b){return b===null||Ct(b)?(e.exit("codeFlowValue"),f(b)):(e.consume(b),v)}function y(b){return e.exit("codeFenced"),t(b)}},concrete:!0},r3={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(l){return e.enter("codeIndented"),_n(e,o,"linePrefix",5)(l)};function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?i(l):n(l)}function i(l){return l===null?s(l):Ct(l)?e.attempt(D2e,i,s)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Ct(l)?(e.exit("codeFlowValue"),i(l)):(e.consume(l),a)}function s(l){return e.exit("codeIndented"),t(l)}}},D2e={tokenize:function(e,t,n){const r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):Ct(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):_n(e,i,"linePrefix",5)(a)}function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):Ct(a)?o(a):n(a)}},partial:!0},L2e={name:"codeText",tokenize:function(e,t,n){let r,o,i=0;return function(u){return e.enter("codeText"),e.enter("codeTextSequence"),a(u)};function a(u){return u===96?(e.consume(u),i++,a):(e.exit("codeTextSequence"),s(u))}function s(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),s):u===96?(o=e.enter("codeTextSequence"),r=0,c(u)):Ct(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(u))}function l(u){return u===null||u===32||u===96||Ct(u)?(e.exit("codeTextData"),s(u)):(e.consume(u),l)}function c(u){return u===96?(e.consume(u),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(o.type="codeTextData",l(u))}},resolve:function(e){let t,n,r=e.length-4,o=3;if(!(e[o][1].type!=="lineEnding"&&e[o][1].type!=="space"||e[r][1].type!=="lineEnding"&&e[r][1].type!=="space")){for(t=o;++t<r;)if(e[t][1].type==="codeTextData"){e[o][1].type="codeTextPadding",e[r][1].type="codeTextPadding",o+=2,r-=2;break}}for(t=o-1,r++;++t<=r;)n===void 0?t!==r&&e[t][1].type!=="lineEnding"&&(n=t):(t===r||e[t][1].type==="lineEnding")&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}};function tY(e){const t={};let n,r,o,i,a,s,l,c=-1;for(;++c<e.length;){for(;c in t;)c=t[c];if(n=e[c],c&&n[1].type==="chunkFlow"&&e[c-1][1].type==="listItemPrefix"&&(s=n[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,j2e(e,c)),c=t[c],l=!0);else if(n[1]._container){for(o=c,r=void 0;o--&&(i=e[o],i[1].type==="lineEnding"||i[1].type==="lineEndingBlank");)i[0]==="enter"&&(r&&(e[r][1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);r&&(n[1].end=Object.assign({},e[r][1].start),a=e.slice(r,c),a.unshift(n),ls(e,r,c-r+1,a))}}return!l}function j2e(e,t){const n=e[t][1],r=e[t][2];let o=t-1;const i=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,d,p=-1,h=n,m=0,g=0;const f=[g];for(;h;){for(;e[++o][1]!==h;);i.push(o),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(g=p+1,f.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):f.pop(),p=f.length;p--;){const v=s.slice(f[p],f[p+1]),y=i.pop();l.unshift([y,y+v.length-1]),ls(e,y,2,v)}for(p=-1;++p<l.length;)c[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return c}const z2e={tokenize:function(e,t){let n;return function(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(a)};function r(a){return a===null?o(a):Ct(a)?e.check(F2e,i,o)(a):(e.consume(a),r)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return tY(e),e}},F2e={tokenize:function(e,t,n){const r=this;return function(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),_n(e,o,"linePrefix")};function o(i){if(i===null||Ct(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};function nY(e,t,n,r,o,i,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(f){return f===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(f),e.exit(i),d):f===null||f===32||f===41||ZT(f)?n(f):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(f))};function d(f){return f===62?(e.enter(i),e.consume(f),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===62?(e.exit("chunkString"),e.exit(s),d(f)):f===null||f===60||Ct(f)?n(f):(e.consume(f),f===92?h:p)}function h(f){return f===60||f===62||f===92?(e.consume(f),p):p(f)}function m(f){return u||f!==null&&f!==41&&!zo(f)?u<c&&f===40?(e.consume(f),u++,m):f===41?(e.consume(f),u--,m):f===null||f===32||f===40||ZT(f)?n(f):(e.consume(f),f===92?g:m):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(f))}function g(f){return f===40||f===41||f===92?(e.consume(f),m):m(f)}}function rY(e,t,n,r,o,i){const a=this;let s,l=0;return function(p){return e.enter(r),e.enter(o),e.consume(p),e.exit(o),e.enter(i),c};function c(p){return l>999||p===null||p===91||p===93&&!s||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(i),e.enter(o),e.consume(p),e.exit(o),e.exit(r),t):Ct(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===null||p===91||p===93||Ct(p)||l++>999?(e.exit("chunkString"),c(p)):(e.consume(p),s||(s=!an(p)),p===92?d:u)}function d(p){return p===91||p===92||p===93?(e.consume(p),l++,u):u(p)}}function oY(e,t,n,r,o,i){let a;return function(d){return d===34||d===39||d===40?(e.enter(r),e.enter(o),e.consume(d),e.exit(o),a=d===40?41:d,s):n(d)};function s(d){return d===a?(e.enter(o),e.consume(d),e.exit(o),e.exit(r),t):(e.enter(i),l(d))}function l(d){return d===a?(e.exit(i),s(a)):d===null?n(d):Ct(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),_n(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===a||d===null||Ct(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?u:c)}function u(d){return d===a||d===92?(e.consume(d),c):c(d)}}function xf(e,t){let n;return function r(o){return Ct(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):an(o)?_n(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}function ap(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const B2e={name:"definition",tokenize:function(e,t,n){const r=this;let o;return function(d){return e.enter("definition"),function(p){return rY.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}(d)};function i(d){return o=ap(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),a):n(d)}function a(d){return zo(d)?xf(e,s)(d):s(d)}function s(d){return nY(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function l(d){return e.attempt(U2e,c,c)(d)}function c(d){return an(d)?_n(e,u,"whitespace")(d):u(d)}function u(d){return d===null||Ct(d)?(e.exit("definition"),r.parser.defined.push(o),t(d)):n(d)}}},U2e={tokenize:function(e,t,n){return function(a){return zo(a)?xf(e,r)(a):n(a)};function r(a){return oY(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return an(a)?_n(e,i,"whitespace")(a):i(a)}function i(a){return a===null||Ct(a)?t(a):n(a)}},partial:!0},H2e={name:"hardBreakEscape",tokenize:function(e,t,n){return function(o){return e.enter("hardBreakEscape"),e.consume(o),r};function r(o){return Ct(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}},$2e={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(l){return e.enter("atxHeading"),function(c){return e.enter("atxHeadingSequence"),o(c)}(l)};function o(l){return l===35&&r++<6?(e.consume(l),o):l===null||zo(l)?(e.exit("atxHeadingSequence"),i(l)):n(l)}function i(l){return l===35?(e.enter("atxHeadingSequence"),a(l)):l===null||Ct(l)?(e.exit("atxHeading"),t(l)):an(l)?_n(e,i,"whitespace")(l):(e.enter("atxHeadingText"),s(l))}function a(l){return l===35?(e.consume(l),a):(e.exit("atxHeadingSequence"),i(l))}function s(l){return l===null||l===35||zo(l)?(e.exit("atxHeadingText"),i(l)):(e.consume(l),s)}},resolve:function(e,t){let n,r,o=e.length-2,i=3;return e[i][1].type==="whitespace"&&(i+=2),o-2>i&&e[o][1].type==="whitespace"&&(o-=2),e[o][1].type==="atxHeadingSequence"&&(i===o-1||o-4>i&&e[o-2][1].type==="whitespace")&&(o-=i+1===o?2:4),o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},ls(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e}},V2e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iY=["pre","script","style","textarea"],q2e={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let o,i,a,s,l;return function(N){return function(q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(q),c}(N)};function c(N){return N===33?(e.consume(N),u):N===47?(e.consume(N),i=!0,h):N===63?(e.consume(N),o=3,r.interrupt?t:L):cs(N)?(e.consume(N),a=String.fromCharCode(N),m):n(N)}function u(N){return N===45?(e.consume(N),o=2,d):N===91?(e.consume(N),o=5,s=0,p):cs(N)?(e.consume(N),o=4,r.interrupt?t:L):n(N)}function d(N){return N===45?(e.consume(N),r.interrupt?t:L):n(N)}function p(N){return N==="CDATA[".charCodeAt(s++)?(e.consume(N),s===6?r.interrupt?t:T:p):n(N)}function h(N){return cs(N)?(e.consume(N),a=String.fromCharCode(N),m):n(N)}function m(N){if(N===null||N===47||N===62||zo(N)){const q=N===47,J=a.toLowerCase();return q||i||!iY.includes(J)?V2e.includes(a.toLowerCase())?(o=6,q?(e.consume(N),g):r.interrupt?t(N):T(N)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?f(N):v(N)):(o=1,r.interrupt?t(N):T(N))}return N===45||ua(N)?(e.consume(N),a+=String.fromCharCode(N),m):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:T):n(N)}function f(N){return an(N)?(e.consume(N),f):S(N)}function v(N){return N===47?(e.consume(N),S):N===58||N===95||cs(N)?(e.consume(N),y):an(N)?(e.consume(N),v):S(N)}function y(N){return N===45||N===46||N===58||N===95||ua(N)?(e.consume(N),y):b(N)}function b(N){return N===61?(e.consume(N),w):an(N)?(e.consume(N),b):v(N)}function w(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,k):an(N)?(e.consume(N),w):_(N)}function k(N){return N===l?(e.consume(N),l=null,E):N===null||Ct(N)?n(N):(e.consume(N),k)}function _(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||zo(N)?b(N):(e.consume(N),_)}function E(N){return N===47||N===62||an(N)?v(N):n(N)}function S(N){return N===62?(e.consume(N),O):n(N)}function O(N){return N===null||Ct(N)?T(N):an(N)?(e.consume(N),O):n(N)}function T(N){return N===45&&o===2?(e.consume(N),$):N===60&&o===1?(e.consume(N),R):N===62&&o===4?(e.consume(N),C):N===63&&o===3?(e.consume(N),L):N===93&&o===5?(e.consume(N),B):!Ct(N)||o!==6&&o!==7?N===null||Ct(N)?(e.exit("htmlFlowData"),M(N)):(e.consume(N),T):(e.exit("htmlFlowData"),e.check(W2e,V,M)(N))}function M(N){return e.check(K2e,D,V)(N)}function D(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),H}function H(N){return N===null||Ct(N)?M(N):(e.enter("htmlFlowData"),T(N))}function $(N){return N===45?(e.consume(N),L):T(N)}function R(N){return N===47?(e.consume(N),a="",U):T(N)}function U(N){if(N===62){const q=a.toLowerCase();return iY.includes(q)?(e.consume(N),C):T(N)}return cs(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),U):T(N)}function B(N){return N===93?(e.consume(N),L):T(N)}function L(N){return N===62?(e.consume(N),C):N===45&&o===2?(e.consume(N),L):T(N)}function C(N){return N===null||Ct(N)?(e.exit("htmlFlowData"),V(N)):(e.consume(N),C)}function V(N){return e.exit("htmlFlow"),t(N)}},resolveTo:function(e){let t=e.length;for(;t--&&(e[t][0]!=="enter"||e[t][1].type!=="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},W2e={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(uw,t,n)}},partial:!0},K2e={tokenize:function(e,t,n){const r=this;return function(i){return Ct(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}},partial:!0},G2e={name:"htmlText",tokenize:function(e,t,n){const r=this;let o,i,a;return function(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),s};function s(C){return C===33?(e.consume(C),l):C===47?(e.consume(C),w):C===63?(e.consume(C),y):cs(C)?(e.consume(C),E):n(C)}function l(C){return C===45?(e.consume(C),c):C===91?(e.consume(C),i=0,h):cs(C)?(e.consume(C),v):n(C)}function c(C){return C===45?(e.consume(C),p):n(C)}function u(C){return C===null?n(C):C===45?(e.consume(C),d):Ct(C)?(a=u,U(C)):(e.consume(C),u)}function d(C){return C===45?(e.consume(C),p):u(C)}function p(C){return C===62?R(C):C===45?d(C):u(C)}function h(C){return C==="CDATA[".charCodeAt(i++)?(e.consume(C),i===6?m:h):n(C)}function m(C){return C===null?n(C):C===93?(e.consume(C),g):Ct(C)?(a=m,U(C)):(e.consume(C),m)}function g(C){return C===93?(e.consume(C),f):m(C)}function f(C){return C===62?R(C):C===93?(e.consume(C),f):m(C)}function v(C){return C===null||C===62?R(C):Ct(C)?(a=v,U(C)):(e.consume(C),v)}function y(C){return C===null?n(C):C===63?(e.consume(C),b):Ct(C)?(a=y,U(C)):(e.consume(C),y)}function b(C){return C===62?R(C):y(C)}function w(C){return cs(C)?(e.consume(C),k):n(C)}function k(C){return C===45||ua(C)?(e.consume(C),k):_(C)}function _(C){return Ct(C)?(a=_,U(C)):an(C)?(e.consume(C),_):R(C)}function E(C){return C===45||ua(C)?(e.consume(C),E):C===47||C===62||zo(C)?S(C):n(C)}function S(C){return C===47?(e.consume(C),R):C===58||C===95||cs(C)?(e.consume(C),O):Ct(C)?(a=S,U(C)):an(C)?(e.consume(C),S):R(C)}function O(C){return C===45||C===46||C===58||C===95||ua(C)?(e.consume(C),O):T(C)}function T(C){return C===61?(e.consume(C),M):Ct(C)?(a=T,U(C)):an(C)?(e.consume(C),T):S(C)}function M(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,D):Ct(C)?(a=M,U(C)):an(C)?(e.consume(C),M):(e.consume(C),H)}function D(C){return C===o?(e.consume(C),o=void 0,$):C===null?n(C):Ct(C)?(a=D,U(C)):(e.consume(C),D)}function H(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||zo(C)?S(C):(e.consume(C),H)}function $(C){return C===47||C===62||zo(C)?S(C):n(C)}function R(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function U(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),B}function B(C){return an(C)?_n(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):L(C)}function L(C){return e.enter("htmlTextData"),a(C)}}},o3={name:"labelEnd",tokenize:function(e,t,n){const r=this;let o,i,a=r.events.length;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return function(d){return o?o._inactive?u(d):(i=r.parser.defined.includes(ap(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),s):n(d)};function s(d){return d===40?e.attempt(Y2e,c,i?c:u)(d):d===91?e.attempt(Q2e,c,i?l:u)(d):i?c(d):u(d)}function l(d){return e.attempt(J2e,c,u)(d)}function c(d){return t(d)}function u(d){return o._balanced=!0,n(d)}},resolveTo:function(e,t){let n,r,o,i,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if(n.type==="link"||n.type==="labelLink"&&n._inactive)break;e[a][0]==="enter"&&n.type==="labelLink"&&(n._inactive=!0)}else if(o){if(e[a][0]==="enter"&&(n.type==="labelImage"||n.type==="labelLink")&&!n._balanced&&(r=a,n.type!=="labelLink")){s=2;break}}else n.type==="labelEnd"&&(o=a);const l={type:e[r][1].type==="labelLink"?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[o][1].end)},u={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[o-2][1].start)};return i=[["enter",l,t],["enter",c,t]],i=Li(i,e.slice(r+1,r+s+3)),i=Li(i,[["enter",u,t]]),i=Li(i,t3(t.parser.constructs.insideSpan.null,e.slice(r+s+4,o-3),t)),i=Li(i,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),i=Li(i,e.slice(o+1)),i=Li(i,[["exit",l,t]]),ls(e,r,e.length,i),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}},Y2e={tokenize:function(e,t,n){return function(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),r};function r(u){return zo(u)?xf(e,o)(u):o(u)}function o(u){return u===41?c(u):nY(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function i(u){return zo(u)?xf(e,s)(u):c(u)}function a(u){return n(u)}function s(u){return u===34||u===39||u===40?oY(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):c(u)}function l(u){return zo(u)?xf(e,c)(u):c(u)}function c(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}},Q2e={tokenize:function(e,t,n){const r=this;return function(a){return rY.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)};function o(a){return r.parser.defined.includes(ap(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}},J2e={tokenize:function(e,t,n){return function(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),r};function r(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}},X2e={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o};function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}},resolveAll:o3.resolveAll},Z2e={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o};function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}},resolveAll:o3.resolveAll},i3={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_n(e,t,"linePrefix")}}},dw={name:"thematicBreak",tokenize:function(e,t,n){let r,o=0;return function(s){return e.enter("thematicBreak"),function(l){return r=l,i(l)}(s)};function i(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):o>=3&&(s===null||Ct(s))?(e.exit("thematicBreak"),t(s)):n(s)}function a(s){return s===r?(e.consume(s),o++,a):(e.exit("thematicBreakSequence"),an(s)?_n(e,i,"whitespace")(s):i(s))}}},Fo={name:"list",tokenize:function(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return function(p){const h=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:e3(p)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(dw,n,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(p)}return n(p)};function s(p){return e3(p)&&++a<10?(e.consume(p),s):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(uw,r.interrupt?n:c,e.attempt(eke,d,u))}function c(p){return r.containerState.initialBlankLine=!0,i++,d(p)}function u(p){return an(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),d):n(p)}function d(p){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(uw,function(i){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_n(e,t,"listItemIndent",r.containerState.size+1)(i)},function(i){return r.containerState.furtherBlankLines||!an(i)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(i)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tke,t,o)(i))});function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,_n(e,e.attempt(Fo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},eke={tokenize:function(e,t,n){const r=this;return _n(e,function(o){const i=r.events[r.events.length-1];return!an(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},tke={tokenize:function(e,t,n){const r=this;return _n(e,function(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)},"listItemIndent",r.containerState.size+1)},partial:!0},aY={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let o;return function(s){let l,c=r.events.length;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){l=r.events[c][1].type==="paragraph";break}return r.parser.lazy[r.now().line]||!r.interrupt&&!l?n(s):(e.enter("setextHeadingLine"),o=s,function(u){return e.enter("setextHeadingLineSequence"),i(u)}(s))};function i(s){return s===o?(e.consume(s),i):(e.exit("setextHeadingLineSequence"),an(s)?_n(e,a,"lineSuffix")(s):a(s))}function a(s){return s===null||Ct(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}},resolveTo:function(e,t){let n,r,o,i=e.length;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){n=i;break}e[i][1].type==="paragraph"&&(r=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const a={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",a,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=a,e.push(["exit",a,t]),e}},nke={tokenize:function(e){const t=this,n=e.attempt(uw,function(o){return o===null?void e.consume(o):(e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n)},e.attempt(this.parser.constructs.flowInitial,r,_n(e,e.attempt(this.parser.constructs.flow,r,e.attempt(z2e,r)),"linePrefix")));return n;function r(o){if(o!==null)return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(o)}}},rke={resolveAll:lY()},oke=sY("string"),ike=sY("text");function sY(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],o=t.attempt(r,i,a);return i;function i(c){return l(c)?o(c):a(c)}function a(c){if(c!==null)return t.enter("data"),t.consume(c),s;t.consume(c)}function s(c){return l(c)?(t.exit("data"),o(c)):(t.consume(c),s)}function l(c){if(c===null)return!0;const u=r[c];let d=-1;if(u)for(;++d<u.length;){const p=u[d];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}},resolveAll:lY(e==="text"?ake:void 0)}}function lY(e){return function(t,n){let r,o=-1;for(;++o<=t.length;)r===void 0?t[o]&&t[o][1].type==="data"&&(r=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function ake(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i,a=o.length,s=-1,l=0;for(;a--;){const c=o[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(c===-2)i=!0,l++;else if(c!==-1){a++;break}}if(l){const c={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function ske(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},i=[];let a=[],s=[];const l={consume:function(y){Ct(y)?(r.line++,r.column=1,r.offset+=y===-3?2:1,v()):y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=y},enter:function(y,b){const w=b||{};return w.type=y,w.start=p(),c.events.push(["enter",w,c]),s.push(w),w},exit:function(y){const b=s.pop();return b.end=p(),c.events.push(["exit",b,c]),b},attempt:g(function(y,b){f(y,b.from)}),check:g(m),interrupt:g(m,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:function(y,b){return function(w,k){let _=-1;const E=[];let S;for(;++_<w.length;){const O=w[_];let T;if(typeof O=="string")T=O;else switch(O){case-5:T="\r";break;case-4:T=`
`;break;case-3:T=`\r
`;break;case-2:T=k?" ":"	";break;case-1:if(!k&&S)continue;T=" ";break;default:T=String.fromCharCode(O)}S=O===-2,E.push(T)}return E.join("")}(d(y),b)},now:p,defineSkip:function(y){o[y.line]=y.column,v()},write:function(y){return a=Li(a,y),function(){let b;for(;r._index<a.length;){const w=a[r._index];if(typeof w=="string")for(b=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===b&&r._bufferIndex<w.length;)h(w.charCodeAt(r._bufferIndex));else h(w)}}(),a[a.length-1]!==null?[]:(f(t,0),c.events=t3(i,c.events,c),c.events)}};let u=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function d(y){return function(b,w){const k=w.start._index,_=w.start._bufferIndex,E=w.end._index,S=w.end._bufferIndex;let O;if(k===E)O=[b[k].slice(_,S)];else{if(O=b.slice(k,E),_>-1){const T=O[0];typeof T=="string"?O[0]=T.slice(_):O.shift()}S>0&&O.push(b[E].slice(0,S))}return O}(a,y)}function p(){const{line:y,column:b,offset:w,_index:k,_bufferIndex:_}=r;return{line:y,column:b,offset:w,_index:k,_bufferIndex:_}}function h(y){u=u(y)}function m(y,b){b.restore()}function g(y,b){return function(w,k,_){let E,S,O,T;return Array.isArray(w)?M(w):"tokenize"in w?M([w]):function(R){return U;function U(B){const L=B!==null&&R[B],C=B!==null&&R.null;return M([...Array.isArray(L)?L:L?[L]:[],...Array.isArray(C)?C:C?[C]:[]])(B)}}(w);function M(R){return E=R,S=0,R.length===0?_:D(R[S])}function D(R){return function(U){return T=function(){const B=p(),L=c.previous,C=c.currentConstruct,V=c.events.length,N=Array.from(s);return{restore:q,from:V};function q(){r=B,c.previous=L,c.currentConstruct=C,c.events.length=V,s=N,v()}}(),O=R,R.partial||(c.currentConstruct=R),R.name&&c.parser.constructs.disable.null.includes(R.name)?$():R.tokenize.call(b?Object.assign(Object.create(c),b):c,l,H,$)(U)}}function H(R){return y(O,T),k}function $(R){return T.restore(),++S<E.length?D(E[S]):_}}}function f(y,b){y.resolveAll&&!i.includes(y)&&i.push(y),y.resolve&&ls(c.events,b,c.events.length-b,y.resolve(c.events.slice(b),c)),y.resolveTo&&(c.events=y.resolveTo(c.events,c))}function v(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}const lke={42:Fo,43:Fo,45:Fo,48:Fo,49:Fo,50:Fo,51:Fo,52:Fo,53:Fo,54:Fo,55:Fo,56:Fo,57:Fo,62:YG},cke={91:B2e},uke={[-2]:r3,[-1]:r3,32:r3},dke={35:$2e,42:dw,45:[aY,dw],60:q2e,61:aY,95:dw,96:eY,126:eY},hke={38:XG,92:QG},pke={[-5]:i3,[-4]:i3,[-3]:i3,33:X2e,38:XG,42:n3,60:[M2e,G2e],91:Z2e,92:[H2e,QG],93:o3,95:n3,96:L2e},mke={null:[n3,rke]},fke=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:cke,disable:{null:[]},document:lke,flow:dke,flowInitial:uke,insideSpan:mke,string:hke,text:pke},Symbol.toStringTag,{value:"Module"}));function gke(e){const t=function(o){const i={};let a=-1;for(;++a<o.length;)S2e(i,o[a]);return i}([fke,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:t,content:r(I2e),document:r(R2e),flow:r(nke),string:r(oke),text:r(ike)};return n;function r(o){return function(i){return ske(n,o,i)}}}const cY=/[\0\t\n\r]/g;function uY(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||(65535&n)==65534||n>1114111?"":String.fromCharCode(n)}const vke=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bke(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return uY(n.slice(o?2:1),o?16:10)}return Lu(n)||e}const dY={}.hasOwnProperty,yke=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),function(r){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Qe),autolinkProtocol:$,autolinkEmail:$,atxHeading:u(Re),blockQuote:u(me),characterEscape:$,characterReference:$,codeFenced:u(pe),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(pe,d),codeText:u(Ie,d),codeTextData:$,data:$,codeFlowValue:$,definition:u(xe),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(Ee),hardBreakEscape:u(Be),hardBreakTrailing:u(Be),htmlFlow:u(it,d),htmlFlowData:$,htmlText:u(it,d),htmlTextData:$,image:u(at),label:d,link:u(Qe),listItem:u(Me),listItemValue:v,listOrdered:u(Je,f),listUnordered:u(Je),paragraph:u(He),reference:ue,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(Re),strong:u(Ue),thematicBreak:u(ce)},exit:{atxHeading:h(),atxHeadingSequence:T,autolink:h(),autolinkEmail:be,autolinkProtocol:Ce,blockQuote:h(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:he,codeFenced:h(k),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:R,codeIndented:h(_),codeText:h(V),codeTextData:R,data:R,definition:h(),definitionDestinationString:O,definitionLabelString:E,definitionTitleString:S,emphasis:h(),hardBreakEscape:h(B),hardBreakTrailing:h(B),htmlFlow:h(L),htmlFlowData:R,htmlText:h(C),htmlTextData:R,image:h(q),label:Q,labelText:J,lineEnding:U,link:h(N),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:de,resourceDestinationString:te,resourceTitleString:X,resource:ee,setextHeading:h(H),setextHeadingLineSequence:D,setextHeadingText:M,strong:h(),thematicBreak:h()}};hY(o,(r||{}).mdastExtensions||[]);const i={};return a;function a(re){let fe={type:"root",children:[]};const ve={stack:[fe],tokenStack:[],config:o,enter:p,exit:m,buffer:d,resume:g,setData:l,getData:c},De=[];let Xe=-1;for(;++Xe<re.length;)(re[Xe][1].type==="listOrdered"||re[Xe][1].type==="listUnordered")&&(re[Xe][0]==="enter"?De.push(Xe):Xe=s(re,De.pop(),Xe));for(Xe=-1;++Xe<re.length;){const ht=o[re[Xe][0]];dY.call(ht,re[Xe][1].type)&&ht[re[Xe][1].type].call(Object.assign({sliceSerialize:re[Xe][2].sliceSerialize},ve),re[Xe][1])}if(ve.tokenStack.length>0){const ht=ve.tokenStack[ve.tokenStack.length-1];(ht[1]||pY).call(ve,void 0,ht[0])}for(fe.position={start:pc(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:pc(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<o.transforms.length;)fe=o.transforms[Xe](fe)||fe;return fe}function s(re,fe,ve){let De,Xe,ht,nt,Ze=fe-1,vt=-1,lt=!1;for(;++Ze<=ve;){const qe=re[Ze];if(qe[1].type==="listUnordered"||qe[1].type==="listOrdered"||qe[1].type==="blockQuote"?(qe[0]==="enter"?vt++:vt--,nt=void 0):qe[1].type==="lineEndingBlank"?qe[0]==="enter"&&(De&&!nt&&!vt&&!ht&&(ht=Ze),nt=void 0):qe[1].type==="linePrefix"||qe[1].type==="listItemValue"||qe[1].type==="listItemMarker"||qe[1].type==="listItemPrefix"||qe[1].type==="listItemPrefixWhitespace"||(nt=void 0),!vt&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||vt===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(De){let ot=Ze;for(Xe=void 0;ot--;){const yt=re[ot];if(yt[1].type==="lineEnding"||yt[1].type==="lineEndingBlank"){if(yt[0]==="exit")continue;Xe&&(re[Xe][1].type="lineEndingBlank",lt=!0),yt[1].type="lineEnding",Xe=ot}else if(yt[1].type!=="linePrefix"&&yt[1].type!=="blockQuotePrefix"&&yt[1].type!=="blockQuotePrefixWhitespace"&&yt[1].type!=="blockQuoteMarker"&&yt[1].type!=="listItemIndent")break}ht&&(!Xe||ht<Xe)&&(De._spread=!0),De.end=Object.assign({},Xe?re[Xe][1].start:qe[1].end),re.splice(Xe||Ze,0,["exit",De,qe[2]]),Ze++,ve++}qe[1].type==="listItemPrefix"&&(De={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0},re.splice(Ze,0,["enter",De,qe[2]]),Ze++,ve++,ht=void 0,nt=!0)}}return re[fe][1]._spread=lt,ve}function l(re,fe){i[re]=fe}function c(re){return i[re]}function u(re,fe){return ve;function ve(De){p.call(this,re(De),De),fe&&fe.call(this,De)}}function d(){this.stack.push({type:"fragment",children:[]})}function p(re,fe,ve){return this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([fe,ve]),re.position={start:pc(fe.start)},re}function h(re){return fe;function fe(ve){re&&re.call(this,ve),m.call(this,ve)}}function m(re,fe){const ve=this.stack.pop(),De=this.tokenStack.pop();if(!De)throw new Error("Cannot close `"+re.type+"` ("+yf({start:re.start,end:re.end})+"): its not open");return De[0].type!==re.type&&(fe?fe.call(this,re,De[0]):(De[1]||pY).call(this,re,De[0])),ve.position.end=pc(re.end),ve}function g(){return function(re){return $G(re,typeof cw.includeImageAlt!="boolean"||cw.includeImageAlt,typeof cw.includeHtml!="boolean"||cw.includeHtml)}(this.stack.pop())}function f(){l("expectingFirstListItemValue",!0)}function v(re){c("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(re),10),l("expectingFirstListItemValue"))}function y(){const re=this.resume();this.stack[this.stack.length-1].lang=re}function b(){const re=this.resume();this.stack[this.stack.length-1].meta=re}function w(){c("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function k(){const re=this.resume();this.stack[this.stack.length-1].value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function _(){const re=this.resume();this.stack[this.stack.length-1].value=re.replace(/(\r?\n|\r)$/g,"")}function E(re){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.label=fe,ve.identifier=ap(this.sliceSerialize(re)).toLowerCase()}function S(){const re=this.resume();this.stack[this.stack.length-1].title=re}function O(){const re=this.resume();this.stack[this.stack.length-1].url=re}function T(re){const fe=this.stack[this.stack.length-1];if(!fe.depth){const ve=this.sliceSerialize(re).length;fe.depth=ve}}function M(){l("setextHeadingSlurpLineEnding",!0)}function D(re){this.stack[this.stack.length-1].depth=this.sliceSerialize(re).charCodeAt(0)===61?1:2}function H(){l("setextHeadingSlurpLineEnding")}function $(re){const fe=this.stack[this.stack.length-1];let ve=fe.children[fe.children.length-1];(!ve||ve.type!=="text")&&(ve=Ve(),ve.position={start:pc(re.start)},fe.children.push(ve)),this.stack.push(ve)}function R(re){const fe=this.stack.pop();fe.value+=this.sliceSerialize(re),fe.position.end=pc(re.end)}function U(re){const fe=this.stack[this.stack.length-1];if(c("atHardBreak"))return fe.children[fe.children.length-1].position.end=pc(re.end),void l("atHardBreak");!c("setextHeadingSlurpLineEnding")&&o.canContainEols.includes(fe.type)&&($.call(this,re),R.call(this,re))}function B(){l("atHardBreak",!0)}function L(){const re=this.resume();this.stack[this.stack.length-1].value=re}function C(){const re=this.resume();this.stack[this.stack.length-1].value=re}function V(){const re=this.resume();this.stack[this.stack.length-1].value=re}function N(){const re=this.stack[this.stack.length-1];if(c("inReference")){const fe=c("referenceType")||"shortcut";re.type+="Reference",re.referenceType=fe,delete re.url,delete re.title}else delete re.identifier,delete re.label;l("referenceType")}function q(){const re=this.stack[this.stack.length-1];if(c("inReference")){const fe=c("referenceType")||"shortcut";re.type+="Reference",re.referenceType=fe,delete re.url,delete re.title}else delete re.identifier,delete re.label;l("referenceType")}function J(re){const fe=this.sliceSerialize(re),ve=this.stack[this.stack.length-2];ve.label=function(De){return De.replace(vke,bke)}(fe),ve.identifier=ap(fe).toLowerCase()}function Q(){const re=this.stack[this.stack.length-1],fe=this.resume(),ve=this.stack[this.stack.length-1];if(l("inReference",!0),ve.type==="link"){const De=re.children;ve.children=De}else ve.alt=fe}function te(){const re=this.resume();this.stack[this.stack.length-1].url=re}function X(){const re=this.resume();this.stack[this.stack.length-1].title=re}function ee(){l("inReference")}function ue(){l("referenceType","collapsed")}function de(re){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.label=fe,ve.identifier=ap(this.sliceSerialize(re)).toLowerCase(),l("referenceType","full")}function ge(re){l("characterReferenceType",re.type)}function he(re){const fe=this.sliceSerialize(re),ve=c("characterReferenceType");let De;ve?(De=uY(fe,ve==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):De=Lu(fe);const Xe=this.stack.pop();Xe.value+=De,Xe.position.end=pc(re.end)}function Ce(re){R.call(this,re),this.stack[this.stack.length-1].url=this.sliceSerialize(re)}function be(re){R.call(this,re),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(re)}function me(){return{type:"blockquote",children:[]}}function pe(){return{type:"code",lang:null,meta:null,value:""}}function Ie(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function Re(){return{type:"heading",depth:void 0,children:[]}}function Be(){return{type:"break"}}function it(){return{type:"html",value:""}}function at(){return{type:"image",title:null,url:"",alt:null}}function Qe(){return{type:"link",title:null,url:"",children:[]}}function Je(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function Me(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function He(){return{type:"paragraph",children:[]}}function Ue(){return{type:"strong",children:[]}}function Ve(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}(n)(function(r){for(;!tY(r););return r}(gke(n).document().write(function(){let r,o=1,i="",a=!0;return function(s,l,c){const u=[];let d,p,h,m,g;for(s=i+s.toString(l),h=0,i="",a&&(s.charCodeAt(0)===65279&&h++,a=void 0);h<s.length;){if(cY.lastIndex=h,d=cY.exec(s),m=d&&d.index!==void 0?d.index:s.length,g=s.charCodeAt(m),!d){i=s.slice(h);break}if(g===10&&h===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),h<m&&(u.push(s.slice(h,m)),o+=m-h),g){case 0:u.push(65533),o++;break;case 9:for(p=4*Math.ceil(o/4),u.push(-2);o++<p;)u.push(-1);break;case 10:u.push(-4),o=1;break;default:r=!0,o=1}h=m+1}return c&&(r&&u.push(-5),i&&u.push(i),u.push(null)),u}}()(e,t,!0))))};function pc(e){return{line:e.line,column:e.column,offset:e.offset}}function hY(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?hY(e,r):wke(e,r)}}function wke(e,t){let n;for(n in t)if(dY.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function pY(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+yf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+yf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+yf({start:t.start,end:t.end})+") is still open")}function kke(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return yke(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const mY=function(e){return function(t){return t!==null&&e.test(String.fromCharCode(t))}}(/[\dA-Za-z]/);function sp(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(i===37&&mY(e.charCodeAt(n+1))&&mY(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(a=String.fromCharCode(i,s),o=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+o+1,a=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function fY(e,t){const n=String(t.identifier).toUpperCase(),r=sp(n.toLowerCase()),o=e.footnoteOrder.indexOf(n);let i;o===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,i=e.footnoteOrder.length):(e.footnoteCounts[n]++,i=o+1);const a=e.footnoteCounts[n],s={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,s);const l={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,l),e.applyData(t,l)}function gY(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const a=o[o.length-1];return a&&a.type==="text"?a.value+=r:o.push({type:"text",value:r}),o}function vY(e){const t=e.spread;return t??e.children.length>1}const a3=bY("start"),s3=bY("end");function bY(e){return function(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}function _ke(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(yY(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(yY(t.slice(o),o>0,!1)),i.join("")}function yY(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===9||i===32;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===9||i===32;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}const xke={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]},code:function(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,o={};r&&(o.className=["language-"+r]);let i={type:"element",tagName:"code",properties:o,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:fY,footnote:function(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const o=String(r);return n[o]={type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:t.children}],position:t.position},fY(e,{type:"footnoteReference",identifier:o,position:t.position})},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null},imageReference:function(e,t){const n=e.definition(t.identifier);if(!n)return gY(e,t);const r={src:sp(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:sp(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=e.definition(t.identifier);if(!n)return gY(e,t);const r={href:sp(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:sp(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),o=n?function(u){let d=!1;if(u.type==="list"){d=u.spread||!1;const p=u.children;let h=-1;for(;!d&&++h<p.length;)d=vY(p[h])}return d}(n):vY(t),i={},a=[];if(typeof t.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(o||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type!=="element"||u.tagName!=="p"||o?a.push(u):a.push(...u.children)}const l=r[r.length-1];l&&(o||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const a=r[o];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),o.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=a3(t.children[1]),l=s3(t.children[t.children.length-1]);s.line&&l.line&&(a.position={start:s,end:l}),o.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,a=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const u=t.children[s],d={},p=i?i[s]:void 0;p&&(d.align=p);let h={type:"element",tagName:o,properties:d,children:[]};u&&(h.children=e.all(u),e.patch(u,h),h=e.applyData(t,h)),l.push(h)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:_ke(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:hw,yaml:hw,definition:hw,footnoteDefinition:hw};function hw(){return null}const Cke=function(e){return function(t){return function(r){return o;function o(i,...a){return!!(i&&typeof i=="object"&&"type"in i&&r.call(this,i,...a))}}(n);function n(r){return r&&r.type===t}}(e)},Ske=!0,wY=!1,Tke=function(e,t,n,r){const o=Cke(t);(function i(a,s,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(d?"<"+d+">":"")+")"})}return u;function u(){let d,p,h,m=[];if(o(a,s,l[l.length-1]||null)&&(m=function(g){return Array.isArray(g)?g:typeof g=="number"?[Ske,g]:[g]}(n(a,l)),m[0]===wY))return m;if(a.children&&m[0]!=="skip")for(p=0,h=l.concat(a);p>-1&&p<a.children.length;){if(d=i(a.children[p],p,h)(),d[0]===wY)return d;p=typeof d[1]=="number"?d[1]:p+1}return m}})(e,void 0,[])()},Eke=function(e){return function(t){return function(r){return o;function o(i,...a){return!!(i&&typeof i=="object"&&"type"in i&&r.call(this,i,...a))}}(n);function n(r){return r&&r.type===t}}(e)},Oke=!0,kY=!1,Ake=function(e,t,n,r){const o=Eke(t);(function i(a,s,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(d?"<"+d+">":"")+")"})}return u;function u(){let d,p,h,m=[];if(o(a,s,l[l.length-1]||null)&&(m=function(g){return Array.isArray(g)?g:typeof g=="number"?[Oke,g]:[g]}(n(a,l)),m[0]===kY))return m;if(a.children&&m[0]!=="skip")for(p=0,h=l.concat(a);p>-1&&p<a.children.length;){if(d=i(a.children[p],p,h)(),d[0]===kY)return d;p=typeof d[1]=="number"?d[1]:p+1}return m}})(e,void 0,[])()},_Y={}.hasOwnProperty;function Pke(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return function(n,r,o){Ake(n,r,function(i,a){const s=a[a.length-1];return o(i,s?s.children.indexOf(i):null,s)})}(e,"definition",n=>{const r=xY(n.identifier);r&&!_Y.call(t,r)&&(t[r]=n)}),function(n){const r=xY(n);return r&&_Y.call(t,r)?t[r]:null}}function xY(e){return String(e||"").toUpperCase()}const pw={}.hasOwnProperty;function Nke(e,t){const n=t||{},r=n.allowDangerousHtml||!1,o={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers=I(I({},xke),n.handlers),a.definition=Pke(e),a.footnoteById=o,a.footnoteOrder=[],a.footnoteCounts={},a.patch=Ike,a.applyData=Rke,a.one=function(s,l){return CY(a,s,l)},a.all=function(s){return l3(a,s)},a.wrap=Mke,a.augment=i,function(s,l,c){Tke(s,l,function(u,d){const p=d[d.length-1];return c(u,p?p.children.indexOf(u):null,p)})}(e,"footnoteDefinition",s=>{const l=String(s.identifier).toUpperCase();pw.call(o,l)||(o[l]=s)}),a;function i(s,l){if(s&&"data"in s&&s.data){const c=s.data;c.hName&&(l.type!=="element"&&(l={type:"element",tagName:"",properties:{},children:[]}),l.tagName=c.hName),l.type==="element"&&c.hProperties&&(l.properties=I(I({},l.properties),c.hProperties)),"children"in l&&l.children&&c.hChildren&&(l.children=c.hChildren)}if(s){const c="type"in s?s:{position:s};(function(u){return!(u&&u.position&&u.position.start&&u.position.start.line&&u.position.start.column&&u.position.end&&u.position.end.line&&u.position.end.column)})(c)||(l.position={start:a3(c),end:s3(c)})}return l}function a(s,l,c,u){return Array.isArray(c)&&(u=c,c={}),i(s,{type:"element",tagName:l,properties:c||{},children:u||[]})}}function Ike(e,t){e.position&&(t.position=function(n){return{start:a3(n),end:s3(n)}}(e))}function Rke(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&i&&(n.properties=I(I({},n.properties),i)),"children"in n&&n.children&&o!=null&&(n.children=o)}return n}function CY(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return pw.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?K(I({},t),{children:l3(e,t)}):t:e.unknownHandler?e.unknownHandler(e,t,n):function(o,i){const a=i.data||{},s=!("value"in i)||pw.call(a,"hProperties")||pw.call(a,"hChildren")?{type:"element",tagName:"div",properties:{},children:l3(o,i)}:{type:"text",value:i.value};return o.patch(i,s),o.applyData(i,s)}(e,t)}function l3(e,t){const n=[];if("children"in t){const r=t.children;let o=-1;for(;++o<r.length;){const i=CY(e,r[o],t);if(i){if(o&&r[o-1].type==="break"&&(!Array.isArray(i)&&i.type==="text"&&(i.value=i.value.replace(/^\s+/,"")),!Array.isArray(i)&&i.type==="element")){const a=i.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(i)?n.push(...i):n.push(i)}}}return n}function Mke(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function SY(e,t){const n=Nke(e,t),r=n.one(e,null),o=function(i){const a=[];let s=-1;for(;++s<i.footnoteOrder.length;){const l=i.footnoteById[i.footnoteOrder[s]];if(!l)continue;const c=i.all(l),u=String(l.identifier).toUpperCase(),d=sp(u.toLowerCase());let p=0;const h=[];for(;++p<=i.footnoteCounts[u];){const f={type:"element",tagName:"a",properties:{href:"#"+i.clobberPrefix+"fnref-"+d+(p>1?"-"+p:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:i.footnoteBackLabel},children:[{type:"text",value:""}]};p>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(p)}]}),h.length>0&&h.push({type:"text",value:" "}),h.push(f)}const m=c[c.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const f=m.children[m.children.length-1];f&&f.type==="text"?f.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...h)}else c.push(...h);const g={type:"element",tagName:"li",properties:{id:i.clobberPrefix+"fn-"+d},children:i.wrap(c,!0)};i.patch(l,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i.footnoteLabelTagName,properties:K(I({},JSON.parse(JSON.stringify(i.footnoteLabelProperties))),{id:"footnote-label"}),children:[{type:"text",value:i.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:i.wrap(a,!0)},{type:"text",value:`
`}]}}(n);return o&&r.children.push({type:"text",value:`
`},o),Array.isArray(r)?{type:"root",children:r}:r}const Dke=function(e,t){return e&&"run"in e?function(n,r){return(o,i,a)=>{n.run(SY(o,r),i,s=>{a(s)})}}(e,t):function(n){return r=>SY(r,n)}(e||t)};var TY,EY,c3,OY,AY,PY={exports:{}};function Lke(){return EY?TY:(EY=1,TY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function jke(){if(OY)return c3;OY=1;var e=Lke();function t(){}function n(){}return n.resetWarningCache=t,c3=function(){function r(a,s,l,c,u,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}function o(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},c3}function zke(){return AY||(AY=1,PY.exports=jke()()),PY.exports}const Ot=$r(zke());class Cf{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}function NY(e,t){const n={},r={};let o=-1;for(;++o<e.length;)Object.assign(n,e[o].property),Object.assign(r,e[o].normal);return new Cf(n,r,t)}function Sf(e){return e.toLowerCase()}Cf.prototype.property={},Cf.prototype.normal={},Cf.prototype.space=null;class ji{constructor(t,n){this.property=t,this.attribute=n}}ji.prototype.space=null,ji.prototype.boolean=!1,ji.prototype.booleanish=!1,ji.prototype.overloadedBoolean=!1,ji.prototype.number=!1,ji.prototype.commaSeparated=!1,ji.prototype.spaceSeparated=!1,ji.prototype.commaOrSpaceSeparated=!1,ji.prototype.mustUseProperty=!1,ji.prototype.defined=!1;let Fke=0;const Rt=ju(),ar=ju(),IY=ju(),Ye=ju(),xn=ju(),lp=ju(),pi=ju();function ju(){return 2**++Fke}const u3=Object.freeze(Object.defineProperty({__proto__:null,boolean:Rt,booleanish:ar,commaOrSpaceSeparated:pi,commaSeparated:lp,number:Ye,overloadedBoolean:IY,spaceSeparated:xn},Symbol.toStringTag,{value:"Module"})),d3=Object.keys(u3);class h3 extends ji{constructor(t,n,r,o){let i=-1;if(super(t,n),RY(this,"space",o),typeof r=="number")for(;++i<d3.length;){const a=d3[i];RY(this,d3[i],(r&u3[a])===u3[a])}}}function RY(e,t,n){n&&(e[t]=n)}h3.prototype.defined=!0;const Bke={}.hasOwnProperty;function cp(e){const t={},n={};let r;for(r in e.properties)if(Bke.call(e.properties,r)){const o=e.properties[r],i=new h3(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Sf(r)]=r,n[Sf(i.attribute)]=r}return new Cf(t,n,e.space)}const MY=cp({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),DY=cp({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function LY(e,t){return t in e?e[t]:t}function jY(e,t){return LY(e,t.toLowerCase())}const zY=cp({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:jY,properties:{xmlns:null,xmlnsXLink:null}}),FY=cp({transform:(e,t)=>t==="role"?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:ar,ariaAutoComplete:null,ariaBusy:ar,ariaChecked:ar,ariaColCount:Ye,ariaColIndex:Ye,ariaColSpan:Ye,ariaControls:xn,ariaCurrent:null,ariaDescribedBy:xn,ariaDetails:null,ariaDisabled:ar,ariaDropEffect:xn,ariaErrorMessage:null,ariaExpanded:ar,ariaFlowTo:xn,ariaGrabbed:ar,ariaHasPopup:null,ariaHidden:ar,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xn,ariaLevel:Ye,ariaLive:null,ariaModal:ar,ariaMultiLine:ar,ariaMultiSelectable:ar,ariaOrientation:null,ariaOwns:xn,ariaPlaceholder:null,ariaPosInSet:Ye,ariaPressed:ar,ariaReadOnly:ar,ariaRelevant:null,ariaRequired:ar,ariaRoleDescription:xn,ariaRowCount:Ye,ariaRowIndex:Ye,ariaRowSpan:Ye,ariaSelected:ar,ariaSetSize:Ye,ariaSort:null,ariaValueMax:Ye,ariaValueMin:Ye,ariaValueNow:Ye,ariaValueText:null,role:null}}),Uke=cp({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:jY,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lp,acceptCharset:xn,accessKey:xn,action:null,allow:null,allowFullScreen:Rt,allowPaymentRequest:Rt,allowUserMedia:Rt,alt:null,as:null,async:Rt,autoCapitalize:null,autoComplete:xn,autoFocus:Rt,autoPlay:Rt,blocking:xn,capture:null,charSet:null,checked:Rt,cite:null,className:xn,cols:Ye,colSpan:null,content:null,contentEditable:ar,controls:Rt,controlsList:xn,coords:Ye|lp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Rt,defer:Rt,dir:null,dirName:null,disabled:Rt,download:IY,draggable:ar,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Rt,formTarget:null,headers:xn,height:Ye,hidden:Rt,high:Ye,href:null,hrefLang:null,htmlFor:xn,httpEquiv:xn,id:null,imageSizes:null,imageSrcSet:null,inert:Rt,inputMode:null,integrity:null,is:null,isMap:Rt,itemId:null,itemProp:xn,itemRef:xn,itemScope:Rt,itemType:xn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Rt,low:Ye,manifest:null,max:null,maxLength:Ye,media:null,method:null,min:null,minLength:Ye,multiple:Rt,muted:Rt,name:null,nonce:null,noModule:Rt,noValidate:Rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Rt,optimum:Ye,pattern:null,ping:xn,placeholder:null,playsInline:Rt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Rt,referrerPolicy:null,rel:xn,required:Rt,reversed:Rt,rows:Ye,rowSpan:Ye,sandbox:xn,scope:null,scoped:Rt,seamless:Rt,selected:Rt,shadowRootClonable:Rt,shadowRootDelegatesFocus:Rt,shadowRootMode:null,shape:null,size:Ye,sizes:null,slot:null,span:Ye,spellCheck:ar,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ye,step:null,style:null,tabIndex:Ye,target:null,title:null,translate:null,type:null,typeMustMatch:Rt,useMap:null,value:ar,width:Ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xn,axis:null,background:null,bgColor:null,border:Ye,borderColor:null,bottomMargin:Ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Rt,declare:Rt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ye,leftMargin:Ye,link:null,longDesc:null,lowSrc:null,marginHeight:Ye,marginWidth:Ye,noResize:Rt,noHref:Rt,noShade:Rt,noWrap:Rt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ye,rules:null,scheme:null,scrolling:ar,standby:null,summary:null,text:null,topMargin:Ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Rt,disableRemotePlayback:Rt,prefix:null,property:null,results:Ye,security:null,unselectable:null}}),Hke=cp({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:LY,properties:{about:pi,accentHeight:Ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ye,amplitude:Ye,arabicForm:null,ascent:Ye,attributeName:null,attributeType:null,azimuth:Ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ye,by:null,calcMode:null,capHeight:Ye,className:xn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ye,diffuseConstant:Ye,direction:null,display:null,dur:null,divisor:Ye,dominantBaseline:null,download:Rt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ye,enableBackground:null,end:null,event:null,exponent:Ye,externalResourcesRequired:null,fill:null,fillOpacity:Ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lp,g2:lp,glyphName:lp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ye,horizOriginX:Ye,horizOriginY:Ye,id:null,ideographic:Ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ye,k:Ye,k1:Ye,k2:Ye,k3:Ye,k4:Ye,kernelMatrix:pi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ye,overlineThickness:Ye,paintOrder:null,panose1:null,path:null,pathLength:Ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ye,pointsAtY:Ye,pointsAtZ:Ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pi,rev:pi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pi,requiredFeatures:pi,requiredFonts:pi,requiredFormats:pi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ye,specularExponent:Ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ye,strikethroughThickness:Ye,string:null,stroke:null,strokeDashArray:pi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ye,strokeOpacity:Ye,strokeWidth:null,style:null,surfaceScale:Ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pi,tabIndex:Ye,tableValues:null,target:null,targetX:Ye,targetY:Ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ye,underlineThickness:Ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ye,values:null,vAlphabetic:Ye,vMathematical:Ye,vectorEffect:null,vHanging:Ye,vIdeographic:Ye,version:null,vertAdvY:Ye,vertOriginX:Ye,vertOriginY:Ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),$ke=/^data[-\w.:]+$/i,BY=/-[a-z]/g,Vke=/[A-Z]/g;function mw(e,t){const n=Sf(t);let r=t,o=ji;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$ke.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(BY,Wke);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!BY.test(i)){let a=i.replace(Vke,qke);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}o=h3}return new o(r,t)}function qke(e){return"-"+e.toLowerCase()}function Wke(e){return e.charAt(1).toUpperCase()}const UY={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Tf=NY([DY,MY,zY,FY,Uke],"html"),Ef=NY([DY,MY,zY,FY,Hke],"svg"),Kke=function(e){return function(t){return function(r){return o;function o(i,...a){return!!(i&&typeof i=="object"&&"type"in i&&r.call(this,i,...a))}}(n);function n(r){return r&&r.type===t}}(e)},Gke=!0,HY=!1,Yke=function(e,t,n,r){const o=Kke(t);(function i(a,s,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(d?"<"+d+">":"")+")"})}return u;function u(){let d,p,h,m=[];if(o(a,s,l[l.length-1]||null)&&(m=function(g){return Array.isArray(g)?g:typeof g=="number"?[Gke,g]:[g]}(n(a,l)),m[0]===HY))return m;if(a.children&&m[0]!=="skip")for(p=0,h=l.concat(a);p>-1&&p<a.children.length;){if(d=i(a.children[p],p,h)(),d[0]===HY)return d;p=typeof d[1]=="number"?d[1]:p+1}return m}})(e,void 0,[])()};function Qke(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{(function(n,r,o){Yke(n,r,function(i,a){const s=a[a.length-1];return o(i,s?s.children.indexOf(i):null,s)})})(t,"element",(n,r,o)=>{const i=o;let a;if(e.allowedElements?a=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(n.tagName)),!a&&e.allowElement&&typeof r=="number"&&(a=!e.allowElement(n,r,i)),a&&typeof r=="number")return e.unwrapDisallowed&&n.children?i.children.splice(r,1,...n.children):i.children.splice(r,1),r})}}var $Y,VY,qY={exports:{}},dn={};/**
     * @license React
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var Jke=(VY||(VY=1,qY.exports=function(){if($Y)return dn;$Y=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(f){if(typeof f=="object"&&f!==null){var v=f.$$typeof;switch(v){case t:switch(f=f.type){case r:case i:case o:case u:case d:return f;default:switch(f=f&&f.$$typeof){case l:case s:case c:case h:case p:case a:return f;default:return v}}case n:return v}}}return e=Symbol.for("react.module.reference"),dn.ContextConsumer=s,dn.ContextProvider=a,dn.Element=t,dn.ForwardRef=c,dn.Fragment=r,dn.Lazy=h,dn.Memo=p,dn.Portal=n,dn.Profiler=i,dn.StrictMode=o,dn.Suspense=u,dn.SuspenseList=d,dn.isAsyncMode=function(){return!1},dn.isConcurrentMode=function(){return!1},dn.isContextConsumer=function(f){return g(f)===s},dn.isContextProvider=function(f){return g(f)===a},dn.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===t},dn.isForwardRef=function(f){return g(f)===c},dn.isFragment=function(f){return g(f)===r},dn.isLazy=function(f){return g(f)===h},dn.isMemo=function(f){return g(f)===p},dn.isPortal=function(f){return g(f)===n},dn.isProfiler=function(f){return g(f)===i},dn.isStrictMode=function(f){return g(f)===o},dn.isSuspense=function(f){return g(f)===u},dn.isSuspenseList=function(f){return g(f)===d},dn.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===r||f===i||f===o||f===u||f===d||f===m||typeof f=="object"&&f!==null&&(f.$$typeof===h||f.$$typeof===p||f.$$typeof===a||f.$$typeof===s||f.$$typeof===c||f.$$typeof===e||f.getModuleId!==void 0)},dn.typeOf=g,dn}()),qY.exports);const Xke=$r(Jke);function Zke(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function WY(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function KY(e){return e.join(" ").trim()}function GY(e){const t=[],n=String(e||"");let r=n.indexOf(","),o=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const a=n.slice(o,r).trim();(a||!i)&&t.push(a),o=r+1,r=n.indexOf(",",o)}return t}function YY(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var p3,QY,JY,fw={exports:{}},e_e=function(){if(JY)return fw.exports;JY=1;var e=function(){if(QY)return p3;QY=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,o=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,u="";function d(p){return p?p.replace(c,u):u}return p3=function(p,h){if(typeof p!="string")throw new TypeError("First argument must be a string");if(!p)return[];h=h||{};var m=1,g=1;function f(O){var T=O.match(r);T&&(m+=T.length);var M=O.lastIndexOf(`
`);g=~M?O.length-M:g+O.length}function v(){var O={line:m,column:g};return function(T){return T.position=new y(O),k(),T}}function y(O){this.start=O,this.end={line:m,column:g},this.source=h.source}function b(O){var T=new Error(h.source+":"+m+":"+g+": "+O);if(T.reason=O,T.filename=h.source,T.line=m,T.column=g,T.source=p,!h.silent)throw T}function w(O){var T=O.exec(p);if(T){var M=T[0];return f(M),p=p.slice(M.length),T}}function k(){w(o)}function _(O){var T;for(O=O||[];T=E();)T!==!1&&O.push(T);return O}function E(){var O=v();if(p.charAt(0)=="/"&&p.charAt(1)=="*"){for(var T=2;u!=p.charAt(T)&&(p.charAt(T)!="*"||p.charAt(T+1)!="/");)++T;if(T+=2,u===p.charAt(T-1))return b("End of comment missing");var M=p.slice(2,T-2);return g+=2,f(M),p=p.slice(T),g+=2,O({type:"comment",comment:M})}}function S(){var O=v(),T=w(i);if(T){if(E(),!w(a))return b("property missing ':'");var M=w(s),D=O({type:"declaration",property:d(T[0].replace(n,u)),value:M?d(M[0].replace(n,u)):u});return w(l),D}}return y.prototype.content=p,k(),function(){var O,T=[];for(_(T);O=S();)O!==!1&&(T.push(O),_(T));return T}()},p3}();function t(n,r){var o=null;if(!n||typeof n!="string")return o;for(var i,a,s,l=e(n),c=typeof r=="function",u=0,d=l.length;u<d;u++)a=(i=l[u]).property,s=i.value,c?r(a,s,i):s&&(o||(o={}),o[a]=s);return o}return fw.exports=t,fw.exports.default=t,fw.exports}();const t_e=$r(e_e),m3={}.hasOwnProperty,n_e=new Set(["table","thead","tbody","tfoot","tr"]);function XY(e,t){const n=[];let r,o=-1;for(;++o<t.children.length;)r=t.children[o],r.type==="element"?n.push(r_e(e,r,o,t)):r.type==="text"?(t.type!=="element"||!n_e.has(t.tagName)||!Zke(r))&&n.push(r.value):r.type==="raw"&&!e.options.skipHtml&&n.push(r.value);return n}function r_e(e,t,n,r){const o=e.options,i=o.transformLinkUri===void 0?y2e:o.transformLinkUri,a=e.schema,s=t.tagName,l={};let c,u=a;if(a.space==="html"&&s==="svg"&&(u=Ef,e.schema=u),t.properties)for(c in t.properties)m3.call(t.properties,c)&&o_e(l,c,t.properties[c],e);(s==="ol"||s==="ul")&&e.listDepth++;const d=XY(e,t);(s==="ol"||s==="ul")&&e.listDepth--,e.schema=a;const p=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=o.components&&m3.call(o.components,s)?o.components[s]:s,m=typeof h=="string"||h===Bt.Fragment;if(!Xke.isValidElementType(h))throw new TypeError(`Component for name \`${s}\` not defined or is not renderable`);if(l.key=n,s==="a"&&o.linkTarget&&(l.target=typeof o.linkTarget=="function"?o.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):o.linkTarget),s==="a"&&i&&(l.href=i(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!m&&s==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!m&&(s==="h1"||s==="h2"||s==="h3"||s==="h4"||s==="h5"||s==="h6")&&(l.level=Number.parseInt(s.charAt(1),10)),s==="img"&&o.transformImageUri&&(l.src=o.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!m&&s==="li"&&r.type==="element"){const g=function(f){let v=-1;for(;++v<f.children.length;){const y=f.children[v];if(y.type==="element"&&y.tagName==="input")return y}return null}(t);l.checked=g&&g.properties?!!g.properties.checked:null,l.index=f3(r,t),l.ordered=r.tagName==="ol"}return!m&&(s==="ol"||s==="ul")&&(l.ordered=s==="ol",l.depth=e.listDepth),(s==="td"||s==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),m||(l.isHeader=s==="th")),!m&&s==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),o.sourcePos&&(l["data-sourcepos"]=function(g){return[g.start.line,":",g.start.column,"-",g.end.line,":",g.end.column].map(String).join("")}(p)),!m&&o.rawSourcePos&&(l.sourcePosition=t.position),!m&&o.includeElementIndex&&(l.index=f3(r,t),l.siblingCount=f3(r)),m||(l.node=t),d.length>0?Bt.createElement(h,l,d):Bt.createElement(h,l)}function f3(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function o_e(e,t,n,r){const o=mw(r.schema,t);let i=n;i==null||i!=i||(Array.isArray(i)&&(i=o.commaSeparated?YY(i):KY(i)),o.property==="style"&&typeof i=="string"&&(i=function(a){const s={};try{t_e(a,l)}catch{}return s;function l(c,u){const d=c.slice(0,4)==="-ms-"?`ms-${c.slice(4)}`:c;s[d.replace(/-([a-z])/g,i_e)]=u}}(i)),o.space&&o.property?e[m3.call(UY,o.property)?UY[o.property]:o.property]=i:o.attribute&&(e[o.attribute]=i))}function i_e(e,t){return t.toUpperCase()}const ZY={}.hasOwnProperty,gw={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function eQ(e){for(const i in gw)ZY.call(gw,i)&&ZY.call(e,i)&&(gw[i],delete gw[i]);const t=C2e().use(kke).use(e.remarkPlugins||[]).use(Dke,K(I({},e.remarkRehypeOptions),{allowDangerousHtml:!0})).use(e.rehypePlugins||[]).use(Qke,e),n=new DG;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children;const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let o=Bt.createElement(Bt.Fragment,{},XY({options:e,schema:Tf,listDepth:0},r));return e.className&&(o=Bt.createElement("div",{className:e.className},o)),o}eQ.propTypes={children:Ot.string,className:Ot.string,allowElement:Ot.func,allowedElements:Ot.arrayOf(Ot.string),disallowedElements:Ot.arrayOf(Ot.string),unwrapDisallowed:Ot.bool,remarkPlugins:Ot.arrayOf(Ot.oneOfType([Ot.object,Ot.func,Ot.arrayOf(Ot.oneOfType([Ot.bool,Ot.string,Ot.object,Ot.func,Ot.arrayOf(Ot.any)]))])),rehypePlugins:Ot.arrayOf(Ot.oneOfType([Ot.object,Ot.func,Ot.arrayOf(Ot.oneOfType([Ot.bool,Ot.string,Ot.object,Ot.func,Ot.arrayOf(Ot.any)]))])),sourcePos:Ot.bool,rawSourcePos:Ot.bool,skipHtml:Ot.bool,includeElementIndex:Ot.bool,transformLinkUri:Ot.oneOfType([Ot.func,Ot.bool]),linkTarget:Ot.oneOfType([Ot.func,Ot.string]),transformImageUri:Ot.func,components:Ot.object};const tQ={}.hasOwnProperty;function a_e(e,t){let n;for(n in t){const r=(tQ.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){tQ.call(r,i)||(r[i]=[]);const a=o[i];s_e(r[i],Array.isArray(a)?a:a?[a]:[])}}}function s_e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);(function(o,i,a,s){const l=o.length;let c,u=0;if(i=i<0?-i>l?0:l+i:i>l?l:i,a=a>0?a:0,s.length<1e4)c=Array.from(s),c.unshift(i,a),o.splice(...c);else for(a&&o.splice(i,a);u<s.length;)c=s.slice(u,u+1e4),c.unshift(i,0),o.splice(...c),u+=1e4,i+=1e4})(e,0,0,r)}const Of=vw(/[A-Za-z]/),g3=vw(/[\dA-Za-z]/);function up(e){return e!==null&&(e<0||e===32)}const nQ=vw(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),Af=vw(/\s/);function vw(e){return function(t){return t!==null&&e.test(String.fromCharCode(t))}}const l_e={tokenize:function(e,t,n){let r=0;return function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),o):n(a)};function o(i){return i===null?n(i):t(i)}},partial:!0},rQ={tokenize:function(e,t,n){let r,o,i;return a;function a(c){return c===46||c===95?e.check(iQ,l,s)(c):c===null||up(c)||Af(c)||c!==45&&nQ(c)?l(c):(i=!0,e.consume(c),a)}function s(c){return c===95?r=!0:(o=r,r=void 0),e.consume(c),a}function l(c){return o||r||!i?n(c):t(c)}},partial:!0},oQ={tokenize:function(e,t){let n=0,r=0;return o;function o(a){return a===40?(n++,e.consume(a),o):a===41&&r<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(iQ,t,i)(a):a===null||up(a)||Af(a)?t(a):(e.consume(a),o)}function i(a){return a===41&&r++,e.consume(a),o}},partial:!0},iQ={tokenize:function(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),o):s===60||s===null||up(s)||Af(s)?t(s):n(s)}function o(s){return s===null||s===40||s===91||up(s)||Af(s)?t(s):r(s)}function i(s){return Of(s)?a(s):n(s)}function a(s){return s===59?(e.consume(s),r):Of(s)?(e.consume(s),a):n(s)}},partial:!0},c_e={tokenize:function(e,t,n){return function(o){return e.consume(o),r};function r(o){return g3(o)?n(o):t(o)}},partial:!0},aQ={tokenize:function(e,t,n){const r=this;return function(i){return i!==87&&i!==119||!lQ.call(r,r.previous)||b3(r.events)?n(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(l_e,e.attempt(rQ,e.attempt(oQ,o),n),n)(i))};function o(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(i)}},previous:lQ},sQ={tokenize:function(e,t,n){const r=this;let o="",i=!1;return function(u){return u!==72&&u!==104||!cQ.call(r,r.previous)||b3(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(u),e.consume(u),a)};function a(u){if(Of(u)&&o.length<5)return o+=String.fromCodePoint(u),e.consume(u),a;if(u===58){const d=o.toLowerCase();if(d==="http"||d==="https")return e.consume(u),s}return n(u)}function s(u){return u===47?(e.consume(u),i?l:(i=!0,s)):n(u)}function l(u){return u===null||function(d){return d!==null&&(d<32||d===127)}(u)||up(u)||Af(u)||nQ(u)?n(u):e.attempt(rQ,e.attempt(oQ,c),n)(u)}function c(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}},previous:cQ},al={tokenize:function(e,t,n){const r=this;let o,i;return function(u){return v3(u)&&uQ.call(r,r.previous)&&!b3(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(u)):n(u)};function a(u){return v3(u)?(e.consume(u),a):u===64?(e.consume(u),s):n(u)}function s(u){return u===46?e.check(c_e,c,l)(u):u===45||u===95||g3(u)?(i=!0,e.consume(u),s):c(u)}function l(u){return e.consume(u),o=!0,s}function c(u){return i&&o&&Of(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):n(u)}},previous:uQ},us={},u_e={text:us};let zu=48;for(;zu<123;)us[zu]=al,zu++,zu===58?zu=65:zu===91&&(zu=97);function lQ(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||up(e)}function cQ(e){return!Of(e)}function uQ(e){return!(e===47||v3(e))}function v3(e){return e===43||e===45||e===46||e===95||g3(e)}function b3(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function bw(e){return e!==null&&(e<0||e===32)}function y3(e){return e===-2||e===-1||e===32}function w3(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(s){return y3(s)?(e.enter(n),a(s)):t(s)};function a(s){return y3(s)&&i++<o?(e.consume(s),a):(e.exit(n),t(s))}}us[43]=al,us[45]=al,us[46]=al,us[95]=al,us[72]=[al,sQ],us[104]=[al,sQ],us[87]=[al,aQ],us[119]=[al,aQ];const d_e={tokenize:function(e,t,n){return function(o){return y3(o)?w3(e,r,"linePrefix")(o):r(o)};function r(o){return o===null||function(i){return i!==null&&i<-2}(o)?t(o):n(o)}},partial:!0};function k3(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const h_e={tokenize:function(e,t,n){const r=this;return w3(e,function(o){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?t(o):n(o)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function p_e(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;o--;){const s=r.events[o][1];if(s.type==="labelImage"){a=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return function(s){if(!a||!a._balanced)return n(s);const l=k3(r.sliceSerialize({start:a.end,end:r.now()}));return l.codePointAt(0)===94&&i.includes(l.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),t(s)):n(s)}}function m_e(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function f_e(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a=0;return function(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),s};function s(u){return u!==94?n(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(u){if(a>999||u===93&&!i||u===null||u===91||bw(u))return n(u);if(u===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return o.includes(k3(r.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(u)}return bw(u)||(i=!0),a++,e.consume(u),u===92?c:l}function c(u){return u===91||u===92||u===93?(e.consume(u),a++,l):l(u)}}function g_e(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a,s=0;return function(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(h)}function c(h){if(s>999||h===93&&!a||h===null||h===91||bw(h))return n(h);if(h===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return i=k3(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return bw(h)||(a=!0),s++,e.consume(h),h===92?u:c}function u(h){return h===91||h===92||h===93?(e.consume(h),s++,c):c(h)}function d(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),o.includes(i)||o.push(i),w3(e,p,"gfmFootnoteDefinitionWhitespace")):n(h)}function p(h){return t(h)}}function v_e(e,t,n){return e.check(d_e,t,e.attempt(h_e,t,n))}function b_e(e){e.exit("gfmFootnoteDefinition")}function _3(e,t,n,r){const o=e.length;let i,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}const y_e=dQ(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),w_e=dQ(/\s/);function dQ(e){return function(t){return t!==null&&e.test(String.fromCharCode(t))}}function hQ(e){return e===null||function(t){return t!==null&&(t<0||t===32)}(e)||w_e(e)?1:y_e(e)?2:void 0}function k_e(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}function __e(e){let t=(e||{}).singleTilde;const n={tokenize:function(r,o,i){const a=this.previous,s=this.events;let l=0;return function(u){return a===126&&s[s.length-1][1].type!=="characterEscape"?i(u):(r.enter("strikethroughSequenceTemporary"),c(u))};function c(u){const d=hQ(a);if(u===126)return l>1?i(u):(r.consume(u),l++,c);if(l<2&&!t)return i(u);const p=r.exit("strikethroughSequenceTemporary"),h=hQ(u);return p._open=!h||h===2&&!!d,p._close=!d||d===2&&!!h,o(u)}},resolveAll:function(r,o){let i=-1;for(;++i<r.length;)if(r[i][0]==="enter"&&r[i][1].type==="strikethroughSequenceTemporary"&&r[i][1]._close){let a=i;for(;a--;)if(r[a][0]==="exit"&&r[a][1].type==="strikethroughSequenceTemporary"&&r[a][1]._open&&r[i][1].end.offset-r[i][1].start.offset===r[a][1].end.offset-r[a][1].start.offset){r[i][1].type="strikethroughSequence",r[a][1].type="strikethroughSequence";const s={type:"strikethrough",start:Object.assign({},r[a][1].start),end:Object.assign({},r[i][1].end)},l={type:"strikethroughText",start:Object.assign({},r[a][1].end),end:Object.assign({},r[i][1].start)},c=[["enter",s,o],["enter",r[a][1],o],["exit",r[a][1],o],["enter",l,o]],u=o.parser.constructs.insideSpan.null;u&&_3(c,c.length,0,k_e(u,r.slice(a+1,i),o)),_3(c,c.length,0,[["exit",l,o],["enter",r[i][1],o],["exit",r[i][1],o],["exit",s,o]]),_3(r,a-1,i-a+3,c),i=a+c.length-2;break}}for(i=-1;++i<r.length;)r[i][1].type==="strikethroughSequenceTemporary"&&(r[i][1].type="data");return r}};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}function yw(e){return e!==null&&e<-2}function pQ(e){return e!==null&&(e<0||e===32)}function Fu(e){return e===-2||e===-1||e===32}function Pf(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(s){return Fu(s)?(e.enter(n),a(s)):t(s)};function a(s){return Fu(s)&&i++<o?(e.consume(s),a):(e.exit(n),t(s))}}class x_e{constructor(){this.map=[]}add(t,n,r){(function(o,i,a,s){let l=0;if(a!==0||s.length!==0){for(;l<o.map.length;){if(o.map[l][0]===i)return o.map[l][1]+=a,void o.map[l][2].push(...s);l+=1}o.map.push([i,a,s])}})(this,t,n,r)}consume(t){if(this.map.sort((i,a)=>i[0]-a[0]),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1])),r.push(this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let o=r.pop();for(;o;)t.push(...o),o=r.pop();this.map.length=0}}function C_e(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}const S_e={flow:{null:{tokenize:function(e,t,n){const r=this;let o,i=0,a=0;return function(S){let O=r.events.length-1;for(;O>-1;){const D=r.events[O][1].type;if(D!=="lineEnding"&&D!=="linePrefix")break;O--}const T=O>-1?r.events[O][1].type:null,M=T==="tableHead"||T==="tableRow"?w:s;return M===w&&r.parser.lazy[r.now().line]?n(S):M(S)};function s(S){return e.enter("tableHead"),e.enter("tableRow"),function(O){return O===124||(o=!0,a+=1),l(O)}(S)}function l(S){return S===null?n(S):yw(S)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),d):n(S):Fu(S)?Pf(e,l,"whitespace")(S):(a+=1,o&&(o=!1,i+=1),S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),o=!0,l):(e.enter("data"),c(S)))}function c(S){return S===null||S===124||pQ(S)?(e.exit("data"),l(S)):(e.consume(S),S===92?u:c)}function u(S){return S===92||S===124?(e.consume(S),c):c(S)}function d(S){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(S):(e.enter("tableDelimiterRow"),o=!1,Fu(S)?Pf(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):p(S))}function p(S){return S===45||S===58?m(S):S===124?(o=!0,e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),h):b(S)}function h(S){return Fu(S)?Pf(e,m,"whitespace")(S):m(S)}function m(S){return S===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),g):S===45?(a+=1,g(S)):S===null||yw(S)?y(S):b(S)}function g(S){return S===45?(e.enter("tableDelimiterFiller"),f(S)):b(S)}function f(S){return S===45?(e.consume(S),f):S===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(S))}function v(S){return Fu(S)?Pf(e,y,"whitespace")(S):y(S)}function y(S){return S===124?p(S):(S===null||yw(S))&&o&&i===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(S)):b(S)}function b(S){return n(S)}function w(S){return e.enter("tableRow"),k(S)}function k(S){return S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),k):S===null||yw(S)?(e.exit("tableRow"),t(S)):Fu(S)?Pf(e,k,"whitespace")(S):(e.enter("data"),_(S))}function _(S){return S===null||S===124||pQ(S)?(e.exit("data"),k(S)):(e.consume(S),S===92?E:_)}function E(S){return S===92||S===124?(e.consume(S),_):_(S)}},resolveAll:function(e,t){let n,r,o,i=-1,a=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0;const p=new x_e;for(;++i<e.length;){const h=e[i],m=h[1];h[0]==="enter"?m.type==="tableHead"?(u=!1,d!==0&&(mQ(p,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(i,0,[["enter",n,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(a=!0,o=void 0,l=[0,0,0,0],c=[0,i+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(i,0,[["enter",r,t]])),s=m.type==="tableDelimiterRow"?2:r?3:1):!s||m.type!=="data"&&m.type!=="tableDelimiterMarker"&&m.type!=="tableDelimiterFiller"?m.type==="tableCellDivider"&&(a?a=!1:(l[1]!==0&&(c[0]=c[1],o=ww(p,t,l,s,void 0,o)),l=c,c=[l[1],i,0,0])):(a=!1,c[2]===0&&(l[1]!==0&&(c[0]=c[1],o=ww(p,t,l,s,void 0,o),l=[0,0,0,0]),c[2]=i)):m.type==="tableHead"?(u=!0,d=i):m.type==="tableRow"||m.type==="tableDelimiterRow"?(d=i,l[1]!==0?(c[0]=c[1],o=ww(p,t,l,s,i,o)):c[1]!==0&&(o=ww(p,t,c,s,i,o)),s=0):s&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(c[3]=i)}for(d!==0&&mQ(p,t,d,n,r),p.consume(t.events),i=-1;++i<t.events.length;){const h=t.events[i];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=C_e(t.events,i))}return e}}}};function ww(e,t,n,r,o,i){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData";n[0]!==0&&(i.end=Object.assign({},dp(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const s=dp(t.events,n[1]);if(i={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const l=dp(t.events,n[2]),c=dp(t.events,n[3]),u={type:"tableContent",start:Object.assign({},l),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",u,t]]),r!==2){const d=t.events[n[2]],p=t.events[n[3]];if(d[1].end=Object.assign({},p[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,m=n[3]-n[2]-1;e.add(h,m,[])}}e.add(n[3]+1,0,[["exit",u,t]])}return o!==void 0&&(i.end=Object.assign({},dp(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function mQ(e,t,n,r,o){const i=[],a=dp(t.events,n);o&&(o.end=Object.assign({},a),i.push(["exit",o,t])),r.end=Object.assign({},a),i.push(["exit",r,t]),e.add(n+1,0,i)}function dp(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}function x3(e){return e===-2||e===-1||e===32}const T_e={tokenize:function(e,t,n){const r=this;return function(s){return r.previous===null&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),o):n(s)};function o(s){return function(l){return l!==null&&(l<0||l===32)}(s)?(e.enter("taskListCheckValueUnchecked"),e.consume(s),e.exit("taskListCheckValueUnchecked"),i):s===88||s===120?(e.enter("taskListCheckValueChecked"),e.consume(s),e.exit("taskListCheckValueChecked"),i):n(s)}function i(s){return s===93?(e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(s)}function a(s){return function(l){return l!==null&&l<-2}(s)?t(s):x3(s)?e.check({tokenize:O_e},t,n)(s):n(s)}}},E_e={text:{91:T_e}};function O_e(e,t,n){return function(r,o,i){const a=Number.POSITIVE_INFINITY;let s=0;return function(c){return x3(c)?(r.enter(i),l(c)):o(c)};function l(c){return x3(c)&&s++<a?(r.consume(c),l):(r.exit(i),o(c))}}(e,function(r){return r===null?n(r):t(r)},"whitespace")}function A_e(e){return function(t){const n={};let r=-1;for(;++r<t.length;)a_e(n,t[r]);return n}([u_e,{document:{91:{tokenize:g_e,continuation:{tokenize:v_e},exit:b_e}},text:{91:{tokenize:f_e},93:{add:"after",tokenize:p_e,resolveTo:m_e}}},__e(e),S_e,E_e])}function fQ(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}const C3=function(e){if(e==null)return P_e;if(typeof e=="string")return function(t){return kw(n);function n(r){return r&&r.type===t}}(e);if(typeof e=="object")return Array.isArray(e)?function(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=C3(t[r]);return kw(o);function o(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}(e):function(t){return kw(n);function n(r){let o;for(o in t)if(r[o]!==t[o])return!1;return!0}}(e);if(typeof e=="function")return kw(e);throw new Error("Expected function, string, or object as test")};function kw(e){return function(t,...n){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...n))}}function P_e(){return!0}const N_e=!0,gQ=!1,I_e=function(e,t,n,r){const o=C3(t);(function i(a,s,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(d?"<"+d+">":"")+")"})}return u;function u(){let d,p,h,m=[];if(o(a,s,l[l.length-1]||null)&&(m=function(g){return Array.isArray(g)?g:typeof g=="number"?[N_e,g]:[g]}(n(a,l)),m[0]===gQ))return m;if(a.children&&m[0]!=="skip")for(p=0,h=l.concat(a);p>-1&&p<a.children.length;){if(d=i(a.children[p],p,h)(),d[0]===gQ)return d;p=typeof d[1]=="number"?d[1]:p+1}return m}})(e,void 0,[])()},R_e={}.hasOwnProperty,M_e=function(e,t,n,r){let o,i;typeof t=="string"||t instanceof RegExp?(i=[[t,n]],o=r):(i=t,o=n),o||(o={});const a=C3(o.ignore||[]),s=function(u){const d=[];if(typeof u!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(u)){let p=-1;for(;++p<u.length;)d.push([vQ(u[p][0]),bQ(u[p][1])])}else{let p;for(p in u)R_e.call(u,p)&&d.push([vQ(p),bQ(u[p])])}return d}(i);let l=-1;for(;++l<s.length;)I_e(e,"text",c);return e;function c(u,d){let p,h=-1;for(;++h<d.length;){const m=d[h];if(a(m,p?p.children.indexOf(m):void 0,p))return;p=m}if(p)return function(m,g){const f=g[g.length-1],v=s[l][0],y=s[l][1];let b=0;const w=f.children.indexOf(m);let k=!1,_=[];v.lastIndex=0;let E=v.exec(m.value);for(;E;){const S=E.index,O={index:E.index,input:E.input,stack:[...g,m]};let T=y(...E,O);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T!==!1&&(b!==S&&_.push({type:"text",value:m.value.slice(b,S)}),Array.isArray(T)?_.push(...T):T&&_.push(T),b=S+E[0].length,k=!0),!v.global)break;E=v.exec(m.value)}return k?(b<m.value.length&&_.push({type:"text",value:m.value.slice(b)}),f.children.splice(w,1,..._)):_=[m],w+_.length}(u,d)}};function vQ(e){return typeof e=="string"?new RegExp(function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function bQ(e){return typeof e=="function"?e:()=>e}const D_e=yQ(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),L_e=yQ(/\s/);function yQ(e){return function(t){return t!==null&&e.test(String.fromCharCode(t))}}const S3="phrasing",T3=["autolink","link","image","label"],j_e={transforms:[function(e){M_e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,F_e],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,B_e]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:E3,literalAutolinkHttp:E3,literalAutolinkWww:E3},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}}},z_e={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:S3,notInConstruct:T3},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:S3,notInConstruct:T3},{character:":",before:"[ps]",after:"\\/",inConstruct:S3,notInConstruct:T3}]};function E3(e){this.config.enter.autolinkProtocol.call(this,e)}function F_e(e,t,n,r,o){let i="";if(!wQ(o)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!function(l){const c=l.split(".");return!(c.length<2||c[c.length-1]&&(/_/.test(c[c.length-1])||!/[a-zA-Z\d]/.test(c[c.length-1]))||c[c.length-2]&&(/_/.test(c[c.length-2])||!/[a-zA-Z\d]/.test(c[c.length-2])))}(n)))return!1;const a=function(l){const c=/[!"&'),.:;<>?\]}]+$/.exec(l);if(!c)return[l,void 0];l=l.slice(0,c.index);let u=c[0],d=u.indexOf(")");const p=fQ(l,"(");let h=fQ(l,")");for(;d!==-1&&p>h;)l+=u.slice(0,d+1),u=u.slice(d+1),d=u.indexOf(")"),h++;return[l,u]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:i+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function B_e(e,t,n,r){return!(!wQ(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function wQ(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||L_e(n)||D_e(n))&&(!t||n!==47)}function kQ(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const U_e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function H_e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return function(i,a){const s=Number.parseInt(i,a);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||!(65535&~s)||(65535&s)==65534||s>1114111?"":String.fromCharCode(s)}(n.slice(o?2:1),o?16:10)}return Lu(n)||e}function _Q(e){return e.label||!e.identifier?e.label||"":function(t){return t.replace(U_e,H_e)}(e.identifier)}function $_e(e,t,n,r){let o=r.join.length;for(;o--;){const i=r.join[o](e,t,n,r);if(i===!0||i===1)break;if(typeof i=="number")return`
`.repeat(1+i);if(i===!1)return`

<!---->

`}return`

`}const V_e=/\r?\n|\r/g;function q_e(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function W_e(e,t){return xQ(e,t.inConstruct,!0)&&!xQ(e,t.notInConstruct,!1)}function xQ(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function CQ(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),o=[],i=[],a={};let s=-1;for(;++s<e.unsafe.length;){const u=e.unsafe[s];if(!W_e(e.stack,u))continue;const d=q_e(u);let p;for(;p=d.exec(r);){const h="before"in u||!!u.atBreak,m="after"in u,g=p.index+(h?p[1].length:0);o.includes(g)?(a[g].before&&!h&&(a[g].before=!1),a[g].after&&!m&&(a[g].after=!1)):(o.push(g),a[g]={before:h,after:m})}}o.sort(K_e);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(s=-1;++s<o.length;){const u=o[s];u<l||u>=c||u+1<c&&o[s+1]===u+1&&a[u].after&&!a[u+1].before&&!a[u+1].after||o[s-1]===u-1&&a[u].before&&!a[u-1].before&&!a[u-1].after||(l!==u&&i.push(SQ(r.slice(l,u),"\\")),l=u,!/[!-/:-@[-`{-~]/.test(r.charAt(u))||n.encode&&n.encode.includes(r.charAt(u))?(i.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++):i.push("\\"))}return i.push(SQ(r.slice(l,c),n.after)),i.join("")}function K_e(e,t){return e-t}function SQ(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],i=e+t;let a,s=-1,l=0;for(;a=n.exec(i);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&o.push(e.slice(l,r[s])),o.push("\\"),l=r[s];return o.push(e.slice(l)),o.join("")}function TQ(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,o=n.line||1,i=n.column||1;return{move:function(a){const s=a||"",l=s.split(/\r?\n|\r/g),c=l[l.length-1];return o+=l.length-1,i=l.length===1?i+c.length:1+c.length+r,s},current:function(){return{now:{line:o,column:i},lineShift:r}},shift:function(a){r+=a}}}function G_e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Y_e(){this.buffer()}function Q_e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=kQ(this.sliceSerialize(e)).toLowerCase()}function J_e(e){this.exit(e)}function X_e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Z_e(){this.buffer()}function exe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=kQ(this.sliceSerialize(e)).toLowerCase()}function txe(e){this.exit(e)}function EQ(e,t,n,r){const o=TQ(r);let i=o.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return i+=o.move(CQ(n,_Q(e),K(I({},o.current()),{before:i,after:"]"}))),s(),a(),i+=o.move("]"),i}function nxe(e,t,n,r){const o=TQ(r);let i=o.move("[^");const a=n.enter("footnoteDefinition"),s=n.enter("label");return i+=o.move(CQ(n,_Q(e),K(I({},o.current()),{before:i,after:"]"}))),s(),i+=o.move("]:"+(e.children&&e.children.length>0?" ":"")),o.shift(4),i+=o.move(function(l,c){const u=[];let d,p=0,h=0;for(;d=V_e.exec(l);)m(l.slice(p,d.index)),u.push(d[0]),p=d.index+d[0].length,h++;return m(l.slice(p)),u.join("");function m(g){u.push(c(g,h,!g))}}(function(l,c,u){const d=c.indexStack,p=l.children||[],h=c.createTracker(u),m=[];let g=-1;for(d.push(-1);++g<p.length;){const f=p[g];d[d.length-1]=g,m.push(h.move(c.handle(f,l,c,I({before:`
`,after:`
`},h.current())))),f.type!=="list"&&(c.bulletLastUsed=void 0),g<p.length-1&&m.push(h.move($_e(f,p[g+1],l,c)))}return d.pop(),m.join("")}(e,n,o.current()),rxe)),a(),i}function rxe(e,t,n){return t===0?e:(n?"":"    ")+e}EQ.peek=function(){return"["},OQ.peek=function(){return"~"};const oxe={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}},ixe={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]}],handlers:{delete:OQ}};function OQ(e,t,n,r){const o=function(s){const l=s||{},c=l.now||{};let u=l.lineShift||0,d=c.line||1,p=c.column||1;return{move:function(h){const m=h||"",g=m.split(/\r?\n|\r/g),f=g[g.length-1];return d+=g.length-1,p=g.length===1?p+f.length:1+f.length+u,m},current:function(){return{now:{line:d,column:p},lineShift:u}},shift:function(h){u+=h}}}(r),i=n.enter("strikethrough");let a=o.move("~~");return a+=function(s,l,c){const u=l.indexStack,d=s.children||[],p=[];let h=-1,m=c.before;u.push(-1);let g=l.createTracker(c);for(;++h<d.length;){const f=d[h];let v;if(u[u.length-1]=h,h+1<d.length){let y=l.handle.handlers[d[h+1].type];y&&y.peek&&(y=y.peek),v=y?y(d[h+1],s,l,I({before:"",after:""},g.current())).charAt(0):""}else v=c.after;p.length>0&&(m==="\r"||m===`
`)&&f.type==="html"&&(p[p.length-1]=p[p.length-1].replace(/(\r?\n|\r)$/," "),m=" ",g=l.createTracker(c),g.move(p.join(""))),p.push(g.move(l.handle(f,s,l,K(I({},g.current()),{before:m,after:v})))),m=p[p.length-1].slice(-1)}return u.pop(),p.join("")}(e,n,K(I({},o.current()),{before:a,after:"~"})),a+=o.move("~~"),i(),a}function axe(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function AQ(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const a=n.unsafe[i],s=axe(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return o+r+o}function sxe(e){return e.length}function lxe(e){return e==null?"":String(e)}function PQ(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}AQ.peek=function(){return"`"};const cxe={enter:{table:function(e){const t=e._align;this.enter({type:"table",align:t.map(n=>n==="none"?null:n),children:[]},e),this.setData("inTable",!0)},tableData:NQ,tableHeader:NQ,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,uxe));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:O3,tableHeader:O3,tableRow:O3}};function O3(e){this.exit(e)}function NQ(e){this.enter({type:"tableCell",children:[]},e)}function uxe(e,t){return t==="|"?t:e}function dxe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(c,u,d,p){return s(function(h,m,g){const f=h.children;let v=-1;const y=[],b=m.enter("table");for(;++v<f.length;)y[v]=l(f[v],m,g);return b(),y}(c,d,p),c.align)},tableRow:function(c,u,d,p){const h=l(c,d,p),m=s([h]);return m.slice(0,m.indexOf(`
`))},tableCell:a,inlineCode:function(c,u,d){let p=AQ(c,0,d);return d.stack.includes("tableCell")&&(p=p.replace(/\|/g,"\\$&")),p}}};function a(c,u,d,p){const h=d.enter("tableCell"),m=d.enter("phrasing"),g=function(f,v,y){const b=v.indexStack,w=f.children||[],k=[];let _=-1,E=y.before;b.push(-1);let S=v.createTracker(y);for(;++_<w.length;){const O=w[_];let T;if(b[b.length-1]=_,_+1<w.length){let M=v.handle.handlers[w[_+1].type];M&&M.peek&&(M=M.peek),T=M?M(w[_+1],f,v,I({before:"",after:""},S.current())).charAt(0):""}else T=y.after;k.length>0&&(E==="\r"||E===`
`)&&O.type==="html"&&(k[k.length-1]=k[k.length-1].replace(/(\r?\n|\r)$/," "),E=" ",S=v.createTracker(y),S.move(k.join(""))),k.push(S.move(v.handle(O,f,v,K(I({},S.current()),{before:E,after:T})))),E=k[k.length-1].slice(-1)}return b.pop(),k.join("")}(c,d,K(I({},p),{before:i,after:i}));return m(),h(),g}function s(c,u){return function(d,p){const h=p||{},m=(h.align||[]).concat(),g=h.stringLength||sxe,f=[],v=[],y=[],b=[];let w=0,k=-1;for(;++k<d.length;){const T=[],M=[];let D=-1;for(d[k].length>w&&(w=d[k].length);++D<d[k].length;){const H=lxe(d[k][D]);if(h.alignDelimiters!==!1){const $=g(H);M[D]=$,(b[D]===void 0||$>b[D])&&(b[D]=$)}T.push(H)}v[k]=T,y[k]=M}let _=-1;if(typeof m=="object"&&"length"in m)for(;++_<w;)f[_]=PQ(m[_]);else{const T=PQ(m);for(;++_<w;)f[_]=T}_=-1;const E=[],S=[];for(;++_<w;){const T=f[_];let M="",D="";T===99?(M=":",D=":"):T===108?M=":":T===114&&(D=":");let H=h.alignDelimiters===!1?1:Math.max(1,b[_]-M.length-D.length);const $=M+"-".repeat(H)+D;h.alignDelimiters!==!1&&(H=M.length+H+D.length,H>b[_]&&(b[_]=H),S[_]=H),E[_]=$}v.splice(1,0,E),y.splice(1,0,S),k=-1;const O=[];for(;++k<v.length;){const T=v[k],M=y[k];_=-1;const D=[];for(;++_<w;){const H=T[_]||"";let $="",R="";if(h.alignDelimiters!==!1){const U=b[_]-(M[_]||0),B=f[_];B===114?$=" ".repeat(U):B===99?U%2?($=" ".repeat(U/2+.5),R=" ".repeat(U/2-.5)):($=" ".repeat(U/2),R=$):R=" ".repeat(U)}h.delimiterStart!==!1&&!_&&D.push("|"),h.padding!==!1&&!(h.alignDelimiters===!1&&H==="")&&(h.delimiterStart!==!1||_)&&D.push(" "),h.alignDelimiters!==!1&&D.push($),D.push(H),h.alignDelimiters!==!1&&D.push(R),h.padding!==!1&&D.push(" "),(h.delimiterEnd!==!1||_!==w-1)&&D.push("|")}O.push(h.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return O.join(`
`)}(c,{align:u,alignDelimiters:r,padding:n,stringLength:o})}function l(c,u,d){const p=c.children;let h=-1;const m=[],g=u.enter("tableRow");for(;++h<p.length;)m[h]=a(p[h],0,u,d);return g(),m}}function hxe(e,t,n,r){const o=function(u){const d=u.options.listItemIndent||"tab";if(d===1||d==="1")return"one";if(d!=="tab"&&d!=="one"&&d!=="mixed")throw new Error("Cannot serialize items with `"+d+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return d}(n);let i=n.bulletCurrent||function(u){const d=u.options.bullet||"*";if(d!=="*"&&d!=="+"&&d!=="-")throw new Error("Cannot serialize items with `"+d+"` for `options.bullet`, expected `*`, `+`, or `-`");return d}(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(i+" ".repeat(a-i.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(u,d,p){return d?(p?"":" ".repeat(a))+u:(p?i:i+" ".repeat(a-i.length))+u});return l(),c}const pxe={exit:{taskListCheckValueChecked:IQ,taskListCheckValueUnchecked:IQ,paragraph:function(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const o=t.children;let i,a=-1;for(;++a<o.length;){const s=o[a];if(s.type==="paragraph"){i=s;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}}},mxe={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n,r){const o=e.children[0],i=typeof e.checked=="boolean"&&o&&o.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",s=function(c){const u=c||{},d=u.now||{};let p=u.lineShift||0,h=d.line||1,m=d.column||1;return{move:function(g){const f=g||"",v=f.split(/\r?\n|\r/g),y=v[v.length-1];return h+=v.length-1,m=v.length===1?m+y.length:1+y.length+p,f},current:function(){return{now:{line:h,column:m},lineShift:p}},shift:function(g){p+=g}}}(r);i&&s.move(a);let l=hxe(e,t,n,I(I({},r),s.current()));return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(c){return c+a})),l}}};function IQ(e){this.stack[this.stack.length-2].checked=e.type==="taskListCheckValueChecked"}function fxe(e={}){const t=this.data();function n(r,o){(t[r]?t[r]:t[r]=[]).push(o)}n("micromarkExtensions",A_e(e)),n("fromMarkdownExtensions",[j_e,{enter:{gfmFootnoteDefinition:G_e,gfmFootnoteDefinitionLabelString:Y_e,gfmFootnoteCall:X_e,gfmFootnoteCallString:Z_e},exit:{gfmFootnoteDefinition:J_e,gfmFootnoteDefinitionLabelString:Q_e,gfmFootnoteCall:txe,gfmFootnoteCallString:exe}},oxe,cxe,pxe]),n("toMarkdownExtensions",function(r){return{extensions:[z_e,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:nxe,footnoteReference:EQ}},ixe,dxe(r),mxe]}}(e))}var RQ,MQ,DQ,A3,LQ,jQ,zQ,FQ,BQ,ds={};function P3(){if(RQ)return ds;RQ=1;const e=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];return ds.REPLACEMENT_CHARACTER="",ds.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},ds.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},ds.isSurrogate=function(t){return t>=55296&&t<=57343},ds.isSurrogatePair=function(t){return t>=56320&&t<=57343},ds.getSurrogatePairCodePoint=function(t,n){return 1024*(t-55296)+9216+n},ds.isControlCodePoint=function(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159},ds.isUndefinedCodePoint=function(t){return t>=64976&&t<=65007||e.indexOf(t)>-1},ds}function N3(){return DQ||(DQ=1,MQ={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}),MQ}function _w(){if(BQ)return FQ;BQ=1;const e=function(){if(LQ)return A3;LQ=1;const ae=P3(),F=N3(),Oe=ae.CODE_POINTS;return A3=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(Ke){if(this.pos!==this.lastCharPos){const At=this.html.charCodeAt(this.pos+1);if(ae.isSurrogatePair(At))return this.pos++,this._addGap(),ae.getSurrogatePairCodePoint(Ke,At)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Oe.EOF;return this._err(F.surrogateInInputStream),Ke}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(Ke,At){this.html?this.html+=Ke:this.html=Ke,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=At}insertHtmlAtCurrentPos(Ke){this.html=this.html.substring(0,this.pos+1)+Ke+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,Oe.EOF;let Ke=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&Ke===Oe.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):Ke===Oe.CARRIAGE_RETURN?(this.skipNextNewLine=!0,Oe.LINE_FEED):(this.skipNextNewLine=!1,ae.isSurrogate(Ke)&&(Ke=this._processSurrogate(Ke)),Ke>31&&Ke<127||Ke===Oe.LINE_FEED||Ke===Oe.CARRIAGE_RETURN||Ke>159&&Ke<64976||this._checkForProblematicCharacters(Ke),Ke)}_checkForProblematicCharacters(Ke){ae.isControlCodePoint(Ke)?this._err(F.controlCharacterInInputStream):ae.isUndefinedCodePoint(Ke)&&this._err(F.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},A3}(),t=P3(),n=(zQ||(zQ=1,jQ=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])),jQ),r=N3(),o=t.CODE_POINTS,i=t.CODE_POINT_SEQUENCES,a={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},s="DATA_STATE",l="RCDATA_STATE",c="RAWTEXT_STATE",u="SCRIPT_DATA_STATE",d="PLAINTEXT_STATE",p="TAG_OPEN_STATE",h="END_TAG_OPEN_STATE",m="TAG_NAME_STATE",g="RCDATA_LESS_THAN_SIGN_STATE",f="RCDATA_END_TAG_OPEN_STATE",v="RCDATA_END_TAG_NAME_STATE",y="RAWTEXT_LESS_THAN_SIGN_STATE",b="RAWTEXT_END_TAG_OPEN_STATE",w="RAWTEXT_END_TAG_NAME_STATE",k="SCRIPT_DATA_LESS_THAN_SIGN_STATE",_="SCRIPT_DATA_END_TAG_OPEN_STATE",E="SCRIPT_DATA_END_TAG_NAME_STATE",S="SCRIPT_DATA_ESCAPE_START_STATE",O="SCRIPT_DATA_ESCAPE_START_DASH_STATE",T="SCRIPT_DATA_ESCAPED_STATE",M="SCRIPT_DATA_ESCAPED_DASH_STATE",D="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",H="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",$="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",R="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",B="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",L="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",C="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",V="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",N="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",q="BEFORE_ATTRIBUTE_NAME_STATE",J="ATTRIBUTE_NAME_STATE",Q="AFTER_ATTRIBUTE_NAME_STATE",te="BEFORE_ATTRIBUTE_VALUE_STATE",X="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",ee="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",ue="ATTRIBUTE_VALUE_UNQUOTED_STATE",de="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",ge="SELF_CLOSING_START_TAG_STATE",he="BOGUS_COMMENT_STATE",Ce="MARKUP_DECLARATION_OPEN_STATE",be="COMMENT_START_STATE",me="COMMENT_START_DASH_STATE",pe="COMMENT_STATE",Ie="COMMENT_LESS_THAN_SIGN_STATE",xe="COMMENT_LESS_THAN_SIGN_BANG_STATE",Ee="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",Re="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",Be="COMMENT_END_DASH_STATE",it="COMMENT_END_STATE",at="COMMENT_END_BANG_STATE",Qe="DOCTYPE_STATE",Je="BEFORE_DOCTYPE_NAME_STATE",Me="DOCTYPE_NAME_STATE",He="AFTER_DOCTYPE_NAME_STATE",Ue="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",Ve="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ce="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",re="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",fe="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ve="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",De="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",Xe="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",ht="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",nt="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Ze="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",vt="BOGUS_DOCTYPE_STATE",lt="CDATA_SECTION_STATE",qe="CDATA_SECTION_BRACKET_STATE",ot="CDATA_SECTION_END_STATE",yt="CHARACTER_REFERENCE_STATE",gn="NAMED_CHARACTER_REFERENCE_STATE",$t="AMBIGUOS_AMPERSAND_STATE",$o="NUMERIC_CHARACTER_REFERENCE_STATE",vn="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",qt="DECIMAL_CHARACTER_REFERENCE_START_STATE",Jr="HEXADEMICAL_CHARACTER_REFERENCE_STATE",vs="DECIMAL_CHARACTER_REFERENCE_STATE",Pn="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Wt(ae){return ae===o.SPACE||ae===o.LINE_FEED||ae===o.TABULATION||ae===o.FORM_FEED}function mo(ae){return ae>=o.DIGIT_0&&ae<=o.DIGIT_9}function vr(ae){return ae>=o.LATIN_CAPITAL_A&&ae<=o.LATIN_CAPITAL_Z}function Vo(ae){return ae>=o.LATIN_SMALL_A&&ae<=o.LATIN_SMALL_Z}function Xr(ae){return Vo(ae)||vr(ae)}function mi(ae){return Xr(ae)||mo(ae)}function Fi(ae){return ae>=o.LATIN_CAPITAL_A&&ae<=o.LATIN_CAPITAL_F}function P(ae){return ae>=o.LATIN_SMALL_A&&ae<=o.LATIN_SMALL_F}function z(ae){return ae+32}function j(ae){return ae<=65535?String.fromCharCode(ae):(ae-=65536,String.fromCharCode(ae>>>10&1023|55296)+String.fromCharCode(56320|1023&ae))}function Y(ae){return String.fromCharCode(z(ae))}function Z(ae,F){const Oe=n[++ae];let Ke=++ae,At=Ke+Oe-1;for(;Ke<=At;){const Jt=Ke+At>>>1,br=n[Jt];if(br<F)Ke=Jt+1;else{if(!(br>F))return n[Jt+Oe];At=Jt-1}}return-1}class Te{constructor(){this.preprocessor=new e,this.tokenQueue=[],this.allowCDATA=!1,this.state=s,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(F){this._consume(),this._err(F),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const F=this._consume();this._ensureHibernation()||this[this.state](F)}return this.tokenQueue.shift()}write(F,Oe){this.active=!0,this.preprocessor.write(F,Oe)}insertHtmlAtCurrentPos(F){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(F)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Te.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(F){this.state=F,this._unconsume()}_consumeSequenceIfMatch(F,Oe,Ke){let At=0,Jt=!0;const br=F.length;let bs,Cp=0,Sp=Oe;for(;Cp<br;Cp++){if(Cp>0&&(Sp=this._consume(),At++),Sp===o.EOF){Jt=!1;break}if(bs=F[Cp],Sp!==bs&&(Ke||Sp!==z(bs))){Jt=!1;break}}if(!Jt)for(;At--;)this._unconsume();return Jt}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==i.SCRIPT_STRING.length)return!1;for(let F=0;F<this.tempBuff.length;F++)if(this.tempBuff[F]!==i.SCRIPT_STRING[F])return!1;return!0}_createStartTagToken(){this.currentToken={type:Te.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Te.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Te.COMMENT_TOKEN,data:""}}_createDoctypeToken(F){this.currentToken={type:Te.DOCTYPE_TOKEN,name:F,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(F,Oe){this.currentCharacterToken={type:F,chars:Oe}}_createEOFToken(){this.currentToken={type:Te.EOF_TOKEN}}_createAttr(F){this.currentAttr={name:F,value:""}}_leaveAttrName(F){Te.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(r.duplicateAttribute),this.state=F}_leaveAttrValue(F){this.state=F}_emitCurrentToken(){this._emitCurrentCharacterToken();const F=this.currentToken;this.currentToken=null,F.type===Te.START_TAG_TOKEN?this.lastStartTagName=F.tagName:F.type===Te.END_TAG_TOKEN&&(F.attrs.length>0&&this._err(r.endTagWithAttributes),F.selfClosing&&this._err(r.endTagWithTrailingSolidus)),this.tokenQueue.push(F)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(F,Oe){this.currentCharacterToken&&this.currentCharacterToken.type!==F&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=Oe:this._createCharacterToken(F,Oe)}_emitCodePoint(F){let Oe=Te.CHARACTER_TOKEN;Wt(F)?Oe=Te.WHITESPACE_CHARACTER_TOKEN:F===o.NULL&&(Oe=Te.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(Oe,j(F))}_emitSeveralCodePoints(F){for(let Oe=0;Oe<F.length;Oe++)this._emitCodePoint(F[Oe])}_emitChars(F){this._appendCharToCurrentCharacterToken(Te.CHARACTER_TOKEN,F)}_matchNamedCharacterReference(F){let Oe=null,Ke=1,At=Z(0,F);for(this.tempBuff.push(F);At>-1;){const Jt=n[At],br=Jt<7;br&&1&Jt&&(Oe=2&Jt?[n[++At],n[++At]]:[n[++At]],Ke=0);const bs=this._consume();if(this.tempBuff.push(bs),Ke++,bs===o.EOF)break;At=br?4&Jt?Z(At,bs):-1:bs===Jt?++At:-1}for(;Ke--;)this.tempBuff.pop(),this._unconsume();return Oe}_isCharacterReferenceInAttribute(){return this.returnState===X||this.returnState===ee||this.returnState===ue}_isCharacterReferenceAttributeQuirk(F){if(!F&&this._isCharacterReferenceInAttribute()){const Oe=this._consume();return this._unconsume(),Oe===o.EQUALS_SIGN||mi(Oe)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let F=0;F<this.tempBuff.length;F++)this.currentAttr.value+=j(this.tempBuff[F]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[s](F){this.preprocessor.dropParsedChunk(),F===o.LESS_THAN_SIGN?this.state=p:F===o.AMPERSAND?(this.returnState=s,this.state=yt):F===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitCodePoint(F)):F===o.EOF?this._emitEOFToken():this._emitCodePoint(F)}[l](F){this.preprocessor.dropParsedChunk(),F===o.AMPERSAND?(this.returnState=l,this.state=yt):F===o.LESS_THAN_SIGN?this.state=g:F===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?this._emitEOFToken():this._emitCodePoint(F)}[c](F){this.preprocessor.dropParsedChunk(),F===o.LESS_THAN_SIGN?this.state=y:F===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?this._emitEOFToken():this._emitCodePoint(F)}[u](F){this.preprocessor.dropParsedChunk(),F===o.LESS_THAN_SIGN?this.state=k:F===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?this._emitEOFToken():this._emitCodePoint(F)}[d](F){this.preprocessor.dropParsedChunk(),F===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?this._emitEOFToken():this._emitCodePoint(F)}[p](F){F===o.EXCLAMATION_MARK?this.state=Ce:F===o.SOLIDUS?this.state=h:Xr(F)?(this._createStartTagToken(),this._reconsumeInState(m)):F===o.QUESTION_MARK?(this._err(r.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(he)):F===o.EOF?(this._err(r.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(r.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(s))}[h](F){Xr(F)?(this._createEndTagToken(),this._reconsumeInState(m)):F===o.GREATER_THAN_SIGN?(this._err(r.missingEndTagName),this.state=s):F===o.EOF?(this._err(r.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(r.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(he))}[m](F){Wt(F)?this.state=q:F===o.SOLIDUS?this.state=ge:F===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):vr(F)?this.currentToken.tagName+=Y(F):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.tagName+=t.REPLACEMENT_CHARACTER):F===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=j(F)}[g](F){F===o.SOLIDUS?(this.tempBuff=[],this.state=f):(this._emitChars("<"),this._reconsumeInState(l))}[f](F){Xr(F)?(this._createEndTagToken(),this._reconsumeInState(v)):(this._emitChars("</"),this._reconsumeInState(l))}[v](F){if(vr(F))this.currentToken.tagName+=Y(F),this.tempBuff.push(F);else if(Vo(F))this.currentToken.tagName+=j(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Wt(F))return void(this.state=q);if(F===o.SOLIDUS)return void(this.state=ge);if(F===o.GREATER_THAN_SIGN)return this.state=s,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(l)}}[y](F){F===o.SOLIDUS?(this.tempBuff=[],this.state=b):(this._emitChars("<"),this._reconsumeInState(c))}[b](F){Xr(F)?(this._createEndTagToken(),this._reconsumeInState(w)):(this._emitChars("</"),this._reconsumeInState(c))}[w](F){if(vr(F))this.currentToken.tagName+=Y(F),this.tempBuff.push(F);else if(Vo(F))this.currentToken.tagName+=j(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Wt(F))return void(this.state=q);if(F===o.SOLIDUS)return void(this.state=ge);if(F===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(c)}}[k](F){F===o.SOLIDUS?(this.tempBuff=[],this.state=_):F===o.EXCLAMATION_MARK?(this.state=S,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(u))}[_](F){Xr(F)?(this._createEndTagToken(),this._reconsumeInState(E)):(this._emitChars("</"),this._reconsumeInState(u))}[E](F){if(vr(F))this.currentToken.tagName+=Y(F),this.tempBuff.push(F);else if(Vo(F))this.currentToken.tagName+=j(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Wt(F))return void(this.state=q);if(F===o.SOLIDUS)return void(this.state=ge);if(F===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(u)}}[S](F){F===o.HYPHEN_MINUS?(this.state=O,this._emitChars("-")):this._reconsumeInState(u)}[O](F){F===o.HYPHEN_MINUS?(this.state=D,this._emitChars("-")):this._reconsumeInState(u)}[T](F){F===o.HYPHEN_MINUS?(this.state=M,this._emitChars("-")):F===o.LESS_THAN_SIGN?this.state=H:F===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(F)}[M](F){F===o.HYPHEN_MINUS?(this.state=D,this._emitChars("-")):F===o.LESS_THAN_SIGN?this.state=H:F===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=T,this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=T,this._emitCodePoint(F))}[D](F){F===o.HYPHEN_MINUS?this._emitChars("-"):F===o.LESS_THAN_SIGN?this.state=H:F===o.GREATER_THAN_SIGN?(this.state=u,this._emitChars(">")):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=T,this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=T,this._emitCodePoint(F))}[H](F){F===o.SOLIDUS?(this.tempBuff=[],this.state=$):Xr(F)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(U)):(this._emitChars("<"),this._reconsumeInState(T))}[$](F){Xr(F)?(this._createEndTagToken(),this._reconsumeInState(R)):(this._emitChars("</"),this._reconsumeInState(T))}[R](F){if(vr(F))this.currentToken.tagName+=Y(F),this.tempBuff.push(F);else if(Vo(F))this.currentToken.tagName+=j(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Wt(F))return void(this.state=q);if(F===o.SOLIDUS)return void(this.state=ge);if(F===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(T)}}[U](F){Wt(F)||F===o.SOLIDUS||F===o.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?B:T,this._emitCodePoint(F)):vr(F)?(this.tempBuff.push(z(F)),this._emitCodePoint(F)):Vo(F)?(this.tempBuff.push(F),this._emitCodePoint(F)):this._reconsumeInState(T)}[B](F){F===o.HYPHEN_MINUS?(this.state=L,this._emitChars("-")):F===o.LESS_THAN_SIGN?(this.state=V,this._emitChars("<")):F===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(F)}[L](F){F===o.HYPHEN_MINUS?(this.state=C,this._emitChars("-")):F===o.LESS_THAN_SIGN?(this.state=V,this._emitChars("<")):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=B,this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(F))}[C](F){F===o.HYPHEN_MINUS?this._emitChars("-"):F===o.LESS_THAN_SIGN?(this.state=V,this._emitChars("<")):F===o.GREATER_THAN_SIGN?(this.state=u,this._emitChars(">")):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=B,this._emitChars(t.REPLACEMENT_CHARACTER)):F===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(F))}[V](F){F===o.SOLIDUS?(this.tempBuff=[],this.state=N,this._emitChars("/")):this._reconsumeInState(B)}[N](F){Wt(F)||F===o.SOLIDUS||F===o.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?T:B,this._emitCodePoint(F)):vr(F)?(this.tempBuff.push(z(F)),this._emitCodePoint(F)):Vo(F)?(this.tempBuff.push(F),this._emitCodePoint(F)):this._reconsumeInState(B)}[q](F){Wt(F)||(F===o.SOLIDUS||F===o.GREATER_THAN_SIGN||F===o.EOF?this._reconsumeInState(Q):F===o.EQUALS_SIGN?(this._err(r.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=J):(this._createAttr(""),this._reconsumeInState(J)))}[J](F){Wt(F)||F===o.SOLIDUS||F===o.GREATER_THAN_SIGN||F===o.EOF?(this._leaveAttrName(Q),this._unconsume()):F===o.EQUALS_SIGN?this._leaveAttrName(te):vr(F)?this.currentAttr.name+=Y(F):F===o.QUOTATION_MARK||F===o.APOSTROPHE||F===o.LESS_THAN_SIGN?(this._err(r.unexpectedCharacterInAttributeName),this.currentAttr.name+=j(F)):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.name+=t.REPLACEMENT_CHARACTER):this.currentAttr.name+=j(F)}[Q](F){Wt(F)||(F===o.SOLIDUS?this.state=ge:F===o.EQUALS_SIGN?this.state=te:F===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(J)))}[te](F){Wt(F)||(F===o.QUOTATION_MARK?this.state=X:F===o.APOSTROPHE?this.state=ee:F===o.GREATER_THAN_SIGN?(this._err(r.missingAttributeValue),this.state=s,this._emitCurrentToken()):this._reconsumeInState(ue))}[X](F){F===o.QUOTATION_MARK?this.state=de:F===o.AMPERSAND?(this.returnState=X,this.state=yt):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER):F===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentAttr.value+=j(F)}[ee](F){F===o.APOSTROPHE?this.state=de:F===o.AMPERSAND?(this.returnState=ee,this.state=yt):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER):F===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentAttr.value+=j(F)}[ue](F){Wt(F)?this._leaveAttrValue(q):F===o.AMPERSAND?(this.returnState=ue,this.state=yt):F===o.GREATER_THAN_SIGN?(this._leaveAttrValue(s),this._emitCurrentToken()):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER):F===o.QUOTATION_MARK||F===o.APOSTROPHE||F===o.LESS_THAN_SIGN||F===o.EQUALS_SIGN||F===o.GRAVE_ACCENT?(this._err(r.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=j(F)):F===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentAttr.value+=j(F)}[de](F){Wt(F)?this._leaveAttrValue(q):F===o.SOLIDUS?this._leaveAttrValue(ge):F===o.GREATER_THAN_SIGN?(this._leaveAttrValue(s),this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):(this._err(r.missingWhitespaceBetweenAttributes),this._reconsumeInState(q))}[ge](F){F===o.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):(this._err(r.unexpectedSolidusInTag),this._reconsumeInState(q))}[he](F){F===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):F===o.EOF?(this._emitCurrentToken(),this._emitEOFToken()):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.data+=t.REPLACEMENT_CHARACTER):this.currentToken.data+=j(F)}[Ce](F){this._consumeSequenceIfMatch(i.DASH_DASH_STRING,F,!0)?(this._createCommentToken(),this.state=be):this._consumeSequenceIfMatch(i.DOCTYPE_STRING,F,!1)?this.state=Qe:this._consumeSequenceIfMatch(i.CDATA_START_STRING,F,!0)?this.allowCDATA?this.state=lt:(this._err(r.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=he):this._ensureHibernation()||(this._err(r.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(he))}[be](F){F===o.HYPHEN_MINUS?this.state=me:F===o.GREATER_THAN_SIGN?(this._err(r.abruptClosingOfEmptyComment),this.state=s,this._emitCurrentToken()):this._reconsumeInState(pe)}[me](F){F===o.HYPHEN_MINUS?this.state=it:F===o.GREATER_THAN_SIGN?(this._err(r.abruptClosingOfEmptyComment),this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(pe))}[pe](F){F===o.HYPHEN_MINUS?this.state=Be:F===o.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=Ie):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.data+=t.REPLACEMENT_CHARACTER):F===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=j(F)}[Ie](F){F===o.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=xe):F===o.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(pe)}[xe](F){F===o.HYPHEN_MINUS?this.state=Ee:this._reconsumeInState(pe)}[Ee](F){F===o.HYPHEN_MINUS?this.state=Re:this._reconsumeInState(Be)}[Re](F){F!==o.GREATER_THAN_SIGN&&F!==o.EOF&&this._err(r.nestedComment),this._reconsumeInState(it)}[Be](F){F===o.HYPHEN_MINUS?this.state=it:F===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(pe))}[it](F){F===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):F===o.EXCLAMATION_MARK?this.state=at:F===o.HYPHEN_MINUS?this.currentToken.data+="-":F===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(pe))}[at](F){F===o.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=Be):F===o.GREATER_THAN_SIGN?(this._err(r.incorrectlyClosedComment),this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(pe))}[Qe](F){Wt(F)?this.state=Je:F===o.GREATER_THAN_SIGN?this._reconsumeInState(Je):F===o.EOF?(this._err(r.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(Je))}[Je](F){Wt(F)||(vr(F)?(this._createDoctypeToken(Y(F)),this.state=Me):F===o.NULL?(this._err(r.unexpectedNullCharacter),this._createDoctypeToken(t.REPLACEMENT_CHARACTER),this.state=Me):F===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):F===o.EOF?(this._err(r.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(j(F)),this.state=Me))}[Me](F){Wt(F)?this.state=He:F===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):vr(F)?this.currentToken.name+=Y(F):F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.name+=t.REPLACEMENT_CHARACTER):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=j(F)}[He](F){Wt(F)||(F===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(i.PUBLIC_STRING,F,!1)?this.state=Ue:this._consumeSequenceIfMatch(i.SYSTEM_STRING,F,!1)?this.state=De:this._ensureHibernation()||(this._err(r.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(vt)))}[Ue](F){Wt(F)?this.state=Ve:F===o.QUOTATION_MARK?(this._err(r.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=ce):F===o.APOSTROPHE?(this._err(r.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=re):F===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(vt))}[Ve](F){Wt(F)||(F===o.QUOTATION_MARK?(this.currentToken.publicId="",this.state=ce):F===o.APOSTROPHE?(this.currentToken.publicId="",this.state=re):F===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(vt)))}[ce](F){F===o.QUOTATION_MARK?this.state=fe:F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.publicId+=t.REPLACEMENT_CHARACTER):F===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=j(F)}[re](F){F===o.APOSTROPHE?this.state=fe:F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.publicId+=t.REPLACEMENT_CHARACTER):F===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=j(F)}[fe](F){Wt(F)?this.state=ve:F===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):F===o.QUOTATION_MARK?(this._err(r.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ht):F===o.APOSTROPHE?(this._err(r.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=nt):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(vt))}[ve](F){Wt(F)||(F===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):F===o.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ht):F===o.APOSTROPHE?(this.currentToken.systemId="",this.state=nt):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(vt)))}[De](F){Wt(F)?this.state=Xe:F===o.QUOTATION_MARK?(this._err(r.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ht):F===o.APOSTROPHE?(this._err(r.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=nt):F===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(vt))}[Xe](F){Wt(F)||(F===o.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ht):F===o.APOSTROPHE?(this.currentToken.systemId="",this.state=nt):F===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(vt)))}[ht](F){F===o.QUOTATION_MARK?this.state=Ze:F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.systemId+=t.REPLACEMENT_CHARACTER):F===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=j(F)}[nt](F){F===o.APOSTROPHE?this.state=Ze:F===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.systemId+=t.REPLACEMENT_CHARACTER):F===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=j(F)}[Ze](F){Wt(F)||(F===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):F===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(vt)))}[vt](F){F===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):F===o.NULL?this._err(r.unexpectedNullCharacter):F===o.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[lt](F){F===o.RIGHT_SQUARE_BRACKET?this.state=qe:F===o.EOF?(this._err(r.eofInCdata),this._emitEOFToken()):this._emitCodePoint(F)}[qe](F){F===o.RIGHT_SQUARE_BRACKET?this.state=ot:(this._emitChars("]"),this._reconsumeInState(lt))}[ot](F){F===o.GREATER_THAN_SIGN?this.state=s:F===o.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(lt))}[yt](F){this.tempBuff=[o.AMPERSAND],F===o.NUMBER_SIGN?(this.tempBuff.push(F),this.state=$o):mi(F)?this._reconsumeInState(gn):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[gn](F){const Oe=this._matchNamedCharacterReference(F);if(this._ensureHibernation())this.tempBuff=[o.AMPERSAND];else if(Oe){const Ke=this.tempBuff[this.tempBuff.length-1]===o.SEMICOLON;this._isCharacterReferenceAttributeQuirk(Ke)||(Ke||this._errOnNextCodePoint(r.missingSemicolonAfterCharacterReference),this.tempBuff=Oe),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=$t}[$t](F){mi(F)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=j(F):this._emitCodePoint(F):(F===o.SEMICOLON&&this._err(r.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[$o](F){this.charRefCode=0,F===o.LATIN_SMALL_X||F===o.LATIN_CAPITAL_X?(this.tempBuff.push(F),this.state=vn):this._reconsumeInState(qt)}[vn](F){var Oe;mo(Oe=F)||Fi(Oe)||P(Oe)?this._reconsumeInState(Jr):(this._err(r.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[qt](F){mo(F)?this._reconsumeInState(vs):(this._err(r.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Jr](F){Fi(F)?this.charRefCode=16*this.charRefCode+F-55:P(F)?this.charRefCode=16*this.charRefCode+F-87:mo(F)?this.charRefCode=16*this.charRefCode+F-48:F===o.SEMICOLON?this.state=Pn:(this._err(r.missingSemicolonAfterCharacterReference),this._reconsumeInState(Pn))}[vs](F){mo(F)?this.charRefCode=10*this.charRefCode+F-48:F===o.SEMICOLON?this.state=Pn:(this._err(r.missingSemicolonAfterCharacterReference),this._reconsumeInState(Pn))}[Pn](){if(this.charRefCode===o.NULL)this._err(r.nullCharacterReference),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(r.characterReferenceOutsideUnicodeRange),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(t.isSurrogate(this.charRefCode))this._err(r.surrogateCharacterReference),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(t.isUndefinedCodePoint(this.charRefCode))this._err(r.noncharacterCharacterReference);else if(t.isControlCodePoint(this.charRefCode)||this.charRefCode===o.CARRIAGE_RETURN){this._err(r.controlCharacterReference);const F=a[this.charRefCode];F&&(this.charRefCode=F)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}return Te.CHARACTER_TOKEN="CHARACTER_TOKEN",Te.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Te.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Te.START_TAG_TOKEN="START_TAG_TOKEN",Te.END_TAG_TOKEN="END_TAG_TOKEN",Te.COMMENT_TOKEN="COMMENT_TOKEN",Te.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Te.EOF_TOKEN="EOF_TOKEN",Te.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Te.MODE={DATA:s,RCDATA:l,RAWTEXT:c,SCRIPT_DATA:u,PLAINTEXT:d},Te.getTokenAttr=function(ae,F){for(let Oe=ae.attrs.length-1;Oe>=0;Oe--)if(ae.attrs[Oe].name===F)return ae.attrs[Oe].value;return null},FQ=Te}var UQ,I3,HQ,$Q,VQ,qQ,WQ,R3,KQ,M3,GQ,D3,YQ,L3,QQ,j3,JQ,z3,XQ,F3,ZQ,B3,eJ,Bu={};function hp(){if(UQ)return Bu;UQ=1;const e=Bu.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};Bu.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},Bu.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const t=Bu.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};return Bu.SPECIAL_ELEMENTS={[e.HTML]:{[t.ADDRESS]:!0,[t.APPLET]:!0,[t.AREA]:!0,[t.ARTICLE]:!0,[t.ASIDE]:!0,[t.BASE]:!0,[t.BASEFONT]:!0,[t.BGSOUND]:!0,[t.BLOCKQUOTE]:!0,[t.BODY]:!0,[t.BR]:!0,[t.BUTTON]:!0,[t.CAPTION]:!0,[t.CENTER]:!0,[t.COL]:!0,[t.COLGROUP]:!0,[t.DD]:!0,[t.DETAILS]:!0,[t.DIR]:!0,[t.DIV]:!0,[t.DL]:!0,[t.DT]:!0,[t.EMBED]:!0,[t.FIELDSET]:!0,[t.FIGCAPTION]:!0,[t.FIGURE]:!0,[t.FOOTER]:!0,[t.FORM]:!0,[t.FRAME]:!0,[t.FRAMESET]:!0,[t.H1]:!0,[t.H2]:!0,[t.H3]:!0,[t.H4]:!0,[t.H5]:!0,[t.H6]:!0,[t.HEAD]:!0,[t.HEADER]:!0,[t.HGROUP]:!0,[t.HR]:!0,[t.HTML]:!0,[t.IFRAME]:!0,[t.IMG]:!0,[t.INPUT]:!0,[t.LI]:!0,[t.LINK]:!0,[t.LISTING]:!0,[t.MAIN]:!0,[t.MARQUEE]:!0,[t.MENU]:!0,[t.META]:!0,[t.NAV]:!0,[t.NOEMBED]:!0,[t.NOFRAMES]:!0,[t.NOSCRIPT]:!0,[t.OBJECT]:!0,[t.OL]:!0,[t.P]:!0,[t.PARAM]:!0,[t.PLAINTEXT]:!0,[t.PRE]:!0,[t.SCRIPT]:!0,[t.SECTION]:!0,[t.SELECT]:!0,[t.SOURCE]:!0,[t.STYLE]:!0,[t.SUMMARY]:!0,[t.TABLE]:!0,[t.TBODY]:!0,[t.TD]:!0,[t.TEMPLATE]:!0,[t.TEXTAREA]:!0,[t.TFOOT]:!0,[t.TH]:!0,[t.THEAD]:!0,[t.TITLE]:!0,[t.TR]:!0,[t.TRACK]:!0,[t.UL]:!0,[t.WBR]:!0,[t.XMP]:!0},[e.MATHML]:{[t.MI]:!0,[t.MO]:!0,[t.MN]:!0,[t.MS]:!0,[t.MTEXT]:!0,[t.ANNOTATION_XML]:!0},[e.SVG]:{[t.TITLE]:!0,[t.FOREIGN_OBJECT]:!0,[t.DESC]:!0}},Bu}function sl(){if(WQ)return qQ;WQ=1;class e{constructor(n){const r={},o=this._getOverriddenMethods(this,r);for(const i of Object.keys(o))typeof o[i]=="function"&&(r[i]=n[i],n[i]=o[i])}_getOverriddenMethods(){throw new Error("Not implemented")}}return e.install=function(t,n,r){t.__mixins||(t.__mixins=[]);for(let i=0;i<t.__mixins.length;i++)if(t.__mixins[i].constructor===n)return t.__mixins[i];const o=new n(t,r);return t.__mixins.push(o),o},qQ=e}function tJ(){if(KQ)return R3;KQ=1;const e=sl();return R3=class extends e{constructor(t){super(t),this.preprocessor=t,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(t,n){return{advance(){const r=this.pos+1,o=this.html[r];return t.isEol&&(t.isEol=!1,t.line++,t.lineStartPos=r),(o===`
`||o==="\r"&&this.html[r+1]!==`
`)&&(t.isEol=!0),t.col=r-t.lineStartPos+1,t.offset=t.droppedBufferSize+r,n.advance.call(this)},retreat(){n.retreat.call(this),t.isEol=!1,t.col=this.pos-t.lineStartPos+1},dropParsedChunk(){const r=this.pos;n.dropParsedChunk.call(this);const o=r-this.pos;t.lineStartPos-=o,t.droppedBufferSize+=o,t.offset=t.droppedBufferSize+this.pos}}}},R3}function nJ(){if(GQ)return M3;GQ=1;const e=sl(),t=_w(),n=tJ();return M3=class extends e{constructor(r){super(r),this.tokenizer=r,this.posTracker=e.install(r.preprocessor,n),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const r=this.tokenizer.currentToken,o=this.tokenizer.currentAttr;r.location.attrs||(r.location.attrs=Object.create(null)),r.location.attrs[o.name]=this.currentAttrLocation}_getOverriddenMethods(r,o){const i={_createStartTagToken(){o._createStartTagToken.call(this),this.currentToken.location=r.ctLoc},_createEndTagToken(){o._createEndTagToken.call(this),this.currentToken.location=r.ctLoc},_createCommentToken(){o._createCommentToken.call(this),this.currentToken.location=r.ctLoc},_createDoctypeToken(a){o._createDoctypeToken.call(this,a),this.currentToken.location=r.ctLoc},_createCharacterToken(a,s){o._createCharacterToken.call(this,a,s),this.currentCharacterToken.location=r.ctLoc},_createEOFToken(){o._createEOFToken.call(this),this.currentToken.location=r._getCurrentLocation()},_createAttr(a){o._createAttr.call(this,a),r.currentAttrLocation=r._getCurrentLocation()},_leaveAttrName(a){o._leaveAttrName.call(this,a),r._attachCurrentAttrLocationInfo()},_leaveAttrValue(a){o._leaveAttrValue.call(this,a),r._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const a=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=a.startLine,this.currentCharacterToken.location.endCol=a.startCol,this.currentCharacterToken.location.endOffset=a.startOffset),this.currentToken.type===t.EOF_TOKEN?(a.endLine=a.startLine,a.endCol=a.startCol,a.endOffset=a.startOffset):(a.endLine=r.posTracker.line,a.endCol=r.posTracker.col+1,a.endOffset=r.posTracker.offset+1),o._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const a=this.currentCharacterToken&&this.currentCharacterToken.location;a&&a.endOffset===-1&&(a.endLine=r.posTracker.line,a.endCol=r.posTracker.col,a.endOffset=r.posTracker.offset),o._emitCurrentCharacterToken.call(this)}};return Object.keys(t.MODE).forEach(a=>{const s=t.MODE[a];i[s]=function(l){r.ctLoc=r._getCurrentLocation(),o[s].call(this,l)}}),i}},M3}function gxe(){if(QQ)return L3;QQ=1;const e=sl(),t=_w(),n=nJ(),r=function(){if(YQ)return D3;YQ=1;const i=sl();return D3=class extends i{constructor(a,s){super(a),this.onItemPop=s.onItemPop}_getOverriddenMethods(a,s){return{pop(){a.onItemPop(this.current),s.pop.call(this)},popAllUpToHtmlElement(){for(let l=this.stackTop;l>0;l--)a.onItemPop(this.items[l]);s.popAllUpToHtmlElement.call(this)},remove(l){a.onItemPop(this.current),s.remove.call(this,l)}}}},D3}(),o=hp().TAG_NAMES;return L3=class extends e{constructor(i){super(i),this.parser=i,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(i){let a=null;this.lastStartTagToken&&(a=Object.assign({},this.lastStartTagToken.location),a.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(i,a)}_setEndLocation(i,a){if(this.treeAdapter.getNodeSourceCodeLocation(i)&&a.location){const s=a.location,l=this.treeAdapter.getTagName(i),c={};a.type===t.END_TAG_TOKEN&&l===a.tagName?(c.endTag=Object.assign({},s),c.endLine=s.endLine,c.endCol=s.endCol,c.endOffset=s.endOffset):(c.endLine=s.startLine,c.endCol=s.startCol,c.endOffset=s.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(i,c)}}_getOverriddenMethods(i,a){return{_bootstrap(s,l){a._bootstrap.call(this,s,l),i.lastStartTagToken=null,i.lastFosterParentingLocation=null,i.currentToken=null;const c=e.install(this.tokenizer,n);i.posTracker=c.posTracker,e.install(this.openElements,r,{onItemPop:function(u){i._setEndLocation(u,i.currentToken)}})},_runParsingLoop(s){a._runParsingLoop.call(this,s);for(let l=this.openElements.stackTop;l>=0;l--)i._setEndLocation(this.openElements.items[l],i.currentToken)},_processTokenInForeignContent(s){i.currentToken=s,a._processTokenInForeignContent.call(this,s)},_processToken(s){if(i.currentToken=s,a._processToken.call(this,s),s.type===t.END_TAG_TOKEN&&(s.tagName===o.HTML||s.tagName===o.BODY&&this.openElements.hasInScope(o.BODY)))for(let l=this.openElements.stackTop;l>=0;l--){const c=this.openElements.items[l];if(this.treeAdapter.getTagName(c)===s.tagName){i._setEndLocation(c,s);break}}},_setDocumentType(s){a._setDocumentType.call(this,s);const l=this.treeAdapter.getChildNodes(this.document),c=l.length;for(let u=0;u<c;u++){const d=l[u];if(this.treeAdapter.isDocumentTypeNode(d)){this.treeAdapter.setNodeSourceCodeLocation(d,s.location);break}}},_attachElementToTree(s){i._setStartLocation(s),i.lastStartTagToken=null,a._attachElementToTree.call(this,s)},_appendElement(s,l){i.lastStartTagToken=s,a._appendElement.call(this,s,l)},_insertElement(s,l){i.lastStartTagToken=s,a._insertElement.call(this,s,l)},_insertTemplate(s){i.lastStartTagToken=s,a._insertTemplate.call(this,s);const l=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(l,null)},_insertFakeRootElement(){a._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(s,l){a._appendCommentNode.call(this,s,l);const c=this.treeAdapter.getChildNodes(l),u=c[c.length-1];this.treeAdapter.setNodeSourceCodeLocation(u,s.location)},_findFosterParentingLocation(){return i.lastFosterParentingLocation=a._findFosterParentingLocation.call(this),i.lastFosterParentingLocation},_insertCharacters(s){a._insertCharacters.call(this,s);const l=this._shouldFosterParentOnInsertion(),c=l&&i.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,u=this.treeAdapter.getChildNodes(c),d=l&&i.lastFosterParentingLocation.beforeElement?u.indexOf(i.lastFosterParentingLocation.beforeElement)-1:u.length-1,p=u[d];if(this.treeAdapter.getNodeSourceCodeLocation(p)){const{endLine:h,endCol:m,endOffset:g}=s.location;this.treeAdapter.updateNodeSourceCodeLocation(p,{endLine:h,endCol:m,endOffset:g})}else this.treeAdapter.setNodeSourceCodeLocation(p,s.location)}}}},L3}function U3(){if(JQ)return j3;JQ=1;const e=sl();return j3=class extends e{constructor(t,n){super(t),this.posTracker=null,this.onParseError=n.onParseError}_setErrorLocation(t){t.startLine=t.endLine=this.posTracker.line,t.startCol=t.endCol=this.posTracker.col,t.startOffset=t.endOffset=this.posTracker.offset}_reportError(t){const n={code:t,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(n),this.onParseError(n)}_getOverriddenMethods(t){return{_err(n){t._reportError(n)}}}},j3}function vxe(){if(ZQ)return F3;ZQ=1;const e=U3(),t=function(){if(XQ)return z3;XQ=1;const r=U3(),o=tJ(),i=sl();return z3=class extends r{constructor(a,s){super(a,s),this.posTracker=i.install(a,o),this.lastErrOffset=-1}_reportError(a){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(a))}},z3}(),n=sl();return F3=class extends e{constructor(r,o){super(r,o);const i=n.install(r.preprocessor,t,o);this.posTracker=i.posTracker}},F3}var rJ,oJ,iJ,Kt={},aJ,Nf={},sJ,H3,lJ,ll={};function bxe(){if(sJ)return ll;sJ=1;const e=_w(),t=hp(),n=t.TAG_NAMES,r=t.NAMESPACES,o=t.ATTRS,i="text/html",a="application/xhtml+xml",s={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},l={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:r.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:r.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:r.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:r.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:r.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:r.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:r.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:r.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:r.XML},"xml:space":{prefix:"xml",name:"space",namespace:r.XML},xmlns:{prefix:"",name:"xmlns",namespace:r.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:r.XMLNS}},c=ll.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},u={[n.B]:!0,[n.BIG]:!0,[n.BLOCKQUOTE]:!0,[n.BODY]:!0,[n.BR]:!0,[n.CENTER]:!0,[n.CODE]:!0,[n.DD]:!0,[n.DIV]:!0,[n.DL]:!0,[n.DT]:!0,[n.EM]:!0,[n.EMBED]:!0,[n.H1]:!0,[n.H2]:!0,[n.H3]:!0,[n.H4]:!0,[n.H5]:!0,[n.H6]:!0,[n.HEAD]:!0,[n.HR]:!0,[n.I]:!0,[n.IMG]:!0,[n.LI]:!0,[n.LISTING]:!0,[n.MENU]:!0,[n.META]:!0,[n.NOBR]:!0,[n.OL]:!0,[n.P]:!0,[n.PRE]:!0,[n.RUBY]:!0,[n.S]:!0,[n.SMALL]:!0,[n.SPAN]:!0,[n.STRONG]:!0,[n.STRIKE]:!0,[n.SUB]:!0,[n.SUP]:!0,[n.TABLE]:!0,[n.TT]:!0,[n.U]:!0,[n.UL]:!0,[n.VAR]:!0};return ll.causesExit=function(d){const p=d.tagName;return p===n.FONT&&(e.getTokenAttr(d,o.COLOR)!==null||e.getTokenAttr(d,o.SIZE)!==null||e.getTokenAttr(d,o.FACE)!==null)||u[p]},ll.adjustTokenMathMLAttrs=function(d){for(let p=0;p<d.attrs.length;p++)if(d.attrs[p].name==="definitionurl"){d.attrs[p].name="definitionURL";break}},ll.adjustTokenSVGAttrs=function(d){for(let p=0;p<d.attrs.length;p++){const h=s[d.attrs[p].name];h&&(d.attrs[p].name=h)}},ll.adjustTokenXMLAttrs=function(d){for(let p=0;p<d.attrs.length;p++){const h=l[d.attrs[p].name];h&&(d.attrs[p].prefix=h.prefix,d.attrs[p].name=h.name,d.attrs[p].namespace=h.namespace)}},ll.adjustTokenSVGTagName=function(d){const p=c[d.tagName];p&&(d.tagName=p)},ll.isIntegrationPoint=function(d,p,h,m){return!((m&&m!==r.HTML||!function(g,f,v){if(f===r.MATHML&&g===n.ANNOTATION_XML){for(let y=0;y<v.length;y++)if(v[y].name===o.ENCODING){const b=v[y].value.toLowerCase();return b===i||b===a}}return f===r.SVG&&(g===n.FOREIGN_OBJECT||g===n.DESC||g===n.TITLE)}(d,p,h))&&(m&&m!==r.MATHML||!function(g,f){return f===r.MATHML&&(g===n.MI||g===n.MO||g===n.MN||g===n.MS||g===n.MTEXT)}(d,p)))},ll}var yxe=function(){if(lJ)return H3;lJ=1;const e=_w(),t=function(){if(HQ)return I3;HQ=1;const P=hp(),z=P.TAG_NAMES,j=P.NAMESPACES;function Y(ae){switch(ae.length){case 1:return ae===z.P;case 2:return ae===z.RB||ae===z.RP||ae===z.RT||ae===z.DD||ae===z.DT||ae===z.LI;case 3:return ae===z.RTC;case 6:return ae===z.OPTION;case 8:return ae===z.OPTGROUP}return!1}function Z(ae){switch(ae.length){case 1:return ae===z.P;case 2:return ae===z.RB||ae===z.RP||ae===z.RT||ae===z.DD||ae===z.DT||ae===z.LI||ae===z.TD||ae===z.TH||ae===z.TR;case 3:return ae===z.RTC;case 5:return ae===z.TBODY||ae===z.TFOOT||ae===z.THEAD;case 6:return ae===z.OPTION;case 7:return ae===z.CAPTION;case 8:return ae===z.OPTGROUP||ae===z.COLGROUP}return!1}function Te(ae,F){switch(ae.length){case 2:if(ae===z.TD||ae===z.TH)return F===j.HTML;if(ae===z.MI||ae===z.MO||ae===z.MN||ae===z.MS)return F===j.MATHML;break;case 4:if(ae===z.HTML)return F===j.HTML;if(ae===z.DESC)return F===j.SVG;break;case 5:if(ae===z.TABLE)return F===j.HTML;if(ae===z.MTEXT)return F===j.MATHML;if(ae===z.TITLE)return F===j.SVG;break;case 6:return(ae===z.APPLET||ae===z.OBJECT)&&F===j.HTML;case 7:return(ae===z.CAPTION||ae===z.MARQUEE)&&F===j.HTML;case 8:return ae===z.TEMPLATE&&F===j.HTML;case 13:return ae===z.FOREIGN_OBJECT&&F===j.SVG;case 14:return ae===z.ANNOTATION_XML&&F===j.MATHML}return!1}return I3=class{constructor(ae,F){this.stackTop=-1,this.items=[],this.current=ae,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=F}_indexOf(ae){let F=-1;for(let Oe=this.stackTop;Oe>=0;Oe--)if(this.items[Oe]===ae){F=Oe;break}return F}_isInTemplate(){return this.currentTagName===z.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===j.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(ae){this.items[++this.stackTop]=ae,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(ae,F){const Oe=this._indexOf(ae);this.items[Oe]=F,Oe===this.stackTop&&this._updateCurrentElement()}insertAfter(ae,F){const Oe=this._indexOf(ae)+1;this.items.splice(Oe,0,F),Oe===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(ae){for(;this.stackTop>-1;){const F=this.currentTagName,Oe=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),F===ae&&Oe===j.HTML)break}}popUntilElementPopped(ae){for(;this.stackTop>-1;){const F=this.current;if(this.pop(),F===ae)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const ae=this.currentTagName,F=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),ae===z.H1||ae===z.H2||ae===z.H3||ae===z.H4||ae===z.H5||ae===z.H6&&F===j.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const ae=this.currentTagName,F=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),ae===z.TD||ae===z.TH&&F===j.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==z.TABLE&&this.currentTagName!==z.TEMPLATE&&this.currentTagName!==z.HTML||this.treeAdapter.getNamespaceURI(this.current)!==j.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==z.TBODY&&this.currentTagName!==z.TFOOT&&this.currentTagName!==z.THEAD&&this.currentTagName!==z.TEMPLATE&&this.currentTagName!==z.HTML||this.treeAdapter.getNamespaceURI(this.current)!==j.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==z.TR&&this.currentTagName!==z.TEMPLATE&&this.currentTagName!==z.HTML||this.treeAdapter.getNamespaceURI(this.current)!==j.HTML;)this.pop()}remove(ae){for(let F=this.stackTop;F>=0;F--)if(this.items[F]===ae){this.items.splice(F,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const ae=this.items[1];return ae&&this.treeAdapter.getTagName(ae)===z.BODY?ae:null}contains(ae){return this._indexOf(ae)>-1}getCommonAncestor(ae){let F=this._indexOf(ae);return--F>=0?this.items[F]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===z.HTML}hasInScope(ae){for(let F=this.stackTop;F>=0;F--){const Oe=this.treeAdapter.getTagName(this.items[F]),Ke=this.treeAdapter.getNamespaceURI(this.items[F]);if(Oe===ae&&Ke===j.HTML)return!0;if(Te(Oe,Ke))return!1}return!0}hasNumberedHeaderInScope(){for(let ae=this.stackTop;ae>=0;ae--){const F=this.treeAdapter.getTagName(this.items[ae]),Oe=this.treeAdapter.getNamespaceURI(this.items[ae]);if((F===z.H1||F===z.H2||F===z.H3||F===z.H4||F===z.H5||F===z.H6)&&Oe===j.HTML)return!0;if(Te(F,Oe))return!1}return!0}hasInListItemScope(ae){for(let F=this.stackTop;F>=0;F--){const Oe=this.treeAdapter.getTagName(this.items[F]),Ke=this.treeAdapter.getNamespaceURI(this.items[F]);if(Oe===ae&&Ke===j.HTML)return!0;if((Oe===z.UL||Oe===z.OL)&&Ke===j.HTML||Te(Oe,Ke))return!1}return!0}hasInButtonScope(ae){for(let F=this.stackTop;F>=0;F--){const Oe=this.treeAdapter.getTagName(this.items[F]),Ke=this.treeAdapter.getNamespaceURI(this.items[F]);if(Oe===ae&&Ke===j.HTML)return!0;if(Oe===z.BUTTON&&Ke===j.HTML||Te(Oe,Ke))return!1}return!0}hasInTableScope(ae){for(let F=this.stackTop;F>=0;F--){const Oe=this.treeAdapter.getTagName(this.items[F]);if(this.treeAdapter.getNamespaceURI(this.items[F])===j.HTML){if(Oe===ae)return!0;if(Oe===z.TABLE||Oe===z.TEMPLATE||Oe===z.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let ae=this.stackTop;ae>=0;ae--){const F=this.treeAdapter.getTagName(this.items[ae]);if(this.treeAdapter.getNamespaceURI(this.items[ae])===j.HTML){if(F===z.TBODY||F===z.THEAD||F===z.TFOOT)return!0;if(F===z.TABLE||F===z.HTML)return!1}}return!0}hasInSelectScope(ae){for(let F=this.stackTop;F>=0;F--){const Oe=this.treeAdapter.getTagName(this.items[F]);if(this.treeAdapter.getNamespaceURI(this.items[F])===j.HTML){if(Oe===ae)return!0;if(Oe!==z.OPTION&&Oe!==z.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Y(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Z(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(ae){for(;Y(this.currentTagName)&&this.currentTagName!==ae;)this.pop()}},I3}(),n=function(){if(VQ)return $Q;VQ=1;class P{constructor(j){this.length=0,this.entries=[],this.treeAdapter=j,this.bookmark=null}_getNoahArkConditionCandidates(j){const Y=[];if(this.length>=3){const Z=this.treeAdapter.getAttrList(j).length,Te=this.treeAdapter.getTagName(j),ae=this.treeAdapter.getNamespaceURI(j);for(let F=this.length-1;F>=0;F--){const Oe=this.entries[F];if(Oe.type===P.MARKER_ENTRY)break;const Ke=Oe.element,At=this.treeAdapter.getAttrList(Ke);this.treeAdapter.getTagName(Ke)===Te&&this.treeAdapter.getNamespaceURI(Ke)===ae&&At.length===Z&&Y.push({idx:F,attrs:At})}}return Y.length<3?[]:Y}_ensureNoahArkCondition(j){const Y=this._getNoahArkConditionCandidates(j);let Z=Y.length;if(Z){const Te=this.treeAdapter.getAttrList(j),ae=Te.length,F=Object.create(null);for(let Oe=0;Oe<ae;Oe++){const Ke=Te[Oe];F[Ke.name]=Ke.value}for(let Oe=0;Oe<ae;Oe++)for(let Ke=0;Ke<Z;Ke++){const At=Y[Ke].attrs[Oe];if(F[At.name]!==At.value&&(Y.splice(Ke,1),Z--),Y.length<3)return}for(let Oe=Z-1;Oe>=2;Oe--)this.entries.splice(Y[Oe].idx,1),this.length--}}insertMarker(){this.entries.push({type:P.MARKER_ENTRY}),this.length++}pushElement(j,Y){this._ensureNoahArkCondition(j),this.entries.push({type:P.ELEMENT_ENTRY,element:j,token:Y}),this.length++}insertElementAfterBookmark(j,Y){let Z=this.length-1;for(;Z>=0&&this.entries[Z]!==this.bookmark;Z--);this.entries.splice(Z+1,0,{type:P.ELEMENT_ENTRY,element:j,token:Y}),this.length++}removeEntry(j){for(let Y=this.length-1;Y>=0;Y--)if(this.entries[Y]===j){this.entries.splice(Y,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const j=this.entries.pop();if(this.length--,j.type===P.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(j){for(let Y=this.length-1;Y>=0;Y--){const Z=this.entries[Y];if(Z.type===P.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(Z.element)===j)return Z}return null}getElementEntry(j){for(let Y=this.length-1;Y>=0;Y--){const Z=this.entries[Y];if(Z.type===P.ELEMENT_ENTRY&&Z.element===j)return Z}return null}}return P.MARKER_ENTRY="MARKER_ENTRY",P.ELEMENT_ENTRY="ELEMENT_ENTRY",$Q=P}(),r=gxe(),o=function(){if(eJ)return B3;eJ=1;const P=U3(),z=vxe(),j=nJ(),Y=sl();return B3=class extends P{constructor(Z,Te){super(Z,Te),this.opts=Te,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(Z){this.ctLoc&&(Z.startLine=this.ctLoc.startLine,Z.startCol=this.ctLoc.startCol,Z.startOffset=this.ctLoc.startOffset,Z.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,Z.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,Z.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(Z,Te){return{_bootstrap(ae,F){Te._bootstrap.call(this,ae,F),Y.install(this.tokenizer,z,Z.opts),Y.install(this.tokenizer,j)},_processInputToken(ae){Z.ctLoc=ae.location,Te._processInputToken.call(this,ae)},_err(ae,F){Z.locBeforeToken=F&&F.beforeToken,Z._reportError(ae)}}}},B3}(),i=sl(),a=function(){if(rJ)return Kt;rJ=1;const{DOCUMENT_MODE:P}=hp();Kt.createDocument=function(){return{nodeName:"#document",mode:P.NO_QUIRKS,childNodes:[]}},Kt.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},Kt.createElement=function(Z,Te,ae){return{nodeName:Z,tagName:Z,attrs:ae,namespaceURI:Te,childNodes:[],parentNode:null}},Kt.createCommentNode=function(Z){return{nodeName:"#comment",data:Z,parentNode:null}};const z=function(Z){return{nodeName:"#text",value:Z,parentNode:null}},j=Kt.appendChild=function(Z,Te){Z.childNodes.push(Te),Te.parentNode=Z},Y=Kt.insertBefore=function(Z,Te,ae){const F=Z.childNodes.indexOf(ae);Z.childNodes.splice(F,0,Te),Te.parentNode=Z};return Kt.setTemplateContent=function(Z,Te){Z.content=Te},Kt.getTemplateContent=function(Z){return Z.content},Kt.setDocumentType=function(Z,Te,ae,F){let Oe=null;for(let Ke=0;Ke<Z.childNodes.length;Ke++)if(Z.childNodes[Ke].nodeName==="#documentType"){Oe=Z.childNodes[Ke];break}Oe?(Oe.name=Te,Oe.publicId=ae,Oe.systemId=F):j(Z,{nodeName:"#documentType",name:Te,publicId:ae,systemId:F})},Kt.setDocumentMode=function(Z,Te){Z.mode=Te},Kt.getDocumentMode=function(Z){return Z.mode},Kt.detachNode=function(Z){if(Z.parentNode){const Te=Z.parentNode.childNodes.indexOf(Z);Z.parentNode.childNodes.splice(Te,1),Z.parentNode=null}},Kt.insertText=function(Z,Te){if(Z.childNodes.length){const ae=Z.childNodes[Z.childNodes.length-1];if(ae.nodeName==="#text")return void(ae.value+=Te)}j(Z,z(Te))},Kt.insertTextBefore=function(Z,Te,ae){const F=Z.childNodes[Z.childNodes.indexOf(ae)-1];F&&F.nodeName==="#text"?F.value+=Te:Y(Z,z(Te),ae)},Kt.adoptAttributes=function(Z,Te){const ae=[];for(let F=0;F<Z.attrs.length;F++)ae.push(Z.attrs[F].name);for(let F=0;F<Te.length;F++)ae.indexOf(Te[F].name)===-1&&Z.attrs.push(Te[F])},Kt.getFirstChild=function(Z){return Z.childNodes[0]},Kt.getChildNodes=function(Z){return Z.childNodes},Kt.getParentNode=function(Z){return Z.parentNode},Kt.getAttrList=function(Z){return Z.attrs},Kt.getTagName=function(Z){return Z.tagName},Kt.getNamespaceURI=function(Z){return Z.namespaceURI},Kt.getTextNodeContent=function(Z){return Z.value},Kt.getCommentNodeContent=function(Z){return Z.data},Kt.getDocumentTypeNodeName=function(Z){return Z.name},Kt.getDocumentTypeNodePublicId=function(Z){return Z.publicId},Kt.getDocumentTypeNodeSystemId=function(Z){return Z.systemId},Kt.isTextNode=function(Z){return Z.nodeName==="#text"},Kt.isCommentNode=function(Z){return Z.nodeName==="#comment"},Kt.isDocumentTypeNode=function(Z){return Z.nodeName==="#documentType"},Kt.isElementNode=function(Z){return!!Z.tagName},Kt.setNodeSourceCodeLocation=function(Z,Te){Z.sourceCodeLocation=Te},Kt.getNodeSourceCodeLocation=function(Z){return Z.sourceCodeLocation},Kt.updateNodeSourceCodeLocation=function(Z,Te){Z.sourceCodeLocation=Object.assign(Z.sourceCodeLocation,Te)},Kt}(),s=(iJ||(iJ=1,oJ=function(P,z){return[P,z=z||Object.create(null)].reduce((j,Y)=>(Object.keys(Y).forEach(Z=>{j[Z]=Y[Z]}),j),Object.create(null))}),oJ),l=function(){if(aJ)return Nf;aJ=1;const{DOCUMENT_MODE:P}=hp(),z="html",j=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Y=j.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),Z=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],Te=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],ae=Te.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function F(Ke){const At=Ke.indexOf('"')!==-1?"'":'"';return At+Ke+At}function Oe(Ke,At){for(let Jt=0;Jt<At.length;Jt++)if(Ke.indexOf(At[Jt])===0)return!0;return!1}return Nf.isConforming=function(Ke){return Ke.name===z&&Ke.publicId===null&&(Ke.systemId===null||Ke.systemId==="about:legacy-compat")},Nf.getDocumentMode=function(Ke){if(Ke.name!==z)return P.QUIRKS;const At=Ke.systemId;if(At&&At.toLowerCase()==="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd")return P.QUIRKS;let Jt=Ke.publicId;if(Jt!==null){if(Jt=Jt.toLowerCase(),Z.indexOf(Jt)>-1)return P.QUIRKS;let br=At===null?Y:j;if(Oe(Jt,br))return P.QUIRKS;if(br=At===null?Te:ae,Oe(Jt,br))return P.LIMITED_QUIRKS}return P.NO_QUIRKS},Nf.serializeContent=function(Ke,At,Jt){let br="!DOCTYPE ";return Ke&&(br+=Ke),At?br+=" PUBLIC "+F(At):Jt&&(br+=" SYSTEM"),Jt!==null&&(br+=" "+F(Jt)),br},Nf}(),c=bxe(),u=N3(),d=P3(),p=hp(),h=p.TAG_NAMES,m=p.NAMESPACES,g=p.ATTRS,f={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:a},v="hidden",y="INITIAL_MODE",b="BEFORE_HTML_MODE",w="BEFORE_HEAD_MODE",k="IN_HEAD_MODE",_="IN_HEAD_NO_SCRIPT_MODE",E="AFTER_HEAD_MODE",S="IN_BODY_MODE",O="TEXT_MODE",T="IN_TABLE_MODE",M="IN_TABLE_TEXT_MODE",D="IN_CAPTION_MODE",H="IN_COLUMN_GROUP_MODE",$="IN_TABLE_BODY_MODE",R="IN_ROW_MODE",U="IN_CELL_MODE",B="IN_SELECT_MODE",L="IN_SELECT_IN_TABLE_MODE",C="IN_TEMPLATE_MODE",V="AFTER_BODY_MODE",N="IN_FRAMESET_MODE",q="AFTER_FRAMESET_MODE",J="AFTER_AFTER_BODY_MODE",Q="AFTER_AFTER_FRAMESET_MODE",te={[h.TR]:R,[h.TBODY]:$,[h.THEAD]:$,[h.TFOOT]:$,[h.CAPTION]:D,[h.COLGROUP]:H,[h.TABLE]:T,[h.BODY]:S,[h.FRAMESET]:N},X={[h.CAPTION]:T,[h.COLGROUP]:T,[h.TBODY]:T,[h.TFOOT]:T,[h.THEAD]:T,[h.COL]:H,[h.TR]:$,[h.TD]:R,[h.TH]:R},ee={[y]:{[e.CHARACTER_TOKEN]:it,[e.NULL_CHARACTER_TOKEN]:it,[e.WHITESPACE_CHARACTER_TOKEN]:pe,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:function(P,z){P._setDocumentType(z);const j=z.forceQuirks?p.DOCUMENT_MODE.QUIRKS:l.getDocumentMode(z);l.isConforming(z)||P._err(u.nonConformingDoctype),P.treeAdapter.setDocumentMode(P.document,j),P.insertionMode=b},[e.START_TAG_TOKEN]:it,[e.END_TAG_TOKEN]:it,[e.EOF_TOKEN]:it},[b]:{[e.CHARACTER_TOKEN]:at,[e.NULL_CHARACTER_TOKEN]:at,[e.WHITESPACE_CHARACTER_TOKEN]:pe,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){z.tagName===h.HTML?(P._insertElement(z,m.HTML),P.insertionMode=w):at(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;(j===h.HTML||j===h.HEAD||j===h.BODY||j===h.BR)&&at(P,z)},[e.EOF_TOKEN]:at},[w]:{[e.CHARACTER_TOKEN]:Qe,[e.NULL_CHARACTER_TOKEN]:Qe,[e.WHITESPACE_CHARACTER_TOKEN]:pe,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:Ie,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.HEAD?(P._insertElement(z,m.HTML),P.headElement=P.openElements.current,P.insertionMode=k):Qe(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HEAD||j===h.BODY||j===h.HTML||j===h.BR?Qe(P,z):P._err(u.endTagWithoutMatchingOpenElement)},[e.EOF_TOKEN]:Qe},[k]:{[e.CHARACTER_TOKEN]:He,[e.NULL_CHARACTER_TOKEN]:He,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:Ie,[e.START_TAG_TOKEN]:Je,[e.END_TAG_TOKEN]:Me,[e.EOF_TOKEN]:He},[_]:{[e.CHARACTER_TOKEN]:Ue,[e.NULL_CHARACTER_TOKEN]:Ue,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:Ie,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.BASEFONT||j===h.BGSOUND||j===h.HEAD||j===h.LINK||j===h.META||j===h.NOFRAMES||j===h.STYLE?Je(P,z):j===h.NOSCRIPT?P._err(u.nestedNoscriptInHead):Ue(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.NOSCRIPT?(P.openElements.pop(),P.insertionMode=k):j===h.BR?Ue(P,z):P._err(u.endTagWithoutMatchingOpenElement)},[e.EOF_TOKEN]:Ue},[E]:{[e.CHARACTER_TOKEN]:Ve,[e.NULL_CHARACTER_TOKEN]:Ve,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:Ie,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.BODY?(P._insertElement(z,m.HTML),P.framesetOk=!1,P.insertionMode=S):j===h.FRAMESET?(P._insertElement(z,m.HTML),P.insertionMode=N):j===h.BASE||j===h.BASEFONT||j===h.BGSOUND||j===h.LINK||j===h.META||j===h.NOFRAMES||j===h.SCRIPT||j===h.STYLE||j===h.TEMPLATE||j===h.TITLE?(P._err(u.abandonedHeadElementChild),P.openElements.push(P.headElement),Je(P,z),P.openElements.remove(P.headElement)):j===h.HEAD?P._err(u.misplacedStartTagForHeadElement):Ve(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.BODY||j===h.HTML||j===h.BR?Ve(P,z):j===h.TEMPLATE?Me(P,z):P._err(u.endTagWithoutMatchingOpenElement)},[e.EOF_TOKEN]:Ve},[S]:{[e.CHARACTER_TOKEN]:re,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:ce,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:ot,[e.END_TAG_TOKEN]:$o,[e.EOF_TOKEN]:vn},[O]:{[e.CHARACTER_TOKEN]:Re,[e.NULL_CHARACTER_TOKEN]:Re,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:pe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:pe,[e.END_TAG_TOKEN]:function(P,z){z.tagName===h.SCRIPT&&(P.pendingScript=P.openElements.current),P.openElements.pop(),P.insertionMode=P.originalInsertionMode},[e.EOF_TOKEN]:function(P,z){P._err(u.eofInElementThatCanContainOnlyText),P.openElements.pop(),P.insertionMode=P.originalInsertionMode,P._processToken(z)}},[T]:{[e.CHARACTER_TOKEN]:qt,[e.NULL_CHARACTER_TOKEN]:qt,[e.WHITESPACE_CHARACTER_TOKEN]:qt,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:Jr,[e.END_TAG_TOKEN]:vs,[e.EOF_TOKEN]:vn},[M]:{[e.CHARACTER_TOKEN]:function(P,z){P.pendingCharacterTokens.push(z),P.hasNonWhitespacePendingCharacterToken=!0},[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:function(P,z){P.pendingCharacterTokens.push(z)},[e.COMMENT_TOKEN]:Wt,[e.DOCTYPE_TOKEN]:Wt,[e.START_TAG_TOKEN]:Wt,[e.END_TAG_TOKEN]:Wt,[e.EOF_TOKEN]:Wt},[D]:{[e.CHARACTER_TOKEN]:re,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:ce,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.CAPTION||j===h.COL||j===h.COLGROUP||j===h.TBODY||j===h.TD||j===h.TFOOT||j===h.TH||j===h.THEAD||j===h.TR?P.openElements.hasInTableScope(h.CAPTION)&&(P.openElements.generateImpliedEndTags(),P.openElements.popUntilTagNamePopped(h.CAPTION),P.activeFormattingElements.clearToLastMarker(),P.insertionMode=T,P._processToken(z)):ot(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.CAPTION||j===h.TABLE?P.openElements.hasInTableScope(h.CAPTION)&&(P.openElements.generateImpliedEndTags(),P.openElements.popUntilTagNamePopped(h.CAPTION),P.activeFormattingElements.clearToLastMarker(),P.insertionMode=T,j===h.TABLE&&P._processToken(z)):j!==h.BODY&&j!==h.COL&&j!==h.COLGROUP&&j!==h.HTML&&j!==h.TBODY&&j!==h.TD&&j!==h.TFOOT&&j!==h.TH&&j!==h.THEAD&&j!==h.TR&&$o(P,z)},[e.EOF_TOKEN]:vn},[H]:{[e.CHARACTER_TOKEN]:mo,[e.NULL_CHARACTER_TOKEN]:mo,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.COL?(P._appendElement(z,m.HTML),z.ackSelfClosing=!0):j===h.TEMPLATE?Je(P,z):mo(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.COLGROUP?P.openElements.currentTagName===h.COLGROUP&&(P.openElements.pop(),P.insertionMode=T):j===h.TEMPLATE?Me(P,z):j!==h.COL&&mo(P,z)},[e.EOF_TOKEN]:vn},[$]:{[e.CHARACTER_TOKEN]:qt,[e.NULL_CHARACTER_TOKEN]:qt,[e.WHITESPACE_CHARACTER_TOKEN]:qt,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.TR?(P.openElements.clearBackToTableBodyContext(),P._insertElement(z,m.HTML),P.insertionMode=R):j===h.TH||j===h.TD?(P.openElements.clearBackToTableBodyContext(),P._insertFakeElement(h.TR),P.insertionMode=R,P._processToken(z)):j===h.CAPTION||j===h.COL||j===h.COLGROUP||j===h.TBODY||j===h.TFOOT||j===h.THEAD?P.openElements.hasTableBodyContextInTableScope()&&(P.openElements.clearBackToTableBodyContext(),P.openElements.pop(),P.insertionMode=T,P._processToken(z)):Jr(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.TBODY||j===h.TFOOT||j===h.THEAD?P.openElements.hasInTableScope(j)&&(P.openElements.clearBackToTableBodyContext(),P.openElements.pop(),P.insertionMode=T):j===h.TABLE?P.openElements.hasTableBodyContextInTableScope()&&(P.openElements.clearBackToTableBodyContext(),P.openElements.pop(),P.insertionMode=T,P._processToken(z)):(j!==h.BODY&&j!==h.CAPTION&&j!==h.COL&&j!==h.COLGROUP||j!==h.HTML&&j!==h.TD&&j!==h.TH&&j!==h.TR)&&vs(P,z)},[e.EOF_TOKEN]:vn},[R]:{[e.CHARACTER_TOKEN]:qt,[e.NULL_CHARACTER_TOKEN]:qt,[e.WHITESPACE_CHARACTER_TOKEN]:qt,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.TH||j===h.TD?(P.openElements.clearBackToTableRowContext(),P._insertElement(z,m.HTML),P.insertionMode=U,P.activeFormattingElements.insertMarker()):j===h.CAPTION||j===h.COL||j===h.COLGROUP||j===h.TBODY||j===h.TFOOT||j===h.THEAD||j===h.TR?P.openElements.hasInTableScope(h.TR)&&(P.openElements.clearBackToTableRowContext(),P.openElements.pop(),P.insertionMode=$,P._processToken(z)):Jr(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.TR?P.openElements.hasInTableScope(h.TR)&&(P.openElements.clearBackToTableRowContext(),P.openElements.pop(),P.insertionMode=$):j===h.TABLE?P.openElements.hasInTableScope(h.TR)&&(P.openElements.clearBackToTableRowContext(),P.openElements.pop(),P.insertionMode=$,P._processToken(z)):j===h.TBODY||j===h.TFOOT||j===h.THEAD?(P.openElements.hasInTableScope(j)||P.openElements.hasInTableScope(h.TR))&&(P.openElements.clearBackToTableRowContext(),P.openElements.pop(),P.insertionMode=$,P._processToken(z)):(j!==h.BODY&&j!==h.CAPTION&&j!==h.COL&&j!==h.COLGROUP||j!==h.HTML&&j!==h.TD&&j!==h.TH)&&vs(P,z)},[e.EOF_TOKEN]:vn},[U]:{[e.CHARACTER_TOKEN]:re,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:ce,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.CAPTION||j===h.COL||j===h.COLGROUP||j===h.TBODY||j===h.TD||j===h.TFOOT||j===h.TH||j===h.THEAD||j===h.TR?(P.openElements.hasInTableScope(h.TD)||P.openElements.hasInTableScope(h.TH))&&(P._closeTableCell(),P._processToken(z)):ot(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.TD||j===h.TH?P.openElements.hasInTableScope(j)&&(P.openElements.generateImpliedEndTags(),P.openElements.popUntilTagNamePopped(j),P.activeFormattingElements.clearToLastMarker(),P.insertionMode=R):j===h.TABLE||j===h.TBODY||j===h.TFOOT||j===h.THEAD||j===h.TR?P.openElements.hasInTableScope(j)&&(P._closeTableCell(),P._processToken(z)):j!==h.BODY&&j!==h.CAPTION&&j!==h.COL&&j!==h.COLGROUP&&j!==h.HTML&&$o(P,z)},[e.EOF_TOKEN]:vn},[B]:{[e.CHARACTER_TOKEN]:Re,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:vr,[e.END_TAG_TOKEN]:Vo,[e.EOF_TOKEN]:vn},[L]:{[e.CHARACTER_TOKEN]:Re,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.CAPTION||j===h.TABLE||j===h.TBODY||j===h.TFOOT||j===h.THEAD||j===h.TR||j===h.TD||j===h.TH?(P.openElements.popUntilTagNamePopped(h.SELECT),P._resetInsertionMode(),P._processToken(z)):vr(P,z)},[e.END_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.CAPTION||j===h.TABLE||j===h.TBODY||j===h.TFOOT||j===h.THEAD||j===h.TR||j===h.TD||j===h.TH?P.openElements.hasInTableScope(j)&&(P.openElements.popUntilTagNamePopped(h.SELECT),P._resetInsertionMode(),P._processToken(z)):Vo(P,z)},[e.EOF_TOKEN]:vn},[C]:{[e.CHARACTER_TOKEN]:re,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:ce,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;if(j===h.BASE||j===h.BASEFONT||j===h.BGSOUND||j===h.LINK||j===h.META||j===h.NOFRAMES||j===h.SCRIPT||j===h.STYLE||j===h.TEMPLATE||j===h.TITLE)Je(P,z);else{const Y=X[j]||S;P._popTmplInsertionMode(),P._pushTmplInsertionMode(Y),P.insertionMode=Y,P._processToken(z)}},[e.END_TAG_TOKEN]:function(P,z){z.tagName===h.TEMPLATE&&Me(P,z)},[e.EOF_TOKEN]:Xr},[V]:{[e.CHARACTER_TOKEN]:mi,[e.NULL_CHARACTER_TOKEN]:mi,[e.WHITESPACE_CHARACTER_TOKEN]:ce,[e.COMMENT_TOKEN]:function(P,z){P._appendCommentNode(z,P.openElements.items[0])},[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){z.tagName===h.HTML?ot(P,z):mi(P,z)},[e.END_TAG_TOKEN]:function(P,z){z.tagName===h.HTML?P.fragmentContext||(P.insertionMode=J):mi(P,z)},[e.EOF_TOKEN]:Be},[N]:{[e.CHARACTER_TOKEN]:pe,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.FRAMESET?P._insertElement(z,m.HTML):j===h.FRAME?(P._appendElement(z,m.HTML),z.ackSelfClosing=!0):j===h.NOFRAMES&&Je(P,z)},[e.END_TAG_TOKEN]:function(P,z){z.tagName===h.FRAMESET&&!P.openElements.isRootHtmlElementCurrent()&&(P.openElements.pop(),!P.fragmentContext&&P.openElements.currentTagName!==h.FRAMESET&&(P.insertionMode=q))},[e.EOF_TOKEN]:Be},[q]:{[e.CHARACTER_TOKEN]:pe,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:Re,[e.COMMENT_TOKEN]:xe,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.NOFRAMES&&Je(P,z)},[e.END_TAG_TOKEN]:function(P,z){z.tagName===h.HTML&&(P.insertionMode=Q)},[e.EOF_TOKEN]:Be},[J]:{[e.CHARACTER_TOKEN]:Fi,[e.NULL_CHARACTER_TOKEN]:Fi,[e.WHITESPACE_CHARACTER_TOKEN]:ce,[e.COMMENT_TOKEN]:Ee,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){z.tagName===h.HTML?ot(P,z):Fi(P,z)},[e.END_TAG_TOKEN]:Fi,[e.EOF_TOKEN]:Be},[Q]:{[e.CHARACTER_TOKEN]:pe,[e.NULL_CHARACTER_TOKEN]:pe,[e.WHITESPACE_CHARACTER_TOKEN]:ce,[e.COMMENT_TOKEN]:Ee,[e.DOCTYPE_TOKEN]:pe,[e.START_TAG_TOKEN]:function(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.NOFRAMES&&Je(P,z)},[e.END_TAG_TOKEN]:pe,[e.EOF_TOKEN]:Be}};function ue(P,z){let j=P.activeFormattingElements.getElementEntryInScopeWithTagName(z.tagName);return j?P.openElements.contains(j.element)?P.openElements.hasInScope(z.tagName)||(j=null):(P.activeFormattingElements.removeEntry(j),j=null):$t(P,z),j}function de(P,z){let j=null;for(let Y=P.openElements.stackTop;Y>=0;Y--){const Z=P.openElements.items[Y];if(Z===z.element)break;P._isSpecialElement(Z)&&(j=Z)}return j||(P.openElements.popUntilElementPopped(z.element),P.activeFormattingElements.removeEntry(z)),j}function ge(P,z,j){let Y=z,Z=P.openElements.getCommonAncestor(z);for(let Te=0,ae=Z;ae!==j;Te++,ae=Z){Z=P.openElements.getCommonAncestor(ae);const F=P.activeFormattingElements.getElementEntry(ae),Oe=F&&Te>=3;!F||Oe?(Oe&&P.activeFormattingElements.removeEntry(F),P.openElements.remove(ae)):(ae=he(P,F),Y===z&&(P.activeFormattingElements.bookmark=F),P.treeAdapter.detachNode(Y),P.treeAdapter.appendChild(ae,Y),Y=ae)}return Y}function he(P,z){const j=P.treeAdapter.getNamespaceURI(z.element),Y=P.treeAdapter.createElement(z.token.tagName,j,z.token.attrs);return P.openElements.replace(z.element,Y),z.element=Y,Y}function Ce(P,z,j){if(P._isElementCausesFosterParenting(z))P._fosterParentElement(j);else{const Y=P.treeAdapter.getTagName(z),Z=P.treeAdapter.getNamespaceURI(z);Y===h.TEMPLATE&&Z===m.HTML&&(z=P.treeAdapter.getTemplateContent(z)),P.treeAdapter.appendChild(z,j)}}function be(P,z,j){const Y=P.treeAdapter.getNamespaceURI(j.element),Z=j.token,Te=P.treeAdapter.createElement(Z.tagName,Y,Z.attrs);P._adoptNodes(z,Te),P.treeAdapter.appendChild(z,Te),P.activeFormattingElements.insertElementAfterBookmark(Te,j.token),P.activeFormattingElements.removeEntry(j),P.openElements.remove(j.element),P.openElements.insertAfter(z,Te)}function me(P,z){let j;for(let Y=0;Y<8&&(j=ue(P,z),j);Y++){const Z=de(P,j);if(!Z)break;P.activeFormattingElements.bookmark=j;const Te=ge(P,Z,j.element),ae=P.openElements.getCommonAncestor(j.element);P.treeAdapter.detachNode(Te),Ce(P,ae,Te),be(P,Z,j)}}function pe(){}function Ie(P){P._err(u.misplacedDoctype)}function xe(P,z){P._appendCommentNode(z,P.openElements.currentTmplContent||P.openElements.current)}function Ee(P,z){P._appendCommentNode(z,P.document)}function Re(P,z){P._insertCharacters(z)}function Be(P){P.stopped=!0}function it(P,z){P._err(u.missingDoctype,{beforeToken:!0}),P.treeAdapter.setDocumentMode(P.document,p.DOCUMENT_MODE.QUIRKS),P.insertionMode=b,P._processToken(z)}function at(P,z){P._insertFakeRootElement(),P.insertionMode=w,P._processToken(z)}function Qe(P,z){P._insertFakeElement(h.HEAD),P.headElement=P.openElements.current,P.insertionMode=k,P._processToken(z)}function Je(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.BASE||j===h.BASEFONT||j===h.BGSOUND||j===h.LINK||j===h.META?(P._appendElement(z,m.HTML),z.ackSelfClosing=!0):j===h.TITLE?P._switchToTextParsing(z,e.MODE.RCDATA):j===h.NOSCRIPT?P.options.scriptingEnabled?P._switchToTextParsing(z,e.MODE.RAWTEXT):(P._insertElement(z,m.HTML),P.insertionMode=_):j===h.NOFRAMES||j===h.STYLE?P._switchToTextParsing(z,e.MODE.RAWTEXT):j===h.SCRIPT?P._switchToTextParsing(z,e.MODE.SCRIPT_DATA):j===h.TEMPLATE?(P._insertTemplate(z,m.HTML),P.activeFormattingElements.insertMarker(),P.framesetOk=!1,P.insertionMode=C,P._pushTmplInsertionMode(C)):j===h.HEAD?P._err(u.misplacedStartTagForHeadElement):He(P,z)}function Me(P,z){const j=z.tagName;j===h.HEAD?(P.openElements.pop(),P.insertionMode=E):j===h.BODY||j===h.BR||j===h.HTML?He(P,z):j===h.TEMPLATE&&P.openElements.tmplCount>0?(P.openElements.generateImpliedEndTagsThoroughly(),P.openElements.currentTagName!==h.TEMPLATE&&P._err(u.closingOfElementWithOpenChildElements),P.openElements.popUntilTagNamePopped(h.TEMPLATE),P.activeFormattingElements.clearToLastMarker(),P._popTmplInsertionMode(),P._resetInsertionMode()):P._err(u.endTagWithoutMatchingOpenElement)}function He(P,z){P.openElements.pop(),P.insertionMode=E,P._processToken(z)}function Ue(P,z){const j=z.type===e.EOF_TOKEN?u.openElementsLeftAfterEof:u.disallowedContentInNoscriptInHead;P._err(j),P.openElements.pop(),P.insertionMode=k,P._processToken(z)}function Ve(P,z){P._insertFakeElement(h.BODY),P.insertionMode=S,P._processToken(z)}function ce(P,z){P._reconstructActiveFormattingElements(),P._insertCharacters(z)}function re(P,z){P._reconstructActiveFormattingElements(),P._insertCharacters(z),P.framesetOk=!1}function fe(P,z){P.openElements.hasInButtonScope(h.P)&&P._closePElement(),P._insertElement(z,m.HTML)}function ve(P,z){P.openElements.hasInButtonScope(h.P)&&P._closePElement(),P._insertElement(z,m.HTML),P.skipNextNewLine=!0,P.framesetOk=!1}function De(P,z){P._reconstructActiveFormattingElements(),P._insertElement(z,m.HTML),P.activeFormattingElements.pushElement(P.openElements.current,z)}function Xe(P,z){P._reconstructActiveFormattingElements(),P._insertElement(z,m.HTML),P.activeFormattingElements.insertMarker(),P.framesetOk=!1}function ht(P,z){P._reconstructActiveFormattingElements(),P._appendElement(z,m.HTML),P.framesetOk=!1,z.ackSelfClosing=!0}function nt(P,z){P._appendElement(z,m.HTML),z.ackSelfClosing=!0}function Ze(P,z){P._switchToTextParsing(z,e.MODE.RAWTEXT)}function vt(P,z){P.openElements.currentTagName===h.OPTION&&P.openElements.pop(),P._reconstructActiveFormattingElements(),P._insertElement(z,m.HTML)}function lt(P,z){P.openElements.hasInScope(h.RUBY)&&P.openElements.generateImpliedEndTags(),P._insertElement(z,m.HTML)}function qe(P,z){P._reconstructActiveFormattingElements(),P._insertElement(z,m.HTML)}function ot(P,z){const j=z.tagName;switch(j.length){case 1:j===h.I||j===h.S||j===h.B||j===h.U?De(P,z):j===h.P?fe(P,z):j===h.A?function(Y,Z){const Te=Y.activeFormattingElements.getElementEntryInScopeWithTagName(h.A);Te&&(me(Y,Z),Y.openElements.remove(Te.element),Y.activeFormattingElements.removeEntry(Te)),Y._reconstructActiveFormattingElements(),Y._insertElement(Z,m.HTML),Y.activeFormattingElements.pushElement(Y.openElements.current,Z)}(P,z):qe(P,z);break;case 2:j===h.DL||j===h.OL||j===h.UL?fe(P,z):j===h.H1||j===h.H2||j===h.H3||j===h.H4||j===h.H5||j===h.H6?function(Y,Z){Y.openElements.hasInButtonScope(h.P)&&Y._closePElement();const Te=Y.openElements.currentTagName;(Te===h.H1||Te===h.H2||Te===h.H3||Te===h.H4||Te===h.H5||Te===h.H6)&&Y.openElements.pop(),Y._insertElement(Z,m.HTML)}(P,z):j===h.LI||j===h.DD||j===h.DT?function(Y,Z){Y.framesetOk=!1;const Te=Z.tagName;for(let ae=Y.openElements.stackTop;ae>=0;ae--){const F=Y.openElements.items[ae],Oe=Y.treeAdapter.getTagName(F);let Ke=null;if(Te===h.LI&&Oe===h.LI?Ke=h.LI:(Te===h.DD||Te===h.DT)&&(Oe===h.DD||Oe===h.DT)&&(Ke=Oe),Ke){Y.openElements.generateImpliedEndTagsWithExclusion(Ke),Y.openElements.popUntilTagNamePopped(Ke);break}if(Oe!==h.ADDRESS&&Oe!==h.DIV&&Oe!==h.P&&Y._isSpecialElement(F))break}Y.openElements.hasInButtonScope(h.P)&&Y._closePElement(),Y._insertElement(Z,m.HTML)}(P,z):j===h.EM||j===h.TT?De(P,z):j===h.BR?ht(P,z):j===h.HR?function(Y,Z){Y.openElements.hasInButtonScope(h.P)&&Y._closePElement(),Y._appendElement(Z,m.HTML),Y.framesetOk=!1,Z.ackSelfClosing=!0}(P,z):j===h.RB?lt(P,z):j===h.RT||j===h.RP?function(Y,Z){Y.openElements.hasInScope(h.RUBY)&&Y.openElements.generateImpliedEndTagsWithExclusion(h.RTC),Y._insertElement(Z,m.HTML)}(P,z):j!==h.TH&&j!==h.TD&&j!==h.TR&&qe(P,z);break;case 3:j===h.DIV||j===h.DIR||j===h.NAV?fe(P,z):j===h.PRE?ve(P,z):j===h.BIG?De(P,z):j===h.IMG||j===h.WBR?ht(P,z):j===h.XMP?function(Y,Z){Y.openElements.hasInButtonScope(h.P)&&Y._closePElement(),Y._reconstructActiveFormattingElements(),Y.framesetOk=!1,Y._switchToTextParsing(Z,e.MODE.RAWTEXT)}(P,z):j===h.SVG?function(Y,Z){Y._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(Z),c.adjustTokenXMLAttrs(Z),Z.selfClosing?Y._appendElement(Z,m.SVG):Y._insertElement(Z,m.SVG),Z.ackSelfClosing=!0}(P,z):j===h.RTC?lt(P,z):j!==h.COL&&qe(P,z);break;case 4:j===h.HTML?function(Y,Z){Y.openElements.tmplCount===0&&Y.treeAdapter.adoptAttributes(Y.openElements.items[0],Z.attrs)}(P,z):j===h.BASE||j===h.LINK||j===h.META?Je(P,z):j===h.BODY?function(Y,Z){const Te=Y.openElements.tryPeekProperlyNestedBodyElement();Te&&Y.openElements.tmplCount===0&&(Y.framesetOk=!1,Y.treeAdapter.adoptAttributes(Te,Z.attrs))}(P,z):j===h.MAIN||j===h.MENU?fe(P,z):j===h.FORM?function(Y,Z){const Te=Y.openElements.tmplCount>0;(!Y.formElement||Te)&&(Y.openElements.hasInButtonScope(h.P)&&Y._closePElement(),Y._insertElement(Z,m.HTML),Te||(Y.formElement=Y.openElements.current))}(P,z):j===h.CODE||j===h.FONT?De(P,z):j===h.NOBR?function(Y,Z){Y._reconstructActiveFormattingElements(),Y.openElements.hasInScope(h.NOBR)&&(me(Y,Z),Y._reconstructActiveFormattingElements()),Y._insertElement(Z,m.HTML),Y.activeFormattingElements.pushElement(Y.openElements.current,Z)}(P,z):j===h.AREA?ht(P,z):j===h.MATH?function(Y,Z){Y._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(Z),c.adjustTokenXMLAttrs(Z),Z.selfClosing?Y._appendElement(Z,m.MATHML):Y._insertElement(Z,m.MATHML),Z.ackSelfClosing=!0}(P,z):j===h.MENU?function(Y,Z){Y.openElements.hasInButtonScope(h.P)&&Y._closePElement(),Y._insertElement(Z,m.HTML)}(P,z):j!==h.HEAD&&qe(P,z);break;case 5:j===h.STYLE||j===h.TITLE?Je(P,z):j===h.ASIDE?fe(P,z):j===h.SMALL?De(P,z):j===h.TABLE?function(Y,Z){Y.treeAdapter.getDocumentMode(Y.document)!==p.DOCUMENT_MODE.QUIRKS&&Y.openElements.hasInButtonScope(h.P)&&Y._closePElement(),Y._insertElement(Z,m.HTML),Y.framesetOk=!1,Y.insertionMode=T}(P,z):j===h.EMBED?ht(P,z):j===h.INPUT?function(Y,Z){Y._reconstructActiveFormattingElements(),Y._appendElement(Z,m.HTML);const Te=e.getTokenAttr(Z,g.TYPE);(!Te||Te.toLowerCase()!==v)&&(Y.framesetOk=!1),Z.ackSelfClosing=!0}(P,z):j===h.PARAM||j===h.TRACK?nt(P,z):j===h.IMAGE?function(Y,Z){Z.tagName=h.IMG,ht(Y,Z)}(P,z):j!==h.FRAME&&j!==h.TBODY&&j!==h.TFOOT&&j!==h.THEAD&&qe(P,z);break;case 6:j===h.SCRIPT?Je(P,z):j===h.CENTER||j===h.FIGURE||j===h.FOOTER||j===h.HEADER||j===h.HGROUP||j===h.DIALOG?fe(P,z):j===h.BUTTON?function(Y,Z){Y.openElements.hasInScope(h.BUTTON)&&(Y.openElements.generateImpliedEndTags(),Y.openElements.popUntilTagNamePopped(h.BUTTON)),Y._reconstructActiveFormattingElements(),Y._insertElement(Z,m.HTML),Y.framesetOk=!1}(P,z):j===h.STRIKE||j===h.STRONG?De(P,z):j===h.APPLET||j===h.OBJECT?Xe(P,z):j===h.KEYGEN?ht(P,z):j===h.SOURCE?nt(P,z):j===h.IFRAME?function(Y,Z){Y.framesetOk=!1,Y._switchToTextParsing(Z,e.MODE.RAWTEXT)}(P,z):j===h.SELECT?function(Y,Z){Y._reconstructActiveFormattingElements(),Y._insertElement(Z,m.HTML),Y.framesetOk=!1,Y.insertionMode===T||Y.insertionMode===D||Y.insertionMode===$||Y.insertionMode===R||Y.insertionMode===U?Y.insertionMode=L:Y.insertionMode=B}(P,z):j===h.OPTION?vt(P,z):qe(P,z);break;case 7:j===h.BGSOUND?Je(P,z):j===h.DETAILS||j===h.ADDRESS||j===h.ARTICLE||j===h.SECTION||j===h.SUMMARY?fe(P,z):j===h.LISTING?ve(P,z):j===h.MARQUEE?Xe(P,z):j===h.NOEMBED?Ze(P,z):j!==h.CAPTION&&qe(P,z);break;case 8:j===h.BASEFONT?Je(P,z):j===h.FRAMESET?function(Y,Z){const Te=Y.openElements.tryPeekProperlyNestedBodyElement();Y.framesetOk&&Te&&(Y.treeAdapter.detachNode(Te),Y.openElements.popAllUpToHtmlElement(),Y._insertElement(Z,m.HTML),Y.insertionMode=N)}(P,z):j===h.FIELDSET?fe(P,z):j===h.TEXTAREA?function(Y,Z){Y._insertElement(Z,m.HTML),Y.skipNextNewLine=!0,Y.tokenizer.state=e.MODE.RCDATA,Y.originalInsertionMode=Y.insertionMode,Y.framesetOk=!1,Y.insertionMode=O}(P,z):j===h.TEMPLATE?Je(P,z):j===h.NOSCRIPT?P.options.scriptingEnabled?Ze(P,z):qe(P,z):j===h.OPTGROUP?vt(P,z):j!==h.COLGROUP&&qe(P,z);break;case 9:j===h.PLAINTEXT?function(Y,Z){Y.openElements.hasInButtonScope(h.P)&&Y._closePElement(),Y._insertElement(Z,m.HTML),Y.tokenizer.state=e.MODE.PLAINTEXT}(P,z):qe(P,z);break;case 10:j===h.BLOCKQUOTE||j===h.FIGCAPTION?fe(P,z):qe(P,z);break;default:qe(P,z)}}function yt(P,z){const j=z.tagName;P.openElements.hasInScope(j)&&(P.openElements.generateImpliedEndTags(),P.openElements.popUntilTagNamePopped(j))}function gn(P,z){const j=z.tagName;P.openElements.hasInScope(j)&&(P.openElements.generateImpliedEndTags(),P.openElements.popUntilTagNamePopped(j),P.activeFormattingElements.clearToLastMarker())}function $t(P,z){const j=z.tagName;for(let Y=P.openElements.stackTop;Y>0;Y--){const Z=P.openElements.items[Y];if(P.treeAdapter.getTagName(Z)===j){P.openElements.generateImpliedEndTagsWithExclusion(j),P.openElements.popUntilElementPopped(Z);break}if(P._isSpecialElement(Z))break}}function $o(P,z){const j=z.tagName;switch(j.length){case 1:j===h.A||j===h.B||j===h.I||j===h.S||j===h.U?me(P,z):j===h.P?function(Y){Y.openElements.hasInButtonScope(h.P)||Y._insertFakeElement(h.P),Y._closePElement()}(P):$t(P,z);break;case 2:j===h.DL||j===h.UL||j===h.OL?yt(P,z):j===h.LI?function(Y){Y.openElements.hasInListItemScope(h.LI)&&(Y.openElements.generateImpliedEndTagsWithExclusion(h.LI),Y.openElements.popUntilTagNamePopped(h.LI))}(P):j===h.DD||j===h.DT?function(Y,Z){const Te=Z.tagName;Y.openElements.hasInScope(Te)&&(Y.openElements.generateImpliedEndTagsWithExclusion(Te),Y.openElements.popUntilTagNamePopped(Te))}(P,z):j===h.H1||j===h.H2||j===h.H3||j===h.H4||j===h.H5||j===h.H6?function(Y){Y.openElements.hasNumberedHeaderInScope()&&(Y.openElements.generateImpliedEndTags(),Y.openElements.popUntilNumberedHeaderPopped())}(P):j===h.BR?function(Y){Y._reconstructActiveFormattingElements(),Y._insertFakeElement(h.BR),Y.openElements.pop(),Y.framesetOk=!1}(P):j===h.EM||j===h.TT?me(P,z):$t(P,z);break;case 3:j===h.BIG?me(P,z):j===h.DIR||j===h.DIV||j===h.NAV||j===h.PRE?yt(P,z):$t(P,z);break;case 4:j===h.BODY?function(Y){Y.openElements.hasInScope(h.BODY)&&(Y.insertionMode=V)}(P):j===h.HTML?function(Y,Z){Y.openElements.hasInScope(h.BODY)&&(Y.insertionMode=V,Y._processToken(Z))}(P,z):j===h.FORM?function(Y){const Z=Y.openElements.tmplCount>0,Te=Y.formElement;Z||(Y.formElement=null),(Te||Z)&&Y.openElements.hasInScope(h.FORM)&&(Y.openElements.generateImpliedEndTags(),Z?Y.openElements.popUntilTagNamePopped(h.FORM):Y.openElements.remove(Te))}(P):j===h.CODE||j===h.FONT||j===h.NOBR?me(P,z):j===h.MAIN||j===h.MENU?yt(P,z):$t(P,z);break;case 5:j===h.ASIDE?yt(P,z):j===h.SMALL?me(P,z):$t(P,z);break;case 6:j===h.CENTER||j===h.FIGURE||j===h.FOOTER||j===h.HEADER||j===h.HGROUP||j===h.DIALOG?yt(P,z):j===h.APPLET||j===h.OBJECT?gn(P,z):j===h.STRIKE||j===h.STRONG?me(P,z):$t(P,z);break;case 7:j===h.ADDRESS||j===h.ARTICLE||j===h.DETAILS||j===h.SECTION||j===h.SUMMARY||j===h.LISTING?yt(P,z):j===h.MARQUEE?gn(P,z):$t(P,z);break;case 8:j===h.FIELDSET?yt(P,z):j===h.TEMPLATE?Me(P,z):$t(P,z);break;case 10:j===h.BLOCKQUOTE||j===h.FIGCAPTION?yt(P,z):$t(P,z);break;default:$t(P,z)}}function vn(P,z){P.tmplInsertionModeStackTop>-1?Xr(P,z):P.stopped=!0}function qt(P,z){const j=P.openElements.currentTagName;j===h.TABLE||j===h.TBODY||j===h.TFOOT||j===h.THEAD||j===h.TR?(P.pendingCharacterTokens=[],P.hasNonWhitespacePendingCharacterToken=!1,P.originalInsertionMode=P.insertionMode,P.insertionMode=M,P._processToken(z)):Pn(P,z)}function Jr(P,z){const j=z.tagName;switch(j.length){case 2:j===h.TD||j===h.TH||j===h.TR?function(Y,Z){Y.openElements.clearBackToTableContext(),Y._insertFakeElement(h.TBODY),Y.insertionMode=$,Y._processToken(Z)}(P,z):Pn(P,z);break;case 3:j===h.COL?function(Y,Z){Y.openElements.clearBackToTableContext(),Y._insertFakeElement(h.COLGROUP),Y.insertionMode=H,Y._processToken(Z)}(P,z):Pn(P,z);break;case 4:j===h.FORM?function(Y,Z){!Y.formElement&&Y.openElements.tmplCount===0&&(Y._insertElement(Z,m.HTML),Y.formElement=Y.openElements.current,Y.openElements.pop())}(P,z):Pn(P,z);break;case 5:j===h.TABLE?function(Y,Z){Y.openElements.hasInTableScope(h.TABLE)&&(Y.openElements.popUntilTagNamePopped(h.TABLE),Y._resetInsertionMode(),Y._processToken(Z))}(P,z):j===h.STYLE?Je(P,z):j===h.TBODY||j===h.TFOOT||j===h.THEAD?function(Y,Z){Y.openElements.clearBackToTableContext(),Y._insertElement(Z,m.HTML),Y.insertionMode=$}(P,z):j===h.INPUT?function(Y,Z){const Te=e.getTokenAttr(Z,g.TYPE);Te&&Te.toLowerCase()===v?Y._appendElement(Z,m.HTML):Pn(Y,Z),Z.ackSelfClosing=!0}(P,z):Pn(P,z);break;case 6:j===h.SCRIPT?Je(P,z):Pn(P,z);break;case 7:j===h.CAPTION?function(Y,Z){Y.openElements.clearBackToTableContext(),Y.activeFormattingElements.insertMarker(),Y._insertElement(Z,m.HTML),Y.insertionMode=D}(P,z):Pn(P,z);break;case 8:j===h.COLGROUP?function(Y,Z){Y.openElements.clearBackToTableContext(),Y._insertElement(Z,m.HTML),Y.insertionMode=H}(P,z):j===h.TEMPLATE?Je(P,z):Pn(P,z);break;default:Pn(P,z)}}function vs(P,z){const j=z.tagName;j===h.TABLE?P.openElements.hasInTableScope(h.TABLE)&&(P.openElements.popUntilTagNamePopped(h.TABLE),P._resetInsertionMode()):j===h.TEMPLATE?Me(P,z):j!==h.BODY&&j!==h.CAPTION&&j!==h.COL&&j!==h.COLGROUP&&j!==h.HTML&&j!==h.TBODY&&j!==h.TD&&j!==h.TFOOT&&j!==h.TH&&j!==h.THEAD&&j!==h.TR&&Pn(P,z)}function Pn(P,z){const j=P.fosterParentingEnabled;P.fosterParentingEnabled=!0,P._processTokenInBodyMode(z),P.fosterParentingEnabled=j}function Wt(P,z){let j=0;if(P.hasNonWhitespacePendingCharacterToken)for(;j<P.pendingCharacterTokens.length;j++)Pn(P,P.pendingCharacterTokens[j]);else for(;j<P.pendingCharacterTokens.length;j++)P._insertCharacters(P.pendingCharacterTokens[j]);P.insertionMode=P.originalInsertionMode,P._processToken(z)}function mo(P,z){P.openElements.currentTagName===h.COLGROUP&&(P.openElements.pop(),P.insertionMode=T,P._processToken(z))}function vr(P,z){const j=z.tagName;j===h.HTML?ot(P,z):j===h.OPTION?(P.openElements.currentTagName===h.OPTION&&P.openElements.pop(),P._insertElement(z,m.HTML)):j===h.OPTGROUP?(P.openElements.currentTagName===h.OPTION&&P.openElements.pop(),P.openElements.currentTagName===h.OPTGROUP&&P.openElements.pop(),P._insertElement(z,m.HTML)):j===h.INPUT||j===h.KEYGEN||j===h.TEXTAREA||j===h.SELECT?P.openElements.hasInSelectScope(h.SELECT)&&(P.openElements.popUntilTagNamePopped(h.SELECT),P._resetInsertionMode(),j!==h.SELECT&&P._processToken(z)):(j===h.SCRIPT||j===h.TEMPLATE)&&Je(P,z)}function Vo(P,z){const j=z.tagName;if(j===h.OPTGROUP){const Y=P.openElements.items[P.openElements.stackTop-1],Z=Y&&P.treeAdapter.getTagName(Y);P.openElements.currentTagName===h.OPTION&&Z===h.OPTGROUP&&P.openElements.pop(),P.openElements.currentTagName===h.OPTGROUP&&P.openElements.pop()}else j===h.OPTION?P.openElements.currentTagName===h.OPTION&&P.openElements.pop():j===h.SELECT&&P.openElements.hasInSelectScope(h.SELECT)?(P.openElements.popUntilTagNamePopped(h.SELECT),P._resetInsertionMode()):j===h.TEMPLATE&&Me(P,z)}function Xr(P,z){P.openElements.tmplCount>0?(P.openElements.popUntilTagNamePopped(h.TEMPLATE),P.activeFormattingElements.clearToLastMarker(),P._popTmplInsertionMode(),P._resetInsertionMode(),P._processToken(z)):P.stopped=!0}function mi(P,z){P.insertionMode=S,P._processToken(z)}function Fi(P,z){P.insertionMode=S,P._processToken(z)}return H3=class{constructor(P){this.options=s(f,P),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&i.install(this,r),this.options.onParseError&&i.install(this,o,{onParseError:this.options.onParseError})}parse(P){const z=this.treeAdapter.createDocument();return this._bootstrap(z,null),this.tokenizer.write(P,!0),this._runParsingLoop(null),z}parseFragment(P,z){z||(z=this.treeAdapter.createElement(h.TEMPLATE,m.HTML,[]));const j=this.treeAdapter.createElement("documentmock",m.HTML,[]);this._bootstrap(j,z),this.treeAdapter.getTagName(z)===h.TEMPLATE&&this._pushTmplInsertionMode(C),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(P,!0),this._runParsingLoop(null);const Y=this.treeAdapter.getFirstChild(j),Z=this.treeAdapter.createDocumentFragment();return this._adoptNodes(Y,Z),Z}_bootstrap(P,z){this.tokenizer=new e(this.options),this.stopped=!1,this.insertionMode=y,this.originalInsertionMode="",this.document=P,this.fragmentContext=z,this.headElement=null,this.formElement=null,this.openElements=new t(this.document,this.treeAdapter),this.activeFormattingElements=new n(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(P){for(;!this.stopped;){this._setupTokenizerCDATAMode();const z=this.tokenizer.getNextToken();if(z.type===e.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,z.type===e.WHITESPACE_CHARACTER_TOKEN&&z.chars[0]===`
`)){if(z.chars.length===1)continue;z.chars=z.chars.substr(1)}if(this._processInputToken(z),P&&this.pendingScript)break}}runParsingLoopForCurrentChunk(P,z){if(this._runParsingLoop(z),z&&this.pendingScript){const j=this.pendingScript;return this.pendingScript=null,void z(j)}P&&P()}_setupTokenizerCDATAMode(){const P=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=P&&P!==this.document&&this.treeAdapter.getNamespaceURI(P)!==m.HTML&&!this._isIntegrationPoint(P)}_switchToTextParsing(P,z){this._insertElement(P,m.HTML),this.tokenizer.state=z,this.originalInsertionMode=this.insertionMode,this.insertionMode=O}switchToPlaintextParsing(){this.insertionMode=O,this.originalInsertionMode=S,this.tokenizer.state=e.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let P=this.fragmentContext;do{if(this.treeAdapter.getTagName(P)===h.FORM){this.formElement=P;break}P=this.treeAdapter.getParentNode(P)}while(P)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===m.HTML){const P=this.treeAdapter.getTagName(this.fragmentContext);P===h.TITLE||P===h.TEXTAREA?this.tokenizer.state=e.MODE.RCDATA:P===h.STYLE||P===h.XMP||P===h.IFRAME||P===h.NOEMBED||P===h.NOFRAMES||P===h.NOSCRIPT?this.tokenizer.state=e.MODE.RAWTEXT:P===h.SCRIPT?this.tokenizer.state=e.MODE.SCRIPT_DATA:P===h.PLAINTEXT&&(this.tokenizer.state=e.MODE.PLAINTEXT)}}_setDocumentType(P){const z=P.name||"",j=P.publicId||"",Y=P.systemId||"";this.treeAdapter.setDocumentType(this.document,z,j,Y)}_attachElementToTree(P){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(P);else{const z=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(z,P)}}_appendElement(P,z){const j=this.treeAdapter.createElement(P.tagName,z,P.attrs);this._attachElementToTree(j)}_insertElement(P,z){const j=this.treeAdapter.createElement(P.tagName,z,P.attrs);this._attachElementToTree(j),this.openElements.push(j)}_insertFakeElement(P){const z=this.treeAdapter.createElement(P,m.HTML,[]);this._attachElementToTree(z),this.openElements.push(z)}_insertTemplate(P){const z=this.treeAdapter.createElement(P.tagName,m.HTML,P.attrs),j=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(z,j),this._attachElementToTree(z),this.openElements.push(z)}_insertFakeRootElement(){const P=this.treeAdapter.createElement(h.HTML,m.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,P),this.openElements.push(P)}_appendCommentNode(P,z){const j=this.treeAdapter.createCommentNode(P.data);this.treeAdapter.appendChild(z,j)}_insertCharacters(P){if(this._shouldFosterParentOnInsertion())this._fosterParentText(P.chars);else{const z=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(z,P.chars)}}_adoptNodes(P,z){for(let j=this.treeAdapter.getFirstChild(P);j;j=this.treeAdapter.getFirstChild(P))this.treeAdapter.detachNode(j),this.treeAdapter.appendChild(z,j)}_shouldProcessTokenInForeignContent(P){const z=this._getAdjustedCurrentElement();if(!z||z===this.document)return!1;const j=this.treeAdapter.getNamespaceURI(z);if(j===m.HTML||this.treeAdapter.getTagName(z)===h.ANNOTATION_XML&&j===m.MATHML&&P.type===e.START_TAG_TOKEN&&P.tagName===h.SVG)return!1;const Y=P.type===e.CHARACTER_TOKEN||P.type===e.NULL_CHARACTER_TOKEN||P.type===e.WHITESPACE_CHARACTER_TOKEN;return!((P.type===e.START_TAG_TOKEN&&P.tagName!==h.MGLYPH&&P.tagName!==h.MALIGNMARK||Y)&&this._isIntegrationPoint(z,m.MATHML)||(P.type===e.START_TAG_TOKEN||Y)&&this._isIntegrationPoint(z,m.HTML))&&P.type!==e.EOF_TOKEN}_processToken(P){ee[this.insertionMode][P.type](this,P)}_processTokenInBodyMode(P){ee[S][P.type](this,P)}_processTokenInForeignContent(P){P.type===e.CHARACTER_TOKEN?function(z,j){z._insertCharacters(j),z.framesetOk=!1}(this,P):P.type===e.NULL_CHARACTER_TOKEN?function(z,j){j.chars=d.REPLACEMENT_CHARACTER,z._insertCharacters(j)}(this,P):P.type===e.WHITESPACE_CHARACTER_TOKEN?Re(this,P):P.type===e.COMMENT_TOKEN?xe(this,P):P.type===e.START_TAG_TOKEN?function(z,j){if(c.causesExit(j)&&!z.fragmentContext){for(;z.treeAdapter.getNamespaceURI(z.openElements.current)!==m.HTML&&!z._isIntegrationPoint(z.openElements.current);)z.openElements.pop();z._processToken(j)}else{const Y=z._getAdjustedCurrentElement(),Z=z.treeAdapter.getNamespaceURI(Y);Z===m.MATHML?c.adjustTokenMathMLAttrs(j):Z===m.SVG&&(c.adjustTokenSVGTagName(j),c.adjustTokenSVGAttrs(j)),c.adjustTokenXMLAttrs(j),j.selfClosing?z._appendElement(j,Z):z._insertElement(j,Z),j.ackSelfClosing=!0}}(this,P):P.type===e.END_TAG_TOKEN&&function(z,j){for(let Y=z.openElements.stackTop;Y>0;Y--){const Z=z.openElements.items[Y];if(z.treeAdapter.getNamespaceURI(Z)===m.HTML){z._processToken(j);break}if(z.treeAdapter.getTagName(Z).toLowerCase()===j.tagName){z.openElements.popUntilElementPopped(Z);break}}}(this,P)}_processInputToken(P){this._shouldProcessTokenInForeignContent(P)?this._processTokenInForeignContent(P):this._processToken(P),P.type===e.START_TAG_TOKEN&&P.selfClosing&&!P.ackSelfClosing&&this._err(u.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(P,z){const j=this.treeAdapter.getTagName(P),Y=this.treeAdapter.getNamespaceURI(P),Z=this.treeAdapter.getAttrList(P);return c.isIntegrationPoint(j,Y,Z,z)}_reconstructActiveFormattingElements(){const P=this.activeFormattingElements.length;if(P){let z=P,j=null;do if(z--,j=this.activeFormattingElements.entries[z],j.type===n.MARKER_ENTRY||this.openElements.contains(j.element)){z++;break}while(z>0);for(let Y=z;Y<P;Y++)j=this.activeFormattingElements.entries[Y],this._insertElement(j.token,this.treeAdapter.getNamespaceURI(j.element)),j.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=R}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)}_resetInsertionMode(){for(let P=this.openElements.stackTop,z=!1;P>=0;P--){let j=this.openElements.items[P];P===0&&(z=!0,this.fragmentContext&&(j=this.fragmentContext));const Y=this.treeAdapter.getTagName(j),Z=te[Y];if(Z){this.insertionMode=Z;break}if(!(z||Y!==h.TD&&Y!==h.TH)){this.insertionMode=U;break}if(!z&&Y===h.HEAD){this.insertionMode=k;break}if(Y===h.SELECT){this._resetInsertionModeForSelect(P);break}if(Y===h.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(Y===h.HTML){this.insertionMode=this.headElement?E:w;break}if(z){this.insertionMode=S;break}}}_resetInsertionModeForSelect(P){if(P>0)for(let z=P-1;z>0;z--){const j=this.openElements.items[z],Y=this.treeAdapter.getTagName(j);if(Y===h.TEMPLATE)break;if(Y===h.TABLE)return void(this.insertionMode=L)}this.insertionMode=B}_pushTmplInsertionMode(P){this.tmplInsertionModeStack.push(P),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=P}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(P){const z=this.treeAdapter.getTagName(P);return z===h.TABLE||z===h.TBODY||z===h.TFOOT||z===h.THEAD||z===h.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const P={parent:null,beforeElement:null};for(let z=this.openElements.stackTop;z>=0;z--){const j=this.openElements.items[z],Y=this.treeAdapter.getTagName(j),Z=this.treeAdapter.getNamespaceURI(j);if(Y===h.TEMPLATE&&Z===m.HTML){P.parent=this.treeAdapter.getTemplateContent(j);break}if(Y===h.TABLE){P.parent=this.treeAdapter.getParentNode(j),P.parent?P.beforeElement=j:P.parent=this.openElements.items[z-1];break}}return P.parent||(P.parent=this.openElements.items[0]),P}_fosterParentElement(P){const z=this._findFosterParentingLocation();z.beforeElement?this.treeAdapter.insertBefore(z.parent,P,z.beforeElement):this.treeAdapter.appendChild(z.parent,P)}_fosterParentText(P){const z=this._findFosterParentingLocation();z.beforeElement?this.treeAdapter.insertTextBefore(z.parent,P,z.beforeElement):this.treeAdapter.insertText(z.parent,P)}_isSpecialElement(P){const z=this.treeAdapter.getTagName(P),j=this.treeAdapter.getNamespaceURI(P);return p.SPECIAL_ELEMENTS[j][z]}},H3}();const wxe=$r(yxe),cJ=uJ("start"),kxe=uJ("end");function uJ(e){return function(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}const _xe=function(e){return function(t){return function(r){return o;function o(i,...a){return!!(i&&typeof i=="object"&&"type"in i&&r.call(this,i,...a))}}(n);function n(r){return r&&r.type===t}}(e)},xxe=!0,dJ=!1,Cxe=function(e,t,n,r){const o=_xe(t);(function i(a,s,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(d?"<"+d+">":"")+")"})}return u;function u(){let d,p,h,m=[];if(o(a,s,l[l.length-1]||null)&&(m=function(g){return Array.isArray(g)?g:typeof g=="number"?[xxe,g]:[g]}(n(a,l)),m[0]===dJ))return m;if(a.children&&m[0]!=="skip")for(p=0,h=l.concat(a);p>-1&&p<a.children.length;){if(d=i(a.children[p],p,h)(),d[0]===dJ)return d;p=typeof d[1]=="number"?d[1]:p+1}return m}})(e,void 0,[])()},hJ=/[#.]/g,Sxe=new Set(["menu","submit","reset","button"]),$3={}.hasOwnProperty;function pJ(e,t,n){const r=n&&function(o){const i={};let a=-1;for(;++a<o.length;)i[o[a].toLowerCase()]=o[a];return i}(n);return function(o,i,...a){let s,l=-1;if(o==null)s={type:"root",children:[]},a.unshift(i);else if(s=function(c,u){const d=c||"",p={};let h,m,g=0;for(;g<d.length;){hJ.lastIndex=g;const f=hJ.exec(d),v=d.slice(g,f?f.index:d.length);v&&(h?h==="#"?p.id=v:Array.isArray(p.className)?p.className.push(v):p.className=[v]:m=v,g+=v.length),f&&(h=f[0],g++)}return{type:"element",tagName:m||u||"div",properties:p,children:[]}}(o,t),s.tagName=s.tagName.toLowerCase(),r&&$3.call(r,s.tagName)&&(s.tagName=r[s.tagName]),function(c,u){return c!=null&&typeof c=="object"&&!Array.isArray(c)&&(u==="input"||!c.type||typeof c.type!="string"||(!("children"in c)||!Array.isArray(c.children))&&(u==="button"?Sxe.has(c.type.toLowerCase()):!("value"in c)))}(i,s.tagName)){let c;for(c in i)$3.call(i,c)&&Txe(e,s.properties,c,i[c])}else a.unshift(i);for(;++l<a.length;)V3(s.children,a[l]);return s.type==="element"&&s.tagName==="template"&&(s.content={type:"root",children:s.children},s.children=[]),s}}function Txe(e,t,n,r){const o=mw(e,n);let i,a=-1;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else i=typeof r=="boolean"?r:typeof r=="string"?o.spaceSeparated?WY(r):o.commaSeparated?GY(r):o.commaOrSpaceSeparated?WY(GY(r).join(" ")):mJ(o,o.property,r):Array.isArray(r)?r.concat():o.property==="style"?function(s){const l=[];let c;for(c in s)$3.call(s,c)&&l.push([c,s[c]].join(": "));return l.join("; ")}(r):String(r);if(Array.isArray(i)){const s=[];for(;++a<i.length;)s[a]=mJ(o,o.property,i[a]);i=s}o.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[o.property]=i}}function V3(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)V3(e,t[n]);else{if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");t.type==="root"?V3(e,t.children):e.push(t)}}function mJ(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Sf(n)===Sf(t)))return!0}return n}const Exe=pJ(Tf,"div"),Oxe=pJ(Ef,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]),If={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fJ={}.hasOwnProperty,Axe=Object.prototype;function q3(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},xw(e,r,n),n}case"#document":case"#document-fragment":{const r=t,o="mode"in r&&(r.mode==="quirks"||r.mode==="limited-quirks");if(n={type:"root",children:gJ(e,t.childNodes),data:{quirksMode:o}},e.file&&e.location){const i=String(e.file),a=function(c){const u=String(c),d=[],p=/\r?\n|\r/g;for(;p.test(u);)d.push(p.lastIndex);return d.push(u.length+1),{toPoint:function(h){let m=-1;if(typeof h=="number"&&h>-1&&h<d[d.length-1]){for(;++m<d.length;)if(d[m]>h)return{line:m+1,column:h-(m>0?d[m-1]:0)+1,offset:h}}return{line:void 0,column:void 0,offset:void 0}},toOffset:function(h){const m=h&&h.line,g=h&&h.column;if(typeof m=="number"&&typeof g=="number"&&!Number.isNaN(m)&&!Number.isNaN(g)&&m-1 in d){const f=(d[m-2]||0)+g-1||0;if(f>-1&&f<d[d.length-1])return f}return-1}}}(i),s=a.toPoint(0),l=a.toPoint(i.length);n.position={start:s,end:l}}return n}case"#documentType":return n={type:"doctype"},xw(e,t,n),n;case"#text":{const r=t;return n={type:"text",value:r.value},xw(e,r,n),n}default:return n=function(r,o){const i=r.schema;r.schema=o.namespaceURI===If.svg?Ef:Tf;let a=-1;const s={};for(;++a<o.attrs.length;){const c=o.attrs[a],u=(c.prefix?c.prefix+":":"")+c.name;fJ.call(Axe,u)||(s[u]=c.value)}const l=(r.schema.space==="svg"?Oxe:Exe)(o.tagName,s,gJ(r,o.childNodes));if(xw(r,o,l),l.tagName==="template"){const c=o,u=c.sourceCodeLocation,d=u&&u.startTag&&pp(u.startTag),p=u&&u.endTag&&pp(u.endTag),h=q3(r,c.content);d&&p&&r.file&&(h.position={start:d.end,end:p.start}),l.content=h}return r.schema=i,l}(e,t),n}}function gJ(e,t){let n=-1;const r=[];for(;++n<t.length;)r[n]=q3(e,t[n]);return r}function xw(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=function(o,i,a){const s=pp(a);if(i.type==="element"){const l=i.children[i.children.length-1];if(s&&!a.endTag&&l&&l.position&&l.position.end&&(s.end=Object.assign({},l.position.end)),o.verbose){const c={};let u;if(a.attrs)for(u in a.attrs)fJ.call(a.attrs,u)&&(c[mw(o.schema,u).property]=pp(a.attrs[u]));i.data={position:{opening:pp(a.startTag),closing:a.endTag?pp(a.endTag):null,properties:c}}}}return s}(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function pp(e){const t=vJ({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=vJ({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function vJ(e){return e.line&&e.column?e:void 0}const bJ={}.hasOwnProperty;function W3(e,t){const n=t||{};function r(o,...i){let a=r.invalid;const s=r.handlers;if(o&&bJ.call(o,e)){const l=String(o[e]);a=bJ.call(s,l)?s[l]:r.unknown}if(a)return a.call(this,o,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Pxe={}.hasOwnProperty,yJ=W3("type",{handlers:{root:function(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=K3(e.children,n,t),mp(e,n),n},element:function(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ef);const o=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&Pxe.call(e.properties,i)){const s=Nxe(r,i,e.properties[i]);s&&o.push(s)}}const a={nodeName:e.tagName,tagName:e.tagName,attrs:o,namespaceURI:If[r.space],childNodes:[],parentNode:void 0};return a.childNodes=K3(e.children,a,r),mp(e,a),e.tagName==="template"&&e.content&&(a.content=function(s,l){const c={nodeName:"#document-fragment",childNodes:[]};return c.childNodes=K3(s.children,c,l),mp(s,c),c}(e.content,r)),a},text:function(e){const t={nodeName:"#text",value:e.value,parentNode:void 0};return mp(e,t),t},comment:function(e){const t={nodeName:"#comment",data:e.value,parentNode:void 0};return mp(e,t),t},doctype:function(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:void 0};return mp(e,t),t}}});function Nxe(e,t,n){const r=mw(e,t);if(n==null||n===!1||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?YY(n):KY(n));const o={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=o.name.indexOf(":");i<0?o.prefix="":(o.name=o.name.slice(i+1),o.prefix=r.attribute.slice(0,i)),o.namespace=If[r.space]}return o}function K3(e,t,n){let r=-1;const o=[];if(e)for(;++r<e.length;){const i=yJ(e[r],n);i.parentNode=t,o.push(i)}return o}function mp(e,t){const n=e.position;n&&n.start&&n.end&&(t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Ixe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],Rxe="START_TAG_TOKEN",Mxe="END_TAG_TOKEN",Dxe={sourceCodeLocationInfo:!0,scriptingEnabled:!1},wJ=function(e,t,n){let r=-1;const o=new wxe(Dxe),i=W3("type",{handlers:{root:function(f){p(f.children)},element:function(f){g(),o._processInputToken(function(v){const y=Object.assign(fp(v));return y.startTag=Object.assign({},y),{type:Rxe,tagName:v.tagName,selfClosing:!1,attrs:Lxe(v),location:y}}(f)),p(f.children),Ixe.includes(f.tagName)||(g(),o._processInputToken(function(v){const y=Object.assign(fp(v));return y.startTag=Object.assign({},y),{type:Mxe,tagName:v.tagName,attrs:[],location:y}}(f)))},text:function(f){g(),o._processInputToken({type:"CHARACTER_TOKEN",chars:f.value,location:fp(f)})},comment:h,doctype:function(f){g(),o._processInputToken({type:"DOCTYPE_TOKEN",name:"html",forceQuirks:!1,publicId:"",systemId:"",location:fp(f)})},raw:function(f){const v=cJ(f),y=v.line||1,b=v.column||1,w=v.offset||0;if(!l)throw new Error("Expected `preprocessor`");if(!s)throw new Error("Expected `tokenizer`");if(!c)throw new Error("Expected `posTracker`");if(!u)throw new Error("Expected `locationTracker`");l.html=void 0,l.pos=-1,l.lastGapPos=-1,l.lastCharPos=-1,l.gapStack=[],l.skipNextNewLine=!1,l.lastChunkWritten=!1,l.endOfChunkHit=!1,c.isEol=!1,c.lineStartPos=1-b,c.droppedBufferSize=w,c.offset=0,c.col=1,c.line=y,u.currentAttrLocation=void 0,u.ctLoc=fp(f),s.write(f.value),o._runParsingLoop(null),(s.state==="NAMED_CHARACTER_REFERENCE_STATE"||s.state==="NUMERIC_CHARACTER_REFERENCE_END_STATE")&&(l.lastChunkWritten=!0,s[s.state](s._consume()))}},unknown:jxe});let a,s,l,c,u;if(function(f){return!(!f||"message"in f&&"messages"in f)}(t)&&(n=t,t=void 0),n&&n.passThrough)for(;++r<n.passThrough.length;)i.handlers[n.passThrough[r]]=m;const d=function(f,v){const y=v||{};let b,w;return function(k){return"messages"in k}(y)?(w=y,b={}):(w=y.file||void 0,b=y),q3({schema:b.space==="svg"?Ef:Tf,file:w,verbose:b.verbose,location:!1},f)}(function(f){const v=f.type==="root"?f.children[0]:f;return!(!v||v.type!=="doctype"&&(v.type!=="element"||v.tagName!=="html"))}(e)?function(){const f=o.treeAdapter.createDocument();if(o._bootstrap(f,void 0),s=o.tokenizer,!s)throw new Error("Expected `tokenizer`");return l=s.preprocessor,u=s.__mixins[0],c=u.posTracker,i(e),g(),f}():function(){const f={nodeName:"template",tagName:"template",attrs:[],namespaceURI:If.html,childNodes:[]},v={nodeName:"documentmock",tagName:"documentmock",attrs:[],namespaceURI:If.html,childNodes:[]},y={nodeName:"#document-fragment",childNodes:[]};if(o._bootstrap(v,f),o._pushTmplInsertionMode("IN_TEMPLATE_MODE"),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),s=o.tokenizer,!s)throw new Error("Expected `tokenizer`");return l=s.preprocessor,u=s.__mixins[0],c=u.posTracker,i(e),g(),o._adoptNodes(v.childNodes[0],y),y}(),t);return a&&function(f,v,y){Cxe(f,v,function(b,w){const k=w[w.length-1];return y(b,k?k.children.indexOf(b):null,k)})}(d,"comment",(f,v,y)=>{const b=f;if(b.value.stitch&&y!==null&&v!==null)return y.children[v]=b.value.stitch,v}),e.type!=="root"&&d.type==="root"&&d.children.length===1?d.children[0]:d;function p(f){let v=-1;if(f)for(;++v<f.length;)i(f[v])}function h(f){g(),o._processInputToken({type:"COMMENT_TOKEN",data:f.value,location:fp(f)})}function m(f){let v;a=!0,v="children"in f?K(I({},f),{children:wJ({type:"root",children:f.children},t,n).children}):I({},f),h({type:"comment",value:{stitch:v}})}function g(){if(!s)throw new Error("Expected `tokenizer`");if(!c)throw new Error("Expected `posTracker`");const f=s.currentCharacterToken;f&&(f.location.endLine=c.line,f.location.endCol=c.col+1,f.location.endOffset=c.offset+1,o._processInputToken(f)),s.tokenQueue=[],s.state="DATA_STATE",s.returnState="",s.charRefCode=-1,s.tempBuff=[],s.lastStartTagName="",s.consumedAfterSnapshot=-1,s.active=!1,s.currentCharacterToken=void 0,s.currentToken=void 0,s.currentAttr=void 0}};function Lxe(e){return function(t){return yJ(t,Tf)}({tagName:e.tagName,type:"element",properties:e.properties,children:[]}).attrs}function jxe(e){throw new Error("Cannot compile `"+e.type+"` node")}function fp(e){const t=cJ(e),n=kxe(e);return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function zxe(e={}){return(t,n)=>wJ(t,n,e)}const kJ=typeof self=="object"?self:globalThis,_J=e=>((t,n)=>{const r=(i,a)=>(t.set(a,i),i),o=i=>{if(t.has(i))return t.get(i);const[a,s]=n[i];switch(a){case 0:case-1:return r(s,i);case 1:{const l=r([],i);for(const c of s)l.push(o(c));return l}case 2:{const l=r({},i);for(const[c,u]of s)l[o(c)]=o(u);return l}case 3:return r(new Date(s),i);case 4:{const{source:l,flags:c}=s;return r(new RegExp(l,c),i)}case 5:{const l=r(new Map,i);for(const[c,u]of s)l.set(o(c),o(u));return l}case 6:{const l=r(new Set,i);for(const c of s)l.add(o(c));return l}case 7:{const{name:l,message:c}=s;return r(new kJ[l](c),i)}case 8:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return r(new DataView(l),s)}}return r(new kJ[a](s),i)};return o})(new Map,e)(0),gp="",{toString:Fxe}={},{keys:Bxe}=Object,Rf=e=>{const t=typeof e;if(t!=="object"||!e)return[0,t];const n=Fxe.call(e).slice(8,-1);switch(n){case"Array":return[1,gp];case"Object":return[2,gp];case"Date":return[3,gp];case"RegExp":return[4,gp];case"Map":return[5,gp];case"Set":return[6,gp];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Cw=([e,t])=>e===0&&(t==="function"||t==="symbol"),xJ=(e,{json:t,lossy:n}={})=>{const r=[];return((o,i,a,s)=>{const l=(u,d)=>{const p=s.push(u)-1;return a.set(d,p),p},c=u=>{if(a.has(u))return a.get(u);let[d,p]=Rf(u);switch(d){case 0:{let m=u;switch(p){case"bigint":d=8,m=u.toString();break;case"function":case"symbol":if(o)throw new TypeError("unable to serialize "+p);m=null;break;case"undefined":return l([-1],u)}return l([d,m],u)}case 1:{if(p){let f=u;return p==="DataView"?f=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(f=new Uint8Array(u)),l([p,[...f]],u)}const m=[],g=l([d,m],u);for(const f of u)m.push(c(f));return g}case 2:{if(p)switch(p){case"BigInt":return l([p,u.toString()],u);case"Boolean":case"Number":case"String":return l([p,u.valueOf()],u)}if(i&&"toJSON"in u)return c(u.toJSON());const m=[],g=l([d,m],u);for(const f of Bxe(u))(o||!Cw(Rf(u[f])))&&m.push([c(f),c(u[f])]);return g}case 3:return l([d,u.toISOString()],u);case 4:{const{source:m,flags:g}=u;return l([d,{source:m,flags:g}],u)}case 5:{const m=[],g=l([d,m],u);for(const[f,v]of u)(o||!Cw(Rf(f))&&!Cw(Rf(v)))&&m.push([c(f),c(v)]);return g}case 6:{const m=[],g=l([d,m],u);for(const f of u)(o||!Cw(Rf(f)))&&m.push(c(f));return g}}const{message:h}=u;return l([d,{name:p,message:h}],u)};return c})(!(t||n),!!t,new Map,r)(e),r},Uxe=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_J(xJ(e,t)):structuredClone(e):(e,t)=>_J(xJ(e,t)),Hxe=CJ("end"),$xe=CJ("start");function CJ(e){return function(t){const n=t&&t.position&&t.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}const Uu=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],da={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Uu,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Uu],h2:[["className","sr-only"]],img:[...Uu,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Uu,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Uu],table:[...Uu],ul:[...Uu,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},mc={}.hasOwnProperty;function SJ(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return function(r,o){if(r.schema.allowComments){const i=typeof o.value=="string"?o.value:"",a=i.indexOf("-->"),s={type:"comment",value:a<0?i:i.slice(0,a)};return Mf(s,o),s}}(e,n);case"doctype":return function(r,o){if(r.schema.allowDoctypes){const i={type:"doctype"};return Mf(i,o),i}}(e,n);case"element":return function(r,o){const i=typeof o.tagName=="string"?o.tagName:"";r.stack.push(i);const a=TJ(r,o.children),s=function(u,d){const p=u.stack[u.stack.length-1],h=u.schema.attributes,m=u.schema.required,g=h&&mc.call(h,p)?h[p]:void 0,f=h&&mc.call(h,"*")?h["*"]:void 0,v=d&&typeof d=="object"?d:{},y={};let b;for(b in v)if(mc.call(v,b)){const w=v[b];let k=EJ(u,AJ(g,b),b,w);k==null&&(k=EJ(u,AJ(f,b),b,w)),k!=null&&(y[b]=k)}if(m&&mc.call(m,p)){const w=m[p];for(b in w)mc.call(w,b)&&!mc.call(y,b)&&(y[b]=w[b])}return y}(r,o.properties);r.stack.pop();let l=!1;if(i&&i!=="*"&&(!r.schema.tagNames||r.schema.tagNames.includes(i))&&(l=!0,r.schema.ancestors&&mc.call(r.schema.ancestors,i))){const u=r.schema.ancestors[i];let d=-1;for(l=!1;++d<u.length;)r.stack.includes(u[d])&&(l=!0)}if(!l)return r.schema.strip&&!r.schema.strip.includes(i)?a:void 0;const c={type:"element",tagName:i,properties:s,children:a};return Mf(c,o),c}(e,n);case"root":return function(r,o){const i={type:"root",children:TJ(r,o.children)};return Mf(i,o),i}(e,n);case"text":return function(r,o){const i={type:"text",value:typeof o.value=="string"?o.value:""};return Mf(i,o),i}(0,n)}}}function TJ(e,t){const n=[];if(Array.isArray(t)){const r=t;let o=-1;for(;++o<r.length;){const i=SJ(e,r[o]);i&&(Array.isArray(i)?n.push(...i):n.push(i))}}return n}function EJ(e,t,n,r){return t?Array.isArray(r)?function(o,i,a,s){let l=-1;const c=[];for(;++l<s.length;){const u=OJ(o,i,a,s[l]);(typeof u=="number"||typeof u=="string")&&c.push(u)}return c}(e,t,n,r):OJ(e,t,n,r):void 0}function OJ(e,t,n,r){if((typeof r=="boolean"||typeof r=="number"||typeof r=="string")&&function(o,i,a){const s=o.schema.protocols&&mc.call(o.schema.protocols,i)?o.schema.protocols[i]:void 0;if(!s||s.length===0)return!0;const l=String(a),c=l.indexOf(":"),u=l.indexOf("?"),d=l.indexOf("#"),p=l.indexOf("/");if(c<0||p>-1&&c>p||u>-1&&c>u||d>-1&&c>d)return!0;let h=-1;for(;++h<s.length;){const m=s[h];if(c===m.length&&l.slice(0,m.length)===m)return!0}return!1}(e,n,r)){if(typeof t=="object"&&t.length>1){let o=!1,i=0;for(;++i<t.length;){const a=t[i];if(a&&typeof a=="object"&&"flags"in a){if(a.test(String(r))){o=!0;break}}else if(a===r){o=!0;break}}if(!o)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function Mf(e,t){const n=function(r){const o=$xe(r),i=Hxe(r);if(o&&i)return{start:o,end:i}}(t);t.data&&(e.data=Uxe(t.data)),n&&(e.position=n)}function AJ(e,t){let n,r=-1;if(e)for(;++r<e.length;){const o=e[r],i=typeof o=="string"?o:o[0];if(i===t)return o;i==="data*"&&(n=o)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function Vxe(e){return function(t){return function(n,r){let o={type:"root",children:[]};const i=SJ({schema:r?I(I({},da),r):da,stack:[]},n);return i&&(Array.isArray(i)?i.length===1?o=i[0]:o.children=i:o=i),o}(t,e)}}const PJ=()=>{const e=G(l=>l.chatBox.chatBoxWidth),t=parseInt(`${e}`),n=G(l=>l.chatBox.chatBoxHeight),r=parseInt(`${n}`);let o=1,i=1,a=300;t>750&&(o=.4,a=t*o);let s=200;return r>500&&(i=.4,s=r*i),[`${a}px`,`${s}px`]},qxe=({embedVideoUrl:e})=>{const[t,n]=PJ(),r=parseInt(t),o=parseInt(n),i=16/9,a=r/i;let s=r,l=a;a>o&&(l=o,s=l*i);const c=`${l}px`,u=`${s}px`,d=/\.(mov|webm|ogg)$/i.test(e),p={border:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:u,maxHeight:c};return A("span",{style:{display:"block",position:"relative",paddingBottom:c,width:"100%",height:0,maxWidth:u,maxHeight:c},children:d?A("video",{style:p,src:e,controls:!0,playsInline:!0}):A("iframe",{style:p,src:e,allowFullScreen:!0})})},Sw={};function G3(e,t){return NJ(e,typeof Sw.includeImageAlt!="boolean"||Sw.includeImageAlt,typeof Sw.includeHtml!="boolean"||Sw.includeHtml)}function NJ(e,t,n){if(function(r){return!(!r||typeof r!="object")}(e)){if("value"in e)return e.type!=="html"||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return IJ(e.children,t,n)}return Array.isArray(e)?IJ(e,t,n):""}function IJ(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=NJ(e[o],t,n);return r.join("")}function hs(e,t,n,r){const o=e.length;let i,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function zi(e,t){return e.length>0?(hs(e,e.length,0,t),e):t}const RJ={}.hasOwnProperty;function Wxe(e){const t={};let n=-1;for(;++n<e.length;)Kxe(t,e[n]);return t}function Kxe(e,t){let n;for(n in t){const r=(RJ.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){RJ.call(r,i)||(r[i]=[]);const a=o[i];Gxe(r[i],Array.isArray(a)?a:a?[a]:[])}}}function Gxe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);hs(e,0,0,r)}function MJ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||(65535&n)==65534||n>1114111?"":String.fromCodePoint(n)}function vp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ps=fc(/[A-Za-z]/),ha=fc(/[\dA-Za-z]/),Yxe=fc(/[#-'*+\--9=?A-Z^-~]/);function Y3(e){return e!==null&&(e<32||e===127)}const Q3=fc(/\d/),Qxe=fc(/[\dA-Fa-f]/),Jxe=fc(/[!-/:-@[-`{-~]/);function St(e){return e!==null&&e<-2}function Bo(e){return e!==null&&(e<0||e===32)}function sn(e){return e===-2||e===-1||e===32}const Xxe=fc(new RegExp("\\p{P}|\\p{S}","u")),Zxe=fc(/\s/);function fc(e){return function(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Cn(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(s){return sn(s)?(e.enter(n),a(s)):t(s)};function a(s){return sn(s)&&i++<o?(e.consume(s),a):(e.exit(n),t(s))}}const e9e={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(i){return i===null?void e.consume(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Cn(e,t,"linePrefix"))},function(i){return e.enter("paragraph"),r(i)});let n;return t;function r(i){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(i)}function o(i){return i===null?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(i)):St(i)?(e.consume(i),e.exit("chunkText"),r):(e.consume(i),o)}}},t9e={tokenize:function(e){const t=this,n=[];let r,o,i,a=0;return s;function s(b){if(a<n.length){const w=n[a];return t.containerState=w[1],e.attempt(w[0].continuation,l,c)(b)}return c(b)}function l(b){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const w=t.events.length;let k,_=w;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){k=t.events[_][1].end;break}v(a);let E=w;for(;E<t.events.length;)t.events[E][1].end=I({},k),E++;return hs(t.events,_+1,0,t.events.slice(w)),t.events.length=E,c(b)}return s(b)}function c(b){if(a===n.length){if(!r)return p(b);if(r.currentConstruct&&r.currentConstruct.concrete)return m(b);t.interrupt=!(!r.currentConstruct||r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(DJ,u,d)(b)}function u(b){return r&&y(),v(a),p(b)}function d(b){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,m(b)}function p(b){return t.containerState={},e.attempt(DJ,h,m)(b)}function h(b){return a++,n.push([t.currentConstruct,t.containerState]),p(b)}function m(b){return b===null?(r&&y(),v(0),void e.consume(b)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),g(b))}function g(b){return b===null?(f(e.exit("chunkFlow"),!0),v(0),void e.consume(b)):St(b)?(e.consume(b),f(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(b),g)}function f(b,w){const k=t.sliceStream(b);if(w&&k.push(null),b.previous=o,o&&(o.next=b),o=b,r.defineSkip(b.start),r.write(k),t.parser.lazy[b.start.line]){let _=r.events.length;for(;_--;)if(r.events[_][1].start.offset<i&&(!r.events[_][1].end||r.events[_][1].end.offset>i))return;const E=t.events.length;let S,O,T=E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(S){O=t.events[T][1].end;break}S=!0}for(v(a),_=E;_<t.events.length;)t.events[_][1].end=I({},O),_++;hs(t.events,T+1,0,t.events.slice(E)),t.events.length=_}}function v(b){let w=n.length;for(;w-- >b;){const k=n[w];t.containerState=k[1],k[0].exit.call(t,e)}n.length=b}function y(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}},DJ={tokenize:function(e,t,n){return Cn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function Tw(e){return e===null||Bo(e)||Zxe(e)?1:Xxe(e)?2:void 0}function J3(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const X3={name:"attention",resolveAll:function(e,t){let n,r,o,i,a,s,l,c,u=-1;for(;++u<e.length;)if(e[u][0]==="enter"&&e[u][1].type==="attentionSequence"&&e[u][1]._close){for(n=u;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=I({},e[n][1].end),p=I({},e[u][1].start);LJ(d,-s),LJ(p,s),i={type:s>1?"strongSequence":"emphasisSequence",start:d,end:I({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:I({},e[u][1].start),end:p},o={type:s>1?"strongText":"emphasisText",start:I({},e[n][1].end),end:I({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:I({},i.start),end:I({},a.end)},e[n][1].end=I({},i.start),e[u][1].start=I({},a.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=zi(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=zi(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",o,t]]),l=zi(l,J3(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=zi(l,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=zi(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,hs(e,n-1,u-n+3,l),u=n+l.length-c-2;break}}for(u=-1;++u<e.length;)e[u][1].type==="attentionSequence"&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Tw(r);let i;return function(s){return i=s,e.enter("attentionSequence"),a(s)};function a(s){if(s===i)return e.consume(s),a;const l=e.exit("attentionSequence"),c=Tw(s),u=!c||c===2&&o||n.includes(s),d=!o||o===2&&c||n.includes(r);return l._open=!!(i===42?u:u&&(o||!d)),l._close=!!(i===42?d:d&&(c||!u)),t(s)}}};function LJ(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const n9e={name:"autolink",tokenize:function(e,t,n){let r=0;return function(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(p){return ps(p)?(e.consume(p),i):p===64?n(p):l(p)}function i(p){return p===43||p===45||p===46||ha(p)?(r=1,a(p)):l(p)}function a(p){return p===58?(e.consume(p),r=0,s):(p===43||p===45||p===46||ha(p))&&r++<32?(e.consume(p),a):(r=0,l(p))}function s(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Y3(p)?n(p):(e.consume(p),s)}function l(p){return p===64?(e.consume(p),c):Yxe(p)?(e.consume(p),l):n(p)}function c(p){return ha(p)?u(p):n(p)}function u(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):d(p)}function d(p){if((p===45||ha(p))&&r++<63){const h=p===45?d:u;return e.consume(p),h}return n(p)}}},Ew={partial:!0,tokenize:function(e,t,n){return function(o){return sn(o)?Cn(e,r,"linePrefix")(o):r(o)};function r(o){return o===null||St(o)?t(o):n(o)}}},jJ={continuation:{tokenize:function(e,t,n){const r=this;return function(i){return sn(i)?Cn(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)};function o(i){return e.attempt(jJ,t,n)(i)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)};function o(i){return sn(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}},zJ={name:"characterEscape",tokenize:function(e,t,n){return function(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),r};function r(o){return Jxe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}},FJ={name:"characterReference",tokenize:function(e,t,n){const r=this;let o,i,a=0;return function(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),s};function s(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,i=ha,c(u))}function l(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=Qxe,c):(e.enter("characterReferenceValue"),o=7,i=Q3,c(u))}function c(u){if(u===59&&a){const d=e.exit("characterReferenceValue");return i!==ha||Lu(r.sliceSerialize(d))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return i(u)&&a++<o?(e.consume(u),c):n(u)}}},BJ={partial:!0,tokenize:function(e,t,n){const r=this;return function(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}},UJ={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,o={partial:!0,tokenize:function(b,w,k){let _=0;return E;function E(D){return b.enter("lineEnding"),b.consume(D),b.exit("lineEnding"),S}function S(D){return b.enter("codeFencedFence"),sn(D)?Cn(b,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):O(D)}function O(D){return D===i?(b.enter("codeFencedFenceSequence"),T(D)):k(D)}function T(D){return D===i?(_++,b.consume(D),T):_>=s?(b.exit("codeFencedFenceSequence"),sn(D)?Cn(b,M,"whitespace")(D):M(D)):k(D)}function M(D){return D===null||St(D)?(b.exit("codeFencedFence"),w(D)):k(D)}}};let i,a=0,s=0;return function(b){return function(w){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,i=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(w)}(b)};function l(b){return b===i?(s++,e.consume(b),l):s<3?n(b):(e.exit("codeFencedFenceSequence"),sn(b)?Cn(e,c,"whitespace")(b):c(b))}function c(b){return b===null||St(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(BJ,h,y)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(b))}function u(b){return b===null||St(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(b)):sn(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Cn(e,d,"whitespace")(b)):b===96&&b===i?n(b):(e.consume(b),u)}function d(b){return b===null||St(b)?c(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||St(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(b)):b===96&&b===i?n(b):(e.consume(b),p)}function h(b){return e.attempt(o,y,m)(b)}function m(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g}function g(b){return a>0&&sn(b)?Cn(e,f,"linePrefix",a+1)(b):f(b)}function f(b){return b===null||St(b)?e.check(BJ,h,y)(b):(e.enter("codeFlowValue"),v(b))}function v(b){return b===null||St(b)?(e.exit("codeFlowValue"),f(b)):(e.consume(b),v)}function y(b){return e.exit("codeFenced"),t(b)}}},Z3={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(l){return e.enter("codeIndented"),Cn(e,o,"linePrefix",5)(l)};function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?i(l):n(l)}function i(l){return l===null?s(l):St(l)?e.attempt(r9e,i,s)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||St(l)?(e.exit("codeFlowValue"),i(l)):(e.consume(l),a)}function s(l){return e.exit("codeIndented"),t(l)}}},r9e={partial:!0,tokenize:function(e,t,n){const r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):St(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):Cn(e,i,"linePrefix",5)(a)}function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):St(a)?o(a):n(a)}}},o9e={name:"codeText",previous:function(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"},resolve:function(e){let t,n,r=e.length-4,o=3;if(!(e[o][1].type!=="lineEnding"&&e[o][1].type!=="space"||e[r][1].type!=="lineEnding"&&e[r][1].type!=="space")){for(t=o;++t<r;)if(e[t][1].type==="codeTextData"){e[o][1].type="codeTextPadding",e[r][1].type="codeTextPadding",o+=2,r-=2;break}}for(t=o-1,r++;++t<=r;)n===void 0?t!==r&&e[t][1].type!=="lineEnding"&&(n=t):(t===r||e[t][1].type==="lineEnding")&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,o,i=0;return function(u){return e.enter("codeText"),e.enter("codeTextSequence"),a(u)};function a(u){return u===96?(e.consume(u),i++,a):(e.exit("codeTextSequence"),s(u))}function s(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),s):u===96?(o=e.enter("codeTextSequence"),r=0,c(u)):St(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(u))}function l(u){return u===null||u===32||u===96||St(u)?(e.exit("codeTextData"),s(u)):(e.consume(u),l)}function c(u){return u===96?(e.consume(u),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(o.type="codeTextData",l(u))}}};class i9e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Df(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Df(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Df(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Df(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Df(this.left,n.reverse())}}}function Df(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function HJ(e){const t={};let n,r,o,i,a,s,l,c=-1;const u=new i9e(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&n[1].type==="chunkFlow"&&u.get(c-1)[1].type==="listItemPrefix"&&(s=n[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,a9e(u,c)),c=t[c],l=!0);else if(n[1]._container){for(o=c,r=void 0;o--;)if(i=u.get(o),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(r&&(u.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);else if(i[1].type!=="linePrefix"&&i[1].type!=="listItemIndent")break;r&&(n[1].end=I({},u.get(r)[1].start),a=u.slice(r,c),a.unshift(n),u.splice(r,c-r+1,a))}}return hs(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function a9e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let u,d,p=-1,h=n,m=0,g=0;const f=[g];for(;h;){for(;e.get(++o)[1]!==h;);i.push(o),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(g=p+1,f.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):f.pop(),p=f.length;p--;){const v=s.slice(f[p],f[p+1]),y=i.pop();l.push([y,y+v.length-1]),e.splice(y,2,v)}for(l.reverse(),p=-1;++p<l.length;)c[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return c}const s9e={resolve:function(e){return HJ(e),e},tokenize:function(e,t){let n;return function(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(a)};function r(a){return a===null?o(a):St(a)?e.check(l9e,i,o)(a):(e.consume(a),r)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},l9e={partial:!0,tokenize:function(e,t,n){const r=this;return function(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Cn(e,o,"linePrefix")};function o(i){if(i===null||St(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};function $J(e,t,n,r,o,i,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(f){return f===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(f),e.exit(i),d):f===null||f===32||f===41||Y3(f)?n(f):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(f))};function d(f){return f===62?(e.enter(i),e.consume(f),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===62?(e.exit("chunkString"),e.exit(s),d(f)):f===null||f===60||St(f)?n(f):(e.consume(f),f===92?h:p)}function h(f){return f===60||f===62||f===92?(e.consume(f),p):p(f)}function m(f){return u||f!==null&&f!==41&&!Bo(f)?u<c&&f===40?(e.consume(f),u++,m):f===41?(e.consume(f),u--,m):f===null||f===32||f===40||Y3(f)?n(f):(e.consume(f),f===92?g:m):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(f))}function g(f){return f===40||f===41||f===92?(e.consume(f),m):m(f)}}function VJ(e,t,n,r,o,i){const a=this;let s,l=0;return function(p){return e.enter(r),e.enter(o),e.consume(p),e.exit(o),e.enter(i),c};function c(p){return l>999||p===null||p===91||p===93&&!s||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(i),e.enter(o),e.consume(p),e.exit(o),e.exit(r),t):St(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===null||p===91||p===93||St(p)||l++>999?(e.exit("chunkString"),c(p)):(e.consume(p),s||(s=!sn(p)),p===92?d:u)}function d(p){return p===91||p===92||p===93?(e.consume(p),l++,u):u(p)}}function qJ(e,t,n,r,o,i){let a;return function(d){return d===34||d===39||d===40?(e.enter(r),e.enter(o),e.consume(d),e.exit(o),a=d===40?41:d,s):n(d)};function s(d){return d===a?(e.enter(o),e.consume(d),e.exit(o),e.exit(r),t):(e.enter(i),l(d))}function l(d){return d===a?(e.exit(i),s(a)):d===null?n(d):St(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Cn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===a||d===null||St(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?u:c)}function u(d){return d===a||d===92?(e.consume(d),c):c(d)}}function Lf(e,t){let n;return function r(o){return St(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):sn(o)?Cn(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const c9e={name:"definition",tokenize:function(e,t,n){const r=this;let o;return function(d){return e.enter("definition"),function(p){return VJ.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}(d)};function i(d){return o=vp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),a):n(d)}function a(d){return Bo(d)?Lf(e,s)(d):s(d)}function s(d){return $J(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function l(d){return e.attempt(u9e,c,c)(d)}function c(d){return sn(d)?Cn(e,u,"whitespace")(d):u(d)}function u(d){return d===null||St(d)?(e.exit("definition"),r.parser.defined.push(o),t(d)):n(d)}}},u9e={partial:!0,tokenize:function(e,t,n){return function(a){return Bo(a)?Lf(e,r)(a):n(a)};function r(a){return qJ(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return sn(a)?Cn(e,i,"whitespace")(a):i(a)}function i(a){return a===null||St(a)?t(a):n(a)}}},d9e={name:"hardBreakEscape",tokenize:function(e,t,n){return function(o){return e.enter("hardBreakEscape"),e.consume(o),r};function r(o){return St(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}},h9e={name:"headingAtx",resolve:function(e,t){let n,r,o=e.length-2,i=3;return e[i][1].type==="whitespace"&&(i+=2),o-2>i&&e[o][1].type==="whitespace"&&(o-=2),e[o][1].type==="atxHeadingSequence"&&(i===o-1||o-4>i&&e[o-2][1].type==="whitespace")&&(o-=i+1===o?2:4),o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},hs(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e},tokenize:function(e,t,n){let r=0;return function(l){return e.enter("atxHeading"),function(c){return e.enter("atxHeadingSequence"),o(c)}(l)};function o(l){return l===35&&r++<6?(e.consume(l),o):l===null||Bo(l)?(e.exit("atxHeadingSequence"),i(l)):n(l)}function i(l){return l===35?(e.enter("atxHeadingSequence"),a(l)):l===null||St(l)?(e.exit("atxHeading"),t(l)):sn(l)?Cn(e,i,"whitespace")(l):(e.enter("atxHeadingText"),s(l))}function a(l){return l===35?(e.consume(l),a):(e.exit("atxHeadingSequence"),i(l))}function s(l){return l===null||l===35||Bo(l)?(e.exit("atxHeadingText"),i(l)):(e.consume(l),s)}}},p9e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],WJ=["pre","script","style","textarea"],m9e={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&(e[t][0]!=="enter"||e[t][1].type!=="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){const r=this;let o,i,a,s,l;return function(N){return function(q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(q),c}(N)};function c(N){return N===33?(e.consume(N),u):N===47?(e.consume(N),i=!0,h):N===63?(e.consume(N),o=3,r.interrupt?t:L):ps(N)?(e.consume(N),a=String.fromCharCode(N),m):n(N)}function u(N){return N===45?(e.consume(N),o=2,d):N===91?(e.consume(N),o=5,s=0,p):ps(N)?(e.consume(N),o=4,r.interrupt?t:L):n(N)}function d(N){return N===45?(e.consume(N),r.interrupt?t:L):n(N)}function p(N){return N==="CDATA[".charCodeAt(s++)?(e.consume(N),s===6?r.interrupt?t:T:p):n(N)}function h(N){return ps(N)?(e.consume(N),a=String.fromCharCode(N),m):n(N)}function m(N){if(N===null||N===47||N===62||Bo(N)){const q=N===47,J=a.toLowerCase();return q||i||!WJ.includes(J)?p9e.includes(a.toLowerCase())?(o=6,q?(e.consume(N),g):r.interrupt?t(N):T(N)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?f(N):v(N)):(o=1,r.interrupt?t(N):T(N))}return N===45||ha(N)?(e.consume(N),a+=String.fromCharCode(N),m):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:T):n(N)}function f(N){return sn(N)?(e.consume(N),f):S(N)}function v(N){return N===47?(e.consume(N),S):N===58||N===95||ps(N)?(e.consume(N),y):sn(N)?(e.consume(N),v):S(N)}function y(N){return N===45||N===46||N===58||N===95||ha(N)?(e.consume(N),y):b(N)}function b(N){return N===61?(e.consume(N),w):sn(N)?(e.consume(N),b):v(N)}function w(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,k):sn(N)?(e.consume(N),w):_(N)}function k(N){return N===l?(e.consume(N),l=null,E):N===null||St(N)?n(N):(e.consume(N),k)}function _(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Bo(N)?b(N):(e.consume(N),_)}function E(N){return N===47||N===62||sn(N)?v(N):n(N)}function S(N){return N===62?(e.consume(N),O):n(N)}function O(N){return N===null||St(N)?T(N):sn(N)?(e.consume(N),O):n(N)}function T(N){return N===45&&o===2?(e.consume(N),$):N===60&&o===1?(e.consume(N),R):N===62&&o===4?(e.consume(N),C):N===63&&o===3?(e.consume(N),L):N===93&&o===5?(e.consume(N),B):!St(N)||o!==6&&o!==7?N===null||St(N)?(e.exit("htmlFlowData"),M(N)):(e.consume(N),T):(e.exit("htmlFlowData"),e.check(f9e,V,M)(N))}function M(N){return e.check(g9e,D,V)(N)}function D(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),H}function H(N){return N===null||St(N)?M(N):(e.enter("htmlFlowData"),T(N))}function $(N){return N===45?(e.consume(N),L):T(N)}function R(N){return N===47?(e.consume(N),a="",U):T(N)}function U(N){if(N===62){const q=a.toLowerCase();return WJ.includes(q)?(e.consume(N),C):T(N)}return ps(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),U):T(N)}function B(N){return N===93?(e.consume(N),L):T(N)}function L(N){return N===62?(e.consume(N),C):N===45&&o===2?(e.consume(N),L):T(N)}function C(N){return N===null||St(N)?(e.exit("htmlFlowData"),V(N)):(e.consume(N),C)}function V(N){return e.exit("htmlFlow"),t(N)}}},f9e={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Ew,t,n)}}},g9e={partial:!0,tokenize:function(e,t,n){const r=this;return function(i){return St(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}},v9e={name:"htmlText",tokenize:function(e,t,n){const r=this;let o,i,a;return function(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),s};function s(C){return C===33?(e.consume(C),l):C===47?(e.consume(C),w):C===63?(e.consume(C),y):ps(C)?(e.consume(C),E):n(C)}function l(C){return C===45?(e.consume(C),c):C===91?(e.consume(C),i=0,h):ps(C)?(e.consume(C),v):n(C)}function c(C){return C===45?(e.consume(C),p):n(C)}function u(C){return C===null?n(C):C===45?(e.consume(C),d):St(C)?(a=u,U(C)):(e.consume(C),u)}function d(C){return C===45?(e.consume(C),p):u(C)}function p(C){return C===62?R(C):C===45?d(C):u(C)}function h(C){return C==="CDATA[".charCodeAt(i++)?(e.consume(C),i===6?m:h):n(C)}function m(C){return C===null?n(C):C===93?(e.consume(C),g):St(C)?(a=m,U(C)):(e.consume(C),m)}function g(C){return C===93?(e.consume(C),f):m(C)}function f(C){return C===62?R(C):C===93?(e.consume(C),f):m(C)}function v(C){return C===null||C===62?R(C):St(C)?(a=v,U(C)):(e.consume(C),v)}function y(C){return C===null?n(C):C===63?(e.consume(C),b):St(C)?(a=y,U(C)):(e.consume(C),y)}function b(C){return C===62?R(C):y(C)}function w(C){return ps(C)?(e.consume(C),k):n(C)}function k(C){return C===45||ha(C)?(e.consume(C),k):_(C)}function _(C){return St(C)?(a=_,U(C)):sn(C)?(e.consume(C),_):R(C)}function E(C){return C===45||ha(C)?(e.consume(C),E):C===47||C===62||Bo(C)?S(C):n(C)}function S(C){return C===47?(e.consume(C),R):C===58||C===95||ps(C)?(e.consume(C),O):St(C)?(a=S,U(C)):sn(C)?(e.consume(C),S):R(C)}function O(C){return C===45||C===46||C===58||C===95||ha(C)?(e.consume(C),O):T(C)}function T(C){return C===61?(e.consume(C),M):St(C)?(a=T,U(C)):sn(C)?(e.consume(C),T):S(C)}function M(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,D):St(C)?(a=M,U(C)):sn(C)?(e.consume(C),M):(e.consume(C),H)}function D(C){return C===o?(e.consume(C),o=void 0,$):C===null?n(C):St(C)?(a=D,U(C)):(e.consume(C),D)}function H(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Bo(C)?S(C):(e.consume(C),H)}function $(C){return C===47||C===62||Bo(C)?S(C):n(C)}function R(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function U(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),B}function B(C){return sn(C)?Cn(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):L(C)}function L(C){return e.enter("htmlTextData"),a(C)}}},e6={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&hs(e,0,e.length,n),e},resolveTo:function(e,t){let n,r,o,i,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if(n.type==="link"||n.type==="labelLink"&&n._inactive)break;e[a][0]==="enter"&&n.type==="labelLink"&&(n._inactive=!0)}else if(o){if(e[a][0]==="enter"&&(n.type==="labelImage"||n.type==="labelLink")&&!n._balanced&&(r=a,n.type!=="labelLink")){s=2;break}}else n.type==="labelEnd"&&(o=a);const l={type:e[r][1].type==="labelLink"?"link":"image",start:I({},e[r][1].start),end:I({},e[e.length-1][1].end)},c={type:"label",start:I({},e[r][1].start),end:I({},e[o][1].end)},u={type:"labelText",start:I({},e[r+s+2][1].end),end:I({},e[o-2][1].start)};return i=[["enter",l,t],["enter",c,t]],i=zi(i,e.slice(r+1,r+s+3)),i=zi(i,[["enter",u,t]]),i=zi(i,J3(t.parser.constructs.insideSpan.null,e.slice(r+s+4,o-3),t)),i=zi(i,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),i=zi(i,e.slice(o+1)),i=zi(i,[["exit",l,t]]),hs(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let o,i,a=r.events.length;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return function(d){return o?o._inactive?u(d):(i=r.parser.defined.includes(vp(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),s):n(d)};function s(d){return d===40?e.attempt(b9e,c,i?c:u)(d):d===91?e.attempt(y9e,c,i?l:u)(d):i?c(d):u(d)}function l(d){return e.attempt(w9e,c,u)(d)}function c(d){return t(d)}function u(d){return o._balanced=!0,n(d)}}},b9e={tokenize:function(e,t,n){return function(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),r};function r(u){return Bo(u)?Lf(e,o)(u):o(u)}function o(u){return u===41?c(u):$J(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function i(u){return Bo(u)?Lf(e,s)(u):c(u)}function a(u){return n(u)}function s(u){return u===34||u===39||u===40?qJ(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):c(u)}function l(u){return Bo(u)?Lf(e,c)(u):c(u)}function c(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}},y9e={tokenize:function(e,t,n){const r=this;return function(a){return VJ.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)};function o(a){return r.parser.defined.includes(vp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}},w9e={tokenize:function(e,t,n){return function(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),r};function r(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}},k9e={name:"labelStartImage",resolveAll:e6.resolveAll,tokenize:function(e,t,n){const r=this;return function(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o};function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}},_9e={name:"labelStartLink",resolveAll:e6.resolveAll,tokenize:function(e,t,n){const r=this;return function(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o};function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}},t6={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Cn(e,t,"linePrefix")}}},Ow={name:"thematicBreak",tokenize:function(e,t,n){let r,o=0;return function(s){return e.enter("thematicBreak"),function(l){return r=l,i(l)}(s)};function i(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):o>=3&&(s===null||St(s))?(e.exit("thematicBreak"),t(s)):n(s)}function a(s){return s===r?(e.consume(s),o++,a):(e.exit("thematicBreakSequence"),sn(s)?Cn(e,i,"whitespace")(s):i(s))}}},Uo={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ew,function(i){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Cn(e,t,"listItemIndent",r.containerState.size+1)(i)},function(i){return r.containerState.furtherBlankLines||!sn(i)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(i)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(C9e,t,o)(i))});function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,Cn(e,e.attempt(Uo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return function(p){const h=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Q3(p)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(Ow,n,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(p)}return n(p)};function s(p){return Q3(p)&&++a<10?(e.consume(p),s):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Ew,r.interrupt?n:c,e.attempt(x9e,d,u))}function c(p){return r.containerState.initialBlankLine=!0,i++,d(p)}function u(p){return sn(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),d):n(p)}function d(p){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}},x9e={partial:!0,tokenize:function(e,t,n){const r=this;return Cn(e,function(o){const i=r.events[r.events.length-1];return!sn(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},C9e={partial:!0,tokenize:function(e,t,n){const r=this;return Cn(e,function(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)},"listItemIndent",r.containerState.size+1)}},KJ={name:"setextUnderline",resolveTo:function(e,t){let n,r,o,i=e.length;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){n=i;break}e[i][1].type==="paragraph"&&(r=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const a={type:"setextHeading",start:I({},e[n][1].start),end:I({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",a,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=I({},e[o][1].end)):e[n][1]=a,e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let o;return function(s){let l,c=r.events.length;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){l=r.events[c][1].type==="paragraph";break}return r.parser.lazy[r.now().line]||!r.interrupt&&!l?n(s):(e.enter("setextHeadingLine"),o=s,function(u){return e.enter("setextHeadingLineSequence"),i(u)}(s))};function i(s){return s===o?(e.consume(s),i):(e.exit("setextHeadingLineSequence"),sn(s)?Cn(e,a,"lineSuffix")(s):a(s))}function a(s){return s===null||St(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}}},S9e={tokenize:function(e){const t=this,n=e.attempt(Ew,function(o){return o===null?void e.consume(o):(e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n)},e.attempt(this.parser.constructs.flowInitial,r,Cn(e,e.attempt(this.parser.constructs.flow,r,e.attempt(s9e,r)),"linePrefix")));return n;function r(o){if(o!==null)return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(o)}}},T9e={resolveAll:YJ()},E9e=GJ("string"),O9e=GJ("text");function GJ(e){return{resolveAll:YJ(e==="text"?A9e:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],o=t.attempt(r,i,a);return i;function i(c){return l(c)?o(c):a(c)}function a(c){if(c!==null)return t.enter("data"),t.consume(c),s;t.consume(c)}function s(c){return l(c)?(t.exit("data"),o(c)):(t.consume(c),s)}function l(c){if(c===null)return!0;const u=r[c];let d=-1;if(u)for(;++d<u.length;){const p=u[d];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}}function YJ(e){return function(t,n){let r,o=-1;for(;++o<=t.length;)r===void 0?t[o]&&t[o][1].type==="data"&&(r=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function A9e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i,a=o.length,s=-1,l=0;for(;a--;){const c=o[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(c===-2)i=!0,l++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const c={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:I({},r.end)};r.end=I({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const P9e={42:Uo,43:Uo,45:Uo,48:Uo,49:Uo,50:Uo,51:Uo,52:Uo,53:Uo,54:Uo,55:Uo,56:Uo,57:Uo,62:jJ},N9e={91:c9e},I9e={[-2]:Z3,[-1]:Z3,32:Z3},R9e={35:h9e,42:Ow,45:[KJ,Ow],60:m9e,61:KJ,95:Ow,96:UJ,126:UJ},M9e={38:FJ,92:zJ},D9e={[-5]:t6,[-4]:t6,[-3]:t6,33:k9e,38:FJ,42:X3,60:[n9e,v9e],91:_9e,92:[d9e,zJ],93:e6,95:X3,96:o9e},L9e={null:[X3,T9e]},j9e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:N9e,disable:{null:[]},document:P9e,flow:R9e,flowInitial:I9e,insideSpan:L9e,string:M9e,text:D9e},Symbol.toStringTag,{value:"Module"}));function z9e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let a=[],s=[];const l={attempt:g(function(y,b){f(y,b.from)}),check:g(m),consume:function(y){St(y)?(r.line++,r.column=1,r.offset+=y===-3?2:1,v()):y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=y},enter:function(y,b){const w=b||{};return w.type=y,w.start=p(),c.events.push(["enter",w,c]),s.push(w),w},exit:function(y){const b=s.pop();return b.end=p(),c.events.push(["exit",b,c]),b},interrupt:g(m,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(y){o[y.line]=y.column,v()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(y,b){return function(w,k){let _=-1;const E=[];let S;for(;++_<w.length;){const O=w[_];let T;if(typeof O=="string")T=O;else switch(O){case-5:T="\r";break;case-4:T=`
`;break;case-3:T=`\r
`;break;case-2:T=k?" ":"	";break;case-1:if(!k&&S)continue;T=" ";break;default:T=String.fromCharCode(O)}S=O===-2,E.push(T)}return E.join("")}(d(y),b)},sliceStream:d,write:function(y){return a=zi(a,y),function(){let b;for(;r._index<a.length;){const w=a[r._index];if(typeof w=="string")for(b=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===b&&r._bufferIndex<w.length;)h(w.charCodeAt(r._bufferIndex));else h(w)}}(),a[a.length-1]!==null?[]:(f(t,0),c.events=J3(i,c.events,c),c.events)}};let u=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function d(y){return function(b,w){const k=w.start._index,_=w.start._bufferIndex,E=w.end._index,S=w.end._bufferIndex;let O;if(k===E)O=[b[k].slice(_,S)];else{if(O=b.slice(k,E),_>-1){const T=O[0];typeof T=="string"?O[0]=T.slice(_):O.shift()}S>0&&O.push(b[E].slice(0,S))}return O}(a,y)}function p(){const{_bufferIndex:y,_index:b,line:w,column:k,offset:_}=r;return{_bufferIndex:y,_index:b,line:w,column:k,offset:_}}function h(y){u=u(y)}function m(y,b){b.restore()}function g(y,b){return function(w,k,_){let E,S,O,T;return Array.isArray(w)?M(w):"tokenize"in w?M([w]):function(R){return U;function U(B){const L=B!==null&&R[B],C=B!==null&&R.null;return M([...Array.isArray(L)?L:L?[L]:[],...Array.isArray(C)?C:C?[C]:[]])(B)}}(w);function M(R){return E=R,S=0,R.length===0?_:D(R[S])}function D(R){return function(U){return T=function(){const B=p(),L=c.previous,C=c.currentConstruct,V=c.events.length,N=Array.from(s);return{from:V,restore:q};function q(){r=B,c.previous=L,c.currentConstruct=C,c.events.length=V,s=N,v()}}(),O=R,R.partial||(c.currentConstruct=R),R.name&&c.parser.constructs.disable.null.includes(R.name)?$():R.tokenize.call(b?Object.assign(Object.create(c),b):c,l,H,$)(U)}}function H(R){return y(O,T),k}function $(R){return T.restore(),++S<E.length?D(E[S]):_}}}function f(y,b){y.resolveAll&&!i.includes(y)&&i.push(y),y.resolve&&hs(c.events,b,c.events.length-b,y.resolve(c.events.slice(b),c)),y.resolveTo&&(c.events=y.resolveTo(c.events,c))}function v(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}const QJ=/[\0\t\n\r]/g,F9e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function JJ(e){return e.replace(F9e,B9e)}function B9e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return MJ(n.slice(o?2:1),o?16:10)}return Lu(n)||e}function jf(e){return e&&typeof e=="object"?"position"in e||"type"in e?XJ(e.position):"start"in e||"end"in e?XJ(e):"line"in e||"column"in e?n6(e):"":""}function n6(e){return ZJ(e&&e.line)+":"+ZJ(e&&e.column)}function XJ(e){return n6(e&&e.start)+"-"+n6(e&&e.end)}function ZJ(e){return e&&typeof e=="number"?e:1}const eX={}.hasOwnProperty;function U9e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),function(r){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(at),autolinkProtocol:D,autolinkEmail:D,atxHeading:l(Ee),blockQuote:l(be),characterEscape:D,characterReference:D,codeFenced:l(me),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(me,c),codeText:l(pe,c),codeTextData:D,data:D,codeFlowValue:D,definition:l(Ie),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(xe),hardBreakEscape:l(Re),hardBreakTrailing:l(Re),htmlFlow:l(Be,c),htmlFlowData:D,htmlText:l(Be,c),htmlTextData:D,image:l(it),label:c,link:l(at),listItem:l(Je),listItemValue:g,listOrdered:l(Qe,m),listUnordered:l(Qe),paragraph:l(Me),reference:X,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Ee),strong:l(He),thematicBreak:l(Ve)},exit:{atxHeading:d(),atxHeadingSequence:S,autolink:d(),autolinkEmail:Ce,autolinkProtocol:he,blockQuote:d(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:de,characterReference:ge,codeFenced:d(b),codeFencedFence:y,codeFencedFenceInfo:f,codeFencedFenceMeta:v,codeFlowValue:H,codeIndented:d(w),codeText:d(L),codeTextData:H,data:H,definition:d(),definitionDestinationString:E,definitionLabelString:k,definitionTitleString:_,emphasis:d(),hardBreakEscape:d(R),hardBreakTrailing:d(R),htmlFlow:d(U),htmlFlowData:H,htmlText:d(B),htmlTextData:H,image:d(V),label:q,labelText:N,lineEnding:$,link:d(C),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ee,resourceDestinationString:J,resourceTitleString:Q,resource:te,setextHeading:d(M),setextHeadingLineSequence:T,setextHeadingText:O,strong:d(),thematicBreak:d()}};tX(o,(r||{}).mdastExtensions||[]);const i={};return a;function a(ce){let re={type:"root",children:[]};const fe={stack:[re],tokenStack:[],config:o,enter:u,exit:p,buffer:c,resume:h,data:i},ve=[];let De=-1;for(;++De<ce.length;)(ce[De][1].type==="listOrdered"||ce[De][1].type==="listUnordered")&&(ce[De][0]==="enter"?ve.push(De):De=s(ce,ve.pop(),De));for(De=-1;++De<ce.length;){const Xe=o[ce[De][0]];eX.call(Xe,ce[De][1].type)&&Xe[ce[De][1].type].call(Object.assign({sliceSerialize:ce[De][2].sliceSerialize},fe),ce[De][1])}if(fe.tokenStack.length>0){const Xe=fe.tokenStack[fe.tokenStack.length-1];(Xe[1]||nX).call(fe,void 0,Xe[0])}for(re.position={start:gc(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:gc(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<o.transforms.length;)re=o.transforms[De](re)||re;return re}function s(ce,re,fe){let ve,De,Xe,ht,nt=re-1,Ze=-1,vt=!1;for(;++nt<=fe;){const lt=ce[nt];switch(lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":lt[0]==="enter"?Ze++:Ze--,ht=void 0;break;case"lineEndingBlank":lt[0]==="enter"&&(ve&&!ht&&!Ze&&!Xe&&(Xe=nt),ht=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ht=void 0}if(!Ze&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||Ze===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(ve){let qe=nt;for(De=void 0;qe--;){const ot=ce[qe];if(ot[1].type==="lineEnding"||ot[1].type==="lineEndingBlank"){if(ot[0]==="exit")continue;De&&(ce[De][1].type="lineEndingBlank",vt=!0),ot[1].type="lineEnding",De=qe}else if(ot[1].type!=="linePrefix"&&ot[1].type!=="blockQuotePrefix"&&ot[1].type!=="blockQuotePrefixWhitespace"&&ot[1].type!=="blockQuoteMarker"&&ot[1].type!=="listItemIndent")break}Xe&&(!De||Xe<De)&&(ve._spread=!0),ve.end=Object.assign({},De?ce[De][1].start:lt[1].end),ce.splice(De||nt,0,["exit",ve,lt[2]]),nt++,fe++}if(lt[1].type==="listItemPrefix"){const qe={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0};ve=qe,ce.splice(nt,0,["enter",qe,lt[2]]),nt++,fe++,Xe=void 0,ht=!0}}}return ce[re][1]._spread=vt,fe}function l(ce,re){return fe;function fe(ve){u.call(this,ce(ve),ve),re&&re.call(this,ve)}}function c(){this.stack.push({type:"fragment",children:[]})}function u(ce,re,fe){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([re,fe||void 0]),ce.position={start:gc(re.start),end:void 0}}function d(ce){return re;function re(fe){ce&&ce.call(this,fe),p.call(this,fe)}}function p(ce,re){const fe=this.stack.pop(),ve=this.tokenStack.pop();if(!ve)throw new Error("Cannot close `"+ce.type+"` ("+jf({start:ce.start,end:ce.end})+"): its not open");ve[0].type!==ce.type&&(re?re.call(this,ce,ve[0]):(ve[1]||nX).call(this,ce,ve[0])),fe.position.end=gc(ce.end)}function h(){return G3(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(ce){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0)}function f(){const ce=this.resume();this.stack[this.stack.length-1].lang=ce}function v(){const ce=this.resume();this.stack[this.stack.length-1].meta=ce}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ce=this.resume();this.stack[this.stack.length-1].value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ce=this.resume();this.stack[this.stack.length-1].value=ce.replace(/(\r?\n|\r)$/g,"")}function k(ce){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.label=re,fe.identifier=vp(this.sliceSerialize(ce)).toLowerCase()}function _(){const ce=this.resume();this.stack[this.stack.length-1].title=ce}function E(){const ce=this.resume();this.stack[this.stack.length-1].url=ce}function S(ce){const re=this.stack[this.stack.length-1];if(!re.depth){const fe=this.sliceSerialize(ce).length;re.depth=fe}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function T(ce){this.stack[this.stack.length-1].depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ce){const re=this.stack[this.stack.length-1].children;let fe=re[re.length-1];(!fe||fe.type!=="text")&&(fe=Ue(),fe.position={start:gc(ce.start),end:void 0},re.push(fe)),this.stack.push(fe)}function H(ce){const re=this.stack.pop();re.value+=this.sliceSerialize(ce),re.position.end=gc(ce.end)}function $(ce){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak)return re.children[re.children.length-1].position.end=gc(ce.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&o.canContainEols.includes(re.type)&&(D.call(this,ce),H.call(this,ce))}function R(){this.data.atHardBreak=!0}function U(){const ce=this.resume();this.stack[this.stack.length-1].value=ce}function B(){const ce=this.resume();this.stack[this.stack.length-1].value=ce}function L(){const ce=this.resume();this.stack[this.stack.length-1].value=ce}function C(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=re,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function V(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=re,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function N(ce){const re=this.sliceSerialize(ce),fe=this.stack[this.stack.length-2];fe.label=JJ(re),fe.identifier=vp(re).toLowerCase()}function q(){const ce=this.stack[this.stack.length-1],re=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const ve=ce.children;fe.children=ve}else fe.alt=re}function J(){const ce=this.resume();this.stack[this.stack.length-1].url=ce}function Q(){const ce=this.resume();this.stack[this.stack.length-1].title=ce}function te(){this.data.inReference=void 0}function X(){this.data.referenceType="collapsed"}function ee(ce){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.label=re,fe.identifier=vp(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function ue(ce){this.data.characterReferenceType=ce.type}function de(ce){const re=this.sliceSerialize(ce),fe=this.data.characterReferenceType;let ve;fe?(ve=MJ(re,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=Lu(re),this.stack[this.stack.length-1].value+=ve}function ge(ce){this.stack.pop().position.end=gc(ce.end)}function he(ce){H.call(this,ce),this.stack[this.stack.length-1].url=this.sliceSerialize(ce)}function Ce(ce){H.call(this,ce),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(ce)}function be(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function Ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xe(){return{type:"emphasis",children:[]}}function Ee(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function Be(){return{type:"html",value:""}}function it(){return{type:"image",title:null,url:"",alt:null}}function at(){return{type:"link",title:null,url:"",children:[]}}function Qe(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Je(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Me(){return{type:"paragraph",children:[]}}function He(){return{type:"strong",children:[]}}function Ue(){return{type:"text",value:""}}function Ve(){return{type:"thematicBreak"}}}(n)(function(r){for(;!HJ(r););return r}(function(r){const o={constructs:Wxe([j9e,...(r||{}).extensions||[]]),content:i(e9e),defined:[],document:i(t9e),flow:i(S9e),lazy:{},string:i(E9e),text:i(O9e)};return o;function i(a){return function(s){return z9e(o,a,s)}}}(n).document().write(function(){let r,o=1,i="",a=!0;return function(s,l,c){const u=[];let d,p,h,m,g;for(s=i+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),h=0,i="",a&&(s.charCodeAt(0)===65279&&h++,a=void 0);h<s.length;){if(QJ.lastIndex=h,d=QJ.exec(s),m=d&&d.index!==void 0?d.index:s.length,g=s.charCodeAt(m),!d){i=s.slice(h);break}if(g===10&&h===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),h<m&&(u.push(s.slice(h,m)),o+=m-h),g){case 0:u.push(65533),o++;break;case 9:for(p=4*Math.ceil(o/4),u.push(-2);o++<p;)u.push(-1);break;case 10:u.push(-4),o=1;break;default:r=!0,o=1}h=m+1}return c&&(r&&u.push(-5),i&&u.push(i),u.push(null)),u}}()(e,t,!0))))}function gc(e){return{line:e.line,column:e.column,offset:e.offset}}function tX(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?tX(e,r):H9e(e,r)}}function H9e(e,t){let n;for(n in t)if(eX.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function nX(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+jf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+jf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+jf({start:t.start,end:t.end})+") is still open")}const $9e={}.hasOwnProperty;function rX(e,t){let n,r=-1;if(t.extensions)for(;++r<t.extensions.length;)rX(e,t.extensions[r]);for(n in t)if($9e.call(t,n))switch(n){case"extensions":break;case"unsafe":case"join":V9e(e[n],t[n]);break;case"handlers":q9e(e[n],t[n]);break;default:e.options[n]=t[n]}return e}function V9e(e,t){t&&e.push(...t)}function q9e(e,t){t&&Object.assign(e,t)}function W9e(e,t,n){return">"+(n?"":" ")+e}function oX(e,t){return iX(e,t.inConstruct,!0)&&!iX(e,t.notInConstruct,!1)}function iX(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function aX(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&oX(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function r6(e,t){return!(t.options.fences!==!1||!e.value||e.lang||!/[^ \r\n]/.test(e.value)||/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function K9e(e,t,n){return(n?"":"    ")+e}function o6(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function vc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Aw(e,t,n){const r=Tw(e),o=Tw(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function sX(e,t,n,r){const o=function(m){const g=m.options.emphasis||"*";if(g!=="*"&&g!=="_")throw new Error("Cannot serialize emphasis with `"+g+"` for `options.emphasis`, expected `*`, or `_`");return g}(n),i=n.enter("emphasis"),a=n.createTracker(r),s=a.move(o);let l=a.move(n.containerPhrasing(e,I({after:o,before:s},a.current())));const c=l.charCodeAt(0),u=Aw(r.before.charCodeAt(r.before.length-1),c,o);u.inside&&(l=vc(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=Aw(r.after.charCodeAt(0),d,o);p.inside&&(l=l.slice(0,-1)+vc(d));const h=a.move(o);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}sX.peek=function(e,t,n){return n.options.emphasis||"*"};const i6=function(e){if(e==null)return G9e;if(typeof e=="function")return Pw(e);if(typeof e=="object")return Array.isArray(e)?function(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=i6(t[r]);return Pw(o);function o(...i){let a=-1;for(;++a<n.length;)if(n[a].apply(this,i))return!0;return!1}}(e):function(t){const n=t;return Pw(r);function r(o){const i=o;let a;for(a in t)if(i[a]!==n[a])return!1;return!0}}(e);if(typeof e=="string")return function(t){return Pw(n);function n(r){return r&&r.type===t}}(e);throw new Error("Expected function, string, or object as test")};function Pw(e){return function(t,n,r){return!(!function(o){return o!==null&&typeof o=="object"&&"type"in o}(t)||!e.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function G9e(){return!0}const lX=[],Y9e=!0,a6=!1;function Q9e(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=i6(o),a=r?-1:1;(function s(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+l.type+(h?"<"+h+">":"")+")"})}return p;function p(){let h,m,g,f=lX;if((!t||i(l,c,u[u.length-1]||void 0))&&(f=function(v){return Array.isArray(v)?v:typeof v=="number"?[Y9e,v]:v==null?lX:[v]}(n(l,u)),f[0]===a6))return f;if("children"in l&&l.children){const v=l;if(v.children&&f[0]!=="skip")for(m=(r?v.children.length:-1)+a,g=u.concat(v);m>-1&&m<v.children.length;){const y=v.children[m];if(h=s(y,m,g)(),h[0]===a6)return h;m=typeof h[1]=="number"?h[1]:m+a}}return f}})(e,void 0,[])()}function cX(e,t,n,r){let o,i,a;typeof t=="function"&&typeof n!="function"?(i=void 0,a=t,o=n):(i=t,a=n,o=r),Q9e(e,i,function(s,l){const c=l[l.length-1],u=c?c.children.indexOf(s):void 0;return a(s,u,c)},o)}function uX(e,t){let n=!1;return cX(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,a6}),!(e.depth&&!(e.depth<3)||!G3(e)||!t.options.setext&&!n)}function dX(e){return e.value||""}function hX(e,t,n,r){const o=o6(n),i=o==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,I({before:c,after:"]"},l.current()))),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,I({before:c,after:">"},l.current()))),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,I({before:c,after:e.title?" ":")"},l.current())))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,I({before:c,after:o},l.current()))),c+=l.move(o),s()),c+=l.move(")"),a(),c}function pX(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,I({before:l,after:"]"},s.current()));l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),I({before:l,after:"]"},s.current()));return a(),n.stack=u,i(),o!=="full"&&c&&c===d?o==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function mX(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const a=n.unsafe[i],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return o+r+o}function fX(e,t){const n=G3(e);return!(t.options.resourceLink||!e.url||e.title||!e.children||e.children.length!==1||e.children[0].type!=="text"||n!==e.url&&"mailto:"+n!==e.url||!/^[a-z][a-z+.-]+:/i.test(e.url)||/[\0- <>\u007F]/.test(e.url))}function gX(e,t,n,r){const o=o6(n),i=o==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(fX(e,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,I({before:d,after:">"},a.current()))),d+=a.move(">"),s(),n.stack=u,d}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,I({before:c,after:"]("},a.current()))),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,I({before:c,after:">"},a.current()))),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,I({before:c,after:e.title?" ":")"},a.current())))),l(),e.title&&(l=n.enter(`title${i}`),c+=a.move(" "+o),c+=a.move(n.safe(e.title,I({before:c,after:o},a.current()))),c+=a.move(o),l()),c+=a.move(")"),s(),c}function vX(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,I({before:l,after:"]"},s.current()));l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),I({before:l,after:"]"},s.current()));return a(),n.stack=u,i(),o!=="full"&&c&&c===d?o==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function s6(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function bX(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}dX.peek=function(){return"<"},hX.peek=function(){return"!"},pX.peek=function(){return"!"},mX.peek=function(){return"`"},gX.peek=function(e,t,n){return fX(e,n)?"<":"["},vX.peek=function(){return"["};const J9e=i6(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function yX(e,t,n,r){const o=function(m){const g=m.options.strong||"*";if(g!=="*"&&g!=="_")throw new Error("Cannot serialize strong with `"+g+"` for `options.strong`, expected `*`, or `_`");return g}(n),i=n.enter("strong"),a=n.createTracker(r),s=a.move(o+o);let l=a.move(n.containerPhrasing(e,I({after:o,before:s},a.current())));const c=l.charCodeAt(0),u=Aw(r.before.charCodeAt(r.before.length-1),c,o);u.inside&&(l=vc(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=Aw(r.after.charCodeAt(0),d,o);p.inside&&(l=l.slice(0,-1)+vc(d));const h=a.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}yX.peek=function(e,t,n){return n.options.strong||"*"};const X9e={blockquote:function(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(e,i.current()),W9e);return o(),a},break:aX,code:function(e,t,n,r){const o=function(d){const p=d.options.fence||"`";if(p!=="`"&&p!=="~")throw new Error("Cannot serialize code with `"+p+"` for `options.fence`, expected `` ` `` or `~`");return p}(n),i=e.value||"",a=o==="`"?"GraveAccent":"Tilde";if(r6(e,n)){const d=n.enter("codeIndented"),p=n.indentLines(i,K9e);return d(),p}const s=n.createTracker(r),l=o.repeat(Math.max(function(d,p){const h=String(d);let m=h.indexOf(p),g=m,f=0,v=0;if(typeof p!="string")throw new TypeError("Expected substring");for(;m!==-1;)m===g?++f>v&&(v=f):f=1,g=m+p.length,m=h.indexOf(p,g);return v}(i,o)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const d=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(e.lang,I({before:u,after:" ",encode:["`"]},s.current()))),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,I({before:u,after:`
`,encode:["`"]},s.current()))),d()}return u+=s.move(`
`),i&&(u+=s.move(i+`
`)),u+=s.move(l),c(),u},definition:function(e,t,n,r){const o=o6(n),i=o==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),I({before:c,after:"]"},l.current()))),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,I({before:c,after:">"},l.current()))),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,I({before:c,after:e.title?" ":`
`},l.current())))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,I({before:c,after:o},l.current()))),c+=l.move(o),s()),a(),c},emphasis:sX,hardBreak:aX,heading:function(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(uX(e,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(e,K(I({},i.current()),{before:`
`,after:`
`}));return d(),u(),p+`
`+(o===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(o),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(a+" ");let c=n.containerPhrasing(e,I({before:"# ",after:`
`},i.current()));return/^[\t ]/.test(c)&&(c=vc(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c},html:dX,image:hX,imageReference:pX,inlineCode:mX,link:gX,linkReference:vX,list:function(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let a=e.ordered?function(u){const d=u.options.bulletOrdered||".";if(d!=="."&&d!==")")throw new Error("Cannot serialize items with `"+d+"` for `options.bulletOrdered`, expected `.` or `)`");return d}(n):s6(n);const s=e.ordered?a==="."?")":".":function(u){const d=s6(u),p=u.options.bulletOther;if(!p)return d==="*"?"-":"*";if(p!=="*"&&p!=="+"&&p!=="-")throw new Error("Cannot serialize items with `"+p+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(p===d)throw new Error("Expected `bullet` (`"+d+"`) and `bulletOther` (`"+p+"`) to be different");return p}(n);let l=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),bX(n)===a&&u){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=i,o(),c},listItem:function(e,t,n,r){const o=function(u){const d=u.options.listItemIndent||"one";if(d!=="tab"&&d!=="one"&&d!=="mixed")throw new Error("Cannot serialize items with `"+d+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return d}(n);let i=n.bulletCurrent||s6(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(i+" ".repeat(a-i.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(u,d,p){return d?(p?"":" ".repeat(a))+u:(p?i:i+" ".repeat(a-i.length))+u});return l(),c},paragraph:function(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(e,r);return i(),o(),a},root:function(e,t,n,r){return(e.children.some(function(o){return J9e(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:yX,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(bX(n)+(n.options.ruleSpaces?" ":"")).repeat(function(o){const i=o.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}(n));return n.options.ruleSpaces?r.slice(0,-1):r}},Z9e=[function(e,t,n,r){if(t.type==="code"&&r6(t,r)&&(e.type==="list"||e.type===t.type&&r6(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&uX(t,r))?void 0:n.spread?1:0}],Hu=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],e4e=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Hu},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Hu},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Hu},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Hu},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Hu},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Hu},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Hu},{atBreak:!0,character:"~"}];function t4e(e){return e.label||!e.identifier?e.label||"":JJ(e.identifier)}function n4e(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function r4e(e,t,n,r){let o=r.join.length;for(;o--;){const i=r.join[o](e,t,n,r);if(i===!0||i===1)break;if(typeof i=="number")return`
`.repeat(1+i);if(i===!1)return`

<!---->

`}return`

`}const o4e=/\r?\n|\r/g;function i4e(e,t){const n=[];let r,o=0,i=0;for(;r=o4e.exec(e);)a(e.slice(o,r.index)),n.push(r[0]),o=r.index+r[0].length,i++;return a(e.slice(o)),n.join("");function a(s){n.push(t(s,i,!s))}}function a4e(e,t){return e-t}function wX(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],i=e+t;let a,s=-1,l=0;for(;a=n.exec(i);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&o.push(e.slice(l,r[s])),o.push("\\"),l=r[s];return o.push(e.slice(l)),o.join("")}function s4e(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,o=n.line||1,i=n.column||1;return{move:function(a){const s=a||"",l=s.split(/\r?\n|\r/g),c=l[l.length-1];return o+=l.length-1,i=l.length===1?i+c.length:1+c.length+r,s},current:function(){return{now:{line:o,column:i},lineShift:r}},shift:function(a){r+=a}}}function l4e(e,t){const n=t||{},r={associationId:t4e,containerPhrasing:h4e,containerFlow:p4e,createTracker:s4e,compilePattern:n4e,enter:function(i){return r.stack.push(i),function(){r.stack.pop()}},handlers:I({},X9e),handle:void 0,indentLines:i4e,indexStack:[],join:[...Z9e],options:{},safe:m4e,stack:[],unsafe:[...e4e]};rX(r,n),r.options.tightDefinitions&&r.join.push(d4e),r.handle=W3("type",{invalid:c4e,unknown:u4e,handlers:r.handlers});let o=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o}function c4e(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function u4e(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function d4e(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function h4e(e,t){return function(n,r,o){const i=r.indexStack,a=n.children||[],s=[];let l,c=-1,u=o.before;i.push(-1);let d=r.createTracker(o);for(;++c<a.length;){const p=a[c];let h;if(i[i.length-1]=c,c+1<a.length){let f=r.handle.handlers[a[c+1].type];f&&f.peek&&(f=f.peek),h=f?f(a[c+1],n,r,I({before:"",after:""},d.current())).charAt(0):""}else h=o.after;s.length>0&&(u==="\r"||u===`
`)&&p.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",d=r.createTracker(o),d.move(s.join("")));let m=r.handle(p,n,r,K(I({},d.current()),{after:h,before:u}));l&&l===m.slice(0,1)&&(m=vc(l.charCodeAt(0))+m.slice(1));const g=r.attentionEncodeSurroundingInfo;r.attentionEncodeSurroundingInfo=void 0,l=void 0,g&&(s.length>0&&g.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+vc(u.charCodeAt(0))),g.after&&(l=h)),d.move(m),s.push(m),u=m.slice(-1)}return i.pop(),s.join("")}(e,this,t)}function p4e(e,t){return function(n,r,o){const i=r.indexStack,a=n.children||[],s=r.createTracker(o),l=[];let c=-1;for(i.push(-1);++c<a.length;){const u=a[c];i[i.length-1]=c,l.push(s.move(r.handle(u,n,r,I({before:`
`,after:`
`},s.current())))),u.type!=="list"&&(r.bulletLastUsed=void 0),c<a.length-1&&l.push(s.move(r4e(u,a[c+1],n,r)))}return i.pop(),l.join("")}(e,this,t)}function m4e(e,t){return function(n,r,o){const i=(o.before||"")+(r||"")+(o.after||""),a=[],s=[],l={};let c=-1;for(;++c<n.unsafe.length;){const p=n.unsafe[c];if(!oX(n.stack,p))continue;const h=n.compilePattern(p);let m;for(;m=h.exec(i);){const g="before"in p||!!p.atBreak,f="after"in p,v=m.index+(g?m[1].length:0);a.includes(v)?(l[v].before&&!g&&(l[v].before=!1),l[v].after&&!f&&(l[v].after=!1)):(a.push(v),l[v]={before:g,after:f})}}a.sort(a4e);let u=o.before?o.before.length:0;const d=i.length-(o.after?o.after.length:0);for(c=-1;++c<a.length;){const p=a[c];p<u||p>=d||p+1<d&&a[c+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||a[c-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(u!==p&&s.push(wX(i.slice(u,p),"\\")),u=p,!/[!-/:-@[-`{-~]/.test(i.charAt(p))||o.encode&&o.encode.includes(i.charAt(p))?(s.push(vc(i.charCodeAt(p))),u++):s.push("\\"))}return s.push(wX(i.slice(u,d),o.after)),s.join("")}(this,e,t)}class Ho extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},a=!1;if(n&&(i="line"in n&&"column"in n||"start"in n&&"end"in n?{place:n}:"type"in n?{ancestors:[n],place:n.position}:I({},n)),typeof t=="string"?o=t:!i.cause&&t&&(a=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=s?s.line:void 0,this.name=jf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ho.prototype.file="",Ho.prototype.name="",Ho.prototype.reason="",Ho.prototype.message="",Ho.prototype.stack="",Ho.prototype.column=void 0,Ho.prototype.line=void 0,Ho.prototype.ancestors=void 0,Ho.prototype.cause=void 0,Ho.prototype.fatal=void 0,Ho.prototype.place=void 0,Ho.prototype.ruleId=void 0,Ho.prototype.source=void 0;const ms={basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zf(e);let n,r=0,o=-1,i=e.length;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1);return o<0?"":e.slice(r,o)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(o=i):(s=-1,o=a));return r===o?o=a:o<0&&(o=e.length),e.slice(r,o)},dirname:function(e){if(zf(e),e.length===0)return".";let t,n=-1,r=e.length;for(;--r;)if(e.codePointAt(r)===47){if(t){n=r;break}}else t||(t=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)},extname:function(e){zf(e);let t,n=e.length,r=-1,o=0,i=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(s!==47)r<0&&(t=!0,r=n+1),s===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1);else if(t){o=n+1;break}}return i<0||r<0||a===0||a===1&&i===r-1&&i===o+1?"":e.slice(i,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)zf(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":function(r){zf(r);const o=r.codePointAt(0)===47;let i=function(a,s){let l,c,u="",d=0,p=-1,h=0,m=-1;for(;++m<=a.length;){if(m<a.length)l=a.codePointAt(m);else{if(l===47)break;l=47}if(l===47){if(p!==m-1&&h!==1)if(p!==m-1&&h===2){if(u.length<2||d!==2||u.codePointAt(u.length-1)!==46||u.codePointAt(u.length-2)!==46){if(u.length>2){if(c=u.lastIndexOf("/"),c!==u.length-1){c<0?(u="",d=0):(u=u.slice(0,c),d=u.length-1-u.lastIndexOf("/")),p=m,h=0;continue}}else if(u.length>0){u="",d=0,p=m,h=0;continue}}s&&(u=u.length>0?u+"/..":"..",d=2)}else u.length>0?u+="/"+a.slice(p+1,m):u=a.slice(p+1,m),d=m-p-1;p=m,h=0}else l===46&&h>-1?h++:h=-1}return u}(r,!o);return i.length===0&&!o&&(i="."),i.length>0&&r.codePointAt(r.length-1)===47&&(i+="/"),o?"/"+i:i}(t)},sep:"/"};function zf(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const f4e={cwd:function(){return"/"}};function l6(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function g4e(e){if(typeof e=="string")e=new URL(e);else if(!l6(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=t.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const o=n.codePointAt(r+2);if(o===70||o===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}(e)}const c6=["history","path","basename","stem","extname","dirname"];class v4e{constructor(t){let n;n=t?l6(t)?{path:t}:typeof t=="string"||function(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}(t)?{value:t}:t:{},this.cwd="cwd"in n?"":f4e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r,o=-1;for(;++o<c6.length;){const i=c6[o];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}for(r in n)c6.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ms.basename(this.path):void 0}set basename(t){d6(t,"basename"),u6(t,"basename"),this.path=ms.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ms.dirname(this.path):void 0}set dirname(t){kX(this.basename,"dirname"),this.path=ms.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ms.extname(this.path):void 0}set extname(t){if(u6(t,"extname"),kX(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ms.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){l6(t)&&(t=g4e(t)),d6(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ms.basename(this.path,this.extname):void 0}set stem(t){d6(t,"stem"),u6(t,"stem"),this.path=ms.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Ho(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function u6(e,t){if(e&&e.includes(ms.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ms.sep+"`")}function d6(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function kX(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const b4e=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},y4e={}.hasOwnProperty;class h6 extends b4e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zG()}copy(){const t=new h6;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(kf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(f6("data",this.frozen),this.namespace[t]=n,this):y4e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(f6("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Nw(t),r=this.parser||this.Parser;return p6("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),p6("process",this.parser||this.Parser),m6("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,a){const s=Nw(t),l=r.parse(s);function c(u,d){u||!d?a(u):i?i(d):n(void 0,d)}r.run(l,s,function(u,d,p){if(u||!d||!p)return c(u);const h=d,m=r.stringify(h,p);(function(g){return typeof g=="string"||function(f){return!!(f&&typeof f=="object"&&"byteLength"in f&&"byteOffset"in f)}(g)})(m)?p.value=m:p.result=m,c(u,p)})}}processSync(t){let n,r=!1;return this.freeze(),p6("processSync",this.parser||this.Parser),m6("processSync",this.compiler||this.Compiler),this.process(t,function(o,i){r=!0,lw(o),n=i}),xX("processSync","process",r),n}run(t,n,r){_X(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(a,s){const l=Nw(n);o.run(t,l,function(c,u,d){const p=u||t;c?s(c):a?a(p):r(void 0,p,d)})}}runSync(t,n){let r,o=!1;return this.run(t,n,function(i,a){lw(i),r=a,o=!0}),xX("runSync","run",o),r}stringify(t,n){this.freeze();const r=Nw(n),o=this.compiler||this.Compiler;return m6("stringify",o),_X(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(f6("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else{if(typeof t!="object")throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?s(t):a(t)}return this;function i(c){if(typeof c=="function")l(c,[]);else{if(typeof c!="object")throw new TypeError("Expected usable value, not `"+c+"`");if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else a(c)}}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(o.settings=kf(!0,o.settings,c.settings))}function s(c){let u=-1;if(c!=null){if(!Array.isArray(c))throw new TypeError("Expected a list of plugins, not `"+c+"`");for(;++u<c.length;)i(c[u])}}function l(c,u){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...u]);else if(u.length>0){let[h,...m]=u;const g=r[p][1];ip(g)&&ip(h)&&(h=kf(!0,g,h)),r[p]=[c,h,...m]}}}}function p6(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function m6(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function f6(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _X(e){if(!ip(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function xX(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Nw(e){return function(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}(e)?e:new v4e(e)}const w4e=new h6().freeze()().use(function(e){const t=this;t.parser=function(n){return U9e(n,K(I(I({},t.data("settings")),e),{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}).use(function(e){const t=this;t.compiler=function(n){return l4e(n,K(I(I({},t.data("settings")),e),{extensions:t.data("toMarkdownExtensions")||[]}))}}).freeze();function k4e(e){cX(e,"text",(t,n,r)=>{t.value&&r&&function(o){if(o==="paragraph"||o==="heading"||o==="emphasis"||o==="strong"||o==="link")return!0}(r.type)&&(t.value=t.value.replace(/\$/g,"UNIQUEPLACEHOLDERDOLLAR"))})}const Ln=e=>typeof e=="string"?function(t){return t.replace(/UNIQUEPLACEHOLDERDOLLAR/g,"$").replace(/\\_/g,"_")}(e):Array.isArray(e)?e.map(t=>Ln(t)):e;var _4e=Object.defineProperty,x4e=Object.defineProperties,C4e=Object.getOwnPropertyDescriptors,Iw=Object.getOwnPropertySymbols,CX=Object.prototype.hasOwnProperty,SX=Object.prototype.propertyIsEnumerable,TX=(e,t,n)=>t in e?_4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EX=(e,t)=>{for(var n in t||(t={}))CX.call(t,n)&&TX(e,n,t[n]);if(Iw)for(var n of Iw(t))SX.call(t,n)&&TX(e,n,t[n]);return e},OX=(e,t)=>x4e(e,C4e(t)),AX=(e,t)=>{var n={};for(var r in e)CX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Iw)for(var r of Iw(e))t.indexOf(r)<0&&SX.call(e,r)&&(n[r]=e[r]);return n},S4e=Object.defineProperty,T4e=Object.defineProperties,E4e=Object.getOwnPropertyDescriptors,Rw=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,IX=(e,t,n)=>t in e?S4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O4e=Object.defineProperty,A4e=Object.defineProperties,P4e=Object.getOwnPropertyDescriptors,Mw=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,MX=Object.prototype.propertyIsEnumerable,DX=(e,t,n)=>t in e?O4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N4e=Object.defineProperty,I4e=Object.defineProperties,R4e=Object.getOwnPropertyDescriptors,Dw=Object.getOwnPropertySymbols,LX=Object.prototype.hasOwnProperty,jX=Object.prototype.propertyIsEnumerable,zX=(e,t,n)=>t in e?N4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M4e=Object.defineProperty,D4e=Object.defineProperties,L4e=Object.getOwnPropertyDescriptors,Lw=Object.getOwnPropertySymbols,FX=Object.prototype.hasOwnProperty,BX=Object.prototype.propertyIsEnumerable,UX=(e,t,n)=>t in e?M4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j4e=Object.defineProperty,z4e=Object.defineProperties,F4e=Object.getOwnPropertyDescriptors,jw=Object.getOwnPropertySymbols,HX=Object.prototype.hasOwnProperty,$X=Object.prototype.propertyIsEnumerable,VX=(e,t,n)=>t in e?j4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B4e=Object.defineProperty,U4e=Object.defineProperties,H4e=Object.getOwnPropertyDescriptors,zw=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,WX=Object.prototype.propertyIsEnumerable,KX=(e,t,n)=>t in e?B4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$4e=Object.defineProperty,V4e=Object.defineProperties,q4e=Object.getOwnPropertyDescriptors,Fw=Object.getOwnPropertySymbols,GX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,QX=(e,t,n)=>t in e?$4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W4e=Object.defineProperty,K4e=Object.defineProperties,G4e=Object.getOwnPropertyDescriptors,Bw=Object.getOwnPropertySymbols,JX=Object.prototype.hasOwnProperty,XX=Object.prototype.propertyIsEnumerable,ZX=(e,t,n)=>t in e?W4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y4e=Object.defineProperty,Q4e=Object.defineProperties,J4e=Object.getOwnPropertyDescriptors,Uw=Object.getOwnPropertySymbols,eZ=Object.prototype.hasOwnProperty,tZ=Object.prototype.propertyIsEnumerable,nZ=(e,t,n)=>t in e?Y4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X4e=Object.defineProperty,Z4e=Object.defineProperties,e8e=Object.getOwnPropertyDescriptors,Hw=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,oZ=Object.prototype.propertyIsEnumerable,iZ=(e,t,n)=>t in e?X4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t8e=Object.defineProperty,n8e=Object.defineProperties,r8e=Object.getOwnPropertyDescriptors,$w=Object.getOwnPropertySymbols,aZ=Object.prototype.hasOwnProperty,sZ=Object.prototype.propertyIsEnumerable,lZ=(e,t,n)=>t in e?t8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o8e=Object.defineProperty,i8e=Object.defineProperties,a8e=Object.getOwnPropertyDescriptors,Vw=Object.getOwnPropertySymbols,cZ=Object.prototype.hasOwnProperty,uZ=Object.prototype.propertyIsEnumerable,dZ=(e,t,n)=>t in e?o8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s8e=Object.defineProperty,l8e=Object.defineProperties,c8e=Object.getOwnPropertyDescriptors,qw=Object.getOwnPropertySymbols,hZ=Object.prototype.hasOwnProperty,pZ=Object.prototype.propertyIsEnumerable,mZ=(e,t,n)=>t in e?s8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u8e=Object.defineProperty,d8e=Object.defineProperties,h8e=Object.getOwnPropertyDescriptors,Ww=Object.getOwnPropertySymbols,fZ=Object.prototype.hasOwnProperty,gZ=Object.prototype.propertyIsEnumerable,vZ=(e,t,n)=>t in e?u8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p8e=Object.defineProperty,m8e=Object.defineProperties,f8e=Object.getOwnPropertyDescriptors,Kw=Object.getOwnPropertySymbols,bZ=Object.prototype.hasOwnProperty,yZ=Object.prototype.propertyIsEnumerable,wZ=(e,t,n)=>t in e?p8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g8e=Object.defineProperty,v8e=Object.defineProperties,b8e=Object.getOwnPropertyDescriptors,Gw=Object.getOwnPropertySymbols,kZ=Object.prototype.hasOwnProperty,_Z=Object.prototype.propertyIsEnumerable,xZ=(e,t,n)=>t in e?g8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y8e=Object.defineProperty,w8e=Object.defineProperties,k8e=Object.getOwnPropertyDescriptors,Yw=Object.getOwnPropertySymbols,CZ=Object.prototype.hasOwnProperty,SZ=Object.prototype.propertyIsEnumerable,TZ=(e,t,n)=>t in e?y8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_8e=Object.defineProperty,x8e=Object.defineProperties,C8e=Object.getOwnPropertyDescriptors,EZ=Object.getOwnPropertySymbols,S8e=Object.prototype.hasOwnProperty,T8e=Object.prototype.propertyIsEnumerable,OZ=(e,t,n)=>t in e?_8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E8e=(e,t)=>{for(var n in t||(t={}))S8e.call(t,n)&&OZ(e,n,t[n]);if(EZ)for(var n of EZ(t))T8e.call(t,n)&&OZ(e,n,t[n]);return e},O8e=(e,t)=>x8e(e,C8e(t));const A8e=e=>{const t=dt();return A(P8e,{children:A("img",O8e(E8e({},e),{style:{width:e.width?`${e.width}px`:"auto",height:e.height?`${e.height}px`:"auto"},onClick:()=>{t(R$(e.src))}}))})},P8e=Ae("span",{target:"ed9b5b30"})(()=>{const[e,t]=PJ();return{width:"100%",position:"relative",display:"inline-block",zIndex:20,"> img":{outline:"2px solid transparent",borderRadius:6,maxWidth:e,maxHeight:t,objectFit:"contain","&:hover":{cursor:"pointer",outlineColor:Vt().primary_color}}}},"");var N8e=Object.defineProperty,I8e=Object.defineProperties,R8e=Object.getOwnPropertyDescriptors,Qw=Object.getOwnPropertySymbols,AZ=Object.prototype.hasOwnProperty,PZ=Object.prototype.propertyIsEnumerable,NZ=(e,t,n)=>t in e?N8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IZ=(e,t)=>{for(var n in t||(t={}))AZ.call(t,n)&&NZ(e,n,t[n]);if(Qw)for(var n of Qw(t))PZ.call(t,n)&&NZ(e,n,t[n]);return e},M8e=Object.defineProperty,D8e=Object.defineProperties,L8e=Object.getOwnPropertyDescriptors,Jw=Object.getOwnPropertySymbols,RZ=Object.prototype.hasOwnProperty,MZ=Object.prototype.propertyIsEnumerable,DZ=(e,t,n)=>t in e?M8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const j8e=e=>{var t=e,{_node:n,onTableDetected:r}=t,o=((i,a)=>{var s={};for(var l in i)RZ.call(i,l)&&a.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&Jw)for(var l of Jw(i))a.indexOf(l)<0&&MZ.call(i,l)&&(s[l]=i[l]);return s})(t,["_node","onTableDetected"]);return x.useEffect(()=>{r&&r()},[r]),A(Lr,((i,a)=>D8e(i,L8e(a)))(((i,a)=>{for(var s in a||(a={}))RZ.call(a,s)&&DZ(i,s,a[s]);if(Jw)for(var s of Jw(a))MZ.call(a,s)&&DZ(i,s,a[s]);return i})({},o),{style:{width:"100%","--table-vertical-spacing":"calc(0.4375em * var(--mantine-scale))",backgroundColor:"var(--table-background-color, rgba(233, 236, 239, 1))",color:"var(--table-color, rgba(66, 66, 66, 1))"},striped:!0,children:Ln(o.children)}))};var z8e=Object.defineProperty,F8e=Object.defineProperties,B8e=Object.getOwnPropertyDescriptors,Xw=Object.getOwnPropertySymbols,LZ=Object.prototype.hasOwnProperty,jZ=Object.prototype.propertyIsEnumerable,zZ=(e,t,n)=>t in e?z8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U8e=Object.defineProperty,H8e=Object.defineProperties,$8e=Object.getOwnPropertyDescriptors,Zw=Object.getOwnPropertySymbols,FZ=Object.prototype.hasOwnProperty,BZ=Object.prototype.propertyIsEnumerable,UZ=(e,t,n)=>t in e?U8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V8e=Object.defineProperty,q8e=Object.defineProperties,W8e=Object.getOwnPropertyDescriptors,e5=Object.getOwnPropertySymbols,HZ=Object.prototype.hasOwnProperty,$Z=Object.prototype.propertyIsEnumerable,VZ=(e,t,n)=>t in e?V8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K8e=Object.defineProperty,G8e=Object.defineProperties,Y8e=Object.getOwnPropertyDescriptors,qZ=Object.getOwnPropertySymbols,Q8e=Object.prototype.hasOwnProperty,J8e=Object.prototype.propertyIsEnumerable,WZ=(e,t,n)=>t in e?K8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ff=(e,t)=>{for(var n in t||(t={}))Q8e.call(t,n)&&WZ(e,n,t[n]);if(qZ)for(var n of qZ(t))J8e.call(t,n)&&WZ(e,n,t[n]);return e},Bf=(e,t)=>G8e(e,Y8e(t));const X8e={a:e=>{var t=AX(e,["node"]);const n=t,{href:r}=n,o=AX(n,["href"]),i=op(),a=r==null?void 0:r.toLowerCase();if(a!=null&&a.endsWith(".pdf")||a!=null&&a.match(/\.pdf#page=(\d+)$/)||a!=null&&a.match(/doc_type=pdf/))return A("a",OX(EX({},o),{onClick:u=>{u.preventDefault(),bf(i,r)},children:Ln(t.children)}));const s=(u=>{try{const d=new URL(u),p=d.hostname,h=d.pathname;if(p==="youtube.com"||p==="www.youtube.com"||p==="www.youtube-nocookie.com"){if(h.startsWith("/embed/"))return u;if(h.startsWith("/shorts/"))return`https://${p}/embed/${h.split("/shorts/")[1]}`;if(h==="/watch"){const m=d.searchParams.get("v"),g=d.searchParams.get("t");return m?g?`https://${p}/embed/${m}?start=${g.replace("s","")}`:`https://${p}/embed/${m}`:null}}else if(h.endsWith(".mp4")||h.endsWith(".mov"))return u}catch{return null}return null})(r);if(s)return A(qxe,{embedVideoUrl:s});const l=(r||"").replace(/\\_/g,"_").replace(/%5C_/g,"_"),c=(u=>{if(!u)return!1;try{const d=["https:","mailto:","tel:"];if(!/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(u))return!0;const p=new URL(u,"https://example.com");return d.includes(p.protocol)}catch{return!1}})(l);return A("a",OX(EX({},o),{target:"_blank",rel:"noopener noreferrer",onClick:u=>{u.preventDefault(),c&&(qL(l),bf(i,l))},style:{cursor:"pointer",wordBreak:"break-all",transition:"color 0.3s ease"},children:Ln(t.children)}))},text:e=>{var t=((n,r)=>{var o={};for(var i in n)PX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Rw)for(var i of Rw(n))r.indexOf(i)<0&&NX.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("span",((n,r)=>T4e(n,E4e(r)))(((n,r)=>{for(var o in r||(r={}))PX.call(r,o)&&IX(n,o,r[o]);if(Rw)for(var o of Rw(r))NX.call(r,o)&&IX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},p:e=>{var t=((n,r)=>{var o={};for(var i in n)RX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Mw)for(var i of Mw(n))r.indexOf(i)<0&&MX.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("p",((n,r)=>A4e(n,P4e(r)))(((n,r)=>{for(var o in r||(r={}))RX.call(r,o)&&DX(n,o,r[o]);if(Mw)for(var o of Mw(r))MX.call(r,o)&&DX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},ol:e=>{var t=((n,r)=>{var o={};for(var i in n)LX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Dw)for(var i of Dw(n))r.indexOf(i)<0&&jX.call(n,i)&&(o[i]=n[i]);return o})(e,["node","ordered"]);return A("ol",((n,r)=>I4e(n,R4e(r)))(((n,r)=>{for(var o in r||(r={}))LX.call(r,o)&&zX(n,o,r[o]);if(Dw)for(var o of Dw(r))jX.call(r,o)&&zX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},li:e=>{var t=((n,r)=>{var o={};for(var i in n)FX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Lw)for(var i of Lw(n))r.indexOf(i)<0&&BX.call(n,i)&&(o[i]=n[i]);return o})(e,["node","ordered"]);return A("li",((n,r)=>D4e(n,L4e(r)))(((n,r)=>{for(var o in r||(r={}))FX.call(r,o)&&UX(n,o,r[o]);if(Lw)for(var o of Lw(r))BX.call(r,o)&&UX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},ul:e=>{var t=((n,r)=>{var o={};for(var i in n)HX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&jw)for(var i of jw(n))r.indexOf(i)<0&&$X.call(n,i)&&(o[i]=n[i]);return o})(e,["node","ordered"]);return A("ul",((n,r)=>z4e(n,F4e(r)))(((n,r)=>{for(var o in r||(r={}))HX.call(r,o)&&VX(n,o,r[o]);if(jw)for(var o of jw(r))$X.call(r,o)&&VX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},span:e=>{var t=((n,r)=>{var o={};for(var i in n)qX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&zw)for(var i of zw(n))r.indexOf(i)<0&&WX.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("span",((n,r)=>U4e(n,H4e(r)))(((n,r)=>{for(var o in r||(r={}))qX.call(r,o)&&KX(n,o,r[o]);if(zw)for(var o of zw(r))WX.call(r,o)&&KX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},thead:e=>{var t=((n,r)=>{var o={};for(var i in n)FZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Zw)for(var i of Zw(n))r.indexOf(i)<0&&BZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A(Lr.Thead,((n,r)=>H8e(n,$8e(r)))(((n,r)=>{for(var o in r||(r={}))FZ.call(r,o)&&UZ(n,o,r[o]);if(Zw)for(var o of Zw(r))BZ.call(r,o)&&UZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},th:e=>{var t=((n,r)=>{var o={};for(var i in n)GX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Fw)for(var i of Fw(n))r.indexOf(i)<0&&YX.call(n,i)&&(o[i]=n[i]);return o})(e,["node","isHeader"]);return A(Lr.Th,((n,r)=>V4e(n,q4e(r)))(((n,r)=>{for(var o in r||(r={}))GX.call(r,o)&&QX(n,o,r[o]);if(Fw)for(var o of Fw(r))YX.call(r,o)&&QX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},tr:e=>{var t=((n,r)=>{var o={};for(var i in n)LZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Xw)for(var i of Xw(n))r.indexOf(i)<0&&jZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node","isHeader"]);return A(Lr.Tr,((n,r)=>F8e(n,B8e(r)))(((n,r)=>{for(var o in r||(r={}))LZ.call(r,o)&&zZ(n,o,r[o]);if(Xw)for(var o of Xw(r))jZ.call(r,o)&&zZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},tbody:e=>{var t=((n,r)=>{var o={};for(var i in n)HZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&e5)for(var i of e5(n))r.indexOf(i)<0&&$Z.call(n,i)&&(o[i]=n[i]);return o})(e,["node","isHeader"]);return A(Lr.Tbody,((n,r)=>q8e(n,W8e(r)))(((n,r)=>{for(var o in r||(r={}))HZ.call(r,o)&&VZ(n,o,r[o]);if(e5)for(var o of e5(r))$Z.call(r,o)&&VZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},td:e=>{var t=((n,r)=>{var o={};for(var i in n)JX.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Bw)for(var i of Bw(n))r.indexOf(i)<0&&XX.call(n,i)&&(o[i]=n[i]);return o})(e,["node","isHeader"]);return A(Lr.Td,((n,r)=>K4e(n,G4e(r)))(((n,r)=>{for(var o in r||(r={}))JX.call(r,o)&&ZX(n,o,r[o]);if(Bw)for(var o of Bw(r))XX.call(r,o)&&ZX(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},h1:e=>{var t=((n,r)=>{var o={};for(var i in n)eZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Uw)for(var i of Uw(n))r.indexOf(i)<0&&tZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("h1",((n,r)=>Q4e(n,J4e(r)))(((n,r)=>{for(var o in r||(r={}))eZ.call(r,o)&&nZ(n,o,r[o]);if(Uw)for(var o of Uw(r))tZ.call(r,o)&&nZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},h2:e=>{var t=((n,r)=>{var o={};for(var i in n)rZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Hw)for(var i of Hw(n))r.indexOf(i)<0&&oZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("h2",((n,r)=>Z4e(n,e8e(r)))(((n,r)=>{for(var o in r||(r={}))rZ.call(r,o)&&iZ(n,o,r[o]);if(Hw)for(var o of Hw(r))oZ.call(r,o)&&iZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},h3:e=>{var t=((n,r)=>{var o={};for(var i in n)aZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&$w)for(var i of $w(n))r.indexOf(i)<0&&sZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("h3",((n,r)=>n8e(n,r8e(r)))(((n,r)=>{for(var o in r||(r={}))aZ.call(r,o)&&lZ(n,o,r[o]);if($w)for(var o of $w(r))sZ.call(r,o)&&lZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},h4:e=>{var t=((n,r)=>{var o={};for(var i in n)cZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Vw)for(var i of Vw(n))r.indexOf(i)<0&&uZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("h4",((n,r)=>i8e(n,a8e(r)))(((n,r)=>{for(var o in r||(r={}))cZ.call(r,o)&&dZ(n,o,r[o]);if(Vw)for(var o of Vw(r))uZ.call(r,o)&&dZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},h5:e=>{var t=((n,r)=>{var o={};for(var i in n)hZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&qw)for(var i of qw(n))r.indexOf(i)<0&&pZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("h5",((n,r)=>l8e(n,c8e(r)))(((n,r)=>{for(var o in r||(r={}))hZ.call(r,o)&&mZ(n,o,r[o]);if(qw)for(var o of qw(r))pZ.call(r,o)&&mZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},h6:e=>{var t=((n,r)=>{var o={};for(var i in n)fZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Ww)for(var i of Ww(n))r.indexOf(i)<0&&gZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("h6",((n,r)=>d8e(n,h8e(r)))(((n,r)=>{for(var o in r||(r={}))fZ.call(r,o)&&vZ(n,o,r[o]);if(Ww)for(var o of Ww(r))gZ.call(r,o)&&vZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},del:e=>{var t=((n,r)=>{var o={};for(var i in n)bZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Kw)for(var i of Kw(n))r.indexOf(i)<0&&yZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("del",((n,r)=>m8e(n,f8e(r)))(((n,r)=>{for(var o in r||(r={}))bZ.call(r,o)&&wZ(n,o,r[o]);if(Kw)for(var o of Kw(r))yZ.call(r,o)&&wZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},em:e=>{var t=((n,r)=>{var o={};for(var i in n)kZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Gw)for(var i of Gw(n))r.indexOf(i)<0&&_Z.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("em",((n,r)=>v8e(n,b8e(r)))(((n,r)=>{for(var o in r||(r={}))kZ.call(r,o)&&xZ(n,o,r[o]);if(Gw)for(var o of Gw(r))_Z.call(r,o)&&xZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},strong:e=>{var t=((n,r)=>{var o={};for(var i in n)CZ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Yw)for(var i of Yw(n))r.indexOf(i)<0&&SZ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return A("strong",((n,r)=>w8e(n,k8e(r)))(((n,r)=>{for(var o in r||(r={}))CZ.call(r,o)&&TZ(n,o,r[o]);if(Yw)for(var o of Yw(r))SZ.call(r,o)&&TZ(n,o,r[o]);return n})({},t),{children:Ln(t.children)}))},img:e=>{var t,n,r,o=((l,c)=>{var u={};for(var d in l)AZ.call(l,d)&&c.indexOf(d)<0&&(u[d]=l[d]);if(l!=null&&Qw)for(var d of Qw(l))c.indexOf(d)<0&&PZ.call(l,d)&&(u[d]=l[d]);return u})(e,["node"]);const i=(t=o.alt)==null?void 0:t.match(/width=(\d+)|height=(\d+)/g),a=(n=i==null?void 0:i.find(l=>l.includes("width")))==null?void 0:n.split("=")[1],s=(r=i==null?void 0:i.find(l=>l.includes("height")))==null?void 0:r.split("=")[1];return A(A8e,a||s?((l,c)=>I8e(l,R8e(c)))(IZ({},o),{width:a,height:s}):IZ({},o))}},$u=({text:e,messageType:t,onTableDetected:n})=>{var r,o,i;const a=function(p){return w4e().use(()=>k4e).processSync(p).toString()}(e),s=t==="user",l=ZI({p:{overflowWrap:HD(a)?"break-word":"anywhere",fontWeight:"var(--message-content-container-font-weight, 400)"},a:{color:s?"var(--markdown-user-link-color)":"var(--markdown-link-color)",textDecoration:s?"var(--markdown-user-link-text-decoration)":"var(--markdown-link-text-decoration)",fontWeight:s?"var(--markdown-user-link-font-weight)":"var(--markdown-link-font-weight)","&:hover":{color:s?"var(--markdown-user-link-hover-color)":"var(--markdown-link-hover-color)"}}}),c=Bf(Ff({},X8e),{table:p=>A(j8e,Bf(Ff({},p),{onTableDetected:n}))}),u=[fxe],d=Bf(Ff({},da),{clobberPrefix:"livex-",protocols:Bf(Ff({},da.protocols||{}),{href:["https","mailto","tel"],src:["https"],cite:["https"],poster:["https"]}),tagNames:Array.isArray(da.tagNames)?da.tagNames.filter(p=>!["form","input","textarea","button","select","option","svg","math","iframe","object","embed","audio","video"].includes(p)):da.tagNames,attributes:Bf(Ff({},da.attributes),{span:[...((r=da.attributes)==null?void 0:r.span)||[],["style",/^(?:(?!url\(|expression\().)*$/i]],a:[...((o=da.attributes)==null?void 0:o.a)||[],"target","rel","title","aria-label"],img:[...((i=da.attributes)==null?void 0:i.img)||[],"alt","src","title"].filter(p=>p!=="style")})});return A("div",{className:"livex-chatbox-markdown",css:l,children:A(eQ,{components:c,remarkPlugins:u,rehypePlugins:[zxe,[Vxe,d]],children:a})})},Z8e=({message:e,background:t})=>{const n=(o=>{const i=Vt(),a=o||i.primary_color;return Hn(a)})(t),{text:r}=e;return typeof r!="string"?(window.console.error("TextMessage  text is not a string",r),null):A("p",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"var(--message-content-container-font-size, 12px)",fontWeight:"var(--message-content-container-font-weight, 400)",color:n,lineHeight:"var(--message-content-container-line-height, 16px)"},children:r})},eCe=({message:e})=>{const{text:t,imageGcsUri:n}=e;return n==null||n.replace("gs://","https://dv.copilot.livex.ai/api/v1/users/static/"),le("div",{className:"flex flex-col gap-2",children:[A("div",{children:"Image Uploaded"}),t&&A("div",{children:t})]})},tCe=e=>{var t;const{message:n,isBot:r,index:o,timeRef:i,isLastMessage:a}=e,s=hu(),l=dr(),c=VL(),{split_message_delay:u,split_message_delimiter:d}=l??{};let p;const[h,m]=x.useState(!1),[g,f]=x.useState(o===0);x.useEffect(()=>{!a||!r||Fe.scrollToLastMessagePair()},[a,r]);const v=Vt(),{bot_message_background_color:y,user_message_background_color:b}=v,w=c?y||(s==null?void 0:s.bot_message_background_color):(s==null?void 0:s.bot_message_background_color)||y,k=(r?w:b)||"#ffffff",_=Hn(k)==="#fff"?"rgba(255, 255, 255, 0.3)":Nu(.1,k,"MessageContent.defaultSelectionBackground"),E=Hn(_);let S="black";S=Hn(k),x.useEffect(()=>{let H,$=!0;const R=()=>{if(!u||!a)return f(!0),void(i.current[o]=Date.now());i.current[o-1]?setTimeout(()=>{$&&(f(!0),i.current[o]=Date.now())},u):H=requestAnimationFrame(R)};return H=requestAnimationFrame(R),()=>{$=!1,cancelAnimationFrame(H)}},[o,i,u,a]);const{format:O,imageGcsUri:T}=n;switch(O){case"text":case"form":if(T){p=A(eCe,{message:n});break}p=A(Z8e,{message:n,background:k});break;case"markdown":p=A($u,{text:(t=n.text)!=null?t:"",messageType:n.type,onTableDetected:()=>m(!0)});break;default:p=null}const M=r?"bot":"user",D={background:`var(--${M}-message-content-container-background, ${k})`,color:S,justifyContent:r?"flex-start":"flex-end",lineHeight:"var(--message-content-container-line-height, 16px)",opacity:g?1:0,transition:"opacity 0.3s ease-in-out",boxShadow:`var(--message-content-container-box-shadow, ${ay})`,padding:"var(--message-content-container-padding, 0.5em 0.75em)","--mcc-border-radius":"var(--message-content-container-border-radius, 8.75px)",borderTopLeftRadius:`var(--${M}-message-content-container-border-top-left-radius, var(--mcc-border-radius))`,borderTopRightRadius:`var(--${M}-message-content-container-border-top-right-radius, var(--mcc-border-radius))`,borderBottomLeftRadius:`var(--${M}-message-content-container-border-bottom-left-radius, var(--mcc-border-radius))`,borderBottomRightRadius:`var(--${M}-message-content-container-border-bottom-right-radius, var(--mcc-border-radius))`,border:`var(--${M}-message-content-container-border, none)`,"--mcc-selection-background-color":`var(--${M}-message-selection-background-color, ${_})`,"--mcc-selection-color":`var(--${M}-message-selection-text-color, ${E})`,backdropFilter:`var(--${M}-message-content-container-backdrop-filter, blur(10px))`};return g||(D.height=0),h&&d&&(D.paddingLeft="0",D.paddingRight="0",D.backgroundColor="transparent",delete D.boxShadow),le(nCe,{style:D,children:[p,n.stoppedByUser&&A(rCe,{children:"Stopped by user"})]})},nCe=Ae("div",{target:"eycqg4i1"})({name:"1389qhh",styles:"display:flex;padding:0.5em 0.75em;flex-direction:column;align-items:flex-start;border-radius:0.625em;max-width:100%;&::selection{background-color:var(--mcc-selection-background-color);color:var(--mcc-selection-color);}"}),rCe=Ae("div",{target:"eycqg4i0"})({name:"8yaxvv",styles:"margin-top:16px;color:gray;font-style:italic"});function oCe(e){return gt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.957 4.34q.647 0 1.269.243.634.243 1.093.7.459.448.662 1l1.592 4.59 1.31-3.82Q9.84 4.26 11.92 4.26q.459 0 1.106.203.729.23 1.228.809.5.58.905 1.782l1.296 3.82 1.606-4.59q.189-.54.649-.998.472-.459 1.079-.703.608-.243 1.283-.243.62.04 1.241.338.783.378 1.228 1.106.459.73.459 1.66 0 .81-.364 1.54l-4.225 8.652q-1.025 2.106-3.037 2.106-.905-.04-1.634-.567-.728-.54-1.133-1.498L12 13.72l-1.606 3.955q-.243.634-.647 1.093-.406.447-.945.702-.54.257-1.134.27-1.013 0-1.755-.486-.742-.5-1.297-1.62L.392 8.983Q0 8.16 0 7.443q0-.89.46-1.632.459-.756 1.254-1.134.622-.297 1.243-.337Z"},child:[]}]})(e)}function iCe(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Youtube"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M19.437,19.937H4.562a2.5,2.5,0,0,1-2.5-2.5V6.563a2.5,2.5,0,0,1,2.5-2.5H19.437a2.5,2.5,0,0,1,2.5,2.5V17.437A2.5,2.5,0,0,1,19.437,19.937ZM4.562,5.063a1.5,1.5,0,0,0-1.5,1.5V17.437a1.5,1.5,0,0,0,1.5,1.5H19.437a1.5,1.5,0,0,0,1.5-1.5V6.563a1.5,1.5,0,0,0-1.5-1.5Z"},child:[]},{tag:"path",attr:{d:"M14.568,11.149,10.6,8.432a1.032,1.032,0,0,0-1.614.851v5.434a1.032,1.032,0,0,0,1.614.851l3.972-2.717A1.031,1.031,0,0,0,14.568,11.149Z"},child:[]}]}]}]})(e)}function aCe(e){return gt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"},child:[]}]})(e)}function sCe(e){return gt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(e)}const KZ=({url:e})=>{let t=A(oCe,{style:{height:12,width:12}});return(n=>!!n&&(n.includes("youtube.com")||n.includes("youtu.be")))(e)&&(t=A(iCe,{style:{height:14,width:14}})),(n=>!!n&&n.includes("livex.ai")&&n.includes("users/doccontent-public"))(e)&&(t=A(sCe,{style:{height:14,width:14}})),A(lCe,{children:t})},lCe=Ae("div",{target:"e1a7e6je5"})({name:"v27ep3",styles:"height:20px;width:20px;margin-right:5px;display:flex;align-items:center;justify-content:center"}),GZ=({score:e})=>e?le(cCe,{children:[Math.round(100*e),"%"]}):null,cCe=Ae("span",{target:"e1a7e6je4"})({name:"mr5c2h",styles:"margin-left:auto;padding-left:8px;font-size:0.9em;opacity:0.7"}),uCe=({references:e})=>{const{mutate:t}=Si(),n=Vt(),r=op(),o=n.primary_color,i=Hn(o),a=Object.values(e).filter(s=>s.url!=="").length;return A(dCe,{w:"100%",variant:"separated",radius:"md",styles:{label:{paddingTop:"4px",paddingBottom:"4px"},content:{padding:"var(--reference-list-padding, 5px)"}},style:{marginTop:"var(--reference-list-margin-top, -4px)"},children:le(di.Item,{value:"references",children:[A(di.Control,{children:`References (${a})`}),A(di.Panel,{children:A(hCe,{children:Object.values(e).map((s,l)=>s.url?le(pCe,{onClick:()=>(c=>{t({event_name:zt.LinkClick,link_clicked:c}),bf(r,c)})(s.url),hoverColor:o,hoverTextColor:i,children:[A(KZ,{url:s.url}),A(mCe,{children:s.name}),A(GZ,{score:s.score})]},`reference-${l}`):null)})})]})})},dCe=Ae(di,{target:"e1a7e6je3"})({name:"1oj851r",styles:"svg{width:calc(1em * var(--mantine-scale))!important;height:calc(1em * var(--mantine-scale))!important;}"}),hCe=Ae("div",{target:"e1a7e6je2"})({name:"165d9we",styles:"display:flex;flex-direction:column;width:100%;gap:4px"}),pCe=Ae("button",{target:"e1a7e6je1"})(({hoverColor:e,hoverTextColor:t})=>({display:"flex",alignItems:"center",width:"100%",padding:"2px 4px",borderRadius:"4px",color:"black",textAlign:"left",cursor:"pointer",border:"none",background:"transparent",whiteSpace:"nowrap",overflow:"hidden","&:hover":{background:e,color:t}}),""),mCe=Ae("span",{target:"e1a7e6je0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"});var fCe=Object.defineProperty,gCe=Object.defineProperties,vCe=Object.getOwnPropertyDescriptors,YZ=Object.getOwnPropertySymbols,bCe=Object.prototype.hasOwnProperty,yCe=Object.prototype.propertyIsEnumerable,QZ=(e,t,n)=>t in e?fCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const wCe=({message:e})=>{const{type:t,references:n}=e,r=G(z$);if(t==="user"||!n||bt(n)||!r)return null;const o={};return n.forEach(i=>{let a=i.url;const s=a.trim().split(`
`);s&&s.length>1&&(a=s[0]);const l=a===""?`${i.name}`:`${i.name}, ${a}`;o[l]||(i.name.length>50?i.name.substring(0,47):i.name,o[l]=((c,u)=>gCe(c,vCe(u)))(((c,u)=>{for(var d in u||(u={}))bCe.call(u,d)&&QZ(c,d,u[d]);if(YZ)for(var d of YZ(u))yCe.call(u,d)&&QZ(c,d,u[d]);return c})({},i),{url:a}))}),bt(o)?null:A(kCe,{children:A(uCe,{references:o})})},kCe=on.div`
  margin-top: 14px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  align-self: stretch;
  width: 100%;
  border-radius: 0.75em;
  font-size: 0.625em;
  font-style: normal;
  font-weight: 500;
`,_Ce=()=>le(xCe,{children:[le(CCe,{children:[A(ECe,{src:"data:image/svg+xml,%3csvg%20width='70'%20height='35'%20viewBox='0%200%2070%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_b_1_611)'%3e%3crect%20width='70'%20height='35'%20rx='17.5'%20fill='%23eee'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_b_1_611'%20x='-20'%20y='-20'%20width='110'%20height='75'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeGaussianBlur%20in='BackgroundImageFix'%20stdDeviation='10'/%3e%3cfeComposite%20in2='SourceAlpha'%20operator='in'%20result='effect1_backgroundBlur_1_611'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_backgroundBlur_1_611'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",alt:""}),A(OCe,{src:"data:image/svg+xml,%3csvg%20width='10'%20height='10'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='5'%20cy='5'%20r='5'%20fill='%23eee'/%3e%3c/svg%3e",alt:""}),A(ACe,{src:"data:image/svg+xml,%3csvg%20width='6'%20height='6'%20viewBox='0%200%206%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='3'%20cy='3'%20r='3'%20fill='%23eee'/%3e%3c/svg%3e",alt:""})]}),le(SCe,{children:[A(v6,{}),A(v6,{delay:"0.2s",left:"15px"}),A(v6,{delay:"0.3s",left:"30px"})]})]}),g6=bx`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,xCe=Ae("div",{target:"e1lrqwpz6"})({name:"1ihsvi5",styles:"display:flex;width:100%;column-gap:7px;position:relative"}),CCe=Ae("div",{target:"e1lrqwpz5"})({name:"1a2afmv",styles:"margin-left:10px"}),SCe=Ae("div",{target:"e1lrqwpz4"})({name:"1na6fkf",styles:"top:13px;left:22px;position:absolute"}),TCe=bx`
  0% {
    opacity: 0.1;
  }
  20% {
    opacity: 1;
  }
  100% {
    opacity: 0.1;
  }
`,v6=Ae("div",{target:"e1lrqwpz3"})("content:'';animation:",TCe," 1s ",e=>e.delay||"0s"," infinite;animation-fill-mode:both;height:8px;width:8px;background:#666;position:absolute;left:",e=>`calc(${e.left||"0px"} + 4px)`,";top:0;border-radius:50%;"),ECe=Ae("img",{target:"e1lrqwpz2"})("animation:",g6," 1s ease-in;"),OCe=Ae("img",{target:"e1lrqwpz1"})("animation:",g6," 1.1s ease-in;transform:translateY(-10px);"),ACe=Ae("img",{target:"e1lrqwpz0"})("animation:",g6," 1.2s ease-in;transform:translateY(-8px) translateX(-5px);");var PCe=Object.defineProperty,NCe=Object.defineProperties,ICe=Object.getOwnPropertyDescriptors,JZ=Object.getOwnPropertySymbols,RCe=Object.prototype.hasOwnProperty,MCe=Object.prototype.propertyIsEnumerable,XZ=(e,t,n)=>t in e?PCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const DCe=e=>{var t;const n=Pt(),r=n==null?void 0:n.config,{split_message_delimiter:o}=(t=r==null?void 0:r.custom_style)!=null?t:{},{message:i,isBot:a,isLastMessage:s}=e,l=x.useRef({}),c=x.useMemo(()=>{if(i==null||!i.text)return[];if(a){if(!o)return[i.text];const u=i.text.split(o);return u.length>0&&(l.current[0]=Date.now()),u}return[i.text.trim().replace(/\n{2,}/g,`
`)]},[i.text,o,a]);return i.type==="loading"?A(_Ce,{}):le(LCe,{ref:a&&s?Fe.lastBotMessageRef:null,id:s?"last-message-body":"",children:[A(Pi,{gap:"sm",children:c.map((u,d)=>{const p=((h,m)=>NCe(h,ICe(m)))(((h,m)=>{for(var g in m||(m={}))RCe.call(m,g)&&XZ(h,g,m[g]);if(JZ)for(var g of JZ(m))MCe.call(m,g)&&XZ(h,g,m[g]);return h})({},i),{text:u});return A(tCe,{index:d,timeRef:l,message:p,isBot:a,isLastMessage:s},d)})}),A(wCe,{message:i})]})},LCe=Ae("div",{target:"et7gqdw0"})({name:"z9y1wb",styles:"user-select:text;display:flex;flex-direction:column;justify-content:flex-start;max-width:100%"});var jCe=Object.defineProperty,zCe=Object.defineProperties,FCe=Object.getOwnPropertyDescriptors,ZZ=Object.getOwnPropertySymbols,BCe=Object.prototype.hasOwnProperty,UCe=Object.prototype.propertyIsEnumerable,eee=(e,t,n)=>t in e?jCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tee=(e,t)=>{for(var n in t||(t={}))BCe.call(t,n)&&eee(e,n,t[n]);if(ZZ)for(var n of ZZ(t))UCe.call(t,n)&&eee(e,n,t[n]);return e},nee=(e,t)=>zCe(e,FCe(t));const HCe=()=>{const e=dt(),t=er(),n=G(wt),r=G(jy);return or({mutationFn:o=>{var i,a,s;const l=o.id,c=K$(r,l)||"",u=o.text;return(async d=>{var p;const{agentId:h,conversationId:m,messageId:g,like:f,dislike:v,feedback:y,question:b,response:w}=d;if(!h||!m||g==null||g===void 0)throw new Error("Invalid request. agentId, conversationId or messageId is required.");const k=`${Mt.gatewayHost}/api/v1/chat-feedback/agents/${h}/conversations/${m}/messages/${g}`,_=await xt.post(k,{like:f,dislike:v,feedback:y,question:b,response:w});if((p=_==null?void 0:_.data)==null||!p.response)throw new Error("Error sending feedback");return _.data})({agentId:t,conversationId:n,messageId:l,like:!((i=o.feedback)==null||!i.like),dislike:!((a=o.feedback)==null||!a.dislike),feedback:(s=o.feedback)==null?void 0:s.note,question:c,response:u})},onMutate:o=>{e(Un(nee(tee({},o),{doNotScrollToBottom:!0})))},onError:(o,i)=>{e(Un(nee(tee({},i),{feedback:void 0,doNotScrollToBottom:!0})))}})};var $Ce=Object.defineProperty,VCe=Object.defineProperties,qCe=Object.getOwnPropertyDescriptors,ree=Object.getOwnPropertySymbols,WCe=Object.prototype.hasOwnProperty,KCe=Object.prototype.propertyIsEnumerable,oee=(e,t,n)=>t in e?$Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iee=(e,t)=>{for(var n in t||(t={}))WCe.call(t,n)&&oee(e,n,t[n]);if(ree)for(var n of ree(t))KCe.call(t,n)&&oee(e,n,t[n]);return e},aee=(e,t)=>VCe(e,qCe(t));const GCe=()=>{const e=dt(),t=er(),n=G(wt),r=G(jy);return or({mutationFn:o=>{const i=o.id,a=K$(r,i)||"";return(async s=>{var l;const{agentId:c,conversationId:u,messageId:d,saveToUnansweredQuestion:p,question:h}=s;if(!c||!u||d==null||d===void 0)throw new Error("Invalid request. agentId, conversationId or messageId is required.");const m=`${Mt.gatewayHost}/api/v1/unanswered_questions_store/agents/${c}/conversations/${u}/messages/${d}`,g=await xt.post(m,{save_to_unanswered_question:p,question:h});if((l=g==null?void 0:g.data)==null||!l.response)throw new Error("Error saving to unanswered question");return g.data})({agentId:t,conversationId:n,messageId:i,saveToUnansweredQuestion:!!o.save_to_unanswered_question,question:a})},onMutate:o=>{const i=!!o.save_to_unanswered_question;return e(Un(aee(iee({},o),{save_to_unanswered_question:i,doNotScrollToBottom:!0}))),{saveToUnansweredQuestion:i}},onError:(o,i,a)=>{e(Un(aee(iee({},i),{save_to_unanswered_question:!(a!=null&&a.saveToUnansweredQuestion),doNotScrollToBottom:!0})))}})};var YCe=Object.defineProperty,QCe=Object.defineProperties,JCe=Object.getOwnPropertyDescriptors,see=Object.getOwnPropertySymbols,XCe=Object.prototype.hasOwnProperty,ZCe=Object.prototype.propertyIsEnumerable,lee=(e,t,n)=>t in e?YCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b6=(e,t)=>{for(var n in t||(t={}))XCe.call(t,n)&&lee(e,n,t[n]);if(see)for(var n of see(t))ZCe.call(t,n)&&lee(e,n,t[n]);return e},y6=(e,t)=>QCe(e,JCe(t));const eSe=[{key:"want_something_more",label:"Want something more"},{key:"bad_style_tone",label:"Bad style/tone"},{key:"incorrect_answer",label:"Incorrect answer"},{key:"incomplete_answer",label:"Incomplete answer"}],tSe=({message:e})=>{var t,n,r,o;const{t:i}=jr(),a=qh(10),s=dr(),{primary_color:l,placeholder_color:c}=Vt(),u=String((t=e.id)!=null?t:""),{mutateAsync:d}=HCe(),{mutateAsync:p,isPending:h}=GCe(),m=Su(),g=My(),f=!!e.live_chat_message_id&&g,[v,y]=x.useState(!1),[b,w]=x.useState(""),[k,_]=x.useState(!1),[E,S]=x.useState(void 0),O=e.done,T=(n=e.feedback)==null?void 0:n.note,M=(r=e.feedback)==null?void 0:r.like,D=(o=e.feedback)==null?void 0:o.dislike,H=!!e.save_to_unanswered_question,$=s==null?void 0:s.show_save_to_unanswered_question_button,R=s==null?void 0:s.use_ask_feedback;if(!u||f||!R&&!$||!O)return null;const U=async(B,L)=>{if(y(!1),B==="neutral"){_(!0),S(void 0),w("");const N=y6(b6({},e),{feedback:void 0});try{await d(N)}catch{}finally{_(!1)}return}const C={like:B==="like",dislike:B==="dislike"};T&&(C.note=T),L&&(C.note=L),B==="like"&&(C.note="");const V=y6(b6({},e),{feedback:C});try{await d(V)}catch{}};return le(fr,{opened:v,onClose:()=>y(!1),position:"top-end",withArrow:!0,trapFocus:!0,styles:{dropdown:{zIndex:a}},children:[A(fr.Target,{children:le(ir,{align:"baseline",style:{gap:"var(--feedback-button-gap, 8px)"},children:[R&&le(Yn,{children:[A(hi,{label:i("good_response"),position:"top-start",children:A(Zt,{size:"sm",variant:"subtle",color:M?"var(--feedback-button-selected-color, var(--primary-color, #3D5AFE))":c,disabled:m||k,onClick:()=>{U(M?"neutral":"like")},style:{width:"var(--feedback-button-size, 18px)",height:"var(--feedback-button-size, 18px)"},children:M?A(v0e,{size:40}):A(b0e,{})})}),le(Ht,{position:"top-end",shadow:"md",styles:{dropdown:{zIndex:a}},children:[A(Ht.Target,{children:A(hi,{label:i("bad_response"),position:"top-start",children:A(Zt,{size:"sm",variant:"subtle",color:D?"var(--feedback-button-selected-color, var(--primary-color, #3D5AFE))":c,disabled:m||k,onClickCapture:B=>{if(D)return B.preventDefault(),B.stopPropagation(),void U("neutral")},style:{width:"var(--feedback-button-size, 18px)",height:"var(--feedback-button-size, 18px)"},children:A(D?f0e:g0e,{})})})}),A(Ht.Dropdown,{children:eSe.map(B=>{const L=!!T&&T.startsWith(B.label),C=L?T.slice(B.label.length).replace(/^:\s*/,""):"";return le(Ht.Item,{onClick:()=>{(V=>{if(S(V),T&&T.startsWith(V)){const N=T.slice(V.length).replace(/^:\s*/,"");w(N)}else w("");y(!0)})(B.label)},rightSection:L?A(mH,{size:16}):null,color:L?l:void 0,style:{display:"flex",alignItems:C?"flex-start":"center",height:"40px",backgroundColor:L?"var(--menu-item-hover-color, rgba(219, 228, 255, 1))":void 0},children:[i(B.key),C&&A(kn,{size:"xs",c:"dimmed",style:{marginTop:"4px",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px"},title:T,children:C})]},B.key)})})]})]}),$&&A(hi,{label:i("unanswered_question"),position:"top-start",children:A(Zt,{size:"sm",variant:"subtle",color:H?"var(--feedback-button-selected-color, var(--primary-color, #3D5AFE))":c,onClick:async()=>{const B=y6(b6({},e),{save_to_unanswered_question:!H});await p(B)},disabled:h||m,style:{width:"var(--feedback-button-size, 18px)",height:"var(--feedback-button-size, 18px)"},children:A(H?Uye:Hye,{})})})]})}),le(fr.Dropdown,{style:{width:"300px",padding:"12px",borderRadius:"8px"},children:[A(Hb,{placeholder:i("tell_us_what_went_wrong"),value:b,onChange:B=>w(B.target.value),autoFocus:!0,autosize:!0,minRows:3,maxRows:3,style:{fontSize:"var(--dislike-reason-font-size, 14px)"}}),le(ir,{justify:"flex-end",mt:"md",children:[A(An,{variant:"subtle",onClick:()=>y(!1),color:l,children:i("cancel")}),A(An,{onClick:()=>{const B=b.trim(),L=E||"";U("dislike",B?L?`${L}: ${B}`:B:L),w(""),y(!1)},color:l,children:i("submit")})]})]})]})};var nSe=Object.defineProperty,rSe=Object.defineProperties,oSe=Object.getOwnPropertyDescriptors,t5=Object.getOwnPropertySymbols,cee=Object.prototype.hasOwnProperty,uee=Object.prototype.propertyIsEnumerable,dee=(e,t,n)=>t in e?nSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const iSe=e=>{var t,n,r,o;const i=Pt(),a=(n=(t=i==null?void 0:i.config)==null?void 0:t.custom_style)==null?void 0:n.show_message_timestamp,s=e,{isBot:l}=s,c=((m,g)=>{var f={};for(var v in m)cee.call(m,v)&&g.indexOf(v)<0&&(f[v]=m[v]);if(m!=null&&t5)for(var v of t5(m))g.indexOf(v)<0&&uee.call(m,v)&&(f[v]=m[v]);return f})(s,["isBot"]),u=c.message,d=u.timestamp?new Date(u.timestamp).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):"",p=u.type==="agent";if(!l)return null;let h=(o=(r=i==null?void 0:i.config)==null?void 0:r.chatbot_description)!=null?o:"Bot";return p&&(h=u.sender||"Agent"),le(Fn,((m,g)=>rSe(m,oSe(g)))(((m,g)=>{for(var f in g||(g={}))cee.call(g,f)&&dee(m,f,g[f]);if(t5)for(var f of t5(g))uee.call(g,f)&&dee(m,f,g[f]);return m})({},c),{style:{width:"100%",flexDirection:l?"row":"row-reverse",alignItems:"baseline",justifyContent:"space-between",marginTop:6},children:[le(Fn,{align:"baseline",gap:"0.25em",children:[l&&A(aSe,{children:h}),a&&A(sSe,{children:d})]}),A(tSe,{message:u})]}))},aSe=Ae("div",{target:"ex0w4641"})({name:"93g6tc",styles:"font-size:var(--message-desc-text-font-size, 8px);font-style:normal;font-weight:400;line-height:var(--message-desc-text-line-height, 8px);margin:0.25em;color:var(--message-desc-text-color, rgba(134, 142, 150, 1))"}),sSe=Ae("span",{target:"ex0w4640"})({name:"sfyg6x",styles:"font-size:var(--message-desc-text-font-size, 8px);font-style:normal;font-weight:400;line-height:var(--message-desc-text-line-height, 8px);color:var(--message-desc-text-color, rgba(134, 142, 150, 1))"}),lSe=e=>["useFetchSvg",e],cSe=e=>oh({queryKey:lSe(e),queryFn:()=>(async t=>(await fetch(t)).text())(e)}),n5=x.memo(({url:e,size:t=32})=>{const{data:n,isFetched:r,isError:o}=cSe(e),i=x.useMemo(()=>{if(!n)return"";const a=n.trim().match(/<svg[\s\S]*?<\/svg>/i);return a?(s=>{try{const l=new DOMParser().parseFromString(s,"image/svg+xml"),c=l.documentElement;if(!c||c.nodeName.toLowerCase()!=="svg")return"";c.querySelectorAll("script, foreignObject").forEach(h=>h.remove());const u=l.createTreeWalker(c,NodeFilter.SHOW_ELEMENT),d=[];for(;u.nextNode();)d.push(u.currentNode);const p=h=>/^(?:javascript:|data:|vbscript:)/i.test(h.trim());return d.forEach(h=>{Array.from(h.attributes).forEach(m=>{const g=m.name.toLowerCase(),f=m.value||"";g.startsWith("on")?h.removeAttribute(m.name):g!=="href"&&g!=="xlink:href"||!p(f)?(g==="style"||g==="fill"||g==="stroke"||g==="filter"||g==="mask"||g==="clip-path")&&/url\s*\(/i.test(f)&&h.removeAttribute(m.name):h.removeAttribute(m.name)})}),new XMLSerializer().serializeToString(c)}catch{return ne.log("SVG sanitization error occurred"),""}})(a[0]):(ne.log("No SVG found in the fetched SVG"),"")},[n]);return A(uSe,{style:{height:t,width:t},className:`svgInline svgInline--${r?"loaded":"loading"} ${o?"svgInline--errored":""}`,dangerouslySetInnerHTML:{__html:i??""}})}),uSe=Ae("div",{target:"e4aetqu0"})(()=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%","& svg":{height:"100%",width:"100%"},"&.svgInline--loaded":{"& svg":{display:"block"}},"&.svgInline--loading":{"& svg":{display:"none"}},"&.svgInline--errored":{"& svg":{display:"none"}}}),""),dSe=({message:e})=>{var t;const n=e.type==="agent",r=Vt(),o=J9(),i=(t=o==null?void 0:o.custom_style)==null?void 0:t.hide_bot_message_avatar,a=DL(o==null?void 0:o.custom_style,["chatbot_icon_size"]),s=Hn(r.primary_color);let l=A(n0e,{style:{color:s}});const c=e.type!=="user",u={background:c||n?r.primary_color:"transparent",position:"relative"};if(!n){if(!c||i)return null;const d=(o==null?void 0:o.chatbot_icon)||(o==null?void 0:o.chatbot_button_icon)||"";if(d){const p=(a==null?void 0:a.chatbot_icon_size)||22,h=d.endsWith(".svg"),m=`var(--avatar-logo-container-border-width, 1.5px) solid var(--avatar-logo-container-border-color, ${r.primary_color})`;u.border=m,l=h?A(n5,{url:d,size:p}):A("img",{src:d,style:{position:"absolute",objectFit:"cover",width:"100%",height:"100%",borderRadius:"100%"}})}else l=A(n5,{url:"data:image/svg+xml,%3csvg%20width='20'%20height='24'%20viewBox='0%200%2020%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.2495%2014.6655C3.15197%2016.1141%201.00034%2019.3008%201.00034%2023H19C19%2019.3008%2016.8484%2016.1141%2013.7508%2014.6655M2.80051%208.33333C2.80051%204.28319%206.02401%201%2010.0005%201C13.977%201%2017.2005%204.28319%2017.2005%208.33333M15.2493%208.33333H17.2002C18.1941%208.33333%2019%209.15413%2019%2010.1668C19%2011.1796%2018.1941%2012%2017.2002%2012H15.4M10.0002%2012H2.80017C1.80587%2012%201%2011.1792%201%2010.1668C1%209.15448%201.80587%208.33333%202.80017%208.33333H4.75102M15.6251%2010.3958C15.6251%2013.5598%2013.1066%2016.125%2010.0002%2016.125C6.89372%2016.125%204.37519%2013.5601%204.37519%2010.3958C4.37519%207.23148%206.89372%204.66667%2010.0002%204.66667C13.1066%204.66667%2015.6251%207.23148%2015.6251%2010.3958Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",size:24})}return A(hSe,{style:u,className:"shadow-md",children:l})},hSe=Ae("div",{target:"ezzj5iu0"})({name:"1e99qty",styles:"display:flex;align-items:center;justify-content:center;flex-shrink:0;width:2.5em;height:2.5em;padding:0.25em;margin-bottom:24px;border-radius:50%;overflow:hidden"}),pSe=e=>{const{mutate:t}=Si(),{item:n}=e,{title:r,body:o,badge_title:i,badge_color:a,button_title:s="Click To Open",image_url:l,url:c}=n;let u="ml-auto text-white px-2 py-1 rounded-full text-xs";switch(a){case"pink":u+=" bg-pink-500";break;case"red":u+=" bg-red-500";break;case"blue":u+=" bg-blue-500"}return A("div",{className:"shadow-sm rounded-lg border max-w-[900px] overflow-hidden bg-white",children:le("div",{className:"flex flex-wrap",children:[l&&A("div",{className:"w-full md:w-1/3",children:A("img",{src:l,className:"w-full h-full object-cover"})}),le("div",{className:`w-full ${l?"md:w-2/3":"md:w-full"} p-4 flex flex-col justify-between`,children:[le("div",{children:[le("div",{className:"flex items-center mb-2 flex-wrap gap-x-4",children:[A("span",{className:"font-medium",children:r}),i&&A("span",{className:u,children:i})]}),A("p",{className:"text-sm text-gray-500",children:o})]}),c&&A("button",{className:"w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-sm",onClick:()=>{t({event_name:zt.PromotionItemLinkClick,link_clicked:c}),window.open(c,"_blank")},children:s})]})]})})},mSe=()=>{var e;const t=Pt(),n=(e=t==null?void 0:t.config)==null?void 0:e.promotion_items;return A("div",{className:"flex flex-col gap-4 ",children:n==null?void 0:n.map((r,o)=>A(pSe,{item:r},o))})};function hee(e){return function(t){return Object.prototype.toString.call(t)==="[object Object]"}(e)||Array.isArray(e)}function w6(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every(o=>{const i=e[o],a=t[o];return typeof i=="function"?`${i}`==`${a}`:hee(i)&&hee(a)?w6(i,a):i===a})}function pee(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function k6(e){return typeof e=="number"}function _6(e){return typeof e=="string"}function r5(e){return typeof e=="boolean"}function mee(e){return Object.prototype.toString.call(e)==="[object Object]"}function $n(e){return Math.abs(e)}function x6(e){return Math.sign(e)}function Uf(e,t){return $n(e-t)}function Hf(e){return Vf(e).map(Number)}function pa(e){return e[$f(e)]}function $f(e){return Math.max(0,e.length-1)}function C6(e,t){return t===$f(e)}function fee(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Vf(e){return Object.keys(e)}function gee(e,t){return[e,t].reduce((n,r)=>(Vf(r).forEach(o=>{const i=n[o],a=r[o],s=mee(i)&&mee(a);n[o]=s?gee(i,a):a}),n),{})}function S6(e,t){return t.MouseEvent!==void 0&&e instanceof t.MouseEvent}function qf(){let e=[];const t={add:function(n,r,o,i={passive:!0}){let a;if("addEventListener"in n)n.addEventListener(r,o,i),a=()=>n.removeEventListener(r,o,i);else{const s=n;s.addListener(o),a=()=>s.removeListener(o)}return e.push(a),t},clear:function(){e=e.filter(n=>n())}};return t}function fSe(e,t,n,r){const o=qf(),i=1e3/60;let a=null,s=0,l=0;function c(d){if(!l)return;a||(a=d,n(),n());const p=d-a;for(a=d,s+=p;s>=i;)n(),s-=i;r(s/i),l&&(l=t.requestAnimationFrame(c))}function u(){t.cancelAnimationFrame(l),a=null,s=0,l=0}return{init:function(){o.add(e,"visibilitychange",()=>{e.hidden&&(a=null,s=0)})},destroy:function(){u(),o.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:u,update:n,render:r}}function Vu(e=0,t=0){const n=$n(e-t);function r(a){return a<e}function o(a){return a>t}function i(a){return r(a)||o(a)}return{length:n,max:t,min:e,constrain:function(a){return i(a)?r(a)?e:t:a},reachedAny:i,reachedMax:o,reachedMin:r,removeOffset:function(a){return n?a-n*Math.ceil((a-t)/n):a}}}function vee(e,t,n){const{constrain:r}=Vu(0,e),o=e+1;let i=a(t);function a(u){return n?$n((o+u)%o):r(u)}function s(){return i}function l(){return vee(e,s(),n)}const c={get:s,set:function(u){return i=a(u),c},add:function(u){return l().set(s()+u)},clone:l};return c}function gSe(e,t,n,r,o,i,a,s,l,c,u,d,p,h,m,g,f,v,y){const{cross:b,direction:w}=e,k=["INPUT","SELECT","TEXTAREA"],_={passive:!1},E=qf(),S=qf(),O=Vu(50,225).constrain(h.measure(20)),T={mouse:300,touch:400},M={mouse:500,touch:600},D=m?43:25;let H=!1,$=0,R=0,U=!1,B=!1,L=!1,C=!1;function V(J){if(!S6(J,r)&&J.touches.length>=2)return N(J);const Q=i.readPoint(J),te=i.readPoint(J,b),X=Uf(Q,$),ee=Uf(te,R);if(!(B||C||J.cancelable&&(B=X>ee,B)))return N(J);const ue=i.pointerMove(J);X>g&&(L=!0),c.useFriction(.3).useDuration(.75),s.start(),o.add(w(ue)),J.preventDefault()}function N(J){const Q=u.byDistance(0,!1).index!==d.get(),te=i.pointerUp(J)*(m?M:T)[C?"mouse":"touch"],X=function(ge,he){const Ce=d.add(-1*x6(ge)),be=u.byDistance(ge,!m).distance;return m||$n(ge)<O?be:f&&he?.5*be:u.byIndex(Ce.get(),0).distance}(w(te),Q),ee=function(ge,he){if(ge===0||he===0||$n(ge)<=$n(he))return 0;const Ce=Uf($n(ge),$n(he));return $n(Ce/ge)}(te,X),ue=D-10*ee,de=v+ee/50;B=!1,U=!1,S.clear(),c.useDuration(ue).useFriction(de),l.distance(X,!m),C=!1,p.emit("pointerUp")}function q(J){L&&(J.stopPropagation(),J.preventDefault(),L=!1)}return{init:function(J){if(!y)return;function Q(X){(r5(y)||y(J,X))&&function(ee){const ue=S6(ee,r);C=ue,L=m&&ue&&!ee.buttons&&H,H=Uf(o.get(),a.get())>=2,(!ue||ee.button===0)&&(function(de){const ge=de.nodeName||"";return k.includes(ge)}(ee.target)||(U=!0,i.pointerDown(ee),c.useFriction(0).useDuration(0),o.set(a),function(){const de=C?n:t;S.add(de,"touchmove",V,_).add(de,"touchend",N).add(de,"mousemove",V,_).add(de,"mouseup",N)}(),$=i.readPoint(ee),R=i.readPoint(ee,b),p.emit("pointerDown")))}(X)}const te=t;E.add(te,"dragstart",X=>X.preventDefault(),_).add(te,"touchmove",()=>{},_).add(te,"touchend",()=>{}).add(te,"touchstart",Q).add(te,"mousedown",Q).add(te,"touchcancel",N).add(te,"contextmenu",N).add(te,"click",q,!0)},destroy:function(){E.clear(),S.clear()},pointerDown:function(){return U}}}function vSe(e,t){let n,r;function o(a){return a.timeStamp}function i(a,s){const l="client"+((s||e.scroll)==="x"?"X":"Y");return(S6(a,t)?a:a.touches[0])[l]}return{pointerDown:function(a){return n=a,r=a,i(a)},pointerMove:function(a){const s=i(a)-i(r),l=o(a)-o(n)>170;return r=a,l&&(n=a),s},pointerUp:function(a){if(!n||!r)return 0;const s=i(r)-i(n),l=o(a)-o(n),c=o(a)-o(r)>170,u=s/l;return l&&!c&&$n(u)>.1?u:0},readPoint:i}}function bSe(e,t,n,r,o,i,a){const s=[e].concat(r);let l,c,u=[],d=!1;function p(h){return o.measureSize(a.measure(h))}return{init:function(h){i&&(c=p(e),u=r.map(p),l=new ResizeObserver(m=>{(r5(i)||i(h,m))&&function(g){for(const f of g){if(d)return;const v=f.target===e,y=r.indexOf(f.target),b=v?c:u[y];if($n(p(v?e:r[y])-b)>=.5){h.reInit(),t.emit("resize");break}}}(m)}),n.requestAnimationFrame(()=>{s.forEach(m=>l.observe(m))}))},destroy:function(){d=!0,l&&l.disconnect()}}}function ySe(e,t,n,r,o){const i=o.measure(10),a=o.measure(50),s=Vu(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(u){if(!c())return;const d=e.reachedMin(t.get())?"min":"max",p=$n(e[d]-t.get()),h=n.get()-t.get(),m=s.constrain(p/a);n.subtract(h*m),!u&&$n(h)<i&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(u){l=!u}}}function wSe(e,t,n,r){const o=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:s}=Vu(o,i);return{loop:function(l){if(!function(u){return u===1?s(n.get()):u===-1&&a(n.get())}(l))return;const c=e*(-1*l);r.forEach(u=>u.add(c))}}}function kSe(e,t,n,r,o){const{reachedAny:i,removeOffset:a,constrain:s}=r;function l(u){return u.concat().sort((d,p)=>$n(d)-$n(p))[0]}function c(u,d){const p=[u,u+n,u-n];if(!e)return u;if(!d)return l(p);const h=p.filter(m=>x6(m)===d);return h.length?l(h):pa(p)-n}return{byDistance:function(u,d){const p=o.get()+u,{index:h,distance:m}=function(f){const v=e?a(f):s(f),y=t.map((w,k)=>({diff:c(w-v,0),index:k})).sort((w,k)=>$n(w.diff)-$n(k.diff)),{index:b}=y[0];return{index:b,distance:v}}(p),g=!e&&i(p);return!d||g?{index:h,distance:u}:{index:h,distance:u+c(t[h]-m,0)}},byIndex:function(u,d){return{index:u,distance:c(t[u]-o.get(),d)}},shortcut:c}}function _Se(e,t,n,r,o,i,a,s){const l={passive:!0,capture:!0};let c=0;function u(d){d.code==="Tab"&&(c=new Date().getTime())}return{init:function(d){s&&(i.add(document,"keydown",u,!1),t.forEach((p,h)=>{i.add(p,"focus",m=>{(r5(s)||s(d,m))&&function(g){if(new Date().getTime()-c>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const f=n.findIndex(v=>v.includes(g));k6(f)&&(o.useDuration(0),r.index(f,0),a.emit("slideFocus"))}(h)},l)}))}}}function Wf(e){let t=e;function n(r){return k6(r)?r:r.get()}return{get:function(){return t},set:function(r){t=n(r)},add:function(r){t+=n(r)},subtract:function(r){t-=n(r)}}}function bee(e,t){const n=e.scroll==="x"?function(a){return`translate3d(${a}px,0px,0px)`}:function(a){return`translate3d(0px,${a}px,0px)`},r=t.style;let o=null,i=!1;return{clear:function(){i||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(a){if(i)return;const s=function(l){return Math.round(100*l)/100}(e.direction(a));s!==o&&(r.transform=n(s),o=s)},toggleActive:function(a){i=!a}}}function xSe(e,t,n,r,o,i,a,s,l){const c=Hf(o),u=Hf(o).reverse(),d=function(){const g=a[0],f=h(u,g);return m(f,n,!1)}().concat(function(){const g=t-a[0]-1,f=h(c,g);return m(f,-n,!0)}());function p(g,f){return g.reduce((v,y)=>v-o[y],f)}function h(g,f){return g.reduce((v,y)=>p(v,f)>0?v.concat([y]):v,[])}function m(g,f,v){const y=function(b){return i.map((w,k)=>({start:w-r[k]+.5+b,end:w+t-.5+b}))}(f);return g.map(b=>{const w=v?0:-n,k=v?n:0,_=v?"end":"start",E=y[b][_];return{index:b,loopPoint:E,slideLocation:Wf(-1),translate:bee(e,l[b]),target:()=>s.get()>E?w:k}})}return{canLoop:function(){return d.every(({index:g})=>{const f=c.filter(v=>v!==g);return p(f,t)<=.1})},clear:function(){d.forEach(g=>g.translate.clear())},loop:function(){d.forEach(g=>{const{target:f,translate:v,slideLocation:y}=g,b=f();b!==y.get()&&(v.to(b),y.set(b))})},loopPoints:d}}function CSe(e,t,n){let r,o=!1;return{init:function(i){n&&(r=new MutationObserver(a=>{o||(r5(n)||n(i,a))&&function(s){for(const l of s)if(l.type==="childList"){i.reInit(),t.emit("slidesChanged");break}}(a)}),r.observe(e,{childList:!0}))},destroy:function(){r&&r.disconnect(),o=!0}}}function SSe(e,t,n,r){const o={};let i,a=null,s=null,l=!1;return{init:function(){i=new IntersectionObserver(c=>{l||(c.forEach(u=>{const d=t.indexOf(u.target);o[d]=u}),a=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(c=>i.observe(c))},destroy:function(){i&&i.disconnect(),l=!0},get:function(c=!0){if(c&&a)return a;if(!c&&s)return s;const u=function(d){return Vf(o).reduce((p,h)=>{const m=parseInt(h),{isIntersecting:g}=o[m];return(d&&g||!d&&!g)&&p.push(m),p},[])}(c);return c&&(a=u),c||(s=u),u}}}function TSe(e,t,n,r,o,i,a,s,l){const{startEdge:c,endEdge:u,direction:d}=e,p=k6(n);return{groupSlides:function(h){return p?function(m,g){return Hf(m).filter(f=>f%g===0).map(f=>m.slice(f,f+g))}(h,n):function(m){return m.length?Hf(m).reduce((g,f,v)=>{const y=pa(g)||0,b=y===0,w=f===$f(m),k=o[c]-i[y][c],_=o[c]-i[f][u],E=!r&&b?d(a):0,S=$n(_-(!r&&w?d(s):0)-(k+E));return v&&S>t+l&&g.push(f),w&&g.push(m.length),g},[]).map((g,f,v)=>{const y=Math.max(v[f-1]||0);return m.slice(y,g)}):[]}(h)}}}function ESe(e,t,n,r,o,i,a){const{align:s,axis:l,direction:c,startIndex:u,loop:d,duration:p,dragFree:h,dragThreshold:m,inViewThreshold:g,slidesToScroll:f,skipSnaps:v,containScroll:y,watchResize:b,watchSlides:w,watchDrag:k,watchFocus:_}=i,E={measure:function(He){const{offsetTop:Ue,offsetLeft:Ve,offsetWidth:ce,offsetHeight:re}=He;return{top:Ue,right:Ve+ce,bottom:Ue+re,left:Ve,width:ce,height:re}}},S=E.measure(t),O=n.map(E.measure),T=function(He,Ue){const Ve=Ue==="rtl",ce=He==="y",re=!ce&&Ve?-1:1;return{scroll:ce?"y":"x",cross:ce?"x":"y",startEdge:ce?"top":Ve?"right":"left",endEdge:ce?"bottom":Ve?"left":"right",measureSize:function(fe){const{height:ve,width:De}=fe;return ce?ve:De},direction:function(fe){return fe*re}}}(l,c),M=T.measureSize(S),D=function(He){return{measure:function(Ue){return He*(Ue/100)}}}(M),H=function(He,Ue){const Ve={start:function(){return 0},center:function(re){return ce(re)/2},end:ce};function ce(re){return Ue-re}return{measure:function(re,fe){return _6(He)?Ve[He](re):He(Ue,re,fe)}}}(s,M),$=!d&&!!y,R=d||!!y,{slideSizes:U,slideSizesWithGaps:B,startGap:L,endGap:C}=function(He,Ue,Ve,ce,re,fe){const{measureSize:ve,startEdge:De,endEdge:Xe}=He,ht=Ve[0]&&re,nt=function(){if(!ht)return 0;const qe=Ve[0];return $n(Ue[De]-qe[De])}(),Ze=function(){if(!ht)return 0;const qe=fe.getComputedStyle(pa(ce));return parseFloat(qe.getPropertyValue(`margin-${Xe}`))}(),vt=Ve.map(ve),lt=Ve.map((qe,ot,yt)=>{const gn=!ot,$t=C6(yt,ot);return gn?vt[ot]+nt:$t?vt[ot]+Ze:yt[ot+1][De]-qe[De]}).map($n);return{slideSizes:vt,slideSizesWithGaps:lt,startGap:nt,endGap:Ze}}(T,S,O,n,R,o),V=TSe(T,M,f,d,S,O,L,C,2),{snaps:N,snapsAligned:q}=function(He,Ue,Ve,ce,re){const{startEdge:fe,endEdge:ve}=He,{groupSlides:De}=re,Xe=De(ce).map(Ze=>pa(Ze)[ve]-Ze[0][fe]).map($n).map(Ue.measure),ht=ce.map(Ze=>Ve[fe]-Ze[fe]).map(Ze=>-$n(Ze)),nt=De(ht).map(Ze=>Ze[0]).map((Ze,vt)=>Ze+Xe[vt]);return{snaps:ht,snapsAligned:nt}}(T,H,S,O,V),J=-pa(N)+pa(B),{snapsContained:Q,scrollContainLimit:te}=function(He,Ue,Ve,ce,re){const fe=Vu(-Ue+He,0),ve=Ve.map((nt,Ze)=>{const{min:vt,max:lt}=fe,qe=fe.constrain(nt),ot=!Ze,yt=C6(Ve,Ze);return ot?lt:yt||ht(vt,qe)?vt:ht(lt,qe)?lt:qe}).map(nt=>parseFloat(nt.toFixed(3))),De=function(){const nt=ve[0],Ze=pa(ve);return Vu(ve.lastIndexOf(nt),ve.indexOf(Ze)+1)}(),Xe=function(){if(Ue<=He+re)return[fe.max];if(ce==="keepSnaps")return ve;const{min:nt,max:Ze}=De;return ve.slice(nt,Ze)}();function ht(nt,Ze){return Uf(nt,Ze)<=1}return{snapsContained:Xe,scrollContainLimit:De}}(M,J,q,y,2),X=$?Q:q,{limit:ee}=function(He,Ue,Ve){const ce=Ue[0];return{limit:Vu(Ve?ce-He:pa(Ue),ce)}}(J,X,d),ue=vee($f(X),u,d),de=ue.clone(),ge=Hf(n),he=fSe(r,o,()=>(({dragHandler:He,scrollBody:Ue,scrollBounds:Ve,options:{loop:ce}})=>{ce||Ve.constrain(He.pointerDown()),Ue.seek()})(Me),He=>(({scrollBody:Ue,translate:Ve,location:ce,offsetLocation:re,previousLocation:fe,scrollLooper:ve,slideLooper:De,dragHandler:Xe,animation:ht,eventHandler:nt,scrollBounds:Ze,options:{loop:vt}},lt)=>{const qe=Ue.settled(),ot=!Ze.shouldConstrain(),yt=vt?qe:qe&&ot,gn=yt&&!Xe.pointerDown();gn&&ht.stop();const $t=ce.get()*lt+fe.get()*(1-lt);re.set($t),vt&&(ve.loop(Ue.direction()),De.loop()),Ve.to(re.get()),gn&&nt.emit("settle"),yt||nt.emit("scroll")})(Me,He)),Ce=X[ue.get()],be=Wf(Ce),me=Wf(Ce),pe=Wf(Ce),Ie=Wf(Ce),xe=function(He,Ue,Ve,ce,re,fe){let ve=0,De=0,Xe=re,ht=fe,nt=He.get(),Ze=0;function vt(ot){return Xe=ot,qe}function lt(ot){return ht=ot,qe}const qe={direction:function(){return De},duration:function(){return Xe},velocity:function(){return ve},seek:function(){const ot=ce.get()-He.get();let yt=0;return Xe?(Ve.set(He),ve+=ot/Xe,ve*=ht,nt+=ve,He.add(ve),yt=nt-Ze):(ve=0,Ve.set(ce),He.set(ce),yt=ot),De=x6(yt),Ze=nt,qe},settled:function(){return $n(ce.get()-Ue.get())<.001},useBaseFriction:function(){return lt(fe)},useBaseDuration:function(){return vt(re)},useFriction:lt,useDuration:vt};return qe}(be,pe,me,Ie,p,.68),Ee=kSe(d,X,J,ee,Ie),Re=function(He,Ue,Ve,ce,re,fe,ve){function De(Xe){const ht=Xe.distance,nt=Xe.index!==Ue.get();fe.add(ht),ht&&(ce.duration()?He.start():(He.update(),He.render(1),He.update())),nt&&(Ve.set(Ue.get()),Ue.set(Xe.index),ve.emit("select"))}return{distance:function(Xe,ht){De(re.byDistance(Xe,ht))},index:function(Xe,ht){const nt=Ue.clone().set(Xe);De(re.byIndex(nt.get(),ht))}}}(he,ue,de,xe,Ee,Ie,a),Be=function(He){const{max:Ue,length:Ve}=He;return{get:function(ce){return Ve?(ce-Ue)/-Ve:0}}}(ee),it=qf(),at=SSe(t,n,a,g),{slideRegistry:Qe}=function(He,Ue,Ve,ce,re,fe){const{groupSlides:ve}=re,{min:De,max:Xe}=ce;return{slideRegistry:function(){const nt=ve(fe),Ze=!He||Ue==="keepSnaps";return Ve.length===1?[fe]:Ze?nt:nt.slice(De,Xe).map((vt,lt,qe)=>{const ot=!lt,yt=C6(qe,lt);return ot?fee(pa(qe[0])+1):yt?fee($f(fe)-pa(qe)[0]+1,pa(qe)[0]):vt})}()}}($,y,X,te,V,ge),Je=_Se(e,n,Qe,Re,xe,it,a,_),Me={ownerDocument:r,ownerWindow:o,eventHandler:a,containerRect:S,slideRects:O,animation:he,axis:T,dragHandler:gSe(T,e,r,o,Ie,vSe(T,o),be,he,Re,xe,Ee,ue,a,D,h,m,v,.68,k),eventStore:it,percentOfView:D,index:ue,indexPrevious:de,limit:ee,location:be,offsetLocation:pe,previousLocation:me,options:i,resizeHandler:bSe(t,a,o,n,T,b,E),scrollBody:xe,scrollBounds:ySe(ee,pe,Ie,xe,D),scrollLooper:wSe(J,ee,pe,[be,pe,me,Ie]),scrollProgress:Be,scrollSnapList:X.map(Be.get),scrollSnaps:X,scrollTarget:Ee,scrollTo:Re,slideLooper:xSe(T,M,J,U,B,N,X,pe,n),slideFocus:Je,slidesHandler:CSe(t,a,w),slidesInView:at,slideIndexes:ge,slideRegistry:Qe,slidesToScroll:V,target:Ie,translate:bee(T,t)};return Me}const OSe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function ASe(e){function t(n,r){return gee(n,r||{})}return{mergeOptions:t,optionsAtMedia:function(n){const r=n.breakpoints||{},o=Vf(r).filter(i=>e.matchMedia(i).matches).map(i=>r[i]).reduce((i,a)=>t(i,a),{});return t(n,o)},optionsMediaQueries:function(n){return n.map(r=>Vf(r.breakpoints||{})).reduce((r,o)=>r.concat(o),[]).map(e.matchMedia)}}}function o5(e,t,n){const r=e.ownerDocument,o=r.defaultView,i=ASe(o),a=function(R){let U=[];return{init:function(B,L){return U=L.filter(({options:C})=>R.optionsAtMedia(C).active!==!1),U.forEach(C=>C.init(B,R)),L.reduce((C,V)=>Object.assign(C,{[V.name]:V}),{})},destroy:function(){U=U.filter(B=>B.destroy())}}}(i),s=qf(),l=function(){let R,U={};function B(C){return U[C]||[]}const L={init:function(C){R=C},emit:function(C){return B(C).forEach(V=>V(R,C)),L},off:function(C,V){return U[C]=B(C).filter(N=>N!==V),L},on:function(C,V){return U[C]=B(C).concat([V]),L},clear:function(){U={}}};return L}(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=i,{on:p,off:h,emit:m}=l,g=T;let f,v,y,b,w=!1,k=c(OSe,o5.globalOptions),_=c(k),E=[];function S(R){const U=ESe(e,y,b,r,o,R,l);return R.loop&&!U.slideLooper.canLoop()?S(Object.assign({},R,{loop:!1})):U}function O(R,U){w||(k=c(k,R),_=u(k),E=U||E,function(){const{container:B,slides:L}=_;y=(_6(B)?e.querySelector(B):B)||e.children[0];const C=_6(L)?y.querySelectorAll(L):L;b=[].slice.call(C||y.children)}(),f=S(_),d([k,...E.map(({options:B})=>B)]).forEach(B=>s.add(B,"change",T)),_.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init($),f.eventHandler.init($),f.resizeHandler.init($),f.slidesHandler.init($),f.options.loop&&f.slideLooper.loop(),y.offsetParent&&b.length&&f.dragHandler.init($),v=a.init($,E)))}function T(R,U){const B=H();M(),O(c({startIndex:B},R),U),l.emit("reInit")}function M(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),a.destroy(),s.clear()}function D(R,U,B){!_.active||w||(f.scrollBody.useBaseFriction().useDuration(U===!0?0:_.duration),f.scrollTo.index(R,B||0))}function H(){return f.index.get()}const $={canScrollNext:function(){return f.index.add(1).get()!==H()},canScrollPrev:function(){return f.index.add(-1).get()!==H()},containerNode:function(){return y},internalEngine:function(){return f},destroy:function(){w||(w=!0,s.clear(),M(),l.emit("destroy"),l.clear())},off:h,on:p,emit:m,plugins:function(){return v},previousScrollSnap:function(){return f.indexPrevious.get()},reInit:g,rootNode:function(){return e},scrollNext:function(R){D(f.index.add(1).get(),R,-1)},scrollPrev:function(R){D(f.index.add(-1).get(),R,1)},scrollProgress:function(){return f.scrollProgress.get(f.offsetLocation.get())},scrollSnapList:function(){return f.scrollSnapList},scrollTo:D,selectedScrollSnap:H,slideNodes:function(){return b},slidesInView:function(){return f.slidesInView.get()},slidesNotInView:function(){return f.slidesInView.get(!1)}};return O(t,n),setTimeout(()=>l.emit("init"),0),$}function T6(e={},t=[]){const n=x.useRef(e),r=x.useRef(t),[o,i]=x.useState(),[a,s]=x.useState(),l=x.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return x.useEffect(()=>{w6(n.current,e)||(n.current=e,l())},[e,l]),x.useEffect(()=>{(function(c,u){if(c.length!==u.length)return!1;const d=pee(c),p=pee(u);return d.every((h,m)=>w6(h,p[m]))})(r.current,t)||(r.current=t,l())},[t,l]),x.useEffect(()=>{if(typeof window<"u"&&window.document&&window.document.createElement&&a){o5.globalOptions=T6.globalOptions;const c=o5(a,n.current,r.current);return i(c),()=>c.destroy()}i(void 0)},[a,i]),[s,o]}o5.globalOptions=void 0,T6.globalOptions=void 0;const[PSe,NSe]=Ti("Carousel component was not found in tree");var E6={root:"m_17884d0f",viewport:"m_a2dae653",container:"m_fcd81474",controls:"m_39bc3463",control:"m_64f58e10",indicators:"m_71ea3ab1",indicator:"m_eae68602",slide:"m_d98df724"};const ISe={},O6=ft((e,t)=>{const n=$e("CarouselSlide",ISe,e),{classNames:r,className:o,style:i,styles:a,vars:s,mod:l}=n,c=ye(n,["classNames","className","style","styles","vars","mod"]),u=NSe();return W.jsx(tt,I(I({ref:t,mod:[{orientation:u.orientation},l]},u.getStyles("slide",{className:o,style:i,classNames:r,styles:a})),c))});function RSe({slideGap:e,slideSize:t,selector:n}){const r=No(),o=mh({"--carousel-slide-gap":ao(hb(e)),"--carousel-slide-size":Le(hb(t))}),i=Ao(r.breakpoints).reduce((s,l)=>(s[l]||(s[l]={}),typeof e=="object"&&e[l]!==void 0&&(s[l]["--carousel-slide-gap"]=ao(e[l])),typeof t=="object"&&t[l]!==void 0&&(s[l]["--carousel-slide-size"]=ao(t[l])),s),{}),a=function(s,l){const c=s.map(u=>({value:u,px:Yhe(u,l)}));return c.sort((u,d)=>u.px-d.px),c}(Ao(i),r.breakpoints).filter(s=>Ao(i[s.value]).length>0).map(s=>({query:`(min-width: ${r.breakpoints[s.value]})`,styles:i[s.value]}));return W.jsx(vb,{styles:o,media:a,selector:n})}function yee(e){return typeof e=="object"&&e!==null?Ao(e):[]}function MSe({slideGap:e,slideSize:t}){return function(n){return n.sort((r,o)=>ub(r)-ub(o))}(Array.from(new Set([...yee(e),...yee(t)])))}function DSe({slideGap:e,slideSize:t,selector:n}){const r=mh({"--carousel-slide-gap":ao(hb(e)),"--carousel-slide-size":Le(hb(t))}),o=MSe({slideGap:e,slideSize:t}).reduce((a,s)=>(a[s]||(a[s]={}),typeof e=="object"&&e[s]!==void 0&&(a[s]["--carousel-slide-gap"]=ao(e[s])),typeof t=="object"&&t[s]!==void 0&&(a[s]["--carousel-slide-size"]=ao(t[s])),a),{}),i=Object.keys(o).map(a=>({query:`carousel (min-width: ${a})`,styles:o[a]}));return W.jsx(vb,{styles:r,container:i,selector:n})}function wee({dir:e,orientation:t,direction:n}){return n==="previous"?t==="horizontal"?90*(e==="ltr"?1:-1):-180:t==="horizontal"?90*(e==="ltr"?-1:1):0}O6.classes=E6,O6.displayName="@mantine/carousel/CarouselSlide";const LSe={controlSize:26,controlsOffset:"sm",slideSize:"100%",slideGap:0,orientation:"horizontal",align:"center",slidesToScroll:1,includeGapInSize:!0,draggable:!0,dragFree:!1,loop:!1,speed:10,initialSlide:0,inViewThreshold:0,withControls:!0,withIndicators:!1,skipSnaps:!1,containScroll:"",withKeyboardEvents:!0,type:"media"},jSe=(e,{height:t,controlSize:n,controlsOffset:r})=>({root:{"--carousel-height":Le(t),"--carousel-control-size":Le(n),"--carousel-controls-offset":ao(r)}}),Kf=ft((e,t)=>{const n=$e("Carousel",LSe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,children:u,getEmblaApi:d,onNextSlide:p,onPreviousSlide:h,onSlideChange:m,nextControlProps:g,previousControlProps:f,controlSize:v,controlsOffset:y,slideSize:b,slideGap:w,orientation:k,height:_,align:E,slidesToScroll:S,includeGapInSize:O,draggable:T,dragFree:M,loop:D,speed:H,initialSlide:$,inViewThreshold:R,withControls:U,withIndicators:B,plugins:L,nextControlIcon:C,previousControlIcon:V,skipSnaps:N,containScroll:q,withKeyboardEvents:J,mod:Q,type:te}=r,X=ye(r,["classNames","className","style","styles","unstyled","vars","children","getEmblaApi","onNextSlide","onPreviousSlide","onSlideChange","nextControlProps","previousControlProps","controlSize","controlsOffset","slideSize","slideGap","orientation","height","align","slidesToScroll","includeGapInSize","draggable","dragFree","loop","speed","initialSlide","inViewThreshold","withControls","withIndicators","plugins","nextControlIcon","previousControlIcon","skipSnaps","containScroll","withKeyboardEvents","mod","type"]),ee=_t({name:"Carousel",classes:E6,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:jSe}),ue=X4(),{dir:de}=wh(),[ge,he]=T6({axis:k==="horizontal"?"x":"y",direction:k==="horizontal"?de:void 0,startIndex:$,loop:D,align:E,slidesToScroll:S,draggable:T,dragFree:M,speed:H,inViewThreshold:R,skipSnaps:N,containScroll:q},L),[Ce,be]=x.useState(0),[me,pe]=x.useState(0),Ie=x.useCallback(Je=>he&&he.scrollTo(Je),[he]),xe=x.useCallback(()=>{if(!he)return;const Je=he.selectedScrollSnap();be(Je),Je!==Ce&&(m==null||m(Je))},[he,be,m,Ce]),Ee=x.useCallback(()=>{he==null||he.scrollPrev(),h==null||h()},[he]),Re=x.useCallback(()=>{he==null||he.scrollNext(),p==null||p()},[he]),Be=x.useCallback(Je=>{J&&(Je.key==="ArrowRight"&&(Je.preventDefault(),Re()),Je.key==="ArrowLeft"&&(Je.preventDefault(),Ee()))},[he]);x.useEffect(()=>{if(he)return d==null||d(he),xe(),pe(he.scrollSnapList().length),he.on("select",xe),()=>{he.off("select",xe)}},[he,S,xe]),x.useEffect(()=>{he&&(he.reInit(),pe(he.scrollSnapList().length),be(Je=>kL(Je,0,x.Children.toArray(u).length-1)))},[x.Children.toArray(u).length,S]);const it=(he==null?void 0:he.canScrollPrev())||!1,at=(he==null?void 0:he.canScrollNext())||!1,Qe=Array(me).fill(0).map((Je,Me)=>x.createElement(co,K(I({},ee("indicator")),{key:Me,"data-active":Me===Ce||void 0,"aria-hidden":!0,tabIndex:-1,onClick:()=>Ie(Me),"data-orientation":k,onMouseDown:He=>He.preventDefault()})));return W.jsxs(PSe,{value:{getStyles:ee,orientation:k},children:[te==="container"?W.jsx(DSe,K(I({},n),{selector:`.${ue}`})):W.jsx(RSe,K(I({},n),{selector:`.${ue}`})),W.jsxs(tt,K(I(I({ref:t},ee("root",{className:"responsiveClassName"})),X),{mod:[{orientation:k,"include-gap-in-size":O},Q],onKeyDownCapture:Be,children:[W.jsx("div",K(I({},ee("viewport")),{ref:ge,"data-type":te,children:W.jsx("div",K(I({},ee("container",{className:ue})),{"data-orientation":k,children:u}))})),B&&W.jsx("div",K(I({},ee("indicators")),{"data-orientation":k,children:Qe})),U&&W.jsxs("div",K(I({},ee("controls")),{"data-orientation":k,children:[W.jsx(co,K(I(I({},f),ee("control",{className:f==null?void 0:f.className,style:f==null?void 0:f.style})),{onClick:Je=>{var Me;Ee(),(Me=f==null?void 0:f.onClick)==null||Me.call(f,Je)},"data-inactive":!it||void 0,tabIndex:it?0:-1,children:V!==void 0?V:W.jsx(_u,{style:{transform:`rotate(${wee({dir:de,orientation:k,direction:"previous"})}deg)`}})})),W.jsx(co,K(I(I({},ee("control",{className:g==null?void 0:g.className,style:g==null?void 0:g.style})),g),{onClick:Je=>{var Me;Re(),(Me=g==null?void 0:g.onClick)==null||Me.call(g,Je)},"data-inactive":!at||void 0,tabIndex:at?0:-1,children:C!==void 0?C:W.jsx(_u,{style:{transform:`rotate(${wee({dir:de,orientation:k,direction:"next"})}deg)`}})}))]}))]}))]})});Kf.classes=E6,Kf.displayName="@mantine/carousel/Carousel",Kf.Slide=O6;const zSe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function A6(e={}){let t,n,r,o,i=null,a=0,s=!1,l=!1,c=!1,u=!1;function d(){if(!r){if(m())return void(c=!0);s||n.emit("autoplay:play"),function(){const{ownerWindow:w}=n.internalEngine();w.clearTimeout(a),a=w.setTimeout(b,o[n.selectedScrollSnap()]),i=new Date().getTime(),n.emit("autoplay:timerset")}(),s=!0}}function p(){r||(s&&n.emit("autoplay:stop"),function(){const{ownerWindow:w}=n.internalEngine();w.clearTimeout(a),a=0,i=null,n.emit("autoplay:timerstopped")}(),s=!1)}function h(){if(m())return c=s,p();c&&d()}function m(){const{ownerDocument:w}=n.internalEngine();return w.visibilityState==="hidden"}function g(){l||p()}function f(){l||d()}function v(){l=!0,p()}function y(){l=!1,d()}function b(){const{index:w}=n.internalEngine(),k=w.clone().add(1).get(),_=n.scrollSnapList().length-1,E=t.stopOnLastSnap&&k===_;if(n.canScrollNext()?n.scrollNext(u):n.scrollTo(0,u),n.emit("autoplay:select"),E)return p();d()}return{name:"autoplay",options:e,init:function(w,k){n=w;const{mergeOptions:_,optionsAtMedia:E}=k,S=_(zSe,A6.globalOptions),O=_(S,e);if(t=E(O),n.scrollSnapList().length<=1)return;u=t.jump,r=!1,o=function($,R){const U=$.scrollSnapList();return typeof R=="number"?U.map(()=>R):R(U,$)}(n,t.delay);const{eventStore:T,ownerDocument:M}=n.internalEngine(),D=!!n.internalEngine().options.watchDrag,H=function($,R){const U=$.rootNode();return R&&R(U)||U}(n,t.rootNode);T.add(M,"visibilitychange",h),D&&n.on("pointerDown",g),D&&!t.stopOnInteraction&&n.on("pointerUp",f),t.stopOnMouseEnter&&T.add(H,"mouseenter",v),t.stopOnMouseEnter&&!t.stopOnInteraction&&T.add(H,"mouseleave",y),t.stopOnFocusIn&&n.on("slideFocusStart",p),t.stopOnFocusIn&&!t.stopOnInteraction&&T.add(n.containerNode(),"focusout",d),t.playOnInit&&d()},destroy:function(){n.off("pointerDown",g).off("pointerUp",f).off("slideFocusStart",p),p(),r=!0,s=!1},play:function(w){w!==void 0&&(u=w),d()},stop:function(){s&&p()},reset:function(){s&&d()},isPlaying:function(){return s},timeUntilNext:function(){return i?o[n.selectedScrollSnap()]-(new Date().getTime()-i):null}}}A6.globalOptions=void 0;const FSe=e=>{const{mutate:t}=Si(),{primary_color:n}=Vt(),{item:r}=e,{title:o,body:i,badge_title:a,badge_color:s,button_title:l="Click To Open",image_url:c,url:u}=r;return A(Kf.Slide,{children:le(H1,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,style:{height:"92%",backgroundColor:"var(--promotion-card-background-color, white)"},children:[A(H1.Section,{style:{flex:1},children:c&&A(Q8,{src:c,style:{maxHeight:"150px"}})}),le(ir,{justify:"space-between",mt:"xs",mb:5,style:{position:"relative"},children:[A(kn,{fw:500,lineClamp:2,style:{lineHeight:1.2,color:"var(--carousel-text-color, black)"},children:o}),a&&A(Bb,{autoContrast:!0,color:s,variant:"filled",size:"lg",style:{position:"absolute",top:-20,right:-20,borderTopRightRadius:0,borderBottomRightRadius:0},children:a})]}),A(wu,{type:"hover",children:A(kn,{size:"sm",c:"dimmed",children:i})}),u&&A(An,{fullWidth:!0,mt:"md",style:{flexShrink:0},color:n,onClick:()=>{t({event_name:zt.PromotionItemLinkClick,link_clicked:u}),window.open(u,"_blank")},children:l})]})})},BSe=()=>{var e,t,n;const r=Pt(),o=x.useRef(),i=(e=r==null?void 0:r.config)==null?void 0:e.promotion_items,a=(n=(t=r==null?void 0:r.config)==null?void 0:t.custom_style)==null?void 0:n.promotion_carousel,s=x.useRef(null),l=x.useMemo(()=>a!=null&&a.autoplay_interval_ms?(s.current=A6({delay:a==null?void 0:a.autoplay_interval_ms}),[s.current]):[],[a==null?void 0:a.autoplay_interval_ms]);return i!=null&&i.length?A(USe,{withIndicators:!0,height:"350px",slideSize:"70%",slideGap:"md",loop:!0,align:"center",slidesToScroll:1,plugins:l,onSlideChange:()=>{var c;(c=s.current)==null||c.stop(),o.current&&clearTimeout(o.current);const u=a==null?void 0:a.resume_after_interaction_dealy_ms;u&&(o.current=setTimeout(()=>{var d;(d=s.current)==null||d.play()},u))},style:{"--carousel-height":"calc(21.875em * var(--mantine-scale))","--carousel-control-size":"calc(1.625em * var(--mantine-scale))"},styles:{controls:{"--carousel-control-size":"calc(1.625em * var(--mantine-scale))"}},children:i==null?void 0:i.map((c,u)=>A(FSe,{item:c},u))}):null},USe=Ae(Kf,{target:"ee87xqx0"})({name:"1a922wm",styles:"button.mantine-Carousel-control{svg{width:calc(1em * var(--mantine-scale))!important;height:calc(1em * var(--mantine-scale))!important;}}.mantine-Group-root{margin-bottom:calc(0.3125em * var(--mantine-scale))!important;}"}),HSe=()=>{var e,t,n;const r=Pt(),o=(t=(e=r==null?void 0:r.config)==null?void 0:e.custom_style)==null?void 0:t.promotion_carousel,i=(n=r==null?void 0:r.config)==null?void 0:n.promotion_items;return i!=null&&i.length?o!=null&&o.enabled?A(BSe,{}):A(mSe,{}):null},$Se=e=>{var t;const n=G(u=>u.chatBox.showChatBox),r=dr(),o=(t=r==null?void 0:r.product_selector_position)!=null?t:"bottom";x.useLayoutEffect(()=>{n&&Fe.scrollToLastMessagePair(400)},[n]);const{message:i,callbacks:a,isLastMessage:s,index:l}=e;if(i.type==="system")return A("div",{className:"flex justify-center p-2",children:A("div",{className:"text-sm font-light text-gray-400",children:i.text})});const c=i.type!=="user";return le(Yn,{children:[c&&o==="top"&&A(OG,{message:i}),le(VSe,{style:{justifyContent:c?"flex-start":"flex-end"},children:[A(dSe,{message:i}),A(qSe,{style:{flexDirection:c?"row":"row-reverse"},children:le(WSe,{style:{alignItems:c?"flex-start":"flex-end"},children:[A(DCe,{message:i,isBot:c,isLastMessage:s}),A(iSe,{message:i,isBot:c})]})})]}),l===0&&A(HSe,{}),c&&o==="bottom"&&A(OG,{message:i}),A(l2e,{message:i,callbacks:a}),A(Wwe,{message:i,callbacks:a,isLastMessage:s})]})},VSe=Ae("div",{target:"e1fth2qa2"})({name:"1s3gs5l",styles:"display:flex;flex-direction:row;align-items:flex-start;gap:5px"}),qSe=Ae("div",{target:"e1fth2qa1"})({name:"16xf79m",styles:"display:flex;justify-content:flex-start;align-items:flex-start;width:fit-content;height:auto;max-width:calc(100% - 2.5em - 10px);gap:0.5em"}),WSe=Ae("div",{target:"e1fth2qa0"})({name:"12fhxm6",styles:"display:flex;flex-direction:column;justify-content:flex-start;align-self:stretch;width:fit-content;height:auto;max-width:100%"});var KSe=Object.defineProperty,kee=Object.getOwnPropertySymbols,GSe=Object.prototype.hasOwnProperty,YSe=Object.prototype.propertyIsEnumerable,_ee=(e,t,n)=>t in e?KSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QSe=(e,t)=>{for(var n in t||(t={}))GSe.call(t,n)&&_ee(e,n,t[n]);if(kee)for(var n of kee(t))YSe.call(t,n)&&_ee(e,n,t[n]);return e};const JSe=()=>{var e,t;const[n,r]=x.useState(!0),o=dr(),i=G(c=>c.chatBox.botLanguage),{notification_banner:a}=o||{};if(a==null||!a.enabled)return null;const s=((e=a.multi_lang_title)==null?void 0:e[i])||a.title,l=((t=a.multi_lang_message)==null?void 0:t[i])||a.message;return A(Ro,{mounted:n,transition:"slide-up",duration:400,timingFunction:"ease",children:c=>A(P6,{style:QSe({},c),children:A(XSe,{withBorder:!0,radius:"sm",color:a.color,title:A($u,{text:s}),onClose:()=>r(!1),styles:{root:{boxShadow:"var(--mantine-shadow-sm)",backgroundColor:"var(--notification-banner-background-color, white)",borderColor:"var(--notification-banner-border-color, #dee2e6)"},title:{color:"var(--notification-banner-title-color, rgba(52, 58, 64, 1)"},description:{color:"var(--notification-banner-message-color, rgba(52, 58, 64, 1))"},closeButton:{"--cb-icon-size":"calc(1em * var(--mantine-scale))",color:"var(--notification-banner-close-button-color, --mantine-color-gray-7)",backgroundColor:"var(--notification-banner-close-button-background-color, white)"}},children:A($u,{text:l})})})})},XSe=Ae(nC,{target:"e14wzl8b0"})({name:"1yfh2xk",styles:".livex-chatbox-markdown{font-size:var(--notification-banner-message-font-size, 14px);}"}),xee=()=>{var e;const t=dr(),n=G(c=>c.chatBox.botLanguage),r=Vt(),o=VL(),{compliance_section:i}=t||{};if(i==null||!i.enabled)return null;const a=((e=i.multi_lang_message)==null?void 0:e[n])||i.message,s=r.bot_message_background_color||(o==="dark"?"black":"white"),l={color:`var(--compliance-section-font-color, ${Hn(s)})`};return A(P6,{children:A("div",{style:l,children:A($u,{text:a,messageType:"bot"})})})};var ZSe=Object.defineProperty,eTe=Object.defineProperties,tTe=Object.getOwnPropertyDescriptors,Cee=Object.getOwnPropertySymbols,nTe=Object.prototype.hasOwnProperty,rTe=Object.prototype.propertyIsEnumerable,See=(e,t,n)=>t in e?ZSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const oTe=x.forwardRef(({callbacks:e},t)=>{const n=dt(),r=G(jy),o=G(wt),i=rp(),a=G(b=>b.chat.messagesUpdatedAt),s=G(b=>b.chatBox.videoAutoPlayStatus),l=G(b=>b.chatBox.isChurnControlEnabled),c=lf(),u=oc(),d=lh(kC),p=x.useRef(null),h=x.useCallback(b=>{const w=b.touches[0];p.current={x:w.clientX,y:w.clientY}},[]),m=x.useCallback(b=>{var w;if(!p.current)return;const k=b.touches[0];Math.abs(k.clientY-p.current.y)>10&&((w=document.activeElement)==null||w.blur())},[]),g=x.useCallback(()=>{p.current=null},[]);x.useEffect(()=>{e==null||e.onMessageUpdated()},[e,a]),x.useEffect(()=>{r&&r.length>0&&r[r.length-1].done&&(e==null||e.onTokenUsageRefresh())},[e,r]);const f=x.useMemo(()=>{const b=[];for(let w=0;w<r.length;w++){const k=r[w],_=[k];k.type==="user"&&w+1<r.length&&r[w+1].type==="bot"&&(_.push(r[w+1]),w++),b.push(_)}return l&&(b.shift(),Cr(b[0])&&(b[0]=b[0].filter(w=>w.type!=="user"))),b},[r,l]),v=(()=>{const[b]=pn(uC),w=G(R=>R.chatBox.botMode),k=G(R=>R.chatBox.showPopupImageSrc),_=R1(Fe.headerRef),E=R1(Fe.footerRef),S=cC(),O=(_==null?void 0:_.height)||0,T=(E==null?void 0:E.height)||0,M=S&&w!=="avataiOnly"?60:0,D=`calc(100% - ${T}px - ${O}px - ${M}px)`,H=oc(),$={display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"flex-start",gap:14,WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",padding:14,paddingTop:14+M,background:"transparent",position:"absolute",bottom:T,left:0,width:"100%",height:D,overflowY:"auto",overflowX:"hidden",zIndex:20};return w!=="avataiOnly"&&b!=="video"||H?Tt&&($.height="100%",$.maxHeight="100%",$.paddingTop=260):($.paddingTop=80,$.maxHeight="calc(var(--message-list-max-height-percentage, 50%) - 64px)",k||($.maskImage="linear-gradient(to top, black 75%, transparent 100%)")),$})(),y=(()=>{const b=G(E=>E.chatBox.botMode),w=G(E=>E.chatBox.videoAutoPlayStatus),k=G(E=>E.chatBox.cancelParams);let _=Yt(b)&&!w;return bt(k)||(_=!1),b==="avataiOnly"&&(_=!1),_})();return s==="needUserInteraction"?A("div",{className:"flex-1 flex justify-center items-center",children:A("div",{style:{position:"absolute",top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",color:"white",cursor:"pointer",zIndex:100,borderRadius:"8px"},onClick:()=>{n(eS("canAutoPlay"))},children:"Click to start"})}):i||!o||y||d?A("div",{className:"flex-1 flex justify-center items-center",children:A(gf,{size:36})}):c&&!u?null:le(iTe,((b,w)=>eTe(b,tTe(w)))(((b,w)=>{for(var k in w||(w={}))nTe.call(w,k)&&See(b,k,w[k]);if(Cee)for(var k of Cee(w))rTe.call(w,k)&&See(b,k,w[k]);return b})({id:"livex-message-list",ref:t,className:"animate-fade",style:v},Tt&&{onTouchStart:h,onTouchMove:m,onTouchEnd:g}),{children:[A("div",{id:"message-list-top-spacer",style:{marginTop:"auto"}}),A(xee,{}),A(JSe,{}),f.map((b,w)=>{const k=w===f.length-1;return A(P6,{style:{paddingBottom:k?"14px":"0px"},id:k?"last-message-pair":"",children:b.map(_=>A($Se,{message:_,callbacks:e,index:w,isLastMessage:k},`${_.type}-${_.id}`))},`message-pair-${w}`)})]}))}),P6=Ae("div",{target:"e1jldibi1"})({name:"efm2rk",styles:"display:flex;flex-direction:column;gap:14px;scroll-margin-top:14px"}),iTe=Ae("div",{target:"e1jldibi0"})({name:"0",styles:""});bx`
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
`;const aTe=Ae("div",{target:"e19jf3sk0"})({name:"1qxijjx",styles:"position:absolute;bottom:0;width:100%;display:flex;flex-grow:0;flex-direction:column;justify-content:stretch;align-items:center;border-bottom-left-radius:16px;border-bottom-right-radius:16px"}),Tee=()=>{const e=G(r=>r.chatBox.showChatBox),t=G(r=>r.chatBox.useLiveXCopilot),n=is();return e&&(t||n)};var sTe=Object.defineProperty,lTe=Object.defineProperties,cTe=Object.getOwnPropertyDescriptors,Eee=Object.getOwnPropertySymbols,uTe=Object.prototype.hasOwnProperty,dTe=Object.prototype.propertyIsEnumerable,Oee=(e,t,n)=>t in e?sTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const i5=(e,t)=>`var(${e.startsWith("--")?e:`--${e}`}, ${typeof t=="number"?`${t}px`:t})`,hTe=e=>{var t,n,r,o,i,a,s;const l=op();rp();const c=is(),u=G(Q=>Q.chatBox.resizingType),d=rs();G(Q=>Q.chatBox.visualViewportUpdatedAt);const p=sf(),h=G(Q=>Q.chatBox.botMode),m=G(Q=>Q.chatBox.chatBoxWidth),g=G(Q=>Q.chatBox.chatBoxHeight),f=G(Q=>Q.chatBox.source),v=G(Q=>Q.chatBox.agent),y=(n=(t=v==null?void 0:v.config)==null?void 0:t.style)!=null?n:{},{z_index:b,search_bar_z_index:w}=y,k=_1(),{position:_}=sh(),E=Tee();G(Q=>Q.chatBox.visualViewportUpdatedAt);const S=Vt(),{text_color:O,background_color:T}=S,{windowWidth:M,windowHeight:D}=BL(),{isTop:H,isLeft:$}=Fv();let R={};switch(!0){case d:R=((Q,te,X,ee)=>({width:Q,height:te,maxHeight:"unset",borderRadius:0,zIndex:X||1,background:ee}))(M,D,b,T);break;case(c&&!Tt):R=((Q,te,X,ee)=>{const ue=Q<830,de=ue?Q:Math.min(.6*Q,830),ge=ue?te:te-40;return{width:de,height:ge,maxHeight:"unset",position:"fixed",left:ue?0:(Q-de)/2,bottom:ue?0:(te-ge)/2,background:ee,borderRadius:16,borderTopLeftRadius:18,borderTopRightRadius:18,zIndex:X||1}})(M,D,b,T);break;case p:R=((Q,te,X,ee,ue,de)=>{document.documentElement.style.backgroundColor=Iu(.4,ue.primary_color,"useChatboxContainerStyle.backgroundColor.isFullScreen");const ge=Q*(Tt?1:Q>960?.7:1);return{width:ge,height:te,maxHeight:"unset",borderRadius:0,position:"fixed",left:Math.max(Q-ge,0)/2,bottom:0,background:ee,boxShadow:de||UL,zIndex:X||1}})(M,D,b,T,S,k)}if(!bt(R))return E?(R.opacity=1,R.transform="scale(1)",R.pointerEvents="auto",R.transition="opacity 0.3s ease-in-out, transform 0.3s ease-in-out"):(R.opacity=0,R.transform="scale(0.95)",R.pointerEvents="none",R.transition="opacity 0.15s ease-in-out, transform 0.15s ease-in-out"),R;const U=Math.min(parseInt(`${m}`),M-100),B=Math.min(parseInt(`${g}`),D-100),L=H?_.top:_.bottom,C=$?_.left:_.right,V=`calc(${D}px - ${L}px - 100px)`,N=`calc(${M}px - ${C}px - 100px)`;if(R=((Q,te)=>lTe(Q,cTe(te)))(((Q,te)=>{for(var X in te||(te={}))uTe.call(te,X)&&Oee(Q,X,te[X]);if(Eee)for(var X of Eee(te))dTe.call(te,X)&&Oee(Q,X,te[X]);return Q})({},e.style),{width:U,height:B,color:O,background:`var(--background-color, ${T})`,maxHeight:V,maxWidth:N,overflow:"visible",borderRadius:"var(--chat-box-border-radius, 16px)",borderTopLeftRadius:"var(--chat-box-border-top-left-radius, 16px)",borderTopRightRadius:"var(--chat-box-border-top-right-radius, 16px)",position:"fixed",boxShadow:k,zIndex:b}),u&&(R.userSelect="none"),Tt)delete R.borderTopLeftRadius,delete R.borderTopRightRadius,R=Ci(R,{width:"100vw",height:"100%",marginBottom:0,maxHeight:"unset",maxWidth:"unset",right:0,bottom:0,borderRadius:0,borderTopLeftRadius:0,borderTopRightRadius:0,zIndex:w||b||1e4,overscrollBehavior:"contain"}),R.overflow="scroll",f==="playground"&&(R.height=D-100);else if(l)delete R.marginBottom,R=Ci(R,{maxHeight:"90vh",top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(1)",maxWidth:"90vw",opacity:1,transition:"opacity 0.3s ease-in-out, transform 0.3s ease-in-out"});else{$?R.left=C:R.right=C;const Q=L+parseInt((r=y==null?void 0:y.chatbot_icon_size)!=null?r:"60")+16;H?R.top=Q:R.bottom=Q}Yt(h)&&(R.minWidth=320,R.minHeight=480);const q=l?"0.3s":"0.1s",J=`opacity ${q} ease-in-out, transform ${q} ease-in-out`;return E?(R.opacity=1,R.pointerEvents="auto",R.transition=J,R.transform=l&&!Tt?"translate(-50%, -50%) scale(1)":"translateY(0)"):(R.opacity=0,R.pointerEvents="none",R.zIndex=-1,R.transition=J,R.transform=l&&!Tt?"translate(-50%, -50%) scale(0.95)":H?"translateY(-20px)":"translateY(20px)"),R.width=i5("chatbox-width",(o=R.width)!=null?o:400),R.height=i5("chatbox-height",(i=R.height)!=null?i:600),R.maxWidth=i5("chatbox-max-width",(a=R.maxWidth)!=null?a:"90vw"),R.maxHeight=i5("chatbox-max-height",(s=R.maxHeight)!=null?s:"90vh"),R},N6=({height:e})=>{var t;const n=Pt(),r=((t=n==null?void 0:n.config)==null?void 0:t.livex_logo_link_url)||"https://www.livex.ai/",o={};return e&&(o.height=e),A("button",{onClick:()=>window.open(r,"_blank"),children:A("img",{src:"data:image/webp;base64,UklGRmAJAABXRUJQVlA4WAoAAAAQAAAAfwAAIAAAQUxQSFQFAAAB8Ebbtmnbtq2lUksb08aybdvW9Jzbtm3bNpZtG9NYtjFtY3D23lqv+UdDnxjjf0RMAFvXoe/XXtHpBHrkYNin50ov9qH7ty1hDuNflNR6KKH7w9yaMIcTH5Fq0nk43X7fXQBzq+Cw11VSlkZ9iITu3rh184Nf2BcIXhBgwE/bFNOY6Zs43X7gekmdk7+0FxDA4WMLpDTGVH8gALhXcjcghFAWQgA88cLEgeChxL0ZC6FC8AAYw95Ul6T2uyc5FjjicanekOq6HizXvJG3ImMLh5zRtLElA/uuUT1LJb12JpzQqTRTVF2PgQH4z37VUuVztx9D4LOTTyLkAu+efAmBz17z/0svvfTS/1/9CQLn3nseDkav//ygWmD/+35UYoy6Z1SOhOO6lCmmqboO4AVtlqLqerEfAQicI52HFxh7b9btsKf0Enlj51a9nrC/Kh5Gy1y1H4JjXCWdQ6hgPCaNwnO0vK3WAhLOlxqKsaZJO6oRY1SqRTvjFIyWRpcEDtmou6D/29JYHJwfStfDkfW0trlWq3XFZ4fB/6U3B9CLb0ord8fKnAvVodnkjUHvSEUkfEBqKGYat4dijMrUeigJRZdIl1Q4aJPupIWvSg9jQN950olweE2PHHzcMcccfdxgAmGWdDecJ+kcnHJjuhQ1Gs8NeFtZCc5X1Ii53RWjGopnkbCFWnUngUFLpOMJzkekh/Hc9RQbgZFLpJ/uuE76HE65M1pa2q6ZkBv4jhplBH6hrKwR9T4StoYl/EC6AofHpVG05G4sAZwTMm1eIv2bQOXHpXPvkUbjzWH8S1mZvoGzdYyRq7RpDzhTegYCh6da8eiUyY/N+O8ggISPSdKjhlVwJkrTmSjNgS3CVaoVZPoLga2E8xvpx3CD9HE8cHim0o/hYPCaOjWeXlR+WhpFn1ek8fgWubEo090Etpqx+3rNt7069HZfKKht2LhxQ9u8QzBwfiNJi3cmlDnvle4CJkqPw5b4t9Is19CC/fBmRjWH81dpzDekb+G5mu4Zuvuuu+7eH4OEd0vLJkuzwMDcAF6QbvjsN7/8k46oCSTNOD9SFgtiqkU74U1cUmBmFYx9O/TCPK0agRXdQKEbzsEd0nt5S/ofAQNwPqR6Tfm0piewJhI+phhLVNfLAwjNBPJeAedySfoDTtHNBMAg0PdV6d9weJf0eRL2nDQUwiuqmGo8uawk4UKpoZKoumY6oUp8fdYTj8958pFD4KCNuqMgcFiWxc59sZLVs594/PE5Tz52KNwkPRto4YNqZGcyfL4mG5+WXv/Qxz720Y9+/L1/lOYYg95SWpRwdKcyxZhpQi6qrrvASsao/B9wcF0PFhC4WboWp0AV/8txUscBOM6fpPs5Qto4mBnShyh9STqOQYulAmevlUoVc2fsrrQRY6zr0hJjp1lL5s6dO/edea+eCi23tX6UUHTAirUHEcj3vmvZ3MJ5b5xDv1vWTSABg2sWj6Pl2vU/gM903h5C4u7eiwvX39oHftf5u1xg8BtKFRU3640WHpXSLMZUvybkMMKwIflhvQBsGKXGiB0xSocNKRzWG4PBGIBBHwyGAIyk6hAwGA4QCDNVV4xpQ2uOhr6/XycpTTN9lZDDKDfyVoKBsQUNg0ChQQAwMLAyAwMwMLhddSlLpZt2IxiM/Ny0uqS6JhByYMUUGhXNqGil5I1yAzAAo6qRN3L/Ul2NVJp9JjiYAwd9e3ZNWtqb7t/5kbJGKs3/CIRA3hzgkK/Nvta7P+eTatSl1h/3B6dicHrK0Wqkiv/fHZxmg/cIR3ZIuvtocKNnfl6afi640VMvfHgUhEDPDVZQOCDmAwAAsBUAnQEqgAAhAD4xFolDIiEhFVsEwCADBLYAZ+ygrd7+vm34ifmN8sdTfmn3i/dL/PZbvzb/oftE95P+Z9on46/2nuAfop/b/tN7m/mP/lH9L/Wv3iP8l/APY1+KvuD/0D+79Y76Cf7L+lR+2PwY/tR+13s/f/sm6BsRpLPiFPnQTPQMhmN7UBGDxQZ2uTNmbmaJjF5veXLxDVOkTzCm07kadm1yTGQ3RMdw0AoFoRZ2+pqooAAA/uIQv/Hafum/iZYUiOTxPemWkrxurYndPlhkv9cxi+1CBwkd868MyZpJDcJHGG6FNBWx3x/+6tCFmW0jSjPfVHbnxKSwIbMlWsrA05RNM2frs3Af2wM7dXrlG9/sDp2ptLj88ajEShtf0ImmwMTPI/fsyWIqLMGgSYKAOoUXVYZQTjzQkUhkNJ+acSf4vkjT/KwzUijZJVF+dqBQP//B2OHBIwiaewzWWr+CADjsTw0d+BHU2Ry0oXCgF4AkPcf8RKjA9lQ8xZojGWwA71OtxSHoZmWSWPvRE5FPlG+vH6l7smxl49PFqdcKRv/95KVpMGO14sQ4U23YSbSwaXcbDALTQsHxfmruqm7y+buRj/QEkayG0lhyc1VhAZ8B690YkPEVtOQVyKmO1/0uv//Jwf/3US//7ij1rE35ACYK/L2n+nAi1f9DMB4VMUVeESgrBFx/CVatRXFOZXX6/cNIV7TWWQbuy/72r+eOvWRq0UUXqP+Dz05it19e+rE/7o4tEqYn+6fQzIM+H1u5PiQshorD+K5qAUtjO6qKGU4L4SHxc8YHkI8UZ2E99Cqrn7zx6EizI1lPHPB0Vh5LDbnhhTf8Qw+tqFBM0EZ9BQdSTowHebgxnhoidmpE+uT77/+ouRd/OnyQDGCSgdfb+rmlANO91URANqO2oXTRgnxco5dichSYLpelq/rcjm/TC6g7hNwtotsA1vnpXCL7/CF9Se5rjHVodhQmDwBUf4DOpRWVRoher45gCjskzrZkmM6LOGfiAlT3SYw/PqUndlgndbEi461GYlHuporWAGt7JrA6ZCn0qhgSm9sRYjnlGf4yyxXekUYAAZMXyQXmiMsi0yjE2urUgQ8m6rHO2FDiYJTYsXi84XU08yf/YVAAiFTebeUBgBoNWCxphXqJe7VpBpQpFFMsc2gtY8CJpq4fAPJMq6sbMZTVnESKBzRmh6iyfCs4z+Fq6fpEpf697OQUgCmUCOaKb6tGNapxWmMmxUZJscWhO+G8MxktJGTBPoZIO4d/+PEP/hr//adj0eG6zoovuFJVtdiOZ1W0MRRUIAPnxGLaAAA79oAAAAAAAAA=",alt:"Logo",className:"h-7",style:o})})},Aee=()=>{var e;const t=Pt(),n=(e=t==null?void 0:t.config)==null?void 0:e.partner_logo;if(!n)return null;const{title:r,logo_url:o,link_url:i,width:a,height:s}=n;return le("div",{className:"flex items-center whitespace-pre",children:[r,A("img",{src:o,style:{objectFit:"cover",cursor:"pointer",width:a,height:s},onClick:()=>window.open(i,"_blank")})]})},pTe=()=>{const e=G(o=>o.chatBox.botMode),t=rs(),n=is();if(t)return null;const r={backgroundColor:"var(--bottom-logo-bg-color, white)"};return n&&(r.marginRight="auto",r.marginLeft="1em"),Yt(e)&&(r.backgroundColor="var(--bottom-logo-bg-color, white)"),le(mTe,{style:r,children:[A(FU,{components:[A(N6,{},"logo")],i18nKey:"poweredBy"}),!Tt&&A(Aee,{})]})},mTe=Ae("div",{target:"e17ytut60"})({name:"1s802ns",styles:"z-index:10;opacity:var(--bottom-logo-opacity, 0.65);display:var(--bottom-logo-display, flex);align-items:center;margin-bottom:14px;font-size:9px;color:black;padding:0 12px;gap:7px;border-radius:8px;font-weight:var(--bottom-logo-font-weight, 400)"});var fTe=Object.defineProperty,gTe=Object.defineProperties,vTe=Object.getOwnPropertyDescriptors,Pee=Object.getOwnPropertySymbols,bTe=Object.prototype.hasOwnProperty,yTe=Object.prototype.propertyIsEnumerable,Nee=(e,t,n)=>t in e?fTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I6=(e,t)=>{for(var n in t||(t={}))bTe.call(t,n)&&Nee(e,n,t[n]);if(Pee)for(var n of Pee(t))yTe.call(t,n)&&Nee(e,n,t[n]);return e};const Iee=({selectedIndex:e,setSelectedIndex:t,currentLevel:n})=>{const r=dt(),o=X9(),i=hu(),a=e==null?void 0:e.split("-").slice(0,n-1).join("-"),s=x.useMemo(()=>Object.entries(o).reduce((l,[c,u])=>(c.startsWith(a??"")&&c.split("-").length===n&&l.push(I6({key:c},u)),l),[]),[n,o,a]);return A(_Te,{children:s.map(l=>{const c=e==null?void 0:e.startsWith(l.key);return le(Yn,{children:[le(xTe,{onClick:()=>{var u;l.command?r(Ii({text:(u=l.text)!=null?u:"",command:l.command})):t(c?a??"":l.key)},color:i==null?void 0:i.primary_color,indent:n-2,children:[l.iconUrl&&A("img",{src:l.iconUrl,style:{width:30,height:30}}),l.imageUrl&&A("div",{style:{width:80,height:80,overflow:"hidden"},children:A("img",{src:l.imageUrl,style:{width:100,height:100,marginLeft:"-10px",marginTop:"-10px"}})}),le("div",{style:{display:"flex",flexDirection:"column"},children:[l.title,l.description&&A("div",{style:{fontSize:"0.8em"},children:l.description})]})]},l.key),c&&A(Iee,{selectedIndex:e,setSelectedIndex:t,currentLevel:n+1})]})})})},wTe=({selectedIndex:e,setSelectedIndex:t})=>{const n=dt(),r=hu(),o=X9(),i=x.useMemo(()=>{const a=e?e.split("-").length+1:1;return Object.entries(o).reduce((s,[l,c])=>(l.startsWith(e||"")&&l.split("-").length===a&&s.push(I6({key:l},c)),s),[])},[o,e]);return A("div",{className:"flex flex-col",style:{padding:24,paddingTop:"calc(28px + 1em)",gap:7},children:i.map(a=>le(CTe,{className:"flex items-center border rounded-xl text-left",style:{padding:14,gap:14},onClick:()=>{var s;a.command?n(Ii({text:(s=a.text)!=null?s:"",command:a.command})):t(a.key)},color:r==null?void 0:r.primary_color,children:[a.iconUrl&&A("img",{src:a.iconUrl,style:{width:30,height:30}}),a.imageUrl&&A("div",{style:{width:80,height:80,overflow:"hidden"},children:A("img",{src:a.imageUrl,style:{width:100,height:100,marginLeft:"-10px",marginTop:"-10px"}})}),le("div",{className:"flex flex-col items-start",children:[A("div",{style:{display:"flex",fontSize:"1.28em"},children:a.title}),a.description&&A("div",{style:{fontSize:"0.85em"},children:a.description})]}),!a.command&&A("div",{className:"ml-auto",children:A(s0e,{style:{width:"1em",height:"1em"}})})]},a.key))})},kTe=()=>{var e,t;const n=X9(),[r,o]=x.useState(null),i=R1(Fe.headerRef),a=R1(Fe.footerRef),s=x.useMemo(()=>{if(!r)return"menu";const[u]=r.split("-");return n[u].navStyle||"menu"},[n,r]),l=(e=a==null?void 0:a.height)!=null?e:0,c=(t=i==null?void 0:i.height)!=null?t:0;return A("div",{id:"livex-navigation-view",className:"animate-fade",style:{position:"absolute",bottom:l,width:"100%",display:"flex",flex:1,height:`calc(100% - ${l}px)`,overflow:"auto"},children:le("div",{style:{flex:1,paddingTop:c+14},children:[!r&&A("div",{style:{padding:"0 14px",marginBottom:-14},children:A(xee,{})}),r&&le("button",{className:"flex items-center absolute bg-white hover:bg-gray-100 text-gray-800 border border-gray-400 rounded",style:{marginLeft:10.5,paddingLeft:14,paddingRight:14,paddingTop:3.5,paddingBottom:3.5},onClick:()=>{if(r){const u=r.split("-").slice(0,-1).join("-");o(u)}},children:[A(XU,{className:"mr-2"}),"Back"]}),s==="menu"&&A(wTe,{selectedIndex:r,setSelectedIndex:o}),s==="accordion"&&A("div",{style:{padding:"42px"},children:A(Iee,{selectedIndex:r,setSelectedIndex:o,currentLevel:2})})]})})},_Te=Ae("div",{target:"e8d56zx2"})({name:"9kzmib",styles:"display:flex;flex-direction:column;border-radius:14px;text-align:left;& .header:first-of-type{border-top-left-radius:14px;border-top-right-radius:14px;}& .header:last-of-type{border-bottom-left-radius:14px;border-bottom-right-radius:14px;}"}),xTe=Ae(e=>{const{indent:t=0,className:n}=e,r=t>0?"item":"header";return A("div",((o,i)=>gTe(o,vTe(i)))(I6({},e),{className:n+" "+r}))},{target:"e8d56zx1"})(e=>{const{color:t="black",indent:n=0}=e,r=n===0,o=Iu(.2,t,"NavigationAccordianItem.backgroundColor"),i=Hn(o),a={color:r?i:"black",background:r?o:"white",display:"flex",border:r?`1px solid ${t}`:"1px solid transparent",alignItems:"center",gap:"1em",padding:r?"14px":"0px",cursor:"pointer","& svg":{fill:i},"&:hover":{background:r?t:"unset",border:`1px solid ${t}`}};return n>0&&(a.marginLeft=2*n*14+"px"),a},""),CTe=Ae("button",{target:"e8d56zx0"})(e=>{const{color:t="black",indent:n=0}=e,r=Iu(.37,t,"NavigationItemButton.backgroundColor"),o=Hn(r),i=Iu(.34,t,"NavigationItemButton.hoverBackgroundColor"),a={background:`var(--navigation-item-button-bg, ${r})`,color:`var(--navigation-item-button-text-color, ${o})`,"& svg":{fill:`var(--navigation-item-button-svg-fill, ${o})`},"&:hover":{background:`var(--navigation-item-button-hover-bg, ${i})`,borderColor:`var(--navigation-item-button-hover-border-color, ${Nu(.05,i,"NavigationItemButton.hoverBorderColor")})`,color:`var(--navigation-item-button-hover-text-color, ${Hn(i)})`}};return n>0&&(a.marginLeft=2*n+"em"),a},""),STe={1:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z",label:"Very Dissatisfied",color:"darkred"},2:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z",label:"Dissatisfied",color:"red"},3:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15.86.55 1.87.87 2.97.87 1.11 0 2.12-.33 2.98-.88-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z",label:"Neutral",color:"orange"},4:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-2.5c2.33 0 4.32-1.45 5.12-3.5h-1.67c-.69 1.19-1.97 2-3.45 2s-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5z",label:"Satisfied",color:"green"},5:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z",label:"Very Satisfied",color:"darkgreen"}},TTe=e=>{const{value:t,selected:n,onClick:r}=e;return A(ETe,{children:A("button",{onClick:r,children:(()=>{const o=STe[t],{color:i,mousePath:a}=o;if(a&&i)return((s,l,c)=>{const u=s?l:"grey";return le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[A("circle",{fill:u,cx:"15.5",cy:"9.5",r:"1.5"}),A("circle",{fill:u,cx:"8.5",cy:"9.5",r:"1.5"}),A("path",{fill:u,d:c}),s&&A("circle",{stroke:l,strokeWidth:2,fill:"none",cx:"12",cy:"12",r:"10"})]})})(n,i,a)})()})})},Ree=({rating:e,setRating:t})=>A("div",{className:"flex items-center",children:[1,2,3,4,5].map((n,r)=>A(TTe,{value:n,selected:e===n,onClick:()=>t(e===n?void 0:n)},r))}),ETe=Ae("div",{target:"e6mtb560"})({name:"ho6j5g",styles:"transform:scale(1);transition:transform 0.3s ease-in-out;cursor:pointer;&:hover{transform:scale(1.2);}"});var OTe=Object.defineProperty,Mee=Object.getOwnPropertySymbols,ATe=Object.prototype.hasOwnProperty,PTe=Object.prototype.propertyIsEnumerable,Dee=(e,t,n)=>t in e?OTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lee=(e,t)=>{for(var n in t||(t={}))ATe.call(t,n)&&Dee(e,n,t[n]);if(Mee)for(var n of Mee(t))PTe.call(t,n)&&Dee(e,n,t[n]);return e};const jee={display:"flex",justifyContent:"center",alignItems:"center"},NTe=()=>{const{t:e}=jr(),t=dt(),[n,r]=pn(hH),[o,i]=pn(pH),{closeChatbot:a,isClosing:s}=_C();return A("section",{className:"mx-auto h-full flex flex-col w-full animate-fade z-20",children:le("div",{className:"p-4 flex my-auto flex-col w-full py-5 border shadow-inner max-w-[350px] mx-auto bg-white rounded-lg",children:[A(kn,{style:{fontSize:"16px"},children:e("confirm_close_view_title")}),le("div",{style:Lee({gap:30,padding:"10px"},jee),children:[A(An,{color:"dark",size:"md",variant:"outline",loading:s,onClick:()=>(async()=>{await a()})(),children:e("confirm_close_view_yes")}),A(An,{size:"md",color:"dark",variant:"outline",disabled:s,onClick:()=>{t(Qh(!1))},children:e("confirm_close_view_no")})]}),A("div",{style:Lee({padding:12},jee),className:"mx-12",children:A(Ree,{rating:n,setRating:r})}),n&&le("div",{className:"animate-fade",children:[A("label",{className:"block mb-2 text-sm font-medium text-gray-500",children:e("confirm_close_view_comment_label")}),A("textarea",{defaultValue:o,id:"message",rows:4,className:"block p-2.5 w-full text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 resize-none",style:{fontSize:"16px",lineHeight:"1.5rem"},placeholder:e("confirm_close_view_comment_placeholder"),onBlur:l=>i(l.target.value)})]})]})})};var ITe=Object.defineProperty,RTe=Object.defineProperties,MTe=Object.getOwnPropertyDescriptors,zee=Object.getOwnPropertySymbols,DTe=Object.prototype.hasOwnProperty,LTe=Object.prototype.propertyIsEnumerable,Fee=(e,t,n)=>t in e?ITe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R6=(e=>(e.User="user",e.Agent="agent",e))(R6||{}),Bee=(e=>(e.Text="text",e.File="file",e.Markdown="markdown",e))(Bee||{});const jTe=()=>{const e=er(),t=G(wt);return or({mutationFn:n=>(async r=>{const{agentId:o,conversationId:i,text:a,senderType:s,messageType:l}=r;if(!o||!i)throw new Error("agentId or conversationId is missing");const c=`${Mt.chatHost}/api/live_chat`,u={conversation_id:i,chatbot_id:o,sender_type:s||"user",text:a,message_type:l||"text"};return(await xt.post(c,u)).data})(((r,o)=>RTe(r,MTe(o)))(((r,o)=>{for(var i in o||(o={}))DTe.call(o,i)&&Fee(r,i,o[i]);if(zee)for(var i of zee(o))LTe.call(o,i)&&Fee(r,i,o[i]);return r})({},n),{agentId:e,conversationId:t}))})};var zTe=Object.defineProperty,FTe=Object.defineProperties,BTe=Object.getOwnPropertyDescriptors,Uee=Object.getOwnPropertySymbols,UTe=Object.prototype.hasOwnProperty,HTe=Object.prototype.propertyIsEnumerable,Hee=(e,t,n)=>t in e?zTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $Te=()=>{const e=er(),t=G(wt);return or({mutationFn:n=>(async r=>{const{agentId:o,conversationId:i,agentName:a,type:s}=r;if(!o||!i)throw new Error("agentId or conversationId is missing");const l=`${Mt.chatHost}/api/salesforce/live-chat-status`,c={chatbot_id:o,conversation_id:i,agent_name:a,type:s};return(await xt.post(l,c)).data})(((r,o)=>FTe(r,BTe(o)))(((r,o)=>{for(var i in o||(o={}))UTe.call(o,i)&&Hee(r,i,o[i]);if(Uee)for(var i of Uee(o))HTe.call(o,i)&&Hee(r,i,o[i]);return r})({},n),{agentId:e,conversationId:t}))})};var VTe=Object.defineProperty,$ee=Object.getOwnPropertySymbols,qTe=Object.prototype.hasOwnProperty,WTe=Object.prototype.propertyIsEnumerable,Vee=(e,t,n)=>t in e?VTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;let M6=null;const qee=()=>M6??(M6=function(e,t,n){return e()}(()=>import("https://chatbox.copilot.livex.ai/cdn/firebase/firebase-bundle.js"),void 0).then(e=>e.default)),KTe=async(e,t,n="desc")=>{const r=await(async(c=1e4,u=100)=>{const d=Date.now();for(;Date.now()-d<c;){const p=Fe.firestore;if(p)return p;await new Promise(h=>setTimeout(h,u))}ne.error("waitForFirestore timeout")})();if(!r)throw new Error("Firestore not available");const o=await qee(),{collection:i,query:a,orderBy:s,onSnapshot:l}=o;return l(a(i(r,e),s("createdAt",n)),c=>{const u=c.docs.map(d=>{const p=d.data();return((h,m)=>{for(var g in m||(m={}))qTe.call(m,g)&&Vee(h,g,m[g]);if($ee)for(var g of $ee(m))WTe.call(m,g)&&Vee(h,g,m[g]);return h})({id:d.id},p)});t(u)})},GTe=()=>or({mutationFn:e=>(async t=>{var n,r;if(!t.conversation_id||!t.message_id)throw new Error("Conversation_id and message_id are required");const o=`${Mt.chatHost}/api/firebase/remove-livechat-messages`;try{return(await xt.post(o,t,{headers:{"Content-Type":"application/json"}})).data}catch(i){throw xt.isAxiosError(i)?new Error(((r=(n=i.response)==null?void 0:n.data)==null?void 0:r.error)||i.message):i}})(e),onError:e=>{}}),YTe=Sr(0),QTe=e=>({id:e.messageId.toString(),live_chat_message_id:e.id,timestamp:e.createdAt.toDate().toISOString(),text:e.text,done:!0,sender:e.sender,type:e.senderType,format:e.format||"text"}),JTe=({dispatch:e,message:t,shouldCloseLiveChat:n})=>{const{senderType:r,text:o}=t;if(r!=="system")return;const i=o.includes("left the conversation"),a=o.includes("joined the conversation"),s=o.includes("reopened the conversation");switch(!0){case(i&&n):e(Py(!0));break;case a:e(ZC("liveChat"));break;case s:e(Py(!1))}},XTe=()=>{const e=dt(),t=G(wt),n=((u,d)=>{if(d)return`${u}_${d}`})("livechat_messages",t),[r,o]=x.useState([]),i=(()=>{var u,d,p,h,m,g;const f=G(v=>v.chatBox.agent);return(g=(m=(h=(p=(d=(u=f==null?void 0:f.config)==null?void 0:u.tools)==null?void 0:d.document_qa)==null?void 0:p.no_answer_action)==null?void 0:h.salesforce)==null?void 0:m.live_chat_options)==null?void 0:g.enabled})(),a=F$(),s=!i,[l]=pn(YTe),{mutateAsync:c}=GTe();return x.useEffect(()=>{if(o([]),!n||!a)return;let u,d=!0;return(async()=>{if(d)try{u=await KTe(n,async p=>{if(!d)return;const h=p;for(const m of h){JTe({dispatch:e,message:m,shouldCloseLiveChat:s});const g=QTe(m);if(await e(Un(g)),m.senderType!=="system"){if(!t)continue;await c({conversation_id:t,message_id:m.id})}}},"asc"),ne.log("Firebase subscription setup")}catch(p){ne.error("Failed to setup Firebase subscription:",p)}})(),()=>{d=!1,u==null||u()}},[e,n,s,l,c,t,a]),r},D6=()=>{const e=dt(),t=er(),n=G(a=>a.chatBox.botMode),{status:r,disconnectLivekit:o}=oa(),{initiateSession:i}=Vh();return{startNewChat:x.useCallback(async()=>{t&&(r==="connected"&&(o(),e(Zh("text"))),Fe.shouldAbort=!0,Va.instance.stop(),n==="avataiOnly"&&(e(fC(!0)),Fe.isGettingAvatarSession=!0),await e(Xa()),Fe.scrollToBottom(200),n==="avataiOnly"&&i(!0,1e3))},[r,o,e,t,n,i])}},ZTe=()=>{const e=dt(),t=G(o=>o.chatBox.isLiveChatEnded),n=G(wt),{startNewChat:r}=D6();return t?A("div",{className:"flex p-4 gap-16 items-center",children:A("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded",onClick:async()=>{n&&(await e(Gr({threadId:n,keepOpen:!0})),await r())},children:"Start a new conversation"})}):null},e3e=()=>{const{mutate:e}=dH(),t=G(wt),[n,r]=x.useState(void 0),o=G(a=>a.chatBox.showSearchBar),i=ih(()=>{n&&t&&e({conversation_id:t,rating:n,comment:""})},1e3);return x.useEffect(()=>{i()},[i,n]),o?A(t3e,{className:"has-tooltip",children:A(Ree,{rating:n,setRating:r})}):null},t3e=Ae("div",{target:"e1okewqg0"})({name:"3nezot",styles:"position:absolute;right:16px;bottom:-2px;width:120px"}),Wee=()=>({showInspector:lh(Xee)});var n3e=Object.defineProperty,Kee=Object.getOwnPropertySymbols,r3e=Object.prototype.hasOwnProperty,o3e=Object.prototype.propertyIsEnumerable,Gee=(e,t,n)=>t in e?n3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yee=(e,t)=>{for(var n in t||(t={}))r3e.call(t,n)&&Gee(e,n,t[n]);if(Kee)for(var n of Kee(t))o3e.call(t,n)&&Gee(e,n,t[n]);return e};const Qee=Ae("div",{target:"enfnce70"})(e=>{var t;return{position:"relative",borderRadius:(t=e.$borderRadius)!=null?t:"inherit","&[data-playground='true'][data-editing='true']":{outline:"1px dashed rgba(59, 130, 246, 0.85)",outlineOffset:"0px"},"&[data-playground='true'][data-editing='true']:hover":{outline:"2px solid #ef4444"}}},""),a5=/var\(\s*--([^)\s,]+)[^)]*\)/g,i3e=["--_","--accordion-","--affix-","--ag-","--ai-","--alert-","--alpha-","--angle","--app-","--ar-","--avatar-","--badge-","--base-text-","--blockquote-","--bc-","--bi-","--bq-","--burger-","--button-","--card-","--cb-","--carousel-","--checkbox-","--chip-","--ci-","--code-","--color-","--col-","--combobox-","--container-","--control-","--cp-","--cs-","--depth-","--dialog-","--divider-","--drawer-","--fieldset-","--grid-","--group-","--image-","--indicator-","--input-","--item-","--kbd-","--label-","--li-","--list-","--loader-","--lo-","--mark-","--mantine-","--mb-","--menu-","--modal-","--ni-","--nl-","--notification-","--overlay-","--paper-","--pg-","--pill-","--pin-","--popover-","--progress-","--psi-","--radio-","--rating-","--right-section-","--left-section-","--rp-","--sa-","--sc-","--scp-","--scrollarea-","--section-","--segmented-","--separator-","--sg-","--skeleton-","--slider-","--spoiler-","--stack-","--stepper-","--step-","--switch-","--tab-","--table-","--tabs-","--text-","--thumb-","--ti-","--tli-","--tl-","--title-","--toc-","--tooltip-","--track-","--transition-","--tr-","--tw-","--description-","--pagination-","--curve-","--offset","--timeline-"],s5=e=>!i3e.some(t=>e.startsWith(t)),Jee=({children:e,extraVariables:t,borderRadius:n})=>{var r,o,i;const a=os(),{showInspector:s}=Wee(),l=x.useRef(null),[c,u]=x.useState(t||[]),[d,p]=x.useState(!1),h=x.useMemo(()=>Array.from(new Set([...t||[],...c])).filter(s5).sort(),[t,c]),m=x.useCallback(f=>{const v=f||l.current;if(!v)return;const y=new Set,b=k=>{var _,E,S;(M=>{if(!M)return[];const D=new Set;let H;for(a5.lastIndex=0;H=a5.exec(M);)if(H[1]){const $=`--${H[1]}`;s5($)&&D.add($)}return Array.from(D)})(((_=k.getAttribute)==null?void 0:_.call(k,"style"))||((E=k.style)==null?void 0:E.cssText)||"").forEach(M=>y.add(M));const O=(S=k.getAttribute)==null?void 0:S.call(k,"data-css-vars");O&&O.split(",").map(M=>M.trim()).filter(Boolean).forEach(M=>{s5(M)&&y.add(M)});const T=Array.from(k.classList||[]);if(T.length>0){const M=v.getRootNode&&v.getRootNode()||document,D=Array.from(M.querySelectorAll("style"));T.forEach(H=>{const $=`.${H}`;D.forEach(R=>{const U=R.textContent||"";if(U.includes($)){let B;for(a5.lastIndex=0;B=a5.exec(U);)if(B[1]){const L=`--${B[1]}`;s5(L)&&y.add(L)}}})})}};b(v),v.querySelectorAll("*").forEach(b);const w=Array.from(y);ne.log("variables: ",w),u(w)},[]);let g=A(Qee,{ref:l,"data-playground":a&&s?"true":void 0,"data-editing":a&&s?"true":void 0,$borderRadius:n,onMouseEnter:f=>{a&&s&&m(f.currentTarget)},children:e});if(Bt.Children.count(e)===1&&Bt.isValidElement(Bt.Children.only(e))){const f=Bt.Children.only(e),v=typeof f.type=="string",y=(r=f.props)==null?void 0:r.onMouseEnter,b=(o=f.props)==null?void 0:o.onMouseLeave,w=E=>{y==null||y(E),a&&s&&m(E.currentTarget),a&&s&&p(!0)},k=E=>{b==null||b(E),a&&s&&p(!1)},_=a&&s?d?"2px solid #ef4444":"1px dashed rgba(59, 130, 246, 0.85)":void 0;g=v?Bt.cloneElement(f,{"data-playground":a&&s?"true":void 0,"data-editing":a&&s?"true":void 0,onMouseEnter:w,onMouseLeave:k,style:Yee(Yee({},(i=f.props)==null?void 0:i.style),_?{outline:_,outlineOffset:0}:void 0)}):A(Qee,{ref:l,"data-playground":a&&s?"true":void 0,"data-editing":a&&s?"true":void 0,$borderRadius:n,onMouseEnter:E=>{a&&s&&(p(!0),m(E.currentTarget))},onMouseLeave:()=>p(!1),children:e})}return a&&s?le(xu,{openDelay:100,closeDelay:120,withinPortal:!0,shadow:"md",children:[A(xu.Target,{children:g}),A(xu.Dropdown,{style:{maxHeight:280,overflowY:"auto",maxWidth:420},children:le(Pi,{children:[A(kn,{size:"xs",fw:600,c:"dimmed",children:"CSS variables in this element"}),h.length===0?A(kn,{size:"xs",c:"dimmed",children:"No CSS variables detected"}):h.map(f=>A(K8,{style:{display:"block",marginBottom:4,whiteSpace:"pre-wrap",overflowWrap:"anywhere"},children:f},f))]})})]}):g},Xee=VC("showInspector",!1,void 0,{getOnInit:!1}),Zee=e=>{var t;if(!x.isValidElement(e)||(i=>i===Jee)(e.type))return e;const n=(t=e.props)==null?void 0:t.children,r=n!=null?Bt.Children.map(n,i=>Zee(i)):n,o=r===n?e:x.cloneElement(e,void 0,r);return typeof e.type=="string"?A(Jee,{children:o}):o},a3e=({children:e})=>A(Yn,{children:Bt.Children.map(e,t=>Zee(t))});var s3e=Object.defineProperty,l3e=Object.defineProperties,c3e=Object.getOwnPropertyDescriptors,ete=Object.getOwnPropertySymbols,u3e=Object.prototype.hasOwnProperty,d3e=Object.prototype.propertyIsEnumerable,tte=(e,t,n)=>t in e?s3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h3e=(e,t)=>{for(var n in t||(t={}))u3e.call(t,n)&&tte(e,n,t[n]);if(ete)for(var n of ete(t))d3e.call(t,n)&&tte(e,n,t[n]);return e},p3e=(e,t)=>l3e(e,c3e(t));const bp=/var\(\s*--([^)\s,]+)[^)]*\)/g,m3e=["--_","--accordion-","--affix-","--ag-","--ai-","--alert-","--alpha-","--angle","--app-","--ar-","--avatar-","--badge-","--base-text-","--blockquote-","--bc-","--bi-","--bq-","--burger-","--button-","--card-","--cb-","--carousel-","--checkbox-","--chip-","--ci-","--code-","--color-","--col-","--combobox-","--container-","--control-","--cp-","--cs-","--depth-","--dialog-","--divider-","--drawer-","--fieldset-","--grid-","--group-","--image-","--indicator-","--input-","--item-","--kbd-","--label-","--li-","--list-","--loader-","--lo-","--mark-","--mantine-","--mb-","--menu-","--modal-","--ni-","--nl-","--notification-","--overlay-","--paper-","--pg-","--pill-","--pin-","--popover-","--progress-","--psi-","--radio-","--rating-","--right-section-","--left-section-","--rp-","--sa-","--sc-","--scp-","--scrollarea-","--section-","--segmented-","--separator-","--sg-","--skeleton-","--slider-","--spoiler-","--stack-","--stepper-","--step-","--switch-","--tab-","--table-","--tabs-","--text-","--thumb-","--ti-","--tli-","--tl-","--title-","--toc-","--tooltip-","--track-","--transition-","--tr-","--tw-","--description-","--pagination-","--curve-","--offset","--timeline-"],l5=e=>!m3e.some(t=>e.startsWith(t)),nte=e=>{if(!e)return[];const t=new Set;let n;for(bp.lastIndex=0;n=bp.exec(e);)if(n[1]){const r=`--${n[1]}`;l5(r)&&t.add(r)}return Array.from(t)},f3e=()=>{const e=os(),{showInspector:t}=Wee(),n=x.useRef(null),[r,o]=x.useState(null),[i,a]=x.useState([]),[s,l]=x.useState(!1),c=x.useRef(null),[u,d]=x.useState(null),[p,h]=x.useState(!1),[m,g]=x.useState({w:360,h:200}),f=e&&t,v=x.useCallback(b=>{var w,k,_,E,S,O,T;const M=new Set,D=((w=b.getAttribute)==null?void 0:w.call(b,"style"))||((k=b.style)==null?void 0:k.cssText)||"";nte(D).forEach(R=>M.add(R)),(R=>{const U=new Set,B=window.getComputedStyle(R);for(let L=0;L<B.length;L++){const C=B[L],V=B.getPropertyValue(C);if(V&&V.includes("var(")){let N;for(bp.lastIndex=0;N=bp.exec(V);)if(N[1]){const q=`--${N[1]}`;l5(q)&&U.add(q)}}}return Array.from(U)})(b).forEach(R=>M.add(R));const H=((E=(_=n.current)==null?void 0:_.parentElement)==null?void 0:E.getRootNode)&&((O=(S=n.current)==null?void 0:S.parentElement)==null?void 0:O.getRootNode())||document;Array.from(H.querySelectorAll("style")).forEach(R=>{var U;const B=R.sheet;if(!B)return;let L;try{L=B.cssRules}catch{return}if(L)for(let C=0;C<L.length;C++){const V=L[C];if(V.selectorText){const N=V.selectorText;if(N&&b.matches(N)){const q=((U=V.style)==null?void 0:U.cssText)||"";let J;for(bp.lastIndex=0;J=bp.exec(q);)if(J[1]){const Q=`--${J[1]}`;l5(Q)&&M.add(Q)}}}}});const $=(T=b.getAttribute)==null?void 0:T.call(b,"data-css-vars");return $&&$.split(",").map(R=>R.trim()).filter(Boolean).forEach(R=>{l5(R)&&M.add(R)}),Array.from(M)},[]);x.useEffect(()=>{var b;if(!f)return o(null),void a([]);let w=0,k=null;const _=O=>{var T;if(!f||p)return;const M=(T=n.current)==null?void 0:T.parentElement;if(!M)return;const D=M.getBoundingClientRect(),H=O.clientX,$=O.clientY;if(!(H>=D.left&&H<=D.right&&$>=D.top&&$<=D.bottom))return o(null),void a([]);k&&(clearTimeout(k),k=null),k=window.setTimeout(()=>{w&&cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var R;const U=(R=Fe.shadowRootRef)==null?void 0:R.current,B=(U==null?void 0:U.shadowRoot)||null;let L=null;if(B&&(L=B.elementFromPoint(H,$)),L||(L=document.elementFromPoint(H,$)),!L)return;const C=n.current;if(C&&C.contains(L))return;const V=(Ce,be,me=1.5)=>Math.abs(Ce.left-be.left)<=me&&Math.abs(Ce.top-be.top)<=me&&Math.abs(Ce.right-be.right)<=me&&Math.abs(Ce.bottom-be.bottom)<=me,N=L.getBoundingClientRect(),q=new Set;let J=L;for(;J&&J!==M;){try{V(J.getBoundingClientRect(),N)&&q.add(J)}catch{}J=J.parentElement}const Q=document.createTreeWalker(L,NodeFilter.SHOW_ELEMENT);let te=0;for(;Q.nextNode()&&te<300;){const Ce=Q.currentNode;try{V(Ce.getBoundingClientRect(),N)&&q.add(Ce)}catch{}te++}let X=null,ee=[];const ue=new Set;q.forEach(Ce=>{const be=(me=>{var pe,Ie;const xe=((pe=me.getAttribute)==null?void 0:pe.call(me,"style"))||((Ie=me.style)==null?void 0:Ie.cssText)||"";return nte(xe)})(Ce);be.length>0&&!X&&(X=Ce,ee=be),v(Ce).forEach(me=>ue.add(me))});let de=X||L,ge=X?ee:Array.from(ue);if(ge.length===0){let Ce=L;for(;Ce&&Ce!==M;){const be=v(Ce);if(be.length>0){de=Ce,ge=be;break}Ce=Ce.parentElement}}if(!de||ge.length===0)return o(null),void a([]);const he=de.getBoundingClientRect();o({x:he.left-D.left,y:he.top-D.top,w:he.width,h:he.height}),a(ge)})},140)};document.addEventListener("mousemove",_,{passive:!0});const E=()=>{o(null),a([])},S=(b=n.current)==null?void 0:b.parentElement;return S==null||S.addEventListener("mouseleave",E),()=>{document.removeEventListener("mousemove",_),S==null||S.removeEventListener("mouseleave",E),w&&cancelAnimationFrame(w),k&&clearTimeout(k)}},[f,v,p]);const y=x.useMemo(()=>({outline:s?"2px solid #ef4444":"1px dashed rgba(59, 130, 246, 0.85)",outlineOffset:0}),[s]);return x.useLayoutEffect(()=>{if(!f||!i.length)return;const b=c.current;if(!b)return;const w=()=>{const _=Math.min(b.offsetWidth||360,420),E=Math.min(b.offsetHeight||200,240);g(S=>S.w!==_||S.h!==E?{w:_,h:E}:S)};w();const k=requestAnimationFrame(w);return()=>cancelAnimationFrame(k)},[f,i,r==null?void 0:r.x,r==null?void 0:r.y,r==null?void 0:r.w,r==null?void 0:r.h]),f?A("div",{ref:n,style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:1e3},children:r&&le(Yn,{children:[A("div",{style:p3e(h3e({position:"absolute",left:r.x,top:r.y,width:r.w,height:r.h,borderRadius:4},y),{pointerEvents:"none"}),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)}),i.length>0&&le("div",{ref:c,style:{position:"absolute",left:(()=>{var b;const w=((b=n.current)==null?void 0:b.clientWidth)||0,k=m.w;if(w-r.x>=k)return r.x;const _=r.x+r.w-k;return Math.max(0,Math.min(_,w-k))})(),top:(()=>{var b;const w=((b=n.current)==null?void 0:b.clientHeight)||0,k=m.h,_=r.y+r.h+8;return _+k<=w?_:Math.max(0,r.y-8-k)})(),maxWidth:420,maxHeight:240,overflowY:"auto",background:"white",color:"#1f2937",border:"1px solid rgba(222,226,230,1)",borderRadius:6,boxShadow:"0 2px 10px rgba(0,0,0,0.12)",padding:8,pointerEvents:"auto",fontSize:12},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[A("div",{style:{fontWeight:600,color:"#6b7280",marginBottom:6},children:"CSS variables in this element"}),A("div",{style:{display:"flex",flexWrap:"wrap",gap:4},children:i.map(b=>le(An,{color:"dark",variant:"outline",size:"sm",onClick:async()=>{var w;try{(w=window.parent)==null||w.postMessage({type:"LiveXCssVarClick",variable:b},"*"),await navigator.clipboard.writeText(b),d(b),setTimeout(()=>d(k=>k===b?null:k),1200)}catch{}},onMouseEnter:()=>{var w;try{(w=window.parent)==null||w.postMessage({type:"LiveXCssVarHover",variable:b},"*")}catch{}},onMouseLeave:()=>{var w;try{(w=window.parent)==null||w.postMessage({type:"LiveX:cssVarHoverEnd",variable:b},"*")}catch{}},style:{wordBreak:"break-word",marginBottom:4,padding:"2px 4px",borderRadius:4},title:"Click to copy",children:[b,u===b&&A("span",{style:{position:"absolute",right:0,marginLeft:6,color:"#4f46e5",fontSize:11,fontWeight:600,background:"white",padding:4},children:"Copied"})]},b))})]})]})}):null},g3e=()=>{var e,t,n,r;const o=(t=(e=Fe.containerRef)==null?void 0:e.current)==null?void 0:t.getBoundingClientRect(),i=(n=o==null?void 0:o.width)!=null?n:0,a=(r=o==null?void 0:o.height)!=null?r:0,{width:s,height:l}=(()=>{var d,p,h,m;return{height:(p=(d=window.visualViewport)==null?void 0:d.height)!=null?p:window.innerHeight,width:(m=(h=window.visualViewport)==null?void 0:h.width)!=null?m:window.innerWidth}})();let c=s-100,u=l-160;return c=Math.max(c,i),u=Math.max(u,a),{maxWidth:c,maxHeight:u}},v3e=()=>{var e,t;const n=dt(),r=G(l=>l.chatBox.botMode),o=Fe.containerRef,i=G(l=>l.chatBox.resizingType),a=((t=(e=Pt())==null?void 0:e.config)==null?void 0:t.avatai)||{},s=(l,c,u)=>{const{newWidth:d,newHeight:p}=((h,m,g)=>{let f=h,v=m;const{maxWidth:y,maxHeight:b}=g3e();switch(r){case"avataiOnly":{const w=a.ratio||.6666666666666666,k=a.min_width||320,_=a.min_height||480;g==="top"||g==="bottom"?(v=Math.min(Math.max(_,m),b),f=v*w,f>y&&(f=y,v=f/w)):(f=Math.min(Math.max(k,h),y),v=f/w,v>b&&(v=b,f=v*w)),f=Math.min(Math.max(k,f),y),v=Math.min(Math.max(_,v),b);break}default:f=Math.min(Math.max(400,f),y),v=Math.min(Math.max(250,v),b)}return{newWidth:f,newHeight:v}})(l,c,u??i);n(wbe(d)),n(_be(d)),n(kbe(p)),n(xbe(p))};return{handleResize:l=>{var c;const u=(c=o==null?void 0:o.current)==null?void 0:c.getBoundingClientRect();if(!u)return;let d=u.width,p=u.height;switch(i){case"top":case"bottom":p=i==="top"?u.bottom-l.clientY:l.clientY-u.top,document.body.style.cursor="ns-resize";break;case"left":case"right":d=i==="left"?u.right-l.clientX:l.clientX-u.left,document.body.style.cursor="ew-resize";break;default:return void(document.body.style.cursor="auto")}s(d,p),window.dispatchEvent(new Event("resize"))},updateRect:()=>{var l;if(!Yt(r))return;const c=(l=o==null?void 0:o.current)==null?void 0:l.getBoundingClientRect();c&&s(c.width,c.height,i)}}},rte=ql("chat/initChatThunk",async(e,{dispatch:t,getState:n})=>{var r,o,i,a,s,l,c;ne.log("initChatThunk!!!");const u=n(),d=u.chatBox.agent,p=u.chatBox.botMode;if(!d||((r=d==null?void 0:d.config)==null?void 0:r.agent_id)==="loading")return;let h=ho(u),m=0;for(;h!=null&&h.waitingForReply&&m<3;){m+=1,await new Promise(v=>setTimeout(v,1e3));const g=cf()[h.id];if(g!=null&&g.waitingForReply)continue;const f=Qm(g==null?void 0:g.messages);f!=null&&f.done&&(h=g)}if(h!=null&&h.waitingForReply&&h.id){const g=cf()[h.id];if(g){const f=[...g.messages||[]],v=Qm(f);(v==null?void 0:v.type)==="bot"&&f.pop();const y=Qm(f),b=((o=y==null?void 0:y.id)!=null?o:-1)+1;f.push({id:b,type:"bot",text:"User stopped.",done:!0,stoppedByUser:!0}),await t($h({conversation_id:h.id,kind:"update",updatedThread:{waitingForReply:!1,messages:f}})),h=cf()[h.id]}}if(h){if(h.closed)return void await t(Xa());const g=u.chatBox.expiredTime;if(uf(h,g))await t(Gr({threadId:h.id})),await t(Xa());else{if(t(zy(h)),h.chatAgentType==="liveChat"&&(t(ZC("liveChat")),p==="searchBar"&&((l=(s=(a=d.config)==null?void 0:a.custom_style)==null?void 0:s.search_bar_config)!=null&&l.use_default_mode_for_live_chat?t(Yh(void 0)):t(nl({showSearchBar:!0})))),p==="avataiOnly")return;Yt(p)&&((c=h.stream_details)!=null&&c.pull_stream_url||($s(),t(Yh(void 0))))}}else{if(((i=u.chat.new)==null?void 0:i.status)===Xs)return;await t(Xa())}}),b3e=()=>{var e,t,n;const r=Pt(),o=dt(),{t:i}=jr(),{mutateAsync:a}=Si(),{mutateAsync:s}=gy(),l=G(T=>T.chatBox.showChatBox),c=G(wt),u=G(T=>T.chatBox.isChurnControlEnabled),d=G(T=>T.chatBox.composedMessage),[p,h]=x.useState(!1),[m,g]=x.useState(!1),f=(e=r==null?void 0:r.config)==null?void 0:e.churn_control,v=(n=(t=r==null?void 0:r.config)==null?void 0:t.custom_style)==null?void 0:n.proceed_cancel_button,y=G(T=>{var M;return(M=T.chatBox.cancelParams.subscription)==null?void 0:M.cancel_function_name}),b=G(T=>{var M;return(M=T.chatBox.cancelParams.parameters)==null?void 0:M.cancel_function_arguments}),w=G(T=>{var M;return(M=T.chatBox.cancelParams.parameters)==null?void 0:M.twi}),k=G(T=>{var M;return(M=T.chatBox.cancelParams.subscription)==null?void 0:M.cancel_link}),_=typeof w=="string"&&w.startsWith("pause"),E=i(_?"proceed_pause_button":"proceed_cancel_button");x.useEffect(()=>{h(!1),g(!1)},[c]),x.useLayoutEffect(()=>{if(!l||!u)return;const T=setTimeout(()=>{v!=null&&v.do_not_change_opacity||h(!0)},(v==null?void 0:v.change_opacity_delay_ms)||3e3);return()=>clearTimeout(T)},[l,u,v]),x.useEffect(()=>{d&&g(!0)},[d]);const S=x.useMemo(()=>{const T=(v==null?void 0:v.min_opacity)||.5,M={"--button-bg":"var(--proceed-cancel-button-bg, #d1d5db)","--button-color":"var(--proceed-cancel-button-text-color, black)","--button-hover":"var(--proceed-cancel-button-hover-bg, rgba(188, 192, 197, 1))","--button-bd":"var(--proceed-cancel-button-border, none)",top:"var(--proceed-cancel-button-top, 80px)",right:"var(--proceed-cancel-button-right, 16px)",left:"var(--proceed-cancel-button-left, unset)",transition:"opacity 0.3s ease-in-out",fontWeight:"var(--proceed-cancel-button-font-weight, 600)",borderRadius:"var(--proceed-cancel-button-border-radius, 4px)",zIndex:50,opacity:p?T:1,position:"absolute"};return m&&!(v!=null&&v.show_after_user_typing)&&(M.opacity=0,M.zIndex=0),M},[p,m,v]);if(!u||f==null||!f.show_proceed_cancel_button)return null;const O=async(T=!1)=>{o(Er(!1)),a({event_name:"ChurnCancelNow"});const{text:M,command:D}=(()=>({text:_?"Proceed to Pause":"Proceed to Cancel",command:JSON.stringify({type:"livex",parameters:{action:"frontend_action",follow_up:"Thank you for your business. We hope to work with you in the future! ",intention:_?"pause":"cancel",is_livex_direct_cancel:!0}})}))();await o(Ii({text:M,command:D})),T?await s({}):s({})};return A(An,{style:S,onClick:async()=>{if(c&&window.livexChatbot){if(!k&&!y)return window.alert("We apologize, but the `Cancel Now` button is temporarily unavailable. Please continue with the conversation to process your subscription changes."),void window.console.error("No cancel function name or link provided");if(k)await O(!0),window.location.href=k;else if(y)await XH({functionName:y,functionArguments:b}),await O(!0);else{const T="No cancel function name or link provided";a({event_name:zt.ChatbotError,note:T}),window.console.error(T)}}},children:E})};var y3e=Object.defineProperty,w3e=Object.defineProperties,k3e=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,ote=Object.prototype.hasOwnProperty,ite=Object.prototype.propertyIsEnumerable,ate=(e,t,n)=>t in e?y3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const yp=x.forwardRef((e,t)=>{var n=e,{children:r,onClick:o}=n,i=((d,p)=>{var h={};for(var m in d)ote.call(d,m)&&p.indexOf(m)<0&&(h[m]=d[m]);if(d!=null&&c5)for(var m of c5(d))p.indexOf(m)<0&&ite.call(d,m)&&(h[m]=d[m]);return h})(n,["children","onClick"]);const a=dr(),s=(a==null?void 0:a.theme)||{},{header_button_size:l="24px",header_button_variant:c="subtle",header_button_color:u="var(--header-button-color, white)"}=s;return A(Zt,((d,p)=>w3e(d,k3e(p)))(((d,p)=>{for(var h in p||(p={}))ote.call(p,h)&&ate(d,h,p[h]);if(c5)for(var h of c5(p))ite.call(p,h)&&ate(d,h,p[h]);return d})({ref:t,style:{width:l,height:l,minWidth:l,minHeight:l},variant:c,onClick:o,color:u},i),{children:r}))});yp.displayName="HeaderActionIcon";const u5=()=>{const e=G(n=>n.chatBox.chatAgentType),t=G(n=>n.chatBox.initialBotMode);return e==="liveChat"&&t==="searchBar"};function _3e(e){return gt({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 8v1H3V8h11z"},child:[]}]})(e)}const x3e=()=>{const e=dt(),t=hu(),n=t==null?void 0:t.hide_minimize_button;return u5()||n?null:A(yp,{onClick:()=>{e(Er(!1))},children:A(_3e,{})})},ste=()=>{const e=G(n=>n.chatBox.streamDetails),t=G(n=>n.chatBox.triedToGetAvataiSession);return G(n=>n.chatBox.botMode)==="avataiOnly"&&!e&&!t},C3e=({options:e})=>{var t,n,r,o;const i=dt(),{closeChatbot:a}=_C(),s=Pt(),l=sf(),c=rs(),u=ste(),d=op(),p=!((n=(t=s==null?void 0:s.config)==null?void 0:t.style)!=null&&n.disable_show_confirm_close_view);return(o=(r=s==null?void 0:s.config)==null?void 0:r.style)!=null&&o.hide_close_button||!e.enableClose&&!Tt||l||c||u&&!d?null:A(yp,{onClick:async()=>{A9("onCloseButtonClick"),p?i(Qh(!0)):await a()},children:A(ca,{})})};function S3e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 5h7"},child:[]},{tag:"path",attr:{d:"M7 4c0 4.846 0 7 .5 8"},child:[]},{tag:"path",attr:{d:"M10 8.5c0 2.286 -2 4.5 -3.5 4.5s-2.5 -1.135 -2.5 -2c0 -2 1 -3 3 -3s5 .57 5 2.857c0 1.524 -.667 2.571 -2 3.143"},child:[]},{tag:"path",attr:{d:"M12 20l4 -9l4 9"},child:[]},{tag:"path",attr:{d:"M19.1 18h-6.2"},child:[]}]})(e)}function T3e(e){return gt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 5.5a3.498 3.498 0 0 1-6.062 2.385l-5.112 3.021a3.498 3.498 0 0 1 0 2.188l5.112 3.021a3.5 3.5 0 1 1-.764 1.29l-5.112-3.02a3.499 3.499 0 1 1-3.843-5.642 3.499 3.499 0 0 1 3.843.872l5.112-3.021A3.5 3.5 0 1 1 20 5.5Zm-1.5 13a2 2 0 1 0-3.999-.001 2 2 0 0 0 3.999.001Zm0-13a2 2 0 1 0-3.999-.001A2 2 0 0 0 18.5 5.5ZM5.5 14a2 2 0 1 0 .001-3.999A2 2 0 0 0 5.5 14Z"},child:[]}]})(e)}const lte={modalTitle:{width:"17px",height:"17px"}},wp={content:{backgroundColor:"var(--modal-background-color, rgba(255, 255, 255, 1))",border:"var(--modal-border, 1px solid rgba(184, 184, 184, 1))",borderRadius:"var(--modal-border-radius, 8px)",margin:"8px 10px"},header:{backgroundColor:"var(--modal-background-color,rgba(255, 255, 255, 1))",color:"var(--modal-content-color, rgba(73, 80, 87, 1))"},title:{color:"var(--modal-content-color, rgba(73, 80, 87, 1))",fontSize:"var(--modal-title-font-size, 16px)",fontWeight:"var(--modal-title-font-weight, 700)",padding:"0 8px"},body:{backgroundColor:"var(--modal-background-color, rgba(255, 255, 255, 1))",color:"var(--modal-content-color, rgba(73, 80, 87, 1))",fontSize:"var(--modal-content-font-size, 12px)",margin:"12px 8px"},input:{backgroundColor:"var(--modal-input-background-color, rgba(255, 255, 255, 1))",border:"1px solid var(--modal-input-border-color, rgba(222, 226, 230, 1))",color:"var(--modal-input-text-color, rgba(173, 181, 189, 1))",height:"var(--modal-input-height, 32px)"},label:{color:"var(--modal-input-label-color, rgba(73, 80, 87, 1))",fontSize:"var(--modal-input-label-font-size, 12px)",fontWeight:"var(--modal-input-label-font-weight, 500)",marginBottom:"8px"},titleBox:{display:"flex",flexDirection:"row",alignItems:"center",gap:"4px",whiteSpace:"nowrap",justifyContent:"center",fontSize:"var(--modal-title-font-size, 16px)",fontWeight:"var(--modal-title-font-weight, 700)"}},cte={itemLabel:{fontSize:"var(--dropdown-item-font-size, 12px)"}},ute=({hideNewChat:e,hideShare:t})=>{var n,r,o,i;const{t:a}=jr(),s=dt(),l=G(wt),c=J9(),u=dr(),d=u==null?void 0:u.ui_language_codes,p=Yve(c==null?void 0:c.language,d),h=G(U=>U.chatBox.languageCode),{startNewChat:m}=D6(),{joinChat:g}=dy(),f=os(),[v,y]=pn(Xee),[b,w]=x.useState(!1),[k,_]=x.useState(!1),E=ste(),S=(n=c==null?void 0:c.style)==null?void 0:n.hide_language_button,O=((r=c==null?void 0:c.custom_style)==null?void 0:r.hide_share_button)||t,T=(o=c==null?void 0:c.style)==null?void 0:o.hide_refresh_button,M=x.useMemo(()=>l?`${Mt.frontendHost}/share/conversations/${l}`:"",[l]),D=x.useCallback(async()=>{await m()},[m]),H=x.useCallback(()=>{w(!0)},[]),$=x.useCallback(()=>{w(!1)},[]),R=x.useMemo(()=>{const U=[];return!T&&!E&&!e&&U.push({type:"item",content:A(Ht.Item,{leftSection:A(fV,{size:12}),onClick:D,children:a("new_chat")})}),S||U.push({type:"submenu",content:le(Ht,{shadow:"md",position:"left-start",trigger:"hover",closeOnItemClick:!1,openDelay:100,closeDelay:400,styles:cte,children:[A(Ht.Target,{children:A(Ht.Item,{leftSection:A(S3e,{style:{width:"var(--dropdown-item-font-size, 12px)",height:"var(--dropdown-item-font-size, 12px)"}}),style:{backgroundColor:b?"var(--menu-item-hover-color, rgba(219, 228, 255, 1))":void 0},onMouseOver:H,onMouseOut:$,children:a("language")})}),A(Ht.Dropdown,{onMouseEnter:H,onMouseLeave:$,style:{overflowY:"auto",maxHeight:"300px"},onMouseDownCapture:B=>B.stopPropagation(),children:p.map(B=>A(Ht.Item,{onClick:()=>(L=>{s(M$(L)),g(L)})(B.code),style:{backgroundColor:h===B.code?"var(--menu-item-hover-color, rgba(219, 228, 255, 1))":void 0},children:B.title},B.code))})]})}),O||U.push({type:"item",content:A(Ht.Item,{leftSection:A(rge,{style:{width:"var(--dropdown-item-font-size, 12px)",height:"var(--dropdown-item-font-size, 12px)"}}),onClick:()=>{_(!0)},children:a("share")})}),f&&U.push({type:"item",content:A(Ht.Item,{onClick:()=>y(B=>!B),style:{backgroundColor:v?"var(--menu-item-hover-color, rgba(219, 228, 255, 1))":void 0},children:a(v?"hide_inspector":"show_inspector")})}),U},[s,D,H,$,T,E,S,O,b,p,h,g,a,e,f,v,y]);return bt(R)?null:le(Yn,{children:[le(Ht,{shadow:"md",position:"bottom-end",styles:cte,children:[A(Ht.Target,{children:A(yp,{onClick:()=>{},style:{color:"var(--header-button-color, white)"},children:A(Vye,{style:{transform:"rotate(90deg)"}})})}),A(Ht.Dropdown,{children:R.map((U,B)=>U.type==="divider"?A(Ht.Divider,{},`divider-${B}`):U.content?x.cloneElement(U.content,{key:`item-${B}`}):null)})]}),((i=Fe.containerRef)==null?void 0:i.current)&&Os.createPortal(le(Bn.Root,{radius:"lg",opened:k,onClose:()=>_(!1),withinPortal:!1,centered:!0,styles:wp,children:[A(Bn.Overlay,{}),le(Bn.Content,{children:[le(Bn.Header,{children:[A(Bn.Title,{children:le(tt,{style:wp.titleBox,children:[A(T3e,{style:lte.modalTitle}),A("span",{children:a("share_public_link")})]})}),A(Zt,{variant:"subtle",onClick:()=>_(!1),color:"var(--modal-close-button-color, #495057)",children:A(ege,{})})]}),A(Bn.Body,{children:le(ir,{gap:"xs",align:"flex-end",children:[A(lC,{label:a("chat_link"),value:M,style:{flex:1},styles:{input:wp.input,label:wp.label},readOnly:!0}),A(QB,{value:M,timeout:2e3,children:({copied:U,copy:B})=>A(An,{onClick:B,variant:"filled",size:"md",color:"indigo.7",children:a(U?"copied":"copy")})})]})})]})]}),Fe.containerRef.current)]})},dte=on.div`
  color: rgba(240, 62, 62, 1);
  cursor: pointer;
  position: relative;
  transition: background-color 0.2s ease;
  z-index: 100;

  &::after {
    background-color: rgba(240, 62, 62, 0.7);
    border-radius: 4px;
    color: white;
    content: attr(data-tooltip);
    font-size: 14px;
    left: 50%;
    opacity: 0;
    padding: 8px 12px;
    position: absolute;
    top: 200%;
    transform: translateY(-50%) translateX(-50%);
    visibility: hidden;
    white-space: nowrap;
    transition:
      opacity 0.2s ease,
      visibility 0.2s ease;
  }

  &:hover::after {
    opacity: 1;
    visibility: visible;
  }
`,E3e=()=>{const e=G(l=>l.chatBox.triedToGetAvataiSession),t=G(l=>l.chatBox.streamDetails),n=G(l=>{var c,u,d;return(d=(u=(c=l.chatBox.agent)==null?void 0:c.config)==null?void 0:u.avatai)==null?void 0:d.disable_lip_sync}),{initiateSession:r}=Vh(),o=G(l=>l.chatBox.botMode),{isV2Avatar:i}=ac(),{t:a}=jr(),s=oc();return i||!e||t||n||!Yt(o)||s?null:A(dte,{onClick:()=>{r()},style:{top:0},"data-tooltip":a("could_not_get_session"),children:A(vH,{style:{width:22,height:22}})})},O3e=()=>{const{initiateSession:e}=Vh(),{isV2Avatar:t}=ac(),{disconnectLivekit:n}=oa(),{t:r}=jr(),o=oc(),i=fH();return t&&i&&!o?A(dte,{onClick:async()=>{await e()&&n()},"data-tooltip":r("could_not_get_session"),children:A(vH,{style:{width:22,height:22}})}):null},A3e=()=>{var e;const t=Pt(),n=G(p=>p.chatBox.showNavigationView),r=rs(),o=G(p=>{var h,m,g;return(g=(m=(h=p.chatBox.agent)==null?void 0:h.config)==null?void 0:m.custom_style)==null?void 0:g.transparent_header}),i=Xb(),a=dr(),s=a==null?void 0:a.agent_description;if(t==null||!t.config)return null;const l=(e=t.config.name)!=null?e:"Copilot",c=t.config.logo||t.logo;if(r)return A("div",{});const u="var(--logo-size, 42px)",d=n?`calc(${u} - 18px)`:u;return le("div",{id:"livex-logo-agent-name-container",className:"flex flex-grow items-center gap-3",style:{opacity:i||o?0:1},children:[c&&A("div",{id:"livex-logo-container",style:{width:d,height:d,overflow:"hidden",borderRadius:"var(--logo-border-radius, 100%)"},children:A("img",{id:"livex-logo-image",className:"w-full h-full object-contain",src:c})}),le(Pi,{gap:0,children:[A("div",{id:"livex-agent-name-container",style:{fontSize:Tt?"var(--agent-name-mobile-font-size, 14px)":"var(--agent-name-font-size, 16px)",fontWeight:"var(--agent-name-font-weight, unset)",color:"var(--agent-name-color, rgba(233, 236, 239, 1))"},className:"hidden flex-grow xs:flex ",children:l}),s&&A("div",{id:"livex-agent-description",style:{fontSize:"var(--agent-description-font-size, 8px)",fontWeight:"var(--agent-description-font-weight, 400)",color:"var(--agent-description-color, #B8B8B8)",marginTop:"var(--agent-description-margin-top, -4px)"},children:s})]})]})},P3e=()=>{const e=G(r=>r.chatBox.showNavigationView),t=$L().header,n=G(il);return t&&e&&!(n&&n>0)?le(R3e,{children:[A("div",{style:{fontWeight:800,fontSize:"1.71em"},children:t.title}),A("div",{style:{fontSize:"1em",fontWeight:100},children:t.body})]}):null},N3e=x.forwardRef(({options:e},t)=>{const n=(()=>{var l,c,u;const d=Vt(),p=rs(),h=sf(),m=G(E=>E.chatBox.showPopupImageSrc),g=G(E=>E.chatBox.showNavigationView),f=Pt(),v=(l=f==null?void 0:f.config)==null?void 0:l.style,y=(u=(c=f==null?void 0:f.config)==null?void 0:c.custom_style)==null?void 0:u.transparent_header,{name:b}=d,w=b==="gradient",k=Xb(),_={borderBottom:"var(--header-border-bottom)",userSelect:"none",width:"100%",display:"flex",flex:"0 0 56px",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:14,padding:"var(--regular-header-padding, 4px 14px)",background:"var(--header-background-color, transparent)",color:(v==null?void 0:v.header_text_color)||"white",zIndex:m?20:30};return w&&(_.background="linear-gradient(125deg, var(--primary-color) 0%, var(--secondary-color) 100%)"),p&&(_.flex="0 0 28px"),Tt&&(delete _.borderTopLeftRadius,delete _.borderTopRightRadius,_.position="fixed",_.top=0,_.left=0,g||(_.height=64)),(h||p)&&(delete _.borderTopLeftRadius,delete _.borderTopRightRadius),k&&(_.background="transparent"),y&&(_.background="transparent"),_})(),r=ch(X1),o=dr(),[i,a]=x.useState(0),s={position:"absolute",top:i,height:"0",width:"var(--header-divider-width, 0)",borderBottom:"var(--header-divider-border, 0px solid #F1F3F5)"};return x.useLayoutEffect(()=>{if(t&&typeof t!="function"){const l=t.current;if(l){const c=l.getBoundingClientRect();a(c.height)}}},[t]),le("div",{ref:t,id:"livex-regular-header-container",style:n,children:[le("div",{id:"livex-regular-header-top-container",style:{paddingLeft:"var(--regular-header-top-container-padding-left, 0px)",paddingRight:"var(--regular-header-top-container-padding-right, 0px)",display:"flex",alignItems:"center",width:"100%",height:"30px"},children:[(o==null?void 0:o.use_chat_history_view)&&A(yp,{onClick:()=>r(!0),style:{color:"var(--header-button-color, white)",marginRight:12},children:A(XU,{})}),A(A3e,{}),le(I3e,{children:[A(E3e,{}),A(O3e,{}),A(x3e,{}),A(ute,{}),A(C3e,{options:e})]})]}),A(P3e,{}),A("div",{id:"livex-regular-header-divider",style:s})]})}),I3e=Ae("div",{target:"evwks8c1"})({name:"1i49dfn",styles:"display:flex;align-items:flex-end;column-gap:var(--header-buttons-container-gap, 12px)"}),R3e=Ae("div",{target:"evwks8c0"})({name:"1hm6nh2",styles:"margin-right:auto;font-size:1em;white-space:pre;padding-left:1.5em;padding-right:1.5em;padding-bottom:1em;& *{white-space:break-spaces;}"}),hte=Ae("button",{target:"ehi52mm0"})({name:"1l0r6ky",styles:"display:flex;align-items:center;background-color:white;color:#374151;font-size:12px;padding:0.25em 0.5em;border:1px solid #9ca3af;border-radius:0.5em;&:hover{background-color:#f3f4f6;border-color:#374151;}"}),M3e=x.forwardRef((e,t)=>{const n=dt(),{mutateAsync:r}=gy(),o=u5(),i={zIndex:100};return Tt&&(i.position="fixed",i.top=0,i.width="100%"),A(D3e,{ref:t,style:i,children:le(hte,{onClick:async()=>{const a=async()=>{n(Q1([])),n(Hh("")),await r({keepOpenSearchBar:!0})};o?LC({modal:"confirm",title:"Close Live Chat",innerProps:{message:"Are you sure you want to close the live chat?",confirmLabel:"Close Live Chat",confirmColor:"red",onCancel:()=>{},onConfirm:a}}):a()},children:[A(Z0e,{style:{width:16}}),"Back"]})})}),D3e=Ae("div",{target:"e1mef90"})({name:"1sxx6ad",styles:"border-top-left-radius:16px;border-top-right-radius:16px;background-color:white;display:flex;padding:0.5em;justify-content:space-between;border-bottom:var(--search_bar_header_border_bottom)"});var L3e=Object.defineProperty,j3e=Object.defineProperties,z3e=Object.getOwnPropertyDescriptors,pte=Object.getOwnPropertySymbols,F3e=Object.prototype.hasOwnProperty,B3e=Object.prototype.propertyIsEnumerable,mte=(e,t,n)=>t in e?L3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const U3e=x.forwardRef((e,t)=>is()?A(M3e,{ref:t}):A(N3e,((n,r)=>j3e(n,z3e(r)))(((n,r)=>{for(var o in r||(r={}))F3e.call(r,o)&&mte(n,o,r[o]);if(pte)for(var o of pte(r))B3e.call(r,o)&&mte(n,o,r[o]);return n})({},e),{ref:t})));var H3e=Object.defineProperty,fte=Object.getOwnPropertySymbols,$3e=Object.prototype.hasOwnProperty,V3e=Object.prototype.propertyIsEnumerable,gte=(e,t,n)=>t in e?H3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q3e=(e,t)=>{for(var n in t||(t={}))$3e.call(t,n)&&gte(e,n,t[n]);if(fte)for(var n of fte(t))V3e.call(t,n)&&gte(e,n,t[n]);return e};const W3e=x.memo(()=>{const e=dt(),t=G(w=>w.chatBox.isMicOn),n=Ry(),r=HL(),o=r==null?void 0:r.welcome_video_urls,i=G(w=>w.chatBox.showChatBox),a=G(w=>w.chatBox.botMode),s=x.useRef(null),[l,c]=x.useState(null),u=x.useRef(null),d=x.useRef(null),p=rp(),h=G(w=>w.chatBox.videoAutoPlayStatus),m=oc(),g=G(wt);x.useLayoutEffect(()=>{Fe.avatarVideoContainerRef=s},[]),x.useEffect(()=>{Yt(a)&&(ne.log("[BackgroundVideoHoc] setShowDoneVideo(true) called from: botMode effect"),e(Xh(!0)))},[e,a]),x.useEffect(()=>{Yt(a)&&(ne.log("[BackgroundVideoHoc] setShowDoneVideo(true) called from: activeThreadId effect"),e(Xh(!0)))},[g,a,e]),x.useEffect(()=>{if(o&&o.length>0){const w=Math.floor(Math.random()*o.length),k=o[w];c(k)}},[o]);const f=x.useCallback(()=>{u.current&&(u.current.style.display="none")},[]),v=x.useCallback(async()=>{if(u.current&&document.contains(u.current))try{d.current&&d.current.catch(()=>{}),d.current=u.current.play(),await d.current,d.current=null}catch(w){w instanceof Error&&w.name!=="AbortError"&&(w.name==="NotAllowedError"?e(eS("needUserInteraction")):window.console.error("Error playing welcome video in BackgroundVideoHoc:",w)),d.current=null}},[e]),y=i&&!n&&l&&!p;x.useEffect(()=>{y&&v()},[y,v]),x.useEffect(()=>{h==="canAutoPlay"&&v()},[h,v]),x.useEffect(()=>()=>{d.current=null},[]);const{style:b}=Lh();return Yt(a)&&a!=="avataiOnly"?m?null:A(x.Suspense,{fallback:A("div",{children:"Loading video player..."}),children:A("div",{ref:s,style:q3e({},b),children:y&&A("video",{ref:u,playsInline:!0,controls:!1,style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",zIndex:3},muted:t,onEnded:f,children:A("source",{src:l,type:"video/mp4"})})})}):($s(),null)});function K3e(e){return gt({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"},child:[]}]})(e)}var G3e=Object.defineProperty,Y3e=Object.defineProperties,Q3e=Object.getOwnPropertyDescriptors,d5=Object.getOwnPropertySymbols,vte=Object.prototype.hasOwnProperty,bte=Object.prototype.propertyIsEnumerable,yte=(e,t,n)=>t in e?G3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const L6={xs:{padding:"6px 12px",fontSize:"12px",spinnerSize:12},sm:{padding:"8px 16px",fontSize:"14px",spinnerSize:14},md:{padding:"12px 24px",fontSize:"16px",spinnerSize:16},lg:{padding:"16px 32px",fontSize:"18px",spinnerSize:18},xl:{padding:"20px 40px",fontSize:"20px",spinnerSize:20}},J3e=e=>{var t=e,{title:n,loading:r,loadingMessage:o,color:i="rgba(248, 249, 250, 0.80)",size:a="md",style:s}=t,l=((h,m)=>{var g={};for(var f in h)vte.call(h,f)&&m.indexOf(f)<0&&(g[f]=h[f]);if(h!=null&&d5)for(var f of d5(h))m.indexOf(f)<0&&bte.call(h,f)&&(g[f]=h[f]);return g})(t,["title","loading","loadingMessage","color","size","style"]);const{t:c}=jr(),u=L6[a].spinnerSize,d=s?Zi(s):{};d.opacity=r?.7:1;const p=x.useMemo(()=>r?le(Yn,{children:[A(K3e,{className:"spinner",style:{width:u,height:u,flexShrink:0}}),A("span",{children:o||c("loading")})]}):A("span",{style:{whiteSpace:"nowrap"},children:n||""}),[r,n,u,o,c]);return le(X3e,((h,m)=>Y3e(h,Q3e(m)))(((h,m)=>{for(var g in m||(m={}))vte.call(m,g)&&yte(h,g,m[g]);if(d5)for(var g of d5(m))bte.call(m,g)&&yte(h,g,m[g]);return h})({color:i,size:a,disabled:r,style:d},l),{children:[!r&&A(m0e,{style:{width:u,height:u,flexShrink:0}}),p]}))},X3e=Ae("button",{target:"e1rn4k6n0"})("padding:",e=>L6[e.size||"md"].padding,";color:",e=>Hn(e.color||"#007bff"),";border:1px solid transparent;border-radius:16px;background:",e=>{const t=e.color||"#007bff";return`var(--click-to-chat-background, linear-gradient(${t}, ${t}) padding-box, var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff)) border-box)`},";cursor:",e=>e.loading?"wait":"pointer",";font-size:",e=>L6[e.size||"md"].fontSize,";font-weight:400;z-index:1;display:flex;align-items:center;justify-content:center;gap:8px;backdrop-filter:blur(10px);text-align:center;min-height:52px;&:hover:not(:disabled){background:",e=>{const t=e.color||"#007bff",n=Nu(.1,t,"StyledButton.background");return`var(--click-to-chat-hover-background, linear-gradient(${n}, ${n}) padding-box, var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff)) border-box)`},";}&:disabled{cursor:not-allowed;opacity:0.5;}.spinner{animation:spin 1s linear infinite;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"),wte=()=>typeof window<"u"&&"caches"in window;var Z3e=Object.defineProperty,e6e=Object.defineProperties,t6e=Object.getOwnPropertyDescriptors,kte=Object.getOwnPropertySymbols,n6e=Object.prototype.hasOwnProperty,r6e=Object.prototype.propertyIsEnumerable,_te=(e,t,n)=>t in e?Z3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o6e=(e,t)=>{for(var n in t||(t={}))n6e.call(t,n)&&_te(e,n,t[n]);if(kte)for(var n of kte(t))r6e.call(t,n)&&_te(e,n,t[n]);return e},i6e=(e,t)=>e6e(e,t6e(t));const xte=({url:e,cacheName:t="video-cache",enableCache:n=!0,cacheTimeMinutes:r=30})=>{const[o,i]=x.useState(null),[a,s]=x.useState(!0),[l,c]=x.useState(null),u=x.useRef(null),d=x.useCallback(async()=>{if(e){if(!n)return ne.log("[VideoCache] Caching disabled, using direct URL"),void i(e);if(!wte())return ne.log("[VideoCache] Cache API not supported, falling back to direct URL"),void i(e);ne.log("[VideoCache] Starting video cache process for:",e),s(!0),c(null),u.current&&(ne.log("[VideoCache] Cancelling previous request"),qa.abort(u.current)),u.current=qa.createController();try{const p=await caches.open(t);ne.log("[VideoCache] Opened cache:",t);const h=await p.match(e);if(h){const b=h.headers.get("x-cache-timestamp");if(b&&!(Date.now()-parseInt(b,10)>60*r*1e3)){ne.log("[VideoCache] Found valid cached video, creating blob URL");const w=await h.blob(),k=URL.createObjectURL(w);return i(k),s(!1),void ne.log("[VideoCache] Using cached video:",k)}ne.log("[VideoCache] Cached video expired, removing from cache"),await p.delete(e)}ne.log("[VideoCache] Video not cached, fetching from network");const m=await fetch(e,{signal:u.current.signal});if(!m.ok)throw new Error(`Failed to fetch video: ${m.status} ${m.statusText}`);ne.log("[VideoCache] Video fetched successfully, caching response");const g=m.clone(),f=new Response(g.body,{status:g.status,statusText:g.statusText,headers:i6e(o6e({},Object.fromEntries(g.headers.entries())),{"x-cache-timestamp":Date.now().toString()})});await p.put(e,f),ne.log("[VideoCache] Video cached successfully with timestamp");const v=await m.blob(),y=URL.createObjectURL(v);i(y),c(null),ne.log("[VideoCache] Created blob URL for immediate use:",y)}catch(p){if(p instanceof Error&&p.name==="AbortError")return void ne.log("[VideoCache] Request was cancelled");ne.warn("[VideoCache] Video caching failed, falling back to direct URL:",p),i(e),c(p instanceof Error?p.message:"Unknown error")}finally{s(!1)}}else ne.log("[VideoCache] No URL provided, skipping cache")},[e,t,n,r]);return x.useEffect(()=>(ne.log("[VideoCache] useEffect triggered"),d(),()=>{ne.log("[VideoCache] Cleanup: aborting request"),u.current&&qa.abort(u.current)}),[d]),x.useEffect(()=>()=>{o&&o.startsWith("blob:")&&(URL.revokeObjectURL(o),ne.log("[VideoCache] Cleanup: revoked blob URL:",o))},[o]),{cachedUrl:o,isLoading:a,error:l,refetch:async()=>{if(ne.log("[VideoCache] Refetching video"),wte()&&n)try{await(await caches.open(t)).delete(e),ne.log("[VideoCache] Cleared existing cache entry")}catch(p){ne.warn("[VideoCache] Failed to clear cache entry:",p)}await d()}}};var a6e=Object.defineProperty,s6e=Object.defineProperties,l6e=Object.getOwnPropertyDescriptors,Cte=Object.getOwnPropertySymbols,c6e=Object.prototype.hasOwnProperty,u6e=Object.prototype.propertyIsEnumerable,Ste=(e,t,n)=>t in e?a6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j6=(e,t)=>{for(var n in t||(t={}))c6e.call(t,n)&&Ste(e,n,t[n]);if(Cte)for(var n of Cte(t))u6e.call(t,n)&&Ste(e,n,t[n]);return e},z6=(e,t)=>s6e(e,l6e(t));const d6e=()=>{var e,t;const n=dt(),r=Pt(),o=G(O=>O.chatBox.isWelcomeVideoPlayed),i=((t=(e=r==null?void 0:r.config)==null?void 0:e.avatai)==null?void 0:t.welcome_video_urls[0])||"",{videoStyle:a,videoContainerStyle:s}=Lh(),l=x.useRef(null),c=G(O=>O.chatBox.clickToStartClicked),u=G(O=>O.chatBox.skipWelcomeVideo),d=ic(),p=G(O=>O.chatBox.showChatBox),[h,m]=x.useState(!1),g=x.useRef(null),f=G(O=>O.chatBox.botVoiceEnabled),{cachedUrl:v,isLoading:y,error:b}=xte({url:i,cacheName:"welcome-video-cache",enableCache:h&&!!i});x.useEffect(()=>{c&&i&&!o&&!u&&!h&&m(!0)},[c,i,o,u,h]);const w=x.useCallback(async()=>{if(l.current)try{ne.log("[WelcomeVideo] Attempting to play video"),g.current&&g.current.catch(()=>{}),g.current=l.current.play(),await g.current,g.current=null,ne.log("[WelcomeVideo] Video started playing successfully")}catch(O){O instanceof Error&&O.name!=="AbortError"?ne.error("[WelcomeVideo] Error playing welcome video:",O):ne.log("[WelcomeVideo] Play request was cancelled (AbortError)"),g.current=null}else ne.log("[WelcomeVideo] Video ref not available for playing")},[]),k=x.useCallback((O=10,T=300)=>{let M=0;const D=()=>{if(!(M>=O))return l.current?l.current.isConnected?l.current.readyState<2?(ne.log(`[WelcomeVideo] Video not ready (readyState: ${l.current.readyState}), retry ${M+1}/${O}`),M++,void setTimeout(D,T)):(ne.log("[WelcomeVideo] Video element ready, attempting to play"),void w()):(ne.log(`[WelcomeVideo] Video element not connected to DOM, retry ${M+1}/${O}`),M++,void setTimeout(D,T)):(ne.log(`[WelcomeVideo] Video ref not available, retry ${M+1}/${O}`),M++,void setTimeout(D,T));ne.log("[WelcomeVideo] Max retries reached, giving up on playing video")};setTimeout(D,100)},[w]),_=x.useCallback(()=>{l.current&&l.current.isConnected&&(l.current.pause(),l.current.currentTime=0),g.current=null},[]),E=x.useCallback(()=>{ne.log("[WelcomeVideo] Video loaded, checking if should play"),p&&!o&&c&&!u&&(ne.log("[WelcomeVideo] Conditions met after video load, playing video"),k())},[p,o,c,u,k]),S=v||i;return x.useEffect(()=>{l.current&&S?(ne.log("[WelcomeVideo] Video control check:",{showChatBox:p,isWelcomeVideoPlayed:o,clickToStartClicked:c,skipWelcomeVideo:u,hasVideoSrc:!!S,videoSrc:S.substring(0,50)+"..."}),p&&!o&&c&&!u?(ne.log("[WelcomeVideo] Conditions met, playing video"),k()):(ne.log("[WelcomeVideo] Conditions not met, pausing video"),_())):ne.log("[WelcomeVideo] Video control: video element or video source not available")},[p,o,c,u,S,w,_,k]),x.useEffect(()=>{o||d&&l.current&&(_(),n(tS(!0)))},[n,d,o,_]),x.useEffect(()=>()=>{g.current=null},[]),!i||o||!c||u?null:y?A("div",{id:"welcome-video-container",style:z6(j6({},s),{zIndex:2}),children:A("div",{style:z6(j6({},a),{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.1)",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"}),children:"Loading welcome video..."})}):(b&&ne.warn("[WelcomeVideo] Welcome video caching error:",b),A("div",{id:"welcome-video-container",style:z6(j6({},s),{zIndex:2}),children:A("video",{id:"welcome-video",ref:l,playsInline:!0,controls:!1,style:a,src:S,preload:"auto",muted:!f,onEnded:()=>n(tS(!0)),onLoadedData:E})}))};var h6e=Object.defineProperty,p6e=Object.defineProperties,m6e=Object.getOwnPropertyDescriptors,Tte=Object.getOwnPropertySymbols,f6e=Object.prototype.hasOwnProperty,g6e=Object.prototype.propertyIsEnumerable,Ete=(e,t,n)=>t in e?h6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ote=(e,t)=>{for(var n in t||(t={}))f6e.call(t,n)&&Ete(e,n,t[n]);if(Tte)for(var n of Tte(t))g6e.call(t,n)&&Ete(e,n,t[n]);return e},Ate=(e,t)=>p6e(e,m6e(t));const v6e=()=>{var e,t;const n=Pt(),r=((t=(e=n==null?void 0:n.config)==null?void 0:e.avatai)==null?void 0:t.done_video_urls[0])||"",{videoStyle:o,videoContainerStyle:i}=Lh(),a=G(d=>d.chatBox.showDoneVideo),{cachedUrl:s,isLoading:l,error:c}=xte({url:r,cacheName:"done-video-cache",enableCache:!!r});if(!r||!a)return null;if(l)return A("div",{id:"done-video-container",style:Ate(Ote({},i),{zIndex:1}),children:A("div",{style:Ate(Ote({},o),{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.1)",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"}),children:"Loading video..."})});c&&ne.warn("[DoneVideo] video caching error:",c);const u=s||r;return ne.log("[DoneVideo] videoSrc:",u),A("div",{id:"done-video-container",style:i,children:A("video",{id:"done-video",autoPlay:!0,muted:!0,playsInline:!0,controls:!1,loop:!0,style:o,src:u,preload:"auto"})})};var b6e=Object.defineProperty,F6=(e,t,n)=>((r,o,i)=>o in r?b6e(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class y6e{constructor(t=gu){F6(this,"queue",""),F6(this,"currentId",null),F6(this,"idGenerator"),this.idGenerator=t}processChunk(t){const n=[];return t&&(this.currentId?(this.queue+=t,n.push({id:this.currentId,text:this.queue,done:!1})):(this.currentId=this.idGenerator(),this.queue=t,n.push({id:this.currentId,text:this.queue,done:!1}))),n}flush(){if(!this.currentId)return[];const t={id:this.currentId,text:this.queue,done:!0};return this.queue="",this.currentId=null,[t]}getCurrentId(){return this.currentId}}var w6e=Object.defineProperty,Pte=(e,t,n)=>((r,o,i)=>o in r?w6e(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class k6e{constructor(){Pte(this,"jsonParts",{}),Pte(this,"isCollecting",{})}processMessage(t){var n;const r=t.mid,o=t.idx,i=t.fin,a=(n=t.pld)==null?void 0:n.extra_data;return!r||typeof o!="number"||o<0?(ne.error("JsonResponseAssembler: Invalid message format - missing or invalid messageId or idx:",{messageId:r,idx:o}),null):a&&a.json_response!==void 0&&(this.isCollecting[r]||(this.isCollecting[r]=!0,this.jsonParts[r]={},ne.log("JsonResponseAssembler: Started collecting JSON response for messageId:",r)),this.jsonParts[r][o]=a.json_response,i)?this.assembleJson(r):null}assembleJson(t){const n=this.jsonParts[t];if(!n)return null;const r=Object.keys(n).map(Number).filter(i=>!isNaN(i)&&i>=0).sort((i,a)=>i-a);if(bt(r))return ne.error("JsonResponseAssembler: No valid fragments found for messageId:",t),this.cleanup(t),null;let o="";for(const i of r)o+=n[i];delete this.jsonParts[t],delete this.isCollecting[t];try{const i=JSON.parse(o);return ne.log("JsonResponseAssembler: Successfully assembled JSON response for messageId:",t),i}catch(i){return ne.error("JsonResponseAssembler: JSON parsing failed:",i,"for messageId:",t),null}}cleanup(t){delete this.jsonParts[t],delete this.isCollecting[t]}cleanupAll(){this.jsonParts={},this.isCollecting={}}}var _6e=Object.defineProperty,Nte=Object.getOwnPropertySymbols,x6e=Object.prototype.hasOwnProperty,C6e=Object.prototype.propertyIsEnumerable,Ite=(e,t,n)=>t in e?_6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B6=(e,t)=>{for(var n in t||(t={}))x6e.call(t,n)&&Ite(e,n,t[n]);if(Nte)for(var n of Nte(t))C6e.call(t,n)&&Ite(e,n,t[n]);return e};const S6e=()=>{const e=dt(),t=G(wt),n=x.useRef(new y6e(gu)),r=x.useRef(new k6e),o=x.useRef(null);return x.useCallback((i,a)=>{try{const s=(m=>{const g=new TextDecoder().decode(m);if(g.trim())try{const f=JSON.parse(g);return{version:f.v,type:f.type,mid:f.mid,idx:f.idx,fin:f.fin,payload:f.pld}}catch(f){return void ne.error("Failed to parse message as JSON:",{error:f,message:g})}else ne.warn("Received empty message")})(a);if(ne.log("useOnStreamMessageHandler parsedMessage:",s),!s)return;const{version:l,type:c,mid:u,idx:d,fin:p,payload:h}=s;if(l!==2)return void ne.error(`unsupported message version, v=${l}`);switch(c){case"cmd":{const{cmd:m,code:g,msg:f}=h;g!==1e3&&ne.error(`cmd-response, cmd=${m}, code=${g}, msg=${f}`);break}case"event":{const{event:m}=h;switch(m){case"audio_start":e(ns(!0));break;case"audio_end":e(ns(!1))}break}case"chat":{const{text:m,from:g,extra_data:f}=h;if(g==="user")e(Un({type:g,text:m,id:gu(),done:!0})),e(Ri({threadId:t,waiting:!0}));else if((f==null?void 0:f.json_response)!==void 0){const v=n.current.getCurrentId();v&&(o.current=v),n.current.flush().forEach(b=>e(Un(B6({type:"bot"},b))));const y=r.current.processMessage({mid:u,idx:d,fin:p,pld:{extra_data:f}});if(y){ne.log("Received complete LiveX JSON response:",y);const b=B6({type:"bot",id:o.current,done:!0},y);e(Un(b)),o.current=null}}else n.current.processChunk(m).forEach(v=>{const y=B6({type:"bot",format:"markdown"},v);e(Un(y))}),e(Ri({threadId:t,waiting:!1}));break}}}catch(s){ne.error("Error processing stream message: ",s)}},[e,t])},T6e=x.memo(()=>{const e=dt(),t=G(N=>N.chatBox.chatBoxWidth),n=G(N=>N.chatBox.showChatBox),r=G(N=>N.chatBox.isAvatarSpeaking),o=G(N=>N.chatBox.isMicOn),[i,a]=x.useState(!1),{joinChat:s}=dy(),l=x.useRef(s),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),p=x.useRef(null),h=x.useRef(!1),m=x.useRef("DISCONNECTED"),g=x.useRef(!1),f=B$(),v=n,y=x.useRef(()=>{}),{isV2Avatar:b}=ac(),w=cC(),k=x.useRef(b),_=x.useRef(G(N=>N.chatBox.botVoiceEnabled)),{onConnectButtonClicked:E}=oa(),S=G(wt),O=S6e(),T=G(N=>N.chat.messagesUpdatedAt),M=G(N=>N.chatBox.botVoiceEnabled);x.useEffect(()=>{l.current=s},[s]),x.useEffect(()=>{i||(async()=>{try{await t4(),await pr(),a(!0)}catch(N){ne.error("Failed to initialize Agora in WebRtcVideoV4:",N)}})()},[i]);const D=x.useCallback(async(N,q)=>{try{q.addEventListener("playing",()=>{ne.log("[WebRtcVideoV4] setShowDoneVideo(false) called from: video playing event"),e(Xh(!1))},{once:!0}),await N.play(q)}catch(J){ne.error("Failed to play video track:",J),J.name!=="AbortError"&&document.contains(q)&&setTimeout(()=>D(N,q),1e3)}},[e]),H=x.useCallback(async()=>{if(ne.log("Server disconnected - cleaning up session state"),e(Xh(!0)),e(ns(!1)),e(rf(null)),await S1.clearSession(),m.current="DISCONNECTED",u.current=null,p.current&&(clearInterval(p.current),p.current=null),b&&S&&w)try{ne.log("Triggering LiveKit fallback for V2Avatar mode"),await E(S)}catch(N){ne.error("Failed to initiate LiveKit fallback after server disconnection:",N)}},[e,E,b,S,w]),$=x.useRef(!1),R=x.useCallback(async(N,q,J,Q)=>{if($.current)return;if($.current=!0,u.current||m.current==="CONNECTING")return void($.current=!1);ne.log("WebRtcVideoV4 joinChannel getSharedAgoraClient");const te=await pr();if(!te)return ne.error("Agora client not initialized"),void($.current=!1);if(te.connectionState==="CONNECTING"||te.connectionState==="CONNECTED")try{te.removeAllListeners(),await te.leave(),await r4(te,"DISCONNECTED",2e3)}catch{await Uv()}try{m.current="CONNECTING",te.on("connection-state-change",ee=>{m.current=ee,ee==="DISCONNECTED"&&H()});const X=async(ee,ue)=>{if(c.current){if(ue==="video"){k.current&&(ne.log("WebRtcVideoV4 onUserPublish joinChat"),l.current());try{const de=await te.subscribe(ee,ue);u.current=de,await D(de,c.current)}catch(de){ne.error("onUserPublish: Error subscribing to video track:",de)}}if(ue==="audio")try{const de=await te.subscribe(ee,ue);_.current&&de.play(),te.enableAudioVolumeIndicator(),te.on("volume-indicator",ge=>{ge.forEach(he=>{he.uid===ee.uid&&e(ns(he.level>5))})})}catch(de){ne.error("onUserPublish: Error subscribing to audio track:",de)}}else ne.error("Video element not found")};te.on("user-published",X),te.on("user-unpublished",()=>{ne.log("user-unpublished!!!")}),te.on("exception",ee=>{const ue=ee.code;ue===2003||ue===4003||ne.error("Agora exception:",ee)}),te.on("stream-message",O),await te.join(N,q,J,Q)}catch(X){return await y.current(),m.current="DISCONNECTED",ne.error("Failed to join Agora channel:",JSON.stringify(X)),X instanceof Error&&X.message.includes("UID_BANNED")?(S1.clearSession(),void($.current=!1)):(X instanceof Error&&X.message.includes("connecting/connected")&&await Uv(),$.current=!1,void setTimeout(()=>R(N,q,J,Q),2e3))}finally{$.current=!1}},[e,H,D,O]),U=x.useCallback(async()=>{if(e(Xh(!0)),!u.current&&m.current==="DISCONNECTED"||g.current)return;ne.log("WebRtcVideoV4 leaveChannel getSharedAgoraClient");const N=await pr();if(N){g.current=!0;try{u.current&&(await u.current.stop(),u.current.unpipe(),d.current&&d.current.unpipe()),N.removeAllListeners(),await N.leave(),u.current=null,e(ns(!1)),m.current="DISCONNECTED"}catch(q){ne.error("Failed to leave Agora channel:",q)}finally{g.current=!1}}},[e]),B=x.useCallback(async()=>{f!=null&&f.agora_app_id&&f!=null&&f.agora_channel&&f!=null&&f.agora_token&&f!=null&&f.uid?(await R(f.agora_app_id,f.agora_channel,f.agora_token,f.uid),ne.log("WebRtcVideoV4 handleManualJoin joinChat"),await l.current()):ne.error("Missing stream details for manual join")},[f,R]),L=x.useCallback(async()=>{await y.current()},[]);x.useEffect(()=>{y.current=U},[U]),x.useEffect(()=>{i&&(v?f!=null&&f.agora_app_id&&(f!=null&&f.agora_channel)&&(f!=null&&f.agora_token)&&(f!=null&&f.uid)?(m.current==="DISCONNECTED"&&(async()=>(await R(f.agora_app_id,f.agora_channel,f.agora_token,Number(f.uid)),ne.log("WebRtcVideoV4 DISCONNECTED joinChat"),await l.current()))(),Fe.avatarPlayer={play:()=>{},reload:()=>{},destroy:()=>{y.current()}}):m.current!=="DISCONNECTED"&&(y.current(),S1.clearSession()):m.current!=="DISCONNECTED"&&y.current())},[i,v,f==null?void 0:f.agora_app_id,f==null?void 0:f.agora_channel,f==null?void 0:f.agora_token,f==null?void 0:f.uid,e,R]),x.useEffect(()=>{var N;if(!n||!f)return;const q=(N=Fe.chatWrapperRef)==null?void 0:N.current;if(!q)return;const J=()=>{h.current=!0,p.current&&(clearInterval(p.current),p.current=null)};return q.addEventListener("wheel",J),q.addEventListener("touchmove",J),()=>{q.removeEventListener("wheel",J),q.removeEventListener("touchmove",J)}},[n,f]),x.useLayoutEffect(()=>{var N,q;h.current=!1;const J=(N=Fe.chatWrapperRef)==null?void 0:N.current,Q=(q=Fe.lastBotMessageRef)==null?void 0:q.current;if(!J||!Q)return;const te=(X=>{const ee=Math.round(.3*X);return Math.max(10,ee)})(Q.getBoundingClientRect().width);return r&&!h.current?p.current=setInterval(()=>{J.scrollTop+=1},te):p.current&&(clearInterval(p.current),p.current=null),()=>{p.current&&clearInterval(p.current)}},[r,t,T]),x.useEffect(()=>{_.current=M},[M]);const{videoStyle:C,videoContainerStyle:V}=Lh();return i?le(Yn,{children:[A(ku,{shadow:"md",p:"xs",style:{position:"fixed",top:"70px",right:"10px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",display:"none"},children:le(ir,{gap:"xs",children:[A(An,{size:"xs",color:"green",onClick:B,children:"Join Channel"}),A(An,{size:"xs",color:"red",onClick:L,children:"Leave Channel"}),le(kn,{size:"xs",ta:"center",c:"dimmed",children:["Status: ",m.current]})]})}),A(v6e,{}),A("div",{id:"avatai-rtc-video-container",style:V,children:A("video",{ref:c,id:"avatai-rtc-video",controls:!1,playsInline:!0,style:C,muted:o})})]}):null});var E6e=Object.defineProperty,Rte=Object.getOwnPropertySymbols,O6e=Object.prototype.hasOwnProperty,A6e=Object.prototype.propertyIsEnumerable,Mte=(e,t,n)=>t in e?E6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P6e=(e,t)=>{for(var n in t||(t={}))O6e.call(t,n)&&Mte(e,n,t[n]);if(Rte)for(var n of Rte(t))A6e.call(t,n)&&Mte(e,n,t[n]);return e};const N6e=x.memo(()=>{const e=G(v=>v.chatBox.botMode),{initiateSession:t,isPending:n}=Vh(),r=G(v=>v.chatBox.triedToGetAvataiSession),{style:o}=Lh(),i=lf(),a=(()=>{var v;const{t:y}=jr(),b=J9(),w=((v=b==null?void 0:b.avatai)==null?void 0:v.click_to_start_button)||{},k=tD(w,S=>S),_=DL(k,["font_size","bottom_offset"]),E=Ci({},{title:"",i18n_key:"click_to_chat",color:"rgba(248, 249, 250, 0.8)",font_size:14,bottom_offset:120},_);return E.title=E.i18n_key?y(E.i18n_key):w.title||"",E})(),s=G(v=>v.chatBox.streamDetails),{t:l}=jr(),{status:c}=G(v=>v.chat.close),u=c==="loading",d=oc();if(!e||e!=="avataiOnly")return $s(),null;const{title:p,color:h,font_size:m,bottom_offset:g}=a,f=!s&&!r;return d?null:le("div",{style:P6e({},o),id:"avatai-only-start-view",children:[A(Rh,{visible:u}),A(T6e,{}),(f||i)&&A(Yn,{children:A(J3e,{style:{position:"absolute",bottom:g,left:"50%",transform:"translateX(-50%)",zIndex:10,fontSize:m,width:"fit-content",height:"52px"},onClick:async()=>{await t()},loading:n,loadingMessage:l("loading"),title:p,color:h})}),A(d6e,{})]})}),I6e=()=>{const e=G(ho),t=G(wt),n=G(g=>g.chatBox.expiredTime),r=G(g=>g.chatBox.showChatBox),o=G(g=>g.chatBox.botMode),i=G(g=>g.chatBox.streamDetails),a=G(g=>g.chatBox.triedToGetAvataiSession),[s,l]=x.useState(!1),c=x.useRef(null),u=x.useMemo(()=>{const g=((e==null?void 0:e.messages)||[]).slice(-1)[0],f=(g==null?void 0:g.timestamp)||(e==null?void 0:e.createdAt),v=f?new Date(f).getTime():null;return v??null},[e]),d=x.useMemo(()=>o==="avataiOnly"?!i&&!a:bt(e==null?void 0:e.messages),[o,i,a,e]),p=x.useCallback(()=>{if(!r||!t||d||!u||!n)return;const g=u+1e3*n,f=Math.max(0,g-Date.now());c.current&&(window.clearTimeout(c.current),c.current=null),f!==0?c.current=window.setTimeout(()=>l(!0),f):l(!0)},[n,u,r,t,d]);x.useEffect(()=>(l(!1),p(),()=>{c.current&&(window.clearTimeout(c.current),c.current=null)}),[p]),x.useEffect(()=>{r||(l(!1),c.current&&(window.clearTimeout(c.current),c.current=null))},[r]);const{startNewChat:h}=D6(),m=x.useCallback(async()=>{await h(),l(!1)},[h]);return A(Yn,{children:le(Bn.Root,{radius:"lg",opened:s,onClose:()=>{},withinPortal:!1,centered:!0,closeOnClickOutside:!1,closeOnEscape:!1,styles:wp,children:[A(Bn.Overlay,{}),le(Bn.Content,{children:[A(Bn.Header,{children:A(Bn.Title,{children:le(tt,{style:wp.titleBox,children:[A("span",{style:lte.modalTitle,children:""}),A("span",{children:"Session expired"})]})})}),le(Bn.Body,{children:[A(tt,{style:{marginBottom:12,color:"var(--modal-description-color, #495057)"},children:"Your session has expired due to inactivity."}),A(ir,{gap:"xs",justify:"flex-end",style:{width:"100%"},children:A(An,{variant:"filled",size:"md",fullWidth:!0,onClick:m,children:"Start new chat"})})]})]})]})})},R6e=({headerRef:e,options:t,getBody:n})=>{const r=x.useRef(null);return Fe.chatDetailViewRef=r,le("div",{ref:r,style:{position:"relative",display:"flex",flexDirection:"column",height:"100%"},children:[A(U3e,{ref:e,options:t}),n(),A(I6e,{}),A(W3e,{}),A(N6e,{})]})},M6e=Ae("div",{target:"e1aq14xz3"})({name:"cf8nog",styles:"display:flex;align-items:center;justify-content:space-between;padding:12px;position:absolute;top:0;left:0;width:100%"}),D6e=Ae("div",{target:"e1aq14xz2"})({name:"uh5xjc",styles:"display:flex;align-items:center;gap:12px"}),L6e=Ae("img",{target:"e1aq14xz1"})({name:"dpamkq",styles:"width:42px;height:42px;border-radius:100%;object-fit:contain"}),j6e=Ae("div",{target:"e1aq14xz0"})({name:"uh5xjc",styles:"display:flex;align-items:center;gap:12px"}),z6e=()=>{var e,t,n;const r=dt(),o=G(a=>a.chatBox.agent),i=((t=(e=o==null?void 0:o.config)==null?void 0:e.custom_style)==null?void 0:t.chat_history_header_logo_url)||((n=o==null?void 0:o.config)==null?void 0:n.logo)||(o==null?void 0:o.logo);return le(M6e,{children:[A(D6e,{children:i?A(L6e,{src:i}):null}),le(j6e,{children:[A(ute,{hideNewChat:!0,hideShare:!0}),A(yp,{onClick:()=>{r(Er(!1))},children:A(ca,{})})]})]})};/**
     * @license @tabler/icons-react v3.34.1 - MIT
     *
     * This source code is licensed under the MIT license.
     * See the LICENSE file in the root directory of this source tree.
     */var F6e={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
     * @license @tabler/icons-react v3.34.1 - MIT
     *
     * This source code is licensed under the MIT license.
     * See the LICENSE file in the root directory of this source tree.
     */const Dte=(e,t,n,r)=>{const o=x.forwardRef((i,a)=>{var s=i,{color:l="currentColor",size:c=24,stroke:u=2,title:d,className:p,children:h}=s,m=ye(s,["color","size","stroke","title","className","children"]);return x.createElement("svg",I(K(I({ref:a},F6e[e]),{width:c,height:c,className:["tabler-icon",`tabler-icon-${t}`,p].join(" "),strokeWidth:u,stroke:l}),m),[d&&x.createElement("title",{key:"svg-title"},d),...r.map(([g,f])=>x.createElement(g,f)),...Array.isArray(h)?h:[h]])});return o.displayName=`${n}`,o},B6e=Dte("outline","messages","Messages",[["path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10",key:"svg-0"}],["path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2",key:"svg-1"}]]),U6e=Dte("outline","trash","Trash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),H6e=()=>rs()?null:le($6e,{children:[A(FU,{components:[A(N6,{},"logo")],i18nKey:"poweredBy"}),!Tt&&A(Aee,{})]}),$6e=Ae("div",{target:"e1fqeo830"})({name:"wx032a",styles:"z-index:10;opacity:var(--chat-history-header-livex-logo-opacity, 1);display:var(--chat-history-header-livex-logo-display, flex);align-items:center;margin-bottom:4px;margin-left:auto;margin-right:28px;font-size:9px;color:var(--Gray-70, #868E96);background-color:var(--chat-history-header-livex-logo-bg-color, transparent);padding:0 12px;gap:7px;border-radius:8px;font-weight:var(--chat-history-header-livex-logo-font-weight, 400)"}),Lte=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),V6e=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=new Date;return Lte(t,n)?new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(t):((r,o)=>{const i=new Date(o);return i.setDate(o.getDate()-1),Lte(r,i)})(t,n)?"Yesterday":new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(t)},q6e=({threadId:e,updatedAt:t})=>{const n=dt(),[r,o]=x.useState(!1),[i,a]=x.useState(!1),s=x.useMemo(()=>V6e(t),[t]);return le("div",{style:{display:"flex",alignItems:"center",gap:8,position:"relative"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[A(kn,{size:"sm",c:"dimmed",style:{opacity:r?0:1},children:s}),le(fr,{opened:i,onChange:a,position:"bottom-end",shadow:"md",children:[A(fr.Target,{children:A(Zt,{variant:"transparent",color:"gray",size:"sm",onClick:l=>{l.stopPropagation(),a(c=>!c)},style:{visibility:r?"visible":"hidden",position:"absolute",right:0},children:A(U6e,{style:{width:14,height:14}})})}),A(fr.Dropdown,{onClick:l=>l.stopPropagation(),children:le("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[A(kn,{size:"sm",children:"Do you want to delete?"}),A(An,{color:"red",size:"xs",onClick:async l=>{var c;(c=l==null?void 0:l.stopPropagation)==null||c.call(l);try{await n($h({conversation_id:e,kind:"remove"}))}catch{}finally{a(!1)}},children:"Delete"})]})})]})]})},W6e=Ae("div",{target:"e1k2abue6"})({name:"1j9har7",styles:"display:flex;flex-direction:column;gap:8px;height:100%;overflow:auto;padding-bottom:16px"}),K6e=Ae("div",{target:"e1k2abue5"})({name:"h8568r",styles:"padding-top:var(--chat-history-hero-section-padding-top, 40px);display:flex;flex-direction:column;background:var(--chat-history-hero-section-bg, linear-gradient(177deg, rgba(54, 79, 199, 0.80) 19.94%, #339AF0 43.4%, var(--Background-body, #FFF) 78.3%));color:white"}),jte=Ae("div",{target:"e1k2abue4"})({name:"10rtstj",styles:"padding:16px"}),G6e=Ae("div",{target:"e1k2abue3"})({name:"1lk3ed3",styles:"display:flex;align-items:center;justify-content:space-between;text-align:left;gap:var(--chat-history-item-gap, 10px);padding:var(--chat-history-item-padding, 12px);border-radius:var(--chat-history-item-border-radius, 12px);width:100%;border:var(--chat-history-item-border, 1px solid transparent);background:var(--background-color, transparent);cursor:pointer;:hover{border:var(--chat-history-item-border-hover, 1px solid rgba(222, 226, 230, 1));background:var(--chat-history-item-background-hover, rgba(247,249,255,1));}"}),Y6e=Ae("div",{target:"e1k2abue2"})({name:"93mtza",styles:"font-size:var(--chat-history-item-title-font-size, 14px);font-weight:var(--chat-history-item-title-font-weight, 600)"}),Q6e=Ae("input",{target:"e1k2abue1"})({name:"j3s59p",styles:"width:100%;padding:var(--chat-history-search-input-padding, 10px 12px);border-radius:var(--chat-history-search-input-border-radius, 12px);border:var(--chat-history-search-input-border, 1px solid rgba(222, 226, 230, 1));background:var(--chat-history-search-input-background, rgba(255, 255, 255, 1));outline:none"}),J6e=Ae("div",{target:"e1k2abue0"})({name:"11b3pqu",styles:"padding:28px;padding-bottom:4px"}),X6e=()=>{var e,t;const n=dt(),r=G(w=>w.chat.threads),o=Pt(),i=G(w=>{var k,_;return(_=(k=w.chatBox.agent)==null?void 0:k.config)==null?void 0:_.agent_id}),a=G(wt),[s,l]=x.useState(""),c=(()=>{const w=G(k=>k.chatBox.botMode);return Yt(w)})(),{initiateSession:u}=Vh(),[d,p]=x.useState(!1),h=ch(X1),m=ch(Z1),g=x.useRef(!1);x.useEffect(()=>{if(g.current)return;g.current=!0;const w=r||{},k={};let _=!1;Object.entries(w).forEach(([E,S])=>{var O;(O=S.messages)!=null&&O.some(T=>T.text)?k[E]=S:(_=!0,ne.info(`Removing empty thread: ${E}`))}),_&&n(G$(k))},[n,r]);const f=x.useMemo(()=>Object.values(r||{}).filter(w=>w.agentId===i).sort((w,k)=>{const _=new Date(w.createdAt||0).getTime();return new Date(k.createdAt||0).getTime()-_}).map(w=>{const k=[...w.messages||[]].reverse().find(S=>S.text);if(!k)return null;const _=[...w.messages||[]].reverse().find(S=>!!S.timestamp),E=(_==null?void 0:_.timestamp)||w.createdAt;return{id:w.id,title:k.text.slice(0,80),updatedAt:E}}).filter(w=>w!==null),[i,r]),v=x.useMemo(()=>{const w=s.trim().toLowerCase();return w?f.filter(k=>k.title.toLowerCase().includes(w)):f},[f,s]),y=x.useCallback(async()=>{if(p(!0),c)await u(!0);else try{n(Xa())}catch(w){ne.error("Error starting new conversation",w)}p(!1)},[n,c,u]),b=((t=(e=o==null?void 0:o.config)==null?void 0:e.custom_style)==null?void 0:t.chat_history_header_markdown)||`I'm your AI Assistant

ready to help with ideas, advice, and answers, anytime you need`;return le(W6e,{children:[A(z6e,{}),le(K6e,{children:[A(J6e,{children:A($u,{text:b})}),A(H6e,{}),A("div",{style:{display:"flex",justifyContent:"center",padding:16},children:A(An,{variant:"outline",onClick:y,size:"lg",style:{width:"100%",borderRadius:10},loading:d,children:"Start a new conversation"})})]}),le(jte,{style:{paddingTop:0},children:[le("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[le("div",{style:{fontWeight:600,fontSize:14,color:"var(--Gray-80, #495057)",display:"flex",alignItems:"center",gap:4},children:[A(B6e,{style:{width:16,height:16}})," Recent conversations"]}),le("div",{style:{fontSize:"0.8em",color:"rgba(108, 117, 125, 1)"},children:[f.length," history"]})]}),A(Q6e,{value:s,onChange:w=>l(w.target.value),placeholder:"Search..."})]}),A(jte,{style:{paddingTop:0},children:v.length===0?A("div",{style:{color:"rgba(108, 117, 125, 1)"},children:"No previous conversations."}):v.map(w=>{const k=a===w.id;return le(G6e,{onClick:async()=>{await m({threadId:w.id,calledBy:"ChatHistoryView"}),h(!1)},children:[A("div",{style:{display:"flex",flexDirection:"column"},children:A(Y6e,{children:w.title})}),le("div",{style:{display:"flex",alignItems:"center",gap:8},children:[k&&A(Bb,{color:"dark",size:"sm"}),!k&&A(q6e,{threadId:w.id,updatedAt:w.updatedAt})]})]},w.id)})})]})};/**
     * @license @tabler/icons-react v3.34.1 - MIT
     *
     * This source code is licensed under the MIT license.
     * See the LICENSE file in the root directory of this source tree.
     */var zte,h5={exports:{}},Z6e=h5.exports;/** @license
     * eventsource.js
     * Available under MIT License (MIT)
     * https://github.com/Yaffle/EventSource/
     */var eEe=(zte||(zte=1,function(e,t){(function(n){var r=n.setTimeout,o=n.clearTimeout,i=n.XMLHttpRequest,a=n.XDomainRequest,s=n.ActiveXObject,l=n.EventSource,c=n.document,u=n.Promise,d=n.fetch,p=n.Response,h=n.TextDecoder,m=n.TextEncoder,g=n.AbortController;if(typeof window<"u"&&c!==void 0&&!("readyState"in c)&&c.body==null&&(c.readyState="loading",window.addEventListener("load",function(Q){c.readyState="complete"},!1)),i==null&&s!=null&&(i=function(){return new s("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(Q){function te(){}return te.prototype=Q,new te}),Date.now||(Date.now=function(){return new Date().getTime()}),g==null){var f=d;d=function(Q,te){var X=te.signal;return f(Q,{headers:te.headers,credentials:te.credentials,cache:te.cache}).then(function(ee){var ue=ee.body.getReader();return X._reader=ue,X._aborted&&X._reader.cancel(),{status:ee.status,statusText:ee.statusText,headers:ee.headers,body:{getReader:function(){return ue}}}})},g=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(Q){function te(be,me,pe){if(pe===1)return be>=128>>me&&be<<me<=2047;if(pe===2)return be>=2048>>me&&be<<me<=55295||be>=57344>>me&&be<<me<=65535;if(pe===3)return be>=65536>>me&&be<<me<=1114111;throw new Error}function X(be,me){if(be===6)return me>>6>15?3:me>31?2:1;if(be===12)return me>15?3:2;if(be===18)return 3;throw new Error}for(var ee=65533,ue="",de=this.bitsNeeded,ge=this.codePoint,he=0;he<Q.length;he+=1){var Ce=Q[he];de!==0&&(Ce<128||Ce>191||!te(ge<<6|63&Ce,de-6,X(de,ge)))&&(de=0,ge=ee,ue+=String.fromCharCode(ge)),de===0?(Ce>=0&&Ce<=127?(de=0,ge=Ce):Ce>=192&&Ce<=223?(de=6,ge=31&Ce):Ce>=224&&Ce<=239?(de=12,ge=15&Ce):Ce>=240&&Ce<=247?(de=18,ge=7&Ce):(de=0,ge=ee),de!==0&&!te(ge,de,X(de,ge))&&(de=0,ge=ee)):(de-=6,ge=ge<<6|63&Ce),de===0&&(ge<=65535?ue+=String.fromCharCode(ge):(ue+=String.fromCharCode(55296+(ge-65535-1>>10)),ue+=String.fromCharCode(56320+(ge-65535-1&1023))))}return this.bitsNeeded=de,this.codePoint=ge,ue},(h==null||m==null||!function(){try{return new h().decode(new m().encode("test"),{stream:!0})==="test"}catch{}return!1}())&&(h=v);var y=function(){};function b(Q){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=Q,this._sendTimeout=0,this._abort=y}function w(Q){return Q.replace(/[A-Z]/g,function(te){return String.fromCharCode(te.charCodeAt(0)+32)})}function k(Q){for(var te=Object.create(null),X=Q.split(`\r
`),ee=0;ee<X.length;ee+=1){var ue=X[ee].split(": "),de=ue.shift(),ge=ue.join(": ");te[w(de)]=ge}this._map=te}function _(){}function E(Q){this._headers=Q}function S(){}function O(){this._listeners=Object.create(null)}function T(Q){r(function(){throw Q},0)}function M(Q){this.type=Q,this.target=void 0}function D(Q,te){M.call(this,Q),this.data=te.data,this.lastEventId=te.lastEventId}function H(Q,te){M.call(this,Q),this.status=te.status,this.statusText=te.statusText,this.headers=te.headers}function $(Q,te){M.call(this,Q),this.error=te.error}b.prototype.open=function(Q,te){this._abort(!0);var X=this,ee=this._xhr,ue=1,de=0;this._abort=function(me){X._sendTimeout!==0&&(o(X._sendTimeout),X._sendTimeout=0),(ue===1||ue===2||ue===3)&&(ue=4,ee.onload=y,ee.onerror=y,ee.onabort=y,ee.onprogress=y,ee.onreadystatechange=y,ee.abort(),de!==0&&(o(de),de=0),me||(X.readyState=4,X.onabort(null),X.onreadystatechange())),ue=0};var ge=function(){if(ue===1){var me=0,pe="",Ie=void 0;if("contentType"in ee)me=200,pe="OK",Ie=ee.contentType;else try{me=ee.status,pe=ee.statusText,Ie=ee.getResponseHeader("Content-Type")}catch{me=0,pe="",Ie=void 0}me!==0&&(ue=2,X.readyState=2,X.status=me,X.statusText=pe,X._contentType=Ie,X.onreadystatechange())}},he=function(){if(ge(),ue===2||ue===3){ue=3;var me="";try{me=ee.responseText}catch{}X.readyState=3,X.responseText=me,X.onprogress()}},Ce=function(me,pe){if((pe==null||pe.preventDefault==null)&&(pe={preventDefault:y}),he(),ue===1||ue===2||ue===3){if(ue=4,de!==0&&(o(de),de=0),X.readyState=4,me==="load")X.onload(pe);else if(me==="error")X.onerror(pe);else{if(me!=="abort")throw new TypeError;X.onabort(pe)}X.onreadystatechange()}},be=function(){de=r(function(){be()},500),ee.readyState===3&&he()};"onload"in ee&&(ee.onload=function(me){Ce("load",me)}),"onerror"in ee&&(ee.onerror=function(me){Ce("error",me)}),"onabort"in ee&&(ee.onabort=function(me){Ce("abort",me)}),"onprogress"in ee&&(ee.onprogress=he),"onreadystatechange"in ee&&(ee.onreadystatechange=function(me){(function(pe){ee!=null&&(ee.readyState===4?(!("onload"in ee)||!("onerror"in ee)||!("onabort"in ee))&&Ce(ee.responseText===""?"error":"load",pe):ee.readyState===3?"onprogress"in ee||he():ee.readyState===2&&ge())})(me)}),("contentType"in ee||!("ontimeout"in i.prototype))&&(te+=(te.indexOf("?")===-1?"?":"&")+"padding=true"),ee.open(Q,te,!0),"readyState"in ee&&(de=r(function(){be()},0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(Q){return this._contentType},b.prototype.setRequestHeader=function(Q,te){var X=this._xhr;"setRequestHeader"in X&&X.setRequestHeader(Q,te)},b.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if("ontimeout"in i.prototype&&("sendAsBinary"in i.prototype||"mozAnon"in i.prototype)||c==null||c.readyState==null||c.readyState==="complete"){var Q=this._xhr;"withCredentials"in Q&&(Q.withCredentials=this.withCredentials);try{Q.send(void 0)}catch(X){throw X}}else{var te=this;te._sendTimeout=r(function(){te._sendTimeout=0,te.send()},4)}},k.prototype.get=function(Q){return this._map[w(Q)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2),_.prototype.open=function(Q,te,X,ee,ue,de,ge){Q.open("GET",ue);var he=0;for(var Ce in Q.onprogress=function(){var be=Q.responseText.slice(he);he+=be.length,X(be)},Q.onerror=function(be){be.preventDefault(),ee(new Error("NetworkError"))},Q.onload=function(){ee(null)},Q.onabort=function(){ee(null)},Q.onreadystatechange=function(){if(Q.readyState===i.HEADERS_RECEIVED){var be=Q.status,me=Q.statusText,pe=Q.getResponseHeader("Content-Type"),Ie=Q.getAllResponseHeaders();te(be,me,pe,new k(Ie))}},Q.withCredentials=de,ge)Object.prototype.hasOwnProperty.call(ge,Ce)&&Q.setRequestHeader(Ce,ge[Ce]);return Q.send(),Q},E.prototype.get=function(Q){return this._headers.get(Q)},S.prototype.open=function(Q,te,X,ee,ue,de,ge){var he=null,Ce=new g,be=Ce.signal,me=new h;return d(ue,{headers:ge,credentials:de?"include":"same-origin",signal:be,cache:"no-store"}).then(function(pe){return he=pe.body.getReader(),te(pe.status,pe.statusText,pe.headers.get("Content-Type"),new E(pe.headers)),new u(function(Ie,xe){var Ee=function(){he.read().then(function(Re){if(Re.done)Ie(void 0);else{var Be=me.decode(Re.value,{stream:!0});X(Be),Ee()}}).catch(function(Re){xe(Re)})};Ee()})}).catch(function(pe){if(pe.name!=="AbortError")return pe}).then(function(pe){ee(pe)}),{abort:function(){he!=null&&he.cancel(),Ce.abort()}}},O.prototype.dispatchEvent=function(Q){Q.target=this;var te=this._listeners[Q.type];if(te!=null)for(var X=te.length,ee=0;ee<X;ee+=1){var ue=te[ee];try{typeof ue.handleEvent=="function"?ue.handleEvent(Q):ue.call(this,Q)}catch(de){T(de)}}},O.prototype.addEventListener=function(Q,te){Q=String(Q);var X=this._listeners,ee=X[Q];ee==null&&(ee=[],X[Q]=ee);for(var ue=!1,de=0;de<ee.length;de+=1)ee[de]===te&&(ue=!0);ue||ee.push(te)},O.prototype.removeEventListener=function(Q,te){Q=String(Q);var X=this._listeners,ee=X[Q];if(ee!=null){for(var ue=[],de=0;de<ee.length;de+=1)ee[de]!==te&&ue.push(ee[de]);ue.length===0?delete X[Q]:X[Q]=ue}},D.prototype=Object.create(M.prototype),H.prototype=Object.create(M.prototype),$.prototype=Object.create(M.prototype);var R=-1,U=-1,B=/^text\/event\-stream(;.*)?$/i,L=function(Q,te){var X=Q==null?te:parseInt(Q,10);return X!=X&&(X=te),C(X)},C=function(Q){return Math.min(Math.max(Q,1e3),18e6)},V=function(Q,te,X){try{typeof te=="function"&&te.call(Q,X)}catch(ee){T(ee)}};function N(Q,te){O.call(this),te=te||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(X,ee,ue){ee=String(ee);var de=!!ue.withCredentials,ge=ue.lastEventIdQueryParameterName||"lastEventId",he=C(1e3),Ce=L(ue.heartbeatTimeout,45e3),be="",me=he,pe=!1,Ie=0,xe=ue.headers||{},Ee=ue.Transport,Re=q&&Ee==null?void 0:new b(Ee!=null?new Ee:i!=null&&"withCredentials"in i.prototype||a==null?new i:new a),Be=Ee!=null&&typeof Ee!="string"?new Ee:Re==null?new S:new _,it=void 0,at=0,Qe=R,Je="",Me="",He="",Ue="",Ve=0,ce=0,re=0,fe=function(nt,Ze,vt,lt){if(Qe===0)if(nt===200&&vt!=null&&B.test(vt)){Qe=1,pe=Date.now(),me=he,X.readyState=1;var qe=new H("open",{status:nt,statusText:Ze,headers:lt});X.dispatchEvent(qe),V(X,X.onopen,qe)}else nt!==200?Ze&&(Ze=Ze.replace(/\s+/g," ")):vt==null||vt.replace(/\s+/g," "),Xe(),qe=new H("error",{status:nt,statusText:Ze,headers:lt}),X.dispatchEvent(qe),V(X,X.onerror,qe)},ve=function(nt){if(Qe===1){for(var Ze=-1,vt=0;vt<nt.length;vt+=1)((ot=nt.charCodeAt(vt))===10||ot===13)&&(Ze=vt);var lt=(Ze!==-1?Ue:"")+nt.slice(0,Ze+1);Ue=(Ze===-1?Ue:"")+nt.slice(Ze+1),nt!==""&&(pe=Date.now(),Ie+=nt.length);for(var qe=0;qe<lt.length;qe+=1){var ot=lt.charCodeAt(qe);if(Ve===U&&ot===10)Ve=0;else if(Ve===U&&(Ve=0),ot===13||ot===10){if(Ve!==0){Ve===1&&(re=qe+1);var yt=lt.slice(ce,re-1),gn=lt.slice(re+(re<qe&&lt.charCodeAt(re)===32?1:0),qe);yt==="data"?(Je+=`
`,Je+=gn):yt==="id"?Me=gn:yt==="event"?He=gn:yt==="retry"?(he=L(gn,he),me=he):yt==="heartbeatTimeout"&&(Ce=L(gn,Ce),at!==0&&(o(at),at=r(function(){ht()},Ce)))}if(Ve===0){if(Je!==""){be=Me,He===""&&(He="message");var $t=new D(He,{data:Je.slice(1),lastEventId:Me});if(X.dispatchEvent($t),He==="open"?V(X,X.onopen,$t):He==="message"?V(X,X.onmessage,$t):He==="error"&&V(X,X.onerror,$t),Qe===2)return}Je="",He=""}Ve=ot===13?U:0}else Ve===0&&(ce=qe,Ve=1),Ve===1?ot===58&&(re=qe+1,Ve=2):Ve===2&&(Ve=3)}}},De=function(nt){if(Qe===1||Qe===0){Qe=R,at!==0&&(o(at),at=0),at=r(function(){ht()},me),me=C(Math.min(16*he,2*me)),X.readyState=0;var Ze=new $("error",{error:nt});X.dispatchEvent(Ze),V(X,X.onerror,Ze)}},Xe=function(){Qe=2,it!=null&&(it.abort(),it=void 0),at!==0&&(o(at),at=0),X.readyState=2},ht=function(){if(at=0,Qe===R){pe=!1,Ie=0,at=r(function(){ht()},Ce),Qe=0,Je="",He="",Me=be,Ue="",ce=0,re=0,Ve=0;var nt=ee;if(ee.slice(0,5)!=="data:"&&ee.slice(0,5)!=="blob:"&&be!==""){var Ze=ee.indexOf("?");nt=Ze===-1?ee:ee.slice(0,Ze+1)+ee.slice(Ze+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(gn,$t){return $t===ge?"":gn}),nt+=(ee.indexOf("?")===-1?"?":"&")+ge+"="+encodeURIComponent(be)}var vt=X.withCredentials,lt={Accept:"text/event-stream"},qe=X.headers;if(qe!=null)for(var ot in qe)Object.prototype.hasOwnProperty.call(qe,ot)&&(lt[ot]=qe[ot]);try{it=Be.open(Re,fe,ve,De,nt,vt,lt)}catch(gn){throw Xe(),gn}}else if(pe||it==null){var yt=Math.max((pe||Date.now())+Ce-Date.now(),1);pe=!1,at=r(function(){ht()},yt)}else De(new Error("No activity within "+Ce+" milliseconds. "+(Qe===0?"No response received.":Ie+" chars received.")+" Reconnecting.")),it!=null&&(it.abort(),it=void 0)};X.url=ee,X.readyState=0,X.withCredentials=de,X.headers=xe,X._close=Xe,ht()}(this,Q,te)}var q=d!=null&&p!=null&&"body"in p.prototype;N.prototype=Object.create(O.prototype),N.prototype.CONNECTING=0,N.prototype.OPEN=1,N.prototype.CLOSED=2,N.prototype.close=function(){this._close()},N.CONNECTING=0,N.OPEN=1,N.CLOSED=2,N.prototype.withCredentials=void 0;var J=l;i!=null&&(l==null||!("withCredentials"in l.prototype))&&(J=N),function(){var Q=function(te){te.EventSourcePolyfill=N,te.NativeEventSource=l,te.EventSource=J}(t);Q!==void 0&&(e.exports=Q)}()})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:Z6e:globalThis)}(h5,h5.exports)),h5.exports),tEe=Object.defineProperty,Fte=Object.getOwnPropertySymbols,nEe=Object.prototype.hasOwnProperty,rEe=Object.prototype.propertyIsEnumerable,Bte=(e,t,n)=>t in e?tEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oEe=(e,t)=>{for(var n in t||(t={}))nEe.call(t,n)&&Bte(e,n,t[n]);if(Fte)for(var n of Fte(t))rEe.call(t,n)&&Bte(e,n,t[n]);return e};let U6=null,H6=null,$6=0;const Ute=()=>{const e=It.getState();return!!e.chatBox.showChatBox&&Iy(e)},iEe=({options:e,tokenUsageRefresh:t})=>{var n;const r=G(L=>L.chatBox.showChatBox),o=G(L=>L.chatBox.chatAgentType),i=dt();G(L=>L.chatBox.botMode);const{handleResize:a,updateRect:s}=v3e(),l=is(),c=Tee(),u=Xb(),d=Vt(),{mutateAsync:p}=jTe(),{mutateAsync:h}=$Te();XTe();const m=G(L=>L.chatBox.agent),g=G(L=>L.chatBox.source),f=G(L=>L.chatBox.showNavigationView),v=G(L=>L.chatBox.showConfirmCloseView),y=Ry(),b=G(wt),w=G(Rbe);x.useEffect(()=>{y&&i(Ay(!1))},[i,y]);const k=x.useRef(null);Fe.chatWrapperRef=k;const _=mR(zbe),E=G(ho),S=E==null?void 0:E.id,O=hTe(e),[T]=PL();Fe.containerRef=T;const M=x.useRef(null);Fe.headerRef=M;const D=x.useRef(null);Fe.footerRef=D,x.useEffect(()=>{Fe.scrollToBottom=L=>{Ute()&&(U6&&clearTimeout(U6),U6=setTimeout(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},L))},Fe.scrollToLastMessagePair=(L=200)=>{Ute()&&(H6&&clearTimeout(H6),H6=setTimeout(async()=>{var C;const V=(C=k.current)==null?void 0:C.querySelector("#last-message-pair");V?($6=0,V.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})):$6<10&&($6++,Fe.scrollToLastMessagePair(L))},L))},$s()&&(window.chatBoxUtils=Fe)},[]);const H=x.useMemo(()=>({onSendMessage:L=>{switch(o){case"ai":i(Ii(L));break;case"liveChat":p({text:L.text})}},onMessageUpdated:()=>{e.autoScrollToBottom&&Fe.scrollToLastMessagePair()},onTokenUsageRefresh:()=>{t==null||t()}}),[o,i,e.autoScrollToBottom,p,t]),$=x.useCallback(L=>{let C;return C&&cancelAnimationFrame(C),C=requestAnimationFrame(()=>a(L)),()=>{cancelAnimationFrame(C)}},[a]);x.useEffect(()=>{const L=()=>{i(nf(null))};window.addEventListener("mousemove",$),window.addEventListener("mouseup",L);const C=O9();return C&&(C.addEventListener("mousemove",$),C.addEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",L),C&&(C.removeEventListener("mousemove",$),C.removeEventListener("mouseup",L))}},[i,$]),x.useEffect(()=>{s()},[s,r]),x.useEffect(()=>{var L;c&&_&&(!m||((L=m.config)==null?void 0:L.agent_id)==="loading"||i(rte()))},[_,m,i,g,S,c]),x.useEffect(()=>{var L,C,V,N,q,J,Q,te,X,ee,ue,de,ge,he,Ce,be;if(o!=="liveChat"||!((J=(q=(N=(V=(C=(L=m==null?void 0:m.config)==null?void 0:L.tools)==null?void 0:C.document_qa)==null?void 0:V.no_answer_action)==null?void 0:N.salesforce)==null?void 0:q.live_chat_options)!=null&&J.enabled)||!w)return;const me=(ge=(de=(ue=(ee=(X=(te=(Q=m==null?void 0:m.config)==null?void 0:Q.tools)==null?void 0:te.document_qa)==null?void 0:X.no_answer_action)==null?void 0:ee.salesforce)==null?void 0:ue.live_chat_options)==null?void 0:de.config)==null?void 0:ge.org_id,pe=`${(be=(Ce=(he=m==null?void 0:m.config)==null?void 0:he.applications)==null?void 0:Ce.salesforce)==null?void 0:be.name}.salesforce-scrt.com`;if(!pe||!me)return void window.console.error("No messagingUrl or orgId found");const Ie=Ee=>{if(Ee&&Ee.data&&typeof Ee.data=="string"){const Re=JSON.parse(Ee.data);if(!Re||typeof Re!="object")throw new Error("Error parsing data in server sent event.");return Re}throw new Error("Invalid data in server sent event.")},xe={CONVERSATION_MESSAGE:async Ee=>{var Re,Be,it,at;try{const Qe=Ie(Ee),Je=JSON.parse(((Re=Qe.conversationEntry)==null?void 0:Re.entryPayload)||"{}");if(((it=(Be=Qe.conversationEntry)==null?void 0:Be.sender)==null?void 0:it.role)!=="Agent"||Qe.conversationId!==b)return;if((at=Je.abstractMessage)!=null&&at.staticContent){const{formatType:Me,text:He,linkItem:Ue,attachments:Ve}=Je.abstractMessage.staticContent;let ce="";if(Me==="Text"||Me==="Attachments"?ce=He||"":Me==="RichLink"&&(ce=(Ue==null?void 0:Ue.url)||""),ce.trim())try{await p({text:ce,senderType:R6.Agent})}catch(re){window.console.error("Failed to post agent text message:",re)}if(Ve!=null&&Ve.length)for(const re of Ve)try{const{name:fe,url:ve,mimeType:De}=re;if(!ve)continue;const Xe=De.startsWith("image/")?`![${fe||"Image"}](${ve})`:`[${fe||"File"}](${ve})`;await p({text:Xe,senderType:R6.Agent,messageType:Bee.File})}catch(fe){window.console.error("Failed to post attachment message:",fe)}}}catch(Qe){window.console.error(`Something went wrong in handling conversation message server sent event: ${Qe}`)}},CONVERSATION_PARTICIPANT_CHANGED:async Ee=>{try{const Re=(at=>{var Qe,Je,Me;try{const He=JSON.parse(((Qe=at.conversationEntry)==null?void 0:Qe.entryPayload)||"{}");if(((Me=(Je=at.conversationEntry)==null?void 0:Je.sender)==null?void 0:Me.role)!=="System"||He.entries.length===0)return;const Ue={conversationId:at.conversationId,entry:He.entries[0]};return at.conversationId===b?Ue:void 0}catch(He){return void window.console.error(`Something went wrong in generating conversation status entry: ${He}`)}})(Ie(Ee));if(!Re)return;const Be=Re.entry.operation;let it="";Be==="remove"?it="left":Be==="add"&&(it="join"),await h({agentName:Re.entry.displayName,type:it})}catch(Re){window.console.error(`Something went wrong in handling conversation participant changed server sent event: ${Re}`)}}};return((Ee,Re,Be)=>{const it=`https://${Re}/eventrouter/v1/sse`,at=new eEe.EventSourcePolyfill(it,{withCredentials:!1,headers:{Authorization:`Bearer ${Ee}`,"X-Org-Id":Be}});return at.onopen=Qe=>{((Je,Me)=>{Object.entries(Je).forEach(He=>{const[Ue,Ve]=He;if(typeof Ue!="string")throw new Error(`Expected event listener name parameter to be a valid string, but received: ${Ue}.`);if(Ue.trim().length<1)throw new Error(`Expected event listener name parameter to be a string with length greater than 0, but received: ${Ue}.`);if(typeof Ve!="function")throw new Error(`Expected event listener handler parameter to be a function, but received: ${Ve}.`);Me.addEventListener(Ue,Ve)})})(xe,at)},at.onerror=Qe=>{window.console.error("EventSource failed:",Qe)},()=>{at.close()}})(w,pe,me)},[o,m,b,p,w,h]);const R=lh(X1),U=()=>{if(v)return A(NTe,{});let L=null;return L=f?A(kTe,{}):A(oTe,{ref:k,callbacks:H}),le(Yn,{children:[L,A(b3e,{}),le(aTe,{ref:D,style:{backgroundColor:d.background_color},children:[A(ZTe,{}),A(Lwe,{callbacks:H}),A(pTe,{}),!Tt&&A(e3e,{})]})]})};if((n=m==null?void 0:m.config)==null||!n.agent_id)return null;let B="flex flex-col flex-grow items-stretch right-1/100 z-50 max-h-[calc(100vh-7em)] md:max-h-full";return l&&(B+=" border border-gray-200"),u||(B+=" shadow-lg"),A("div",{id:"chatbox-container",className:B,style:O,ref:T,onMouseOver:()=>{document.documentElement.style.overscrollBehaviorX="none"},onMouseOut:()=>{document.documentElement.style.overscrollBehaviorX="unset"},children:le("div",{className:"h-full flex flex-col relative",children:[le(Yn,{children:[A(Hte,{onMouseDown:()=>i(nf("left")),style:{left:0}}),A(Hte,{onMouseDown:()=>i(nf("right")),style:{right:0}}),A($te,{onMouseDown:()=>i(nf("top")),style:{top:-3}}),A($te,{onMouseDown:()=>i(nf("bottom")),style:{bottom:-3}})]}),le("div",{style:{position:"relative",flex:1,overflow:"hidden",height:"100%",borderRadius:Tt?0:"var(--chat-box-border-radius, 16px)"},children:[!l&&A("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:A(X6e,{})}),A(Ro,{mounted:l||!R,transition:"slide-left",keepMounted:!0,duration:250,timingFunction:"ease-in-out",children:L=>A("div",{style:oEe({background:"var(--background-color, white)",position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",zIndex:1},L),children:le("div",{style:{position:"relative",width:"100%",height:"100%"},children:[A(a3e,{children:A(R6e,{headerRef:M,options:e,getBody:U})}),A(f3e,{})]})})})]})]})})},Hte=Ae("div",{target:"e1apzu461"})({name:"18qbkec",styles:"display:block;cursor:ew-resize;opacity:0;resize:horizontal;position:absolute;top:0;min-height:100%;height:100%;width:6px;z-index:99"}),$te=Ae("div",{target:"e1apzu460"})({name:"b5buw",styles:"display:block;cursor:ns-resize;opacity:0;resize:vertical;position:absolute;left:0;height:6px;width:100%;z-index:99"});var aEe=Object.defineProperty,sEe=Object.defineProperties,lEe=Object.getOwnPropertyDescriptors,Vte=Object.getOwnPropertySymbols,cEe=Object.prototype.hasOwnProperty,uEe=Object.prototype.propertyIsEnumerable,qte=(e,t,n)=>t in e?aEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dEe=e=>{const t=G(u=>u.chatBox.botLanguage),{button:n,onClick:r}=e,{text:o,multi_lang_text:i={},command:a}=n,s=i[t]||o,l=$C(a||""),c=HK(l);return A(hEe,{onClick:()=>{r==null||r(s)},$buttonType:c,children:s})},hEe=Ae("button",{target:"etysad20"})(({$buttonType:e})=>{const t=Vt(),{wm_command_button_bg:n,wm_command_button_hover_bg:r,wm_command_button_text_color:o,wm_command_button_hover_text_color:i}=t;return((a,s)=>sEe(a,lEe(s)))(((a,s)=>{for(var l in s||(s={}))cEe.call(s,l)&&qte(a,l,s[l]);if(Vte)for(var l of Vte(s))uEe.call(s,l)&&qte(a,l,s[l]);return a})({},{cursor:"pointer",display:"flex",padding:"var(--wm-command-button-padding, 0em 1em)",fontSize:"var(--command-button-font-size, 12px)",borderRadius:"var(--wm-command-button-border-radius, 0.5em)",textAlign:"end",alignItems:"center",wordBreak:"normal",boxShadow:`var(--wm-command-button-box-shadow, ${ay})`,whiteSpace:"var(--wm-command-button-white-space, wrap)",border:"var(--wm-command-button-border, 0px)",minHeight:"var(--wm-command-button-min-height, 32px)"}),{color:`var(--wm-command-button-text-color, ${o})`,background:`var(--wm-command-button-bg, ${n})`,"&:hover":{background:`var(--wm-command-button-hover-bg, ${r})`,color:`var(--wm-command-button-hover-text-color, ${i})`}})},"");var pEe=Object.defineProperty,mEe=Object.defineProperties,fEe=Object.getOwnPropertyDescriptors,p5=Object.getOwnPropertySymbols,Wte=Object.prototype.hasOwnProperty,Kte=Object.prototype.propertyIsEnumerable,Gte=(e,t,n)=>t in e?pEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const gEe=({popupQuestions:e})=>{var t,n,r,o;const i=Pt(),a=dt(),s=G(w=>w.chatBox.showChatBox),l=G(w=>w.chatBox.showWelcomeMessage),c=G(w=>w.chatBox.botLanguage),{welcomeMessageStyle:u,iconButtonStyle:d}=(()=>{var w,k,_,E;const S=Pt(),O=_1(),T=G(N=>N.chatBox.showWelcomeMessage),{position:M}=sh();let D=(w=S==null?void 0:S.config)==null?void 0:w.style,H=parseInt((k=D==null?void 0:D.chatbot_icon_size)!=null?k:"60");Tt&&(D=Ci({},D,(_=D==null?void 0:D.mobile)!=null?_:{}),H=parseInt((E=D==null?void 0:D.chatbot_icon_size)!=null?E:"48"));const{isTop:$,isLeft:R}=Fv(),U=$?M.top:M.bottom,B=R?M.left:M.right,L={transitionDelay:T?"3s":"0s",opacity:T?1:0,position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"opacity 0.5s ease-in-out",fontSize:"1.143em",fontWeight:"500",maxWidth:"50vw","--welcome-message-bottom":"10px","--welcome-message-top":"60px",bottom:"calc(var(--welcome-message-bottom) + var(--welcome-message-offset, 0px))",top:"calc(var(--welcome-message-top) + var(--welcome-message-offset, 0px))"};Tt&&(L.bottom="calc(var(--welcome-message-bottom) + var(--welcome-message-offset-phone, 0px))",L.top="calc(var(--welcome-message-top) + var(--welcome-message-offset-phone, 0px))");const C={borderRadius:"50%",top:-38,position:"absolute",boxShadow:O,width:32,height:32};R?(L.left=B,C.left=0):(L.right=B,C.right=0);const V=U+H+18;if($){delete L.bottom;const N=V+50;L["--welcome-message-top"]=`${N}px`}else delete L.top,L["--welcome-message-bottom"]=`${V}px`;return{welcomeMessageStyle:L,iconButtonStyle:C}})(),p=x.useRef(null),h=i==null?void 0:i.config,m=Cr(h==null?void 0:h.initial_message)?h==null?void 0:h.initial_message:[h==null?void 0:h.initial_message],g=((t=h==null?void 0:h.welcome_message)==null?void 0:t.json_response)||((n=m[0])==null?void 0:n.json_response),f=x.useMemo(()=>{var w;return bt(e)?((w=h==null?void 0:h.welcome_message)==null?void 0:w.json_response.buttons)||[]:e},[e,(r=h==null?void 0:h.welcome_message)==null?void 0:r.json_response.buttons]),v=(o=h==null?void 0:h.style)==null?void 0:o.hide_chatbot_button;x.useEffect(()=>{if(l)return;const w=setTimeout(()=>{p.current&&(p.current.style.display="none")},500);return()=>{clearTimeout(w)}},[l]);const y=x.useMemo(()=>g?(g.multi_lang_text||{})[c]||g.text:"",[g,c]);if(!l||s||v||bt(f)&&!y)return null;const b=HD(y);return le(vEe,{style:u,children:[A(Fy,{color:"rgb(242, 242, 242)",variant:"contained",onClick:()=>{a(Oy(!1))},style:d,children:A(ca,{})}),y&&A(bEe,{ref:p,thereIsGap:b,children:A($u,{text:y})}),!bt(f)&&A(yEe,{style:{width:"100%",marginTop:"1em"},children:f.map((w,k)=>A(dEe,{button:w,onClick:_=>{var E,S;(S=(E=Dn).open)==null||S.call(E),setTimeout(()=>{var O,T;(T=(O=Dn).sendMessage)==null||T.call(O,_)},100)}},`welcome-message-button-${k}`))})]})},vEe=on(e=>{const t=e,{className:n}=t,r=((o,i)=>{var a={};for(var s in o)Wte.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&p5)for(var s of p5(o))i.indexOf(s)<0&&Kte.call(o,s)&&(a[s]=o[s]);return a})(t,["className"]);return A("livex-chatbox-welcome-message-wrapper",((o,i)=>mEe(o,fEe(i)))(((o,i)=>{for(var a in i||(i={}))Wte.call(i,a)&&Gte(o,a,i[a]);if(p5)for(var a of p5(i))Kte.call(i,a)&&Gte(o,a,i[a]);return o})({},r),{class:n}))})(()=>({position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"opacity 0.5s ease-in-out",fontSize:"1.143em",fontWeight:"500",maxWidth:"50vw"})),bEe=on.div(()=>({minHeight:"60px",padding:"20px",borderRadius:8,color:"#101214",backgroundColor:"#ECEEF4",marginLeft:"auto",boxShadow:_1(),"& p":{whiteSpace:"pre-line"}})),yEe=on("div")({display:"flex",flexDirection:"var(--wm-message-commands-flex-direction, column)",gap:"0.5em",alignItems:"flex-end",marginTop:"auto",width:"100%",overflow:"auto",paddingBottom:6,marginBottom:-6}),Et=e=>typeof e=="string",Gf=()=>{let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n},Yte=e=>e==null?"":""+e,wEe=/###/g,Qte=e=>e&&e.indexOf("###")>-1?e.replace(wEe,"."):e,Jte=e=>!e||Et(e),Yf=(e,t,n)=>{const r=Et(t)?t.split("."):t;let o=0;for(;o<r.length-1;){if(Jte(e))return{};const i=Qte(r[o]);!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{},++o}return Jte(e)?{}:{obj:e,k:Qte(r[o])}},Xte=(e,t,n)=>{const{obj:r,k:o}=Yf(e,t,Object);if(r!==void 0||t.length===1)return void(r[o]=n);let i=t[t.length-1],a=t.slice(0,t.length-1),s=Yf(e,a,Object);for(;s.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),s=Yf(e,a,Object),s!=null&&s.obj&&s.obj[`${s.k}.${i}`]!==void 0&&(s.obj=void 0);s.obj[`${s.k}.${i}`]=n},m5=(e,t)=>{const{obj:n,k:r}=Yf(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Zte=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Et(e[r])||e[r]instanceof String||Et(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Zte(e[r],t[r],n):e[r]=t[r]);return e},kp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var kEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _Ee=e=>Et(e)?e.replace(/[&<>"'\/]/g,t=>kEe[t]):e,xEe=[" ",",","?","!",";"],CEe=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),V6=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let o=e;for(let i=0;i<r.length;){if(!o||typeof o!="object")return;let a,s="";for(let l=i;l<r.length;++l)if(l!==i&&(s+=n),s+=r[l],a=o[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}o=a}return o},f5=e=>e==null?void 0:e.replace("_","-"),SEe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class g5{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||SEe,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,o){return o&&!this.debug?null:(Et(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new g5(this.logger,I({prefix:`${this.prefix}:${t}:`},this.options))}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new g5(this.logger,t)}}var fs=new g5;class v5{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n)return void delete this.observers[t];this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[a,s]=i;for(let l=0;l<s;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[a,s]=i;for(let l=0;l<s;l++)a.apply(a,[t,...r])})}}class ene extends v5{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){var o,i;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],r&&(Array.isArray(r)?c.push(...r):Et(r)&&s?c.push(...r.split(s)):c.push(r)));const u=m5(this.data,c);return!u&&!n&&!r&&t.indexOf(".")>-1&&(t=c[0],n=c[1],r=c.slice(2).join(".")),!u&&l&&Et(r)?V6((i=(o=this.data)==null?void 0:o[t])==null?void 0:i[n],r,s):u}addResource(t,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(s=t.split("."),o=n,n=s[1]),this.addNamespaces(n),Xte(this.data,s,o),i.silent||this.emit("added",t,n,r,o)}addResources(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(Et(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});o.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,o,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),o=r,r=n,n=s[1]),this.addNamespaces(n);let l=m5(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?Zte(l,r,i):l=I(I({},l),r),Xte(this.data,s,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var tne={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach(i=>{var a,s;t=(s=(a=this.processors[i])==null?void 0:a.process(t,n,r,o))!=null?s:t}),t}};const nne={},rne=e=>!Et(e)&&typeof e!="boolean"&&typeof e!="number";class b5 extends v5{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),((r,o,i)=>{r.forEach(a=>{o[a]&&(i[a]=o[a])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fs.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){const n=I({},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}});if(t==null)return!1;const r=this.resolve(t,n);return(r==null?void 0:r.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,s=!(this.options.userDefinedKeySeparator||n.keySeparator||this.options.userDefinedNsSeparator||n.nsSeparator||((l,c,u)=>{c=c||"",u=u||"";const d=xEe.filter(m=>c.indexOf(m)<0&&u.indexOf(m)<0);if(d.length===0)return!0;const p=CEe.getRegExp(`(${d.map(m=>m==="?"?"\\?":m).join("|")})`);let h=!p.test(l);if(!h){const m=l.indexOf(u);m>0&&!p.test(l.substring(0,m))&&(h=!0)}return h})(t,r,o));if(a&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:Et(i)?[i]:i};const c=t.split(r);(r!==o||r===o&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),t=c.join(o)}return{key:t,namespaces:Et(i)?[i]:i}}translate(t,n,r){let o=typeof n=="object"?I({},n):n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(o=I({},o)),o||(o={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(t[t.length-1],o),c=l[l.length-1],u=o.lng||this.language,d=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(d){const M=o.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${M}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:`${c}${M}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:s}const p=this.resolve(t,o);let h=p==null?void 0:p.res;const m=(p==null?void 0:p.usedKey)||s,g=(p==null?void 0:p.exactUsedKey)||s,f=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y=o.count!==void 0&&!Et(o.count),b=b5.hasDefaultValue(o),w=y?this.pluralResolver.getSuffix(u,o.count,o):"",k=o.ordinal&&y?this.pluralResolver.getSuffix(u,o.count,{ordinal:!1}):"",_=y&&!o.ordinal&&o.count===0,E=_&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${w}`]||o[`defaultValue${k}`]||o.defaultValue;let S=h;v&&!h&&b&&(S=E);const O=rne(S),T=Object.prototype.toString.apply(S);if(!(v&&S&&O&&["[object Number]","[object Function]","[object RegExp]"].indexOf(T)<0)||Et(f)&&Array.isArray(S))if(v&&Et(f)&&Array.isArray(h))h=h.join(f),h&&(h=this.extendTranslation(h,t,o,r));else{let M=!1,D=!1;!this.isValidLookup(h)&&b&&(M=!0,h=E),this.isValidLookup(h)||(D=!0,h=s);const H=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:h,$=b&&E!==h&&this.options.updateMissing;if(D||M||$){if(this.logger.log($?"updateKey":"missingKey",u,c,s,$?E:h),a){const L=this.resolve(s,K(I({},o),{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let R=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let L=0;L<U.length;L++)R.push(U[L]);else this.options.saveMissingTo==="all"?R=this.languageUtils.toResolveHierarchy(o.lng||this.language):R.push(o.lng||this.language);const B=(L,C,V)=>{var N;const q=b&&V!==h?V:H;this.options.missingKeyHandler?this.options.missingKeyHandler(L,c,C,q,$,o):(N=this.backendConnector)!=null&&N.saveMissing&&this.backendConnector.saveMissing(L,c,C,q,$,o),this.emit("missingKey",L,c,C,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?R.forEach(L=>{const C=this.pluralResolver.getSuffixes(L,o);_&&o[`defaultValue${this.options.pluralSeparator}zero`]&&C.indexOf(`${this.options.pluralSeparator}zero`)<0&&C.push(`${this.options.pluralSeparator}zero`),C.forEach(V=>{B([L],s+V,o[`defaultValue${V}`]||E)})}):B(R,s,E))}h=this.extendTranslation(h,t,o,p,r),D&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${s}`),(D||M)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,M?h:void 0,o))}else{if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,S,K(I({},o),{ns:l})):`key '${s} (${this.language})' returned an object instead of string.`;return i?(p.res=M,p.usedParams=this.getUsedParamsDetails(o),p):M}if(a){const M=Array.isArray(S),D=M?[]:{},H=M?g:m;for(const $ in S)if(Object.prototype.hasOwnProperty.call(S,$)){const R=`${H}${a}${$}`;D[$]=b&&!h?this.translate(R,K(I({},o),{defaultValue:rne(E)?E[$]:void 0,joinArrays:!1,ns:l})):this.translate(R,K(I({},o),{joinArrays:!1,ns:l})),D[$]===R&&(D[$]=S[$])}h=D}}return i?(p.res=h,p.usedParams=this.getUsedParamsDetails(o),p):h}extendTranslation(t,n,r,o,i){var a,s,l=this;if((a=this.i18nFormat)!=null&&a.parse)t=this.i18nFormat.parse(t,I(I({},this.options.interpolation.defaultVariables),r),r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(K(I({},r),{interpolation:I(I({},this.options.interpolation),r.interpolation)}));const d=Et(t)&&(((s=r==null?void 0:r.interpolation)==null?void 0:s.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const m=t.match(this.interpolator.nestingRegexp);p=m&&m.length}let h=r.replace&&!Et(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h=I(I({},this.options.interpolation.defaultVariables),h)),t=this.interpolator.interpolate(t,h,r.lng||this.language||o.usedLng,r),d){const m=t.match(this.interpolator.nestingRegexp);p<(m&&m.length)&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var m=arguments.length,g=new Array(m),f=0;f<m;f++)g[f]=arguments[f];return(i==null?void 0:i[0])!==g[0]||r.context?l.translate(...g,n):(l.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,u=Et(c)?[c]:c;return t!=null&&u!=null&&u.length&&r.applyPostProcessor!==!1&&(t=tne.handle(u,t,n,this.options&&this.options.postProcessPassResolved?I({i18nResolved:K(I({},o),{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),t}resolve(t){let n,r,o,i,a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Et(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,s),u=c.key;r=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const p=s.count!==void 0&&!Et(s.count),h=p&&!s.ordinal&&s.count===0,m=s.context!==void 0&&(Et(s.context)||typeof s.context=="number")&&s.context!=="",g=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);d.forEach(f=>{var v,y;this.isValidLookup(n)||(a=f,!nne[`${g[0]}-${f}`]&&(v=this.utils)!=null&&v.hasLoadedNamespace&&!((y=this.utils)!=null&&y.hasLoadedNamespace(a))&&(nne[`${g[0]}-${f}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(b=>{var w;if(this.isValidLookup(n))return;i=b;const k=[u];if((w=this.i18nFormat)!=null&&w.addLookupKeys)this.i18nFormat.addLookupKeys(k,u,b,f,s);else{let E;p&&(E=this.pluralResolver.getSuffix(b,s.count,s));const S=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(k.push(u+E),s.ordinal&&E.indexOf(O)===0&&k.push(u+E.replace(O,this.options.pluralSeparator)),h&&k.push(u+S)),m){const T=`${u}${this.options.contextSeparator}${s.context}`;k.push(T),p&&(k.push(T+E),s.ordinal&&E.indexOf(O)===0&&k.push(T+E.replace(O,this.options.pluralSeparator)),h&&k.push(T+S))}}let _;for(;_=k.pop();)this.isValidLookup(n)||(o=_,n=this.getResource(b,f,_,s))}))})}),{res:n,usedKey:r,exactUsedKey:o,usedLng:i,usedNS:a}}isValidLookup(t){return!(t===void 0||!this.options.returnNull&&t===null||!this.options.returnEmptyString&&t==="")}getResource(t,n,r){var o;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Et(t.replace);let o=r?t.replace:t;if(r&&t.count!==void 0&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o=I(I({},this.options.interpolation.defaultVariables),o)),!r){o=I({},o);for(const i of n)delete o[i]}return o}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,12)&&t[r]!==void 0)return!0;return!1}}class one{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fs.create("languageUtils")}getScriptPartFromCode(t){if(!(t=f5(t))||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(!(t=f5(t))||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Et(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return n=o;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>a===i?a:a.indexOf("-")<0&&i.indexOf("-")<0||!(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1)?void 0:a)}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Et(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),o=[],i=a=>{a&&(this.isSupportedCode(a)?o.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Et(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Et(t)&&i(this.formatLanguageCode(t)),r.forEach(a=>{o.indexOf(a)<0&&i(this.formatLanguageCode(a))}),o}}const ine={zero:0,one:1,two:2,few:3,many:4,other:5},ane={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class TEe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=fs.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=f5(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ane;if(!t.match(/-|_/))return ane;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(o=>`${n}${o}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((o,i)=>ine[o]-ine[i]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(t,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const sne=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],i=((a,s,l)=>{const c=m5(a,l);return c!==void 0?c:m5(s,l)})(e,t,n);return!i&&o&&Et(n)&&(i=V6(e,n,r),i===void 0&&(i=V6(t,n,r))),i},q6=e=>e.replace(/\$/g,"$$$$");class EEe{constructor(){var t;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fs.create("interpolator"),this.options=n,this.format=((t=n==null?void 0:n.interpolation)==null?void 0:t.format)||(r=>r),this.init(n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:i,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:h,nestingSuffix:m,nestingSuffixEscaped:g,nestingOptionsSeparator:f,maxReplaces:v,alwaysFormat:y}=t.interpolation;this.escape=n!==void 0?n:_Ee,this.escapeValue=r===void 0||r,this.useRawValueToEscape=o!==void 0&&o,this.prefix=i?kp(i):a||"{{",this.suffix=s?kp(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?kp(p):h||kp("$t("),this.nestingSuffix=m?kp(m):g||kp(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=v||1e3,this.alwaysFormat=y!==void 0&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,o){var i;let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const v=sne(n,c,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,K(I(I({},o),n),{interpolationkey:h})):v}const m=h.split(this.formatSeparator),g=m.shift().trim(),f=m.join(this.formatSeparator).trim();return this.format(sne(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),f,r,K(I(I({},o),n),{interpolationkey:g}))};this.resetRegExp();const d=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((i=o==null?void 0:o.interpolation)==null?void 0:i.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>q6(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?q6(this.escape(h)):q6(h)}].forEach(h=>{for(l=0;a=h.regex.exec(t);){const m=a[1].trim();if(s=u(m),s===void 0)if(typeof d=="function"){const f=d(t,a,o);s=Et(f)?f:""}else if(o&&Object.prototype.hasOwnProperty.call(o,m))s="";else{if(p){s=a[0];continue}this.logger.warn(`missed to pass in variable ${m} for interpolating ${t}`),s=""}else!Et(s)&&!this.useRawValueToEscape&&(s=Yte(s));const g=h.safeValue(s);if(t=t.replace(a[0],g),p?(h.regex.lastIndex+=s.length,h.regex.lastIndex-=a[0].length):h.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n){let r,o,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=(l,c)=>{var u;const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const p=l.split(new RegExp(`${d}[ ]*{`));let h=`{${p[1]}`;l=p[0],h=this.interpolate(h,i);const m=h.match(/'/g),g=h.match(/"/g);(((u=m==null?void 0:m.length)!=null?u:0)%2==0&&!g||g.length%2!=0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),c&&(i=I(I({},c),i))}catch(f){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,f),`${l}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,l};for(;r=this.nestingRegexp.exec(t);){let l=[];i=I({},a),i=i.replace&&!Et(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const u=r[1].split(this.formatSeparator).map(d=>d.trim());r[1]=u.shift(),l=u,c=!0}if(o=n(s.call(this,r[1].trim(),i),i),o&&r[0]===t&&!Et(o))return o;Et(o)||(o=Yte(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),o=""),c&&(o=l.reduce((u,d)=>this.format(u,d,a.lng,K(I({},a),{interpolationkey:r[1].trim()})),o.trim())),t=t.replace(r[0],o),this.regexp.lastIndex=0}return t}}const _p=e=>{const t={};return(n,r,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i=K(I({},i),{[o.interpolationkey]:void 0}));const a=r+JSON.stringify(i);let s=t[a];return s||(s=e(f5(r),o),t[a]=s),s(n)}};class OEe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fs.create("formatter"),this.options=t,this.formats={number:_p((n,r)=>{const o=new Intl.NumberFormat(n,I({},r));return i=>o.format(i)}),currency:_p((n,r)=>{const o=new Intl.NumberFormat(n,K(I({},r),{style:"currency"}));return i=>o.format(i)}),datetime:_p((n,r)=>{const o=new Intl.DateTimeFormat(n,I({},r));return i=>o.format(i)}),relativetime:_p((n,r)=>{const o=new Intl.RelativeTimeFormat(n,I({},r));return i=>o.format(i,r.range||"day")}),list:_p((n,r)=>{const o=new Intl.ListFormat(n,I({},r));return i=>o.format(i)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=_p(n)}format(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(s=>s.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,s)=>{var l;const{formatName:c,formatOptions:u}=(d=>{let p=d.toLowerCase().trim();const h={};if(d.indexOf("(")>-1){const m=d.split("(");p=m[0].toLowerCase().trim();const g=m[1].substring(0,m[1].length-1);p==="currency"&&g.indexOf(":")<0?h.currency||(h.currency=g.trim()):p==="relativetime"&&g.indexOf(":")<0?h.range||(h.range=g.trim()):g.split(";").forEach(f=>{if(f){const[v,...y]=f.split(":"),b=y.join(":").trim().replace(/^'+|'+$/g,""),w=v.trim();h[w]||(h[w]=b),b==="false"&&(h[w]=!1),b==="true"&&(h[w]=!0),isNaN(b)||(h[w]=parseInt(b,10))}})}return{formatName:p,formatOptions:h}})(s);if(this.formats[c]){let d=a;try{const p=((l=o==null?void 0:o.formatParams)==null?void 0:l[o.interpolationkey])||{},h=p.locale||p.lng||o.locale||o.lng||r;d=this.formats[c](a,h,I(I(I({},u),o),p))}catch(p){this.logger.warn(p)}return d}return this.logger.warn(`there was no format function for ${c}`),a},t)}}class AEe extends v5{constructor(t,n,r){var o,i;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=fs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(o=this.backend)==null?void 0:o.init)==null||i.call(o,r,a.backend,a)}queueLoad(t,n,r,o){const i={},a={},s={},l={};return t.forEach(c=>{let u=!0;n.forEach(d=>{const p=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,u=!1,a[p]===void 0&&(a[p]=!0),i[p]===void 0&&(i[p]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(s[c]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const o=t.split("|"),i=o[0],a=o[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const s={};this.queue.forEach(l=>{((c,u,d)=>{const{obj:p,k:h}=Yf(c,u,Object);p[h]=p[h]||[],p[h].push(d)})(l.loaded,[i],a),((c,u)=>{c.pending[u]!==void 0&&(delete c.pending[u],c.pendingCount--)})(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{s[c][d]===void 0&&(s[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:n,fcName:r,tried:o,wait:i,callback:a});this.readingCalls++;const s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}c&&u&&o<this.maxRetries?setTimeout(()=>{this.read.call(this,t,n,r,o+1,2*i,a)},i):a(c,u)},l=this.backend[r].bind(this.backend);if(l.length!==2)return l(t,n,s);try{const c=l(t,n);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();Et(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Et(n)&&(n=[n]);const i=this.queueLoad(t,n,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${o} failed`,a),!a&&s&&this.logger.log(`${n}loaded namespace ${i} for language ${o}`,s),this.loaded(t,a,s)})}saveMissing(t,n,r,o,i){var a,s,l,c,u;let d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((s=(a=this.services)==null?void 0:a.utils)==null||!s.hasLoadedNamespace||(c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace(n)){if(r!=null&&r!==""){if((u=this.backend)!=null&&u.create){const h=K(I({},d),{isUpdate:i}),m=this.backend.create.bind(this.backend);if(m.length<6)try{let g;g=m.length===5?m(t,n,r,o,h):m(t,n,r,o),g&&typeof g.then=="function"?g.then(f=>p(null,f)).catch(p):p(null,g)}catch(g){p(g)}else m(t,n,r,o,p,h)}!t||!t[0]||this.store.addResource(t[0],n,r,o)}}else this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const lne=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Et(e[1])&&(t.defaultValue=e[1]),Et(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),cne=e=>{var t,n;return Et(e.ns)&&(e.ns=[e.ns]),Et(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Et(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},y5=()=>{};class Qf extends v5{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=cne(t),this.services={},this.logger=fs,this.modules={external:[]},(r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(o=>{typeof r[o]=="function"&&(r[o]=r[o].bind(r))})})(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(Et(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=lne();this.options=I(I(I({},o),this.options),cne(n)),this.options.interpolation=I(I({},o.interpolation),this.options.interpolation),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){let l;this.modules.logger?fs.init(i(this.modules.logger),this.options):fs.init(null,this.options),l=this.modules.formatter?this.modules.formatter:OEe;const c=new one(this.options);this.store=new ene(this.options.resources,this.options);const u=this.services;u.logger=fs,u.resourceStore=this.store,u.languageUtils=c,u.pluralResolver=new TEe(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(u.formatter=i(l),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new EEe(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new AEe(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(d){for(var p=arguments.length,h=new Array(p>1?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];t.emit(d,...h)}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new b5(this.services,this.options),this.translator.on("*",function(d){for(var p=arguments.length,h=new Array(p>1?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];t.emit(d,...h)}),this.modules.external.forEach(d=>{d.init&&d.init(this)})}if(this.format=this.options.interpolation.format,r||(r=y5),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return t.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return t.store[l](...arguments),t}});const a=Gf(),s=()=>{const l=(c,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(u),r(c,u)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),a}loadResources(t){var n,r;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y5;const i=Et(t)?t:this.language;if(typeof t=="function"&&(o=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const a=[],s=l=>{l&&l!=="cimode"&&this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),(r=(n=this.options.preload)==null?void 0:n.forEach)==null||r.call(n,l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(l)})}else o(null)}reloadResources(t,n,r){const o=Gf();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=y5),this.services.backendConnector.reload(t,n,i=>{o.resolve(),r(i)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&tne.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const o=Gf();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===t&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{var c,u;!t&&!l&&this.services.languageDetector&&(l=[]);const d=Et(l)?l:l&&l[0],p=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Et(l)?[l]:l);p&&(this.language||i(p),this.translator.language||this.translator.changeLanguage(p),(u=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||u.call(c,p)),this.loadResources(p,h=>{a(h,p)})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),o}getFixedT(t,n,r){var o=this;const i=function(a,s){let l;if(typeof s!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];l=o.options.overloadTranslationOptionHandler([a,s].concat(u))}else l=I({},s);l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const p=o.options.keySeparator||".";let h;return h=l.keyPrefix&&Array.isArray(a)?a.map(m=>`${l.keyPrefix}${p}${m}`):l.keyPrefix?`${l.keyPrefix}${p}${a}`:a,o.t(h,l)};return Et(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=this.translator)==null?void 0:t.translate(...r)}exists(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=this.translator)==null?void 0:t.exists(...r)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!o||a(i,t)))}loadNamespaces(t,n){const r=Gf();return this.options.ns?(Et(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Gf();Et(t)&&(t=[t]);const o=this.options.preload||[],i=t.filter(a=>o.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=o.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){var n,r;if(t||(t=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!t)return"rtl";const o=((r=this.services)==null?void 0:r.languageUtils)||new one(lne());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(o.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Qf(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y5;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const o=K(I(I({},this.options),t),{isClone:!0}),i=new Qf(o);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services=I({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((s,l)=>(s[l]=I({},this.store.data[l]),s[l]=Object.keys(s[l]).reduce((c,u)=>(c[u]=I({},s[l][u]),c),s[l]),s),{});i.store=new ene(a,o),i.services.resourceStore=i.store}return i.translator=new b5(i.services,o),i.translator.on("*",function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];i.emit(a,...l)}),i.init(o,n),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qr=Qf.createInstance();Qr.createInstance=Qf.createInstance,Qr.createInstance,Qr.dir,Qr.init,Qr.loadResources,Qr.reloadResources,Qr.use,Qr.changeLanguage,Qr.getFixedT,Qr.t,Qr.exists,Qr.setDefaultNamespace,Qr.hasLoadedNamespace,Qr.loadNamespaces,Qr.loadLanguages;var PEe=["added","removed","updated"];function une(e){return PEe.includes(e)}async function dne({queryClient:e,persister:t,buster:n="",dehydrateOptions:r}){const o={buster:n,timestamp:Date.now(),clientState:Aue(e,r)};await t.persistClient(o)}var NEe=e=>{var t=e,{children:n,persistOptions:r,onSuccess:o,onError:i}=t,a=ye(t,["children","persistOptions","onSuccess","onError"]);const[s,l]=x.useState(!0),c=x.useRef({persistOptions:r,onSuccess:o,onError:i}),u=x.useRef(!1);return x.useEffect(()=>{c.current={persistOptions:r,onSuccess:o,onError:i}}),x.useEffect(()=>{const d=K(I({},c.current.persistOptions),{queryClient:a.client});return u.current||(u.current=!0,async function({queryClient:p,persister:h,maxAge:m=864e5,buster:g="",hydrateOptions:f}){try{const v=await h.restoreClient();if(v){if(!v.timestamp)return h.removeClient();{const y=Date.now()-v.timestamp>m,b=v.buster!==g;if(y||b)return h.removeClient();Pue(p,v.clientState,f)}}}catch(v){throw await h.removeClient(),v}}(d).then(()=>{var p,h;return(h=(p=c.current).onSuccess)==null?void 0:h.call(p)}).catch(()=>{var p,h;return(h=(p=c.current).onError)==null?void 0:h.call(p)}).finally(()=>{l(!1)})),s?void 0:function(p){const h=p.queryClient.getQueryCache().subscribe(g=>{une(g.type)&&dne(p)}),m=p.queryClient.getMutationCache().subscribe(g=>{une(g.type)&&dne(p)});return()=>{h(),m()}}(d)},[a.client,s]),W.jsx(Nue,K(I({},a),{children:W.jsx(Iue,{value:s,children:n})}))};function W6(){}function IEe(e,t=100){let n,r=null;return function(...o){n=o,r===null&&(r=setTimeout(()=>{e(...n),r=null},t))}}const K6=()=>{var e,t;const n=G(r=>r.chatBox.agent);return((t=(e=n==null?void 0:n.config)==null?void 0:e.style)==null?void 0:t.font_size)||"12px"},REe=["add to cart"],MEe=["buy now"],DEe=["buy now with shoppay"],LEe=["amazon-pay-button","buy now with prime"],hne=e=>{switch(e){case"website":return REe;case"buyNow":return MEe;case"buyWithShopPay":return DEe;case"prime":return LEe;default:return[]}},pne=e=>{var t,n,r,o,i,a;const s=(t=It)==null?void 0:t.getState();if(((n=s==null?void 0:s.chatBox)==null?void 0:n.source)!=="chatbox")return;const l=(r=s.chatBox)==null?void 0:r.agent,c=(o=s.chatBox)==null?void 0:o.source,u=(i=s.chatBox)==null?void 0:i.botMode,d=wt(s),p=il(s),h=(g=>{switch(g){case"website":return zt.WebsiteAddToCart;case"buyNow":return zt.BuyNow;case"buyWithShopPay":return zt.BuyWithShopPay;case"prime":return zt.BuyWithPrime;default:return null}})(e);if(!h)return;const m={event_name:h,source:c,bot_mode:u,chatbot_id:(a=l==null?void 0:l.config)==null?void 0:a.agent_id,conversation_id:d,message_id:p};Oo(m)},jEe=(e,t)=>{var n;const r=[];for(const o of t){if(((n=o.textContent)==null?void 0:n.trim().toLowerCase())!==e)continue;const i=o.closest("button");i&&r.push(i);const a=o.closest('div[role="button"]');a&&r.push(a)}return r},mne=(e,t)=>{for(const n of t)n.dataset.eventAdded||(n.addEventListener("click",()=>{pne(e)}),n.dataset.eventAdded="true")};let fne=!1;const w5=e=>{switch(e){case"website":case"buyNow":case"buyWithShopPay":(t=>{const n=Array.from(document.querySelectorAll("span")),r=hne(t);for(const o of r){const i=jEe(o,n);bt(i)||mne(t,i)}})(e);break;case"prime":if((()=>{var t;const n=Array.from(document.querySelectorAll("div"));for(const r of n){if(!r.shadowRoot)continue;const o=Array.from(r.shadowRoot.children);for(const i of o){const a=hne("prime");for(const s of a)if(i.type==="button"&&((t=i.className)==null?void 0:t.trim().toLowerCase())===s)return mne("prime",[i]),i}}return null})())break;(()=>{if(fne)return;const t=Array.from(document.querySelectorAll("iframe"));for(const n of t)if(n.contentWindow&&n.title.trim().toLowerCase()==="buy with prime")return window.addEventListener("message",r=>{var o;((o=r.data)==null?void 0:o.messageType)==="ADD_TO_CART"&&pne("prime")}),fne=!0,n})()}};var gne,Or={},vne={};function bne(){return gne||(gne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getListFiles=e.getImage=e.getBase64=e.getAcceptTypeString=e.openFileDialog=void 0,e.openFileDialog=function(t){t.current&&t.current.click()},e.getAcceptTypeString=function(t,n){return t!=null&&t.length?t.map(function(r){return"."+r}).join(", "):n?"":"image/*"},e.getBase64=function(t){var n=new FileReader;return new Promise(function(r){n.addEventListener("load",function(){return r(String(n.result))}),n.readAsDataURL(t)})},e.getImage=function(t){var n=new Image;return new Promise(function(r){n.addEventListener("load",function(){return r(n)}),n.src=URL.createObjectURL(t)})},e.getListFiles=function(t,n){for(var r=[],o=0;o<t.length;o+=1)r.push(e.getBase64(t[o]));return Promise.all(r).then(function(i){var a=i.map(function(s,l){var c;return(c={})[n]=s,c.file=t[l],c});return a})}}(vne)),vne}var yne,wne,kne,xp={},bc={};function _ne(){return yne||(yne=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.DEFAULT_DATA_URL_KEY=bc.INIT_MAX_NUMBER=bc.DEFAULT_NULL_INDEX=void 0,bc.DEFAULT_NULL_INDEX=-1,bc.INIT_MAX_NUMBER=1e3,bc.DEFAULT_DATA_URL_KEY="dataURL"),bc}function zEe(){return wne||(wne=1,function(e){var t=xp&&xp.__awaiter||function(i,a,s,l){return new(s||(s=Promise))(function(c,u){function d(m){try{h(l.next(m))}catch(g){u(g)}}function p(m){try{h(l.throw(m))}catch(g){u(g)}}function h(m){m.done?c(m.value):function(g){return g instanceof s?g:new s(function(f){f(g)})}(m.value).then(d,p)}h((l=l.apply(i,a||[])).next())})},n=xp&&xp.__generator||function(i,a){var s,l,c,u,d={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(h){return function(m){return function(g){if(s)throw new TypeError("Generator is already executing.");for(;d;)try{if(s=1,l&&(c=2&g[0]?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[2&g[0],c.value]),g[0]){case 0:case 1:c=g;break;case 4:return d.label++,{value:g[1],done:!1};case 5:d.label++,l=g[1],g=[0];continue;case 7:g=d.ops.pop(),d.trys.pop();continue;default:if(!(c=(c=d.trys).length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){d=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){d.label=g[1];break}if(g[0]===6&&d.label<c[1]){d.label=c[1],c=g;break}if(c&&d.label<c[2]){d.label=c[2],d.ops.push(g);break}c[2]&&d.ops.pop(),d.trys.pop();continue}g=a.call(i,d)}catch(f){g=[6,f],l=0}finally{s=c=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,m])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorValidation=e.isMaxNumberValid=e.isAcceptTypeValid=e.isMaxFileSizeValid=e.isImageValid=e.isResolutionValid=void 0;var r=_ne(),o=bne();e.isResolutionValid=function(i,a,s,l){if(s===void 0&&(s=0),l===void 0&&(l=1),!(s&&l&&i.width&&i.height))return!0;switch(a){case"absolute":if(i.width===s&&i.height===l)return!0;break;case"ratio":var c=s/l;if(i.width/i.height===c)return!0;break;case"less":if(i.width<=s&&i.height<=l)return!0;break;case"more":if(i.width>=s&&i.height>=l)return!0}return!1},e.isImageValid=function(i){return!!i.includes("image")},e.isMaxFileSizeValid=function(i,a){return!a||i<=a},e.isAcceptTypeValid=function(i,a){if(i&&i.length>0){var s=a.split(".").pop()||"";if(i.findIndex(function(l){return l.toLowerCase()===s.toLowerCase()})<0)return!1}return!0},e.isMaxNumberValid=function(i,a,s){if(a!==0&&!a)return!0;if(s===r.DEFAULT_NULL_INDEX){if(i<=a)return!0}else if(i<=a+1)return!0;return!1},e.getErrorValidation=function(i){var a=i.fileList,s=i.value,l=i.maxNumber,c=i.keyUpdate,u=i.acceptType,d=i.maxFileSize,p=i.resolutionType,h=i.resolutionWidth,m=i.resolutionHeight,g=i.allowNonImageType;return t(void 0,void 0,void 0,function(){var f,v,y,b;return n(this,function(w){switch(w.label){case 0:return f={},e.isMaxNumberValid(a.length+s.length,l,c)?[3,1]:(f.maxNumber=!0,[3,5]);case 1:v=0,w.label=2;case 2:return v<a.length?(y=a[v].file)?(g||e.isImageValid(y.type))&&e.isAcceptTypeValid(u,y.name)?e.isMaxFileSizeValid(y.size,d)?p?[4,o.getImage(y)]:[3,4]:(f.maxFileSize=!0,[3,5]):(f.acceptType=!0,[3,5]):[3,4]:[3,5];case 3:if(b=w.sent(),!e.isResolutionValid(b,p,h,m))return f.resolution=!0,[3,5];w.label=4;case 4:return v+=1,[3,2];case 5:return Object.values(f).find(Boolean)?[2,f]:[2,null]}})})}}(xp)),xp}var FEe=function(){if(kne)return Or;kne=1;var e=Or&&Or.__assign||function(){return e=Object.assign||function(d){for(var p,h=1,m=arguments.length;h<m;h++)for(var g in p=arguments[h])Object.prototype.hasOwnProperty.call(p,g)&&(d[g]=p[g]);return d},e.apply(this,arguments)},t=Or&&Or.__createBinding||(Object.create?function(d,p,h,m){m===void 0&&(m=h),Object.defineProperty(d,m,{enumerable:!0,get:function(){return p[h]}})}:function(d,p,h,m){m===void 0&&(m=h),d[m]=p[h]}),n=Or&&Or.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),r=Or&&Or.__importStar||function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&t(p,d,h);return n(p,d),p},o=Or&&Or.__awaiter||function(d,p,h,m){return new(h||(h=Promise))(function(g,f){function v(w){try{b(m.next(w))}catch(k){f(k)}}function y(w){try{b(m.throw(w))}catch(k){f(k)}}function b(w){w.done?g(w.value):function(k){return k instanceof h?k:new h(function(_){_(k)})}(w.value).then(v,y)}b((m=m.apply(d,p||[])).next())})},i=Or&&Or.__generator||function(d,p){var h,m,g,f,v={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return f={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function y(b){return function(w){return function(k){if(h)throw new TypeError("Generator is already executing.");for(;v;)try{if(h=1,m&&(g=2&k[0]?m.return:k[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,k[1])).done)return g;switch(m=0,g&&(k=[2&k[0],g.value]),k[0]){case 0:case 1:g=k;break;case 4:return v.label++,{value:k[1],done:!1};case 5:v.label++,m=k[1],k=[0];continue;case 7:k=v.ops.pop(),v.trys.pop();continue;default:if(!(g=(g=v.trys).length>0&&g[g.length-1])&&(k[0]===6||k[0]===2)){v=0;continue}if(k[0]===3&&(!g||k[1]>g[0]&&k[1]<g[3])){v.label=k[1];break}if(k[0]===6&&v.label<g[1]){v.label=g[1],g=k;break}if(g&&v.label<g[2]){v.label=g[2],v.ops.push(k);break}g[2]&&v.ops.pop(),v.trys.pop();continue}k=p.call(d,v)}catch(_){k=[6,_],m=0}finally{h=g=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([b,w])}}},a=Or&&Or.__spreadArrays||function(){for(var d=0,p=0,h=arguments.length;p<h;p++)d+=arguments[p].length;var m=Array(d),g=0;for(p=0;p<h;p++)for(var f=arguments[p],v=0,y=f.length;v<y;v++,g++)m[g]=f[v];return m};Object.defineProperty(Or,"__esModule",{value:!0});var s=r(Bt),l=bne(),c=zEe(),u=_ne();return Or.default=function(d){var p=d.value,h=p===void 0?[]:p,m=d.onChange,g=d.onError,f=d.children,v=d.dataURLKey,y=v===void 0?u.DEFAULT_DATA_URL_KEY:v,b=d.multiple,w=b!==void 0&&b,k=d.maxNumber,_=k===void 0?u.INIT_MAX_NUMBER:k,E=d.acceptType,S=d.maxFileSize,O=d.resolutionWidth,T=d.resolutionHeight,M=d.resolutionType,D=d.inputProps,H=D===void 0?{}:D,$=d.allowNonImageType,R=$!==void 0&&$,U=h||[],B=s.useRef(null),L=s.useState(u.DEFAULT_NULL_INDEX),C=L[0],V=L[1],N=s.useState(null),q=N[0],J=N[1],Q=s.useState(!1),te=Q[0],X=Q[1],ee=s.useCallback(function(){return l.openFileDialog(B)},[B]),ue=s.useCallback(function(){V(u.DEFAULT_NULL_INDEX),ee()},[ee]),de=s.useCallback(function(){m==null||m([])},[m]),ge=function(be){return o(void 0,void 0,void 0,function(){var me;return i(this,function(pe){switch(pe.label){case 0:return[4,c.getErrorValidation({fileList:be,maxFileSize:S,maxNumber:_,acceptType:E,keyUpdate:C,resolutionType:M,resolutionWidth:O,resolutionHeight:T,value:U,allowNonImageType:R})];case 1:return(me=pe.sent())?(J(me),g==null||g(me,be),[2,!1]):(q&&J(null),[2,!0])}})})},he=function(be){return o(void 0,void 0,void 0,function(){var me,pe,Ie,xe,Ee;return i(this,function(Re){switch(Re.label){case 0:return be?[4,l.getListFiles(be,y)]:[2];case 1:return(me=Re.sent()).length?[4,ge(me)]:[2];case 2:if(!Re.sent())return[2];if(Ie=[],C>u.DEFAULT_NULL_INDEX)xe=me[0],(pe=a(U))[C]=xe,Ie.push(C);else if(w)for(pe=a(U,me),Ee=U.length;Ee<pe.length;Ee+=1)Ie.push(Ee);else pe=[me[0]],Ie.push(0);return m==null||m(pe,Ie),[2]}})})},Ce=s.useMemo(function(){return l.getAcceptTypeString(E,R)},[E,R]);return s.default.createElement(s.default.Fragment,null,s.default.createElement("input",e({type:"file",accept:Ce,ref:B,multiple:w&&C===u.DEFAULT_NULL_INDEX,onChange:function(be){return o(void 0,void 0,void 0,function(){return i(this,function(me){switch(me.label){case 0:return[4,he(be.target.files)];case 1:return me.sent(),C>u.DEFAULT_NULL_INDEX&&V(u.DEFAULT_NULL_INDEX),B.current&&(B.current.value=""),[2]}})})},style:{display:"none"}},H)),f==null?void 0:f({imageList:U,onImageUpload:ue,onImageRemoveAll:de,onImageUpdate:function(be){V(be),ee()},onImageRemove:function(be){var me=a(U);Array.isArray(be)?be.forEach(function(pe){me.splice(pe,1)}):me.splice(be,1),m==null||m(me)},errors:q,dragProps:{onDrop:function(be){be.preventDefault(),be.stopPropagation(),X(!1),be.dataTransfer.files&&be.dataTransfer.files.length>0&&he(be.dataTransfer.files)},onDragEnter:function(be){be.preventDefault(),be.stopPropagation(),be.dataTransfer.items&&be.dataTransfer.items.length>0&&X(!0)},onDragLeave:function(be){be.preventDefault(),be.stopPropagation(),X(!1)},onDragOver:function(be){be.preventDefault(),be.stopPropagation()},onDragStart:function(be){be.preventDefault(),be.stopPropagation(),be.dataTransfer.clearData()}},isDragging:te}))},Or}();const BEe=$r(FEe),xne=Ae("div",{target:"eqken7f0"})(({theme:e})=>({display:"flex",gap:"0.5em",alignItems:"center",padding:"1em",height:"44px",justifyContent:"space-between",borderRadius:"5px",backgroundColor:e.search_bar_header_background_color||"white"}),""),k5=()=>{var e,t,n,r,o,i;const a=Pt(),s=(n=(t=(e=a==null?void 0:a.config)==null?void 0:e.custom_style)==null?void 0:t.search_bar_config)==null?void 0:n.extended_search_catalog,l=(i=(o=(r=a==null?void 0:a.config)==null?void 0:r.custom_style)==null?void 0:o.search_bar_config)==null?void 0:i.external_search_url;return{isExtendedSearchCatalog:s,isExternalSearchUrl:l?l.includes("{{query}}"):void 0,externalSearchUrl:l}},UEe=()=>{var e,t,n;const r=Vt(),o=G(y=>y.chatBox.showSearchBar),i=Pt(),a=dt(),s=G(y=>y.searchBar.query),l=G(y=>y.searchBar.isWaitingForReply),c=G(y=>y.searchBar.fileImages),{handleUploadImage:u}=((y=!1)=>{const b=dt(),{mutateAsync:w,isPending:k}=hy(),[_,E]=x.useState({});return{handleUploadImage:async S=>{b(NC("loading")),Y1={};const O=S.map(async T=>{var M;try{const D=await w({image:T,return_product:y,onUploadProgress:H=>{E($=>{var R;return PC(AC({},$),{[(R=T.file)==null?void 0:R.name]:H.loaded/H.total})})}});return Y1[(M=T.file)==null?void 0:M.name]=D.image_gcs_uri,b(NC("success")),D}catch(D){throw b(NC("error")),D}});return await Promise.all(O)},uploadProgress:_,isUploading:k}})(!0),d=x.useRef(null),p=x.useRef(null),h=(n=(t=(e=i==null?void 0:i.config)==null?void 0:e.search_bar)==null?void 0:t.placeholder)!=null?n:"Ask anything...",{isExtendedSearchCatalog:m,isExternalSearchUrl:g,externalSearchUrl:f}=k5();x.useLayoutEffect(()=>{o&&(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),p.current&&p.current.focus())},[o]);const v=async y=>{a(fy(y));const b=(await u(y)).reduce((w,k)=>(k!=null&&k.products&&w.push(...k.products),w),[]);a(Wge(b))};return le(xne,{theme:r,children:[(()=>{var y,b;if((b=(y=i==null?void 0:i.config)==null?void 0:y.image_search)!=null&&b.enabled_on_search_bar)return A(BEe,{value:c,onChange:v,maxNumber:10,children:({onImageUpload:E})=>A("button",{ref:d,className:"p-1 text-slate-500 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-lg inline-flex items-center justify-center hover:rounded-full hover:ring-4 hover:ring-slate-300",onClick:()=>{E(),d.current&&d.current.blur()},children:A(a0e,{style:{width:24,height:24}})})});const w=!(s==null||!s.trim()),k=A(tge,{style:{color:r.primary_color,width:24,height:24}}),_={marginLeft:-10,width:24,height:24};return m&&g&&w?A("a",{href:f==null?void 0:f.replace("{{query}}",s==null?void 0:s.trim()),style:_,target:"_blank",children:k}):A("span",{style:_,children:k})})(),A("input",{ref:p,type:"text",value:s,onChange:y=>a(py(y.target.value)),placeholder:h,className:"p-2 rounded flex-1 text-base focus:outline-none",disabled:l,style:{maxWidth:"calc(100% - 40px)",backgroundColor:r.search_bar_header_background_color||"white",color:r.text_color||"black"}}),A("button",{className:"p-1 text-slate-500 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-lg inline-flex items-center justify-center hover:rounded-full hover:ring-4 hover:ring-slate-300",style:{marginRight:-12},onClick:()=>{a(s?py(""):nl({showSearchBar:!1}))},children:A(gH,{className:"text-2xl "})})]})},HEe=()=>{const e=dt(),t=Vt(),{mutate:n}=gy(),r=G(a=>a.searchBar.userQuestion),o=G(a=>a.searchBar.isWaitingForReply),i=G(a=>a.searchBar.processingImageStatus==="loading");return le(xne,{theme:t,style:{paddingTop:8,paddingBottom:8,overscrollBehaviorY:"contain"},children:[A("input",{readOnly:!0,type:"text",value:r,className:"p-2 rounded flex-1 text-base focus:outline-none",style:{overscrollBehaviorY:"contain",width:"100%",backgroundColor:t.search_bar_header_background_color||"white",color:t.text_color||"black"}}),(o||i)&&A(gf,{}),!o&&A(hte,{onClick:()=>{e(Hh("")),e(fy([])),n({keepOpenSearchBar:!0})},children:"Clear"})]})},$Ee=()=>{const e=dt();return or({mutationFn:t=>(async n=>{const{imageName:r}=n,o=Y1[r];if(!o)throw new Error("gcsUri is missing");const i=new FormData;i.append("image_gcs_uri",o);const a=`${Mt.chatHost}/api/v1/image_delete`,s=await xt.post(a,i,{headers:{"Content-Type":"multipart/form-data"}});if(s.status!==200)throw new Error("Failed to delete image");return s.data})(t),onMutate(t){e(Kge(t.imageName))},onSuccess:(t,n)=>{delete Y1[n.imageName]}})},VEe=on.div({display:"flex",height:"10rem",width:"10rem",cursor:"pointer",flexDirection:"column",alignItems:"center",gap:"1rem",borderRadius:"1rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity, 1))",padding:"0.5rem",":hover":{borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgb(147 197 253 / var(--tw-border-opacity, 1))"}}),qEe=e=>{const{product:t}=e,{url:n,image_url:r,price:o}=t;return le(VEe,{children:[A("img",{src:r,onClick:()=>{window.open(n,"_blank")}}),le("div",{children:["$",o]})]})},WEe=on.div({marginRight:"1rem",display:"flex",gap:"0.5rem",borderRightWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(226 232 240 / var(--tw-border-opacity, 1))",paddingRight:"2.25rem"}),KEe=on.div({position:"relative",height:"10rem",width:"10rem",overflow:"hidden",borderRadius:"1rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(71 85 105 / var(--tw-bg-opacity, 1))",padding:"0.5rem"}),GEe=on.img({height:"100%",width:"100%",cursor:"default",borderRadius:"1rem",objectFit:"cover"}),Cne=on.div({position:"absolute",inset:"0px",display:"flex",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"0.2",backgroundColor:"rgb(0 0 0 / var(--tw-bg-opacity, 1))",fontSize:"30px",lineHeight:"36px","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity, 1))"}),YEe=on.button({borderRadius:"9999px","--tw-bg-opacity":"0.5",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity, 1))",padding:"0.5rem","--tw-text-opacity":"0.5",color:"rgb(0 0 0 / var(--tw-text-opacity, 1))",":hover":{"--tw-bg-opacity":"1","--tw-text-opacity":"1"}}),QEe=e=>{var t;const n=G(c=>c.searchBar.processingImageStatus),r=G(Ly).status===Xs,[o,i]=x.useState(!1),{mutateAsync:a}=$Ee(),{image:s,isUserEngaged:l}=e;return le(KEe,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[A(GEe,{src:s.dataURL,alt:(t=s.file)==null?void 0:t.name}),o&&!l&&!r&&A(Cne,{children:A(YEe,{onClick:()=>{var c;a({imageName:((c=s.file)==null?void 0:c.name)||""})},children:A(gH,{})})}),n==="loading"&&A(Cne,{children:A(gf,{size:30})})]})},JEe=()=>{const e=G(o=>o.searchBar.processingImageStatus),t=G(o=>o.searchBar.products).slice(0,5);let n="",r="flex flex-col justify-center text-slate-500 text-sm whitespace-pre-wrap";switch(e){case"loading":n=`While processing image, you can still modify your question.
Once it's done, you can send it.`;break;case"success":t.length||(n="No products found");break;case"error":r+=" text-red-500",n="Failed to process image"}return n?A("div",{className:r,children:n}):A(Yn,{children:t.map(o=>A(qEe,{product:o},o.product_id))})},XEe=on.div({margin:"1rem",display:"flex",gap:"1.5rem",borderRadius:"1rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(226 232 240 / var(--tw-border-opacity, 1))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity, 1))",padding:"1.5rem",paddingBottom:"2.5rem","--tw-shadow":"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)","--tw-shadow-colored":"inset 0 2px 4px 0 var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}),ZEe=({isUserEngaged:e})=>{const t=G(n=>n.searchBar.fileImages);return t.length?le(XEe,{children:[t.length>0&&A(WEe,{children:t.map(n=>{var r;return A(QEe,{image:n,isUserEngaged:e},(r=n.file)==null?void 0:r.name)})}),A(JEe,{})]}):null},e7e=({item:e})=>le(t7e,{children:[A(KZ,{url:e.url}),A("div",{children:e.value}),A(GZ,{score:e.score})]}),t7e=Ae("div",{target:"e10csq9m0"})({name:"15lmu4t",styles:"display:flex;align-items:center;gap:10px;padding:7px;flex:1"}),n7e=({item:e})=>le("div",{className:"flex items-center gap-3",children:[A(u0e,{}),A("div",{children:e.value})]}),r7e=({item:e})=>G(t=>t.searchBar.processingImageStatus==="loading")?A(gf,{className:"w-8 h-8"}):le("div",{className:"flex items-center gap-3",children:[A(fV,{}),A("div",{children:e.value})]}),o7e=({item:e,selected:t})=>{const n=x.useRef(null),[r,o]=x.useState(!1);x.useLayoutEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getBoundingClientRect();s&&s.height>224?o(!0):o(!1)},[e.value]);const i={};return r&&(i.maskImage="linear-gradient(to bottom, black 75%, transparent 100%)"),le(i7e,{children:[A(a7e,{style:i,selected:t,children:le("div",{ref:n,children:[A($u,{text:e.value}),(()=>{var a;if(!e.buttons)return null;const s=(a=e.buttons)==null?void 0:a.map(l=>A("div",{className:"bg-white ml-auto text-gray-800 px-2 py-1 border text-sm rounded-lg shadow",children:l.text},l.text));return A("div",{className:"flex flex-col justify-end mt-2 gap-1",children:s})})()]})}),r&&A("button",{className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 border border-gray-400 rounded shadow",children:"Read More"})]})},i7e=Ae("div",{target:"e1ow7yf21"})({name:"b6wrti",styles:"display:flex;flex-direction:column;width:100%"}),a7e=Ae("div",{target:"e1ow7yf20"})(e=>({fontSize:18,padding:16,maxHeight:224,overflow:"hidden",position:"relative"}),""),s7e=({results:e,highlightedIndex:t,setHighlightedIndex:n,handleSelect:r})=>{const o=G(p=>p.searchBar.query),[i,a]=PL(),{height:s}=function(){const[p,h]=x.useState({width:0,height:0}),m=x.useCallback(()=>{h({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return w1("resize",m,NL),w1("orientationchange",m,NL),x.useEffect(m,[]),p}(),l=G(p=>p.searchBar.fileImages);G(p=>p.chatBox.agent);const{isExtendedSearchCatalog:c}=k5();if(bt(e))return null;let u=0;u=bt(l)?e.length>4?100:150:250;const d=s-a.top-u;return c?null:A("div",{ref:i,className:"mt-2 border-t overflow-y-auto p-2",style:{maxHeight:d},children:e.map((p,h)=>{let m="";const g=h===t;g&&(m+=" bg-blue-500");let f=A(kn,{size:"md",children:A(LK,{text:p.value,query:o})});switch(p.kind){case"reference":f=A(e7e,{item:p});break;case"aiResponse":f=A(o7e,{item:p,selected:g});break;case"showPreviousMessage":f=A(n7e,{item:p});break;case"askCopilot":f=A(r7e,{item:p})}const v=`${p.kind}-${h}`;return A(l7e,{selected:g,className:m,onMouseEnter:()=>n(h),onClick:()=>{r(p)},children:f},v)})})},l7e=Ae(Fn,{target:"e41ucl0"})(e=>{const{selected:t}=e,n={alignItems:"center",gap:"7px",fontSize:"14px",padding:"7px 14px",borderBottomWidth:"1px",borderRadius:"5.25px",cursor:"pointer","&:last-child":{borderBottomWidth:"0px"}};return t&&(n.color="white",n.span={color:"white","--mantine-color-dimmed":"white"}),n},""),Sne=e=>["searchBarAllProducts",e],c7e=(e,t)=>oh({queryKey:Sne(e),queryFn:async()=>e?(async n=>{const{botId:r}=n,o=Mt.chatHost;if(!r)return window.console.error("botId is required"),null;const i=`${o.replace(/\/$/,"")}/api/v1/products/all`,a=await xt.get(i,{params:{chatbot_id:r}}),s=a==null?void 0:a.data;return!s||s.error?(window.console.error("Failed to fetch all products",s==null?void 0:s.error),null):s.products||[]})({botId:e}):null,enabled:!(!e||!t),staleTime:1/0,gcTime:void 0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),u7e=(e,t)=>{if(!e||!t)return[];const n=s=>s.toLowerCase().replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim(),r=s=>n(s).split(" ").filter(Boolean),o=r(t),i=n(t);return e.map(s=>{const l=s.title||"",c=r(l),u=n(l).includes(i)?1:0,d=((h,m)=>{if(h.length===0||m.length===0)return 0;const g=new Set(h),f=new Set(m);let v=0;g.forEach(b=>{f.has(b)&&(v+=1)});const y=g.size+f.size-v;return y===0?0:v/y})(o,c),p=((h,m)=>{if(h.length===0||m.length===0)return 0;let g=0;return h.forEach(f=>{if(!(f.length<=1)){for(const v of m)if(v.startsWith(f)||v.includes(f)){g+=1;break}}}),g/h.length})(o,c);return{product:s,score:Math.max(u,.6*d+.4*p)}}).filter(s=>s.score>=.2).sort((s,l)=>l.score-s.score).map(({product:s})=>s).slice(0,3).map(s=>{var l;return{title:s.title,url:s.url,image:{src:((l=s.images)==null?void 0:l[0])||"",alt:s.title},price:s.price,compare_at_price:null}})},d7e=Ae("div",{target:"e1kf8q8d37"})(({theme:e})=>({display:"flex",flexDirection:"column",gap:"16px",padding:"16px",width:"100%",maxWidth:"100%",backgroundColor:e.bot_message_content_container_background||e.background_color||"white",border:e.bot_message_content_container_border||"1px solid transparent",borderRadius:e.message_content_container_border_radius||"8px",maxHeight:"70vh",overflowY:"auto","@media (max-width: 768px)":{padding:"12px",gap:"12px",maxHeight:"60vh"}}),""),h7e=Ae("div",{target:"e1kf8q8d36"})({name:"h5hxc",styles:"position:relative;display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));gap:24px;align-items:stretch;margin-top:20px;@media (max-width: 1024px){gap:20px;}@media (max-width: 768px){grid-template-columns:1fr;gap:16px;}"}),Tne=Ae("div",{target:"e1kf8q8d35"})({name:"pgkixs",styles:"display:flex;flex-direction:column;gap:16px;margin-right:15px;margin-left:15px;height:100%;flex-grow:1"}),p7e=Ae("div",{target:"e1kf8q8d34"})({name:"vvdxll",styles:"position:absolute;top:0;bottom:0;left:50%;transform:translateX(-0.5px);width:1px;background-color:var(--mantine-color-gray-3);@media (max-width: 768px){display:none;}"}),m7e=Ae("button",{target:"e1kf8q8d33"})(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",backgroundColor:e.command_button_bg||"transparent",color:e.text_color||"white",border:e.command_button_border||"none",borderRadius:e.command_button_border_radius||"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)"},"&:focus":{outline:`2px solid ${e.primary_color}`,outlineOffset:"2px"},"@media (max-width: 768px)":{padding:"16px 20px",fontSize:"16px"}}),""),f7e=Ae("div",{target:"e1kf8q8d32"})({name:"1yydxi7",styles:"display:flex;align-items:center;gap:8px"}),g7e=Ae("div",{target:"e1kf8q8d31"})({name:"e3d26l",styles:"display:flex;align-items:center;justify-content:center;color:var(--primary-color)"}),_5=Ae("div",{target:"e1kf8q8d30"})({name:"tw4sx",styles:"display:flex;flex-direction:column;gap:12px"}),x5=Ae("h3",{target:"e1kf8q8d29"})(({theme:e})=>({fontSize:"12px",fontWeight:"800",letterSpacing:"0.5px",color:e.header_button_color||e.text_color}),""),Ene=Ae("div",{target:"e1kf8q8d28"})({name:"3w0yoi",styles:"display:flex;flex-direction:column;gap:8px"}),One=Ae("div",{target:"e1kf8q8d27"})(({theme:e})=>({padding:"4px 0",fontSize:"16px",fontWeight:"500",color:e.text_color||"#E5E5E5",cursor:"pointer",transition:"color 0.2s ease","&:hover":{color:"#888888"},"&:focus":{outline:`2px solid ${e.primary_color}`,outlineOffset:"2px",borderRadius:"4px"},"@media (max-width: 768px)":{fontSize:"14px",padding:"10px 0"}}),""),v7e=Ae("div",{target:"e1kf8q8d26"})({name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"}),b7e=Ae("div",{target:"e1kf8q8d25"})(({theme:e})=>({display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease",borderRadius:e.message_content_container_border_radius||"8px",minHeight:"120px",marginBottom:"4px",marginTop:"4px","@media (max-width: 768px)":{gridTemplateColumns:"1fr"},"&:hover":{transform:"translateY(-6px)",boxShadow:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1)"},"&:focus":{outline:`2px solid ${e.primary_color}`,outlineOffset:"2px"}}),""),y7e=Ae("div",{target:"e1kf8q8d24"})({name:"nu34dy",styles:"width:100px;height:100px;display:flex;align-items:center;justify-content:center;margin-left:8px"}),w7e=Ae("img",{target:"e1kf8q8d23"})({name:"wxh6x3",styles:"width:100px;height:100px;object-fit:fill;border-radius:8px"}),Ane=Ae("div",{target:"e1kf8q8d22"})({name:"1t6pmvc",styles:"padding:12px;display:flex;flex-direction:column;justify-content:center;gap:4px;@media (max-width: 1024px){padding:28px;}@media (max-width: 768px){padding:24px;}"}),Pne=Ae("h4",{target:"e1kf8q8d21"})(({theme:e})=>({fontSize:"16px",fontWeight:"700",color:e.text_color||"#FFFFFF",margin:0}),""),Nne=Ae("p",{target:"e1kf8q8d20"})(({theme:e})=>({fontSize:"14px",color:e.header_button_color||e.text_color,margin:0}),""),k7e=Ae("span",{target:"e1kf8q8d19"})(({theme:e})=>({color:e.text_color||"#FFFFFF",fontWeight:700}),""),_7e=Ae("div",{target:"e1kf8q8d18"})({name:"gqs7ua",styles:"display:flex;flex-wrap:wrap;gap:8px;padding:8px 0"}),x7e=Ae("button",{target:"e1kf8q8d17"})(({theme:e})=>({padding:"10px 16px",backgroundColor:e.command_button_bg||"transparent",color:e.command_button_text_color||e.text_color,border:e.command_button_border||"none",borderRadius:e.command_button_border_radius||"20px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",whiteSpace:e.command_button_white_space||"nowrap",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis","&:hover":{backgroundColor:e.command_button_hover_bg,color:e.command_button_hover_text_color||e.text_color},"&:focus":{outline:`2px solid ${e.primary_color}`,outlineOffset:"2px"}}),""),C7e=Ae("button",{target:"e1kf8q8d2"})(({theme:e})=>({padding:"16px 24px",backgroundColor:"transparent",color:e.primary_color,border:`2px solid ${e.primary_color}`,borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease","&:hover":{backgroundColor:e.primary_color,color:e.background_color},"&:focus":{outline:`2px solid ${e.primary_color}`,outlineOffset:"2px"},"@media (max-width: 768px)":{padding:"14px 20px",fontSize:"14px"}}),""),S7e=Ae("div",{target:"e1kf8q8d1"})(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"24px",color:e.header_button_color||e.text_color}),""),T7e=Ae("span",{target:"e1kf8q8d0"})(({theme:e})=>({fontSize:"14px",color:e.header_button_color||e.text_color}),""),E7e=({isLoading:e=!1,leftSections:t,rightSections:n,showSeeAllButton:r=!1,onSeeAllClick:o})=>{const i=Vt();return le(d7e,{theme:i,children:[e?le(S7e,{theme:i,children:[A(rc,{size:"md"}),A(T7e,{theme:i,children:"Loading..."})]}):le(h7e,{children:[A(Tne,{children:t.map((a,s)=>A(Bt.Fragment,{children:a},s))}),A(p7e,{"aria-hidden":"true"}),A(Tne,{children:n.map((a,s)=>A(Bt.Fragment,{children:a},s))})]}),r&&!e&&A(C7e,{theme:i,onClick:o,role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(o==null||o())},"aria-label":"See all results",style:{width:"200px",alignSelf:"center",marginTop:"10px",marginBottom:"10px"},children:"See all results"})]})},O7e=e=>["searchBarPopularLinks",e],A7e=e=>oh({queryKey:O7e(e),queryFn:async()=>e?(async t=>{const{botId:n}=t,r=Mt.chatHost;if(!n)return window.console.error("botId is required"),null;const o=`${r.replace(/\/$/,"")}/api/v1/products/popular_links`,i=await xt.get(o,{params:{chatbot_id:n}}),a=i==null?void 0:i.data;return!a||a.error?(window.console.error("Failed to fetch popular links",a==null?void 0:a.error),null):a.links||[]})({botId:e}):null,enabled:!!e,staleTime:6e4}),P7e=e=>["searchBarDefaultProducts",e],N7e=e=>oh({queryKey:P7e(e),queryFn:async()=>e?(async t=>{const{botId:n}=t,r=Mt.chatHost;if(!n)return window.console.error("botId is required"),null;const o=`${r.replace(/\/$/,"")}/api/v1/products/default_display`,i=await xt.get(o,{params:{chatbot_id:n}}),a=i==null?void 0:i.data;return!a||a.error?(window.console.error("Failed to fetch recommended products",a==null?void 0:a.error),null):(a.products||[]).map(s=>{var l;return{name:s.title,price:s.price,image_url:((l=s.images)==null?void 0:l[0])||"",url:s.url}})})({botId:e}):null,enabled:!!e,staleTime:6e4}),Ine=e=>["searchBarAllPages",e],I7e=(e,t)=>oh({queryKey:Ine(e),queryFn:async()=>e?(async n=>{const{botId:r}=n,o=Mt.chatHost;if(!r)return window.console.error("botId is required"),null;const i=`${o.replace(/\/$/,"")}/api/v1/pages/all`,a=await xt.get(i,{params:{chatbot_id:r}}),s=a==null?void 0:a.data;return!s||s.error?(window.console.error("Failed to fetch all pages",s==null?void 0:s.error),null):s.pages||[]})({botId:e}):null,enabled:!(!e||!t),staleTime:1/0,gcTime:void 0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),R7e=(e,t)=>{if(!e||!t)return[];const n=c=>c.toLowerCase().replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim(),r=c=>n(c).split(" ").filter(Boolean),o=r(t),i=n(t),a=e.map(c=>{const u=c.title||"",d=r(u),p=n(u).includes(i)?1:0,h=((g,f)=>{if(g.length===0||f.length===0)return 0;const v=new Set(g),y=new Set(f);let b=0;v.forEach(k=>{y.has(k)&&(b+=1)});const w=v.size+y.size-b;return w===0?0:b/w})(o,d),m=((g,f)=>{if(g.length===0||f.length===0)return 0;let v=0;return g.forEach(y=>{if(!(y.length<=1)){for(const b of f)if(b.startsWith(y)||b.includes(y)){v+=1;break}}}),v/g.length})(o,d);return{page:c,score:Math.max(p,.6*h+.4*m)}}),s=a.filter(c=>c.score>=.2).sort((c,u)=>u.score-c.score).map(({page:c})=>c),l=c=>{const u=(c||"").replace(/\s+/g," ").trim();return u.length<=100?u:u.slice(0,100)+"..."};return s.slice(0,3).map(c=>({title:c.title,url:c.url,snippet:l(c.bodySummary)}))};function M7e(e){return gt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}const Rne=({onAskAssistant:e})=>{var t;const n=Vt(),r=G(o=>o.chatBox.agent);return le(m7e,{theme:n,onClick:e,"aria-label":"Ask Assistant",children:[le(f7e,{children:[A(g7e,{children:A(aCe,{size:18})}),le("span",{children:["Ask ",((t=r==null?void 0:r.config)==null?void 0:t.name)||"Assistant"]})]}),A(M7e,{size:18})]})},D7e=({links:e})=>{const t=Vt(),n=Array.isArray(e)&&e.length>0?e:[];return n.length===0?null:le(_5,{children:[A(x5,{theme:t,style:{marginTop:10},children:"POPULAR LINKS"}),A(Ene,{children:n.map((r,o)=>A(One,{theme:t,onClick:()=>window.open(r.url,"_blank"),role:"link",tabIndex:0,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&window.open(r.url,"_blank")},"aria-label":r.title,children:r.title},o))})]})},L7e=({questions:e,onQuestionClick:t})=>{const n=Vt();return e&&e.length!==0?le(_5,{children:[A(x5,{theme:n,style:{marginTop:10},children:"SUGGESTED QUESTIONS"}),A(_7e,{children:e.map((r,o)=>A(x7e,{theme:n,onClick:()=>t(r),role:"button",tabIndex:0,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&t(r)},"aria-label":r,children:r},o))})]}):null},j7e=({pages:e})=>{const t=Vt();return e&&e.length!==0?le(_5,{children:[A(x5,{theme:t,children:"PAGES"}),A(Ene,{children:e.map((n,r)=>le(One,{theme:t,onClick:()=>window.open(n.url,"_blank"),role:"link",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&window.open(n.url,"_blank")},"aria-label":n.title,style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px"},children:[A("div",{style:{fontWeight:500},children:n.title}),A("div",{style:{fontSize:"0.75em",opacity:.7},children:n.snippet})]},r))})]}):null},Mne=({products:e,title:t})=>{const n=Vt(),r=Array.isArray(e)?e:[];return le(_5,{children:[A(x5,{theme:n,children:t??"PRODUCTS"}),A(v7e,{children:r.length===0?le(Ane,{children:[A(Pne,{theme:n,children:"No products found"}),A(Nne,{theme:n,children:"Try refining your search or check back later."})]}):r.map((o,i)=>le(b7e,{theme:n,onClick:()=>window.open(o.url,"_blank"),role:"link",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&window.open(o.url,"_blank")},"aria-label":`${o.title} - ${o.price}`,children:[A(y7e,{children:A(w7e,{src:o.image.src,alt:o.image.alt,loading:"lazy",onError:a=>{a.target.style.display="none"}})}),le(Ane,{children:[o.compare_at_price&&A("span",{style:{fontSize:"12px",fontWeight:"700",color:"#e74c3c",textTransform:"uppercase",letterSpacing:"2px"},children:"SALE"}),A(Pne,{theme:n,children:o.title}),le(Nne,{theme:n,children:[o.compare_at_price&&A("span",{style:{textDecoration:"line-through",opacity:.6,fontSize:"0.85em",marginRight:"4px"},children:o.compare_at_price}),!o.compare_at_price&&A("span",{children:"Starting at "}),A(k7e,{theme:n,children:o.price})]})]})]},i))})]})},z7e=({onSendMessage:e})=>{var t;const n=G(L=>L.searchBar.query),r=G(L=>L.chatBox.agent),o=G(L=>L.chatBox.showSearchBar),i=dt(),{isExtendedSearchCatalog:a,isExternalSearchUrl:s,externalSearchUrl:l}=k5(),c=!!(n&&n.trim().length>0),u=c&&a,d=(t=r==null?void 0:r.config)==null?void 0:t.agent_id,{data:p,isLoading:h}=c7e(d,u),{mutate:m,data:g,isPending:f}=(L=>{const C=v1();return or({mutationFn:async V=>{const{query:N}=V,q=C.getQueryData(Sne(L));return u7e(q||[],N)}})})(d),{data:v,isLoading:y}=I7e(d,u),{mutate:b,data:w,isPending:k}=(L=>{const C=v1();return or({mutationFn:async V=>{const{query:N}=V,q=C.getQueryData(Ine(L));return R7e(q||[],N)}})})(d),{data:_}=HU(),E=x.useMemo(()=>{if(!c||!_)return[];const L=n.trim().toLowerCase();return _.filter(C=>typeof C=="string"&&C.toLowerCase().includes(L)).slice(0,2)},[c,n,_]),S=!(!o||!a||c),{data:O,isLoading:T}=A7e(S?d:void 0),{data:M,isLoading:D}=N7e(S?d:void 0);if(x.useEffect(()=>{if(!c)return;const L=n.trim();h||!p||m({query:L}),y||!v||b({query:L})},[m,b,c,n,h,p,y,v]),!a)return null;const H=()=>{n?e(n.trim(),!0):(i(Er(!1)),i(nl({showSearchBar:!1})),setTimeout(()=>{i(Er(!0))},500))},$=c&&a?[A(Rne,{onAskAssistant:H},"ask-assistant"),A(L7e,{questions:E,onQuestionClick:L=>{e(L,!0)}},"suggested-questions"),A(j7e,{pages:(w||[]).map(L=>({title:L.title,url:L.url,snippet:L.snippet}))},"pages")].filter(Boolean):[A(Rne,{onAskAssistant:H},"ask-assistant"),A(D7e,{links:O||void 0},"popular-links")],R=c&&a?[A(Mne,{products:g||[],title:"PRODUCTS"},"products")]:[A(Mne,{title:"RECOMMENDED PRODUCTS",products:(M||[]).map(L=>({title:L.name,url:L.url,price:L.price,compare_at_price:null,image:{src:L.image_url,alt:L.name}}))},"recommended-products")],U=c&&a?h||f||y||k:!(!S||!T&&!D),B=!!(c&&a&&((g==null?void 0:g.length)||0)>0)&&s;return A("div",{className:"w-full",style:{marginTop:"20px"},children:A(E7e,{isLoading:U,leftSections:$,rightSections:R,showSeeAllButton:B,onSeeAllClick:()=>{n&&s&&window.open(l==null?void 0:l.replace("{{query}}",n.trim()),"_blank")}})})},F7e=()=>{var e;const t=G(Ly).status===Xs,n=G(J=>J.searchBar.processingImageStatus==="loading"),r=G(J=>J.searchBar.fileImages),o=G(Gge),i=dt(),a=is(),s=G(J=>J.searchBar.userQuestion),l=G(J=>J.searchBar.query),c=u5(),u=(()=>{var J;const Q=Pt(),te=Q==null?void 0:Q.config;return(J=te==null?void 0:te.search_bar)==null?void 0:J.hide_search_by})(),d=K6(),p=Vt(),[h,m]=x.useState(0),g=ih(()=>{i(N$(Date.now()))},100);x.useEffect(()=>{const J=()=>{var Q;g();const te=((Q=window.visualViewport)==null?void 0:Q.height)||window.innerHeight;m(te)};return J(),window.addEventListener("resize",J),window.addEventListener("scroll",J),()=>{window.removeEventListener("resize",J),window.removeEventListener("scroll",J)}},[g]);const{bestSuggestions:f}=Fh(l),v=x.useMemo(()=>(f==null?void 0:f.map(J=>({kind:"text",value:J})))||[],[f]),y=G(J=>J.searchBar.searchResults),b=G(J=>J.chatBox.showSearchBar),w=G(J=>J.chatBox.showChatBox),k=G(J=>J.chatBox.agent),_=G(z$),E=lh(wy),S=(e=k==null?void 0:k.config)==null?void 0:e.style,[O,T]=x.useState(-1),{isExtendedSearchCatalog:M,isExternalSearchUrl:D,externalSearchUrl:H}=k5(),$=G(ho),R=x.useMemo(()=>{if($){for(const J of $.messages.slice().reverse())if(J.type==="bot")return J}},[$]),U=!!R;x.useEffect(()=>{!$&&!bt(y)&&i(Q1([]))},[i,y,$]),x.useEffect(()=>{if(!R)return;const J=R.references||[],Q=[{kind:"aiResponse",value:R.text,buttons:R.buttons}];_&&Q.push(...J.map(te=>({kind:"reference",value:te.name,url:te.url,score:te.score}))),i(Q1(Q))},[i,R,R==null?void 0:R.text,_]),x.useEffect(()=>{R!=null&&R.done&&i(my(!1))},[i,R==null?void 0:R.done]);const B=x.useCallback(async(J,Q=!1)=>{var te;if(i(Q1([])),i(py("")),M&&D&&!Q)return void window.open(H==null?void 0:H.replace("{{query}}",J.trim()),"_blank");k&&((te=k.config)==null?void 0:te.agent_id)!=="loading"&&b&&E&&await i(rte()),i(my(!0)),i(Hh(J));const X={text:J},ee=o[0];ee&&(X.imageGcsUri=ee),M?(i(Er(!1)),i(nl({showSearchBar:!1})),setTimeout(()=>{i(Er(!0))},500),setTimeout(()=>{i(Ii(X))},800)):i(Ii(X))},[i,o,M,D,H,k,b,E]),L=x.useCallback(J=>{switch(J.kind){case"reference":window.open(J.url,"_blank");break;case"aiResponse":case"showPreviousMessage":i(Er(!0));break;case"askCopilot":B(l);break;default:B(J.value)}},[i,B,l]);x.useEffect(()=>{const J=Q=>{var te,X;if(b&&!w)switch(Q.key){case"ArrowDown":y.length>0&&(Q.preventDefault(),T(ee=>ee<y.length-1?ee+1:ee));break;case"ArrowUp":y.length>0&&(Q.preventDefault(),T(ee=>ee>0?ee-1:ee));break;case"Enter":{if(Q.isComposing||(Q.preventDefault(),t)||n)return;const ee=y[O];ee?L(ee):!s&&l&&B(l);break}case"Escape":Q.preventDefault(),w?(X=(te=Dn).close)==null||X.call(te):l?py(""):i(nl({showSearchBar:!1}))}};return window.addEventListener("keydown",J),()=>{window.removeEventListener("keydown",J)}},[i,L,B,O,n,t,l,y,w,b,s]),x.useEffect(()=>{const J=setTimeout(()=>{let Q=[];if(l){const te=v.filter(ee=>ee.value.toLowerCase().includes(l.toLowerCase()));Q=[...Q,{kind:"askCopilot",value:`Search for: ${l}`},...te];const X=Q.findIndex(ee=>ee.kind==="askCopilot");T(X)}else bt(Q)?T(-1):T(0);s||i(Q1(Q.slice(0,7)))},300);return()=>clearTimeout(J)},[v,U,l,s,i]),x.useEffect(()=>{l&&Hh("")},[l]);let C="";U?bt(r)?y.length>4?C+=" pt-4":C+=" pt-24":y.length>3?C+=" pt-4":C+=" pt-24":C+=" pt-24";const V=(b||w)&&a,N=V?"0.3s":"0.1s",q=`opacity ${N} ease-in-out, transform ${N} ease-in-out`;return A(Dne,{style:{zIndex:V?(S==null?void 0:S.z_index)||1e3:-1,maxHeight:Tt?h:void 0,opacity:V?1:0,pointerEvents:V?"auto":"none",transition:q},onClick:()=>{c||i(nl({showSearchBar:!1}))},children:A(B7e,{className:C,style:{maxHeight:Tt?h+1:void 0,opacity:V?1:0,transform:V?"scale(1)":"scale(0.95)",transition:q},children:(()=>{var J;return w?null:le("div",{className:"relative w-full max-w-[830px]",style:{fontSize:d,padding:"1em"},children:[le("div",{className:"flex flex-col relative bg-white border rounded-lg shadow-lg w-full",style:{borderRadius:"6px",borderColor:(J=p.search_bar_header_border_bottom)!=null?J:"white"},onClick:Q=>{Q.stopPropagation()},children:[!s&&A(UEe,{}),s&&A(HEe,{}),A(ZEe,{isUserEngaged:U}),A(s7e,{results:y,highlightedIndex:O,setHighlightedIndex:T,handleSelect:L})]}),!u&&le("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"8px",gap:"8px",fontSize:"10px",transition:"opacity 0.3s ease-in-out",opacity:bt(y)&&!t?1:0},children:[A("div",{style:{color:"#e2e2e2"},children:"Search by"}),A(N6,{height:Tt?16:18})]}),A(z7e,{onSendMessage:B})]})})()})})},Dne=Ae("div",{target:"e1d3k54n1"})({name:"1m6lg52",styles:"position:fixed;inset:0;background-color:rgba(0, 0, 0, 0.7);backdrop-filter:blur(10px);display:flex;align-items:flex-start;justify-content:center;width:100vw;height:100vh;overflow:hidden;overscroll-behavior:contain;z-index:1000"}),B7e=Ae("div",{target:"e1d3k54n0"})({name:"bazsni",styles:"display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw"}),U7e=()=>{var e;const t=dt(),n=Pt(),r=(e=n==null?void 0:n.config)==null?void 0:e.churn_control,o=x.useRef(null),i=G(a=>a.chatBox.source);x.useEffect(()=>{if(bt(r))return;const{cancel_url:a,cancel_button_text:s,cancel_button_query_selector:l,cancel_button_xpath:c}=r,u=async()=>{let f;if(await new Promise(v=>setTimeout(v,10)),c)try{f=document.evaluate(c,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(v){window.console.error("Error evaluating XPath",v)}if(l&&!f&&(f=document.querySelector(l)),s&&!f&&(f=Array.from(document.querySelectorAll("button, a, input[type='button'], input[type='submit']")).find(v=>{var y;return((y=v.textContent)==null?void 0:y.trim().toLowerCase())===s.trim().toLowerCase()})),f){const v=f.getBoundingClientRect();(v.top>=window.innerHeight||v.bottom<=0)&&(f=null)}return f},d=f=>{var v;if(!f)return void window.console.warn("No button found");const y=f.cloneNode(!0);Object.assign(f.style,{position:"fixed",top:"-100vh",opacity:"0",visibility:"hidden",display:"none",width:"1px",height:"1px",overflow:"hidden"}),(v=f.parentNode)==null||v.insertBefore(y,f.nextSibling),window.livexCCFn=()=>{f.click()},y.onclick=b=>{Fe.cancelHandlerCalled?window.console.warn("Custom handler already executed"):(b.preventDefault(),b.stopImmediatePropagation(),t(Tbe(!0)),async function(w){const k={type:"support",parameters:{twi:"cancel_subscription"},subscription:{cancel_function_name:"livexCCFn",customer_id:el(w)}};await Dn.clickChatbotButton({skipWelcomeVideo:!0}),Dn.sendMessage("Cancel Subscription",JSON.stringify(k))}(i),Fe.cancelHandlerCalled=!0)},o.current=y},p=()=>{const f=new MutationObserver(()=>{document.body.contains(o.current)||(f.disconnect(),g())});return f.observe(document.body,{childList:!0,subtree:!0}),f};let h=null,m=null;const g=async()=>{if((Array.isArray(a)?a:[a]).some(f=>window.location.href.includes(f))){const f=await u();f?(d(f),m=p()):h=(()=>{const v=new MutationObserver(async()=>{const y=await u();y&&(v.disconnect(),d(y),m=p())});return v.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),v})()}else window.console.warn("URL not matched")};return g(),()=>{h&&h.disconnect(),m&&m.disconnect()}},[r,i,t])};let G6=!1,gs=null;const H7e=()=>{var e,t;const n=dt(),r=Pt(),o=(t=(e=r==null?void 0:r.config)==null?void 0:e.style)==null?void 0:t.enable_draggable_button,i=G(M=>M.chatBox.isDragging),{setPosition:a}=sh(),s=x.useRef(null),[l,c]=x.useState(!1),u=x.useRef(!1),d=x.useRef(!1),p=x.useRef(i),h=x.useRef(!1),m=x.useRef({x:0,y:0}),g=x.useRef({right:0,bottom:0,left:0,top:0});p.current=i,h.current=l;const[f,v]=x.useState(1);x.useEffect(()=>{const M=typeof window<"u"?window.visualViewport:void 0;if(!M)return;const D=()=>{var H;return v((H=M.scale)!=null?H:1)};return D(),M.addEventListener("resize",D),M.addEventListener("scroll",D),()=>{M.removeEventListener("resize",D),M.removeEventListener("scroll",D)}},[]);const y=Math.abs(f-1)>.01,b=!!o&&!y,w=x.useRef(b);w.current=b;const k=x.useCallback((M,D)=>{if(!u.current||!w.current)return;if(!p.current){const C=Math.abs(m.current.x-M),V=Math.abs(m.current.y-D);if(!(C>6||V>6))return;gs&&(clearTimeout(gs),gs=null),c(!0),h.current=!0,n(Ny(!0))}if(!h.current)return;G6=!0;const H=m.current.x-M,$=g.current.left-H,R=g.current.right+H,U=m.current.y-D,B=g.current.top-U,L=g.current.bottom+U;a(R,L,$,B)},[n,a]),_=x.useCallback(M=>{k(M.clientX,M.clientY)},[k]),E=x.useCallback(M=>{p.current&&M.preventDefault(),k(M.touches[0].clientX,M.touches[0].clientY)},[k]),S=(M,D)=>{if(gs&&(clearTimeout(gs),gs=null),!w.current)return void(u.current=!1);gs=setTimeout(()=>{w.current&&(c(!0),h.current=!0,n(Ny(!0)))},300),m.current={x:M,y:D},u.current=!0;const H=s.current;if(!H)return;const $=H.getBoundingClientRect();g.current={right:window.innerWidth-$.right,bottom:window.innerHeight-$.bottom,left:$.left,top:$.top}},O=x.useCallback(()=>{gs&&(clearTimeout(gs),gs=null),c(!1),h.current=!1,u.current=!1,G6?(d.current=!0,setTimeout(()=>{d.current=!1},350),setTimeout(()=>{n(Ny(!1))},300)):n(Ny(!1)),G6=!1},[n]),T=x.useCallback(()=>{u.current=!1,O()},[O]);return x.useEffect(()=>{if(i){document.body.classList.add("select-none"),document.documentElement.style.overscrollBehaviorY="none",window.addEventListener("mousemove",_),window.addEventListener("mouseup",O),window.addEventListener("touchmove",E),window.addEventListener("touchend",T);const M=O9();M&&(M.addEventListener("mousemove",_),M.addEventListener("mouseup",O),M.addEventListener("touchmove",E),M.addEventListener("touchend",T))}return()=>{document.body.classList.remove("select-none"),document.documentElement.style.overscrollBehaviorY="",window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",O),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",T);const M=O9();M&&(M.removeEventListener("mousemove",_),M.removeEventListener("mouseup",O),M.removeEventListener("touchmove",E),M.removeEventListener("touchend",T))}},[i,_,O,E,T]),o?A("div",{ref:s,className:"absolute w-full h-full",style:{cursor:b?i?"grabbing":"grab":"default",touchAction:i?"none":"auto"},onMouseDown:M=>S(M.clientX,M.clientY),onClick:M=>{d.current&&(M.preventDefault(),M.stopPropagation())},onMouseMove:M=>{p.current||k(M.clientX,M.clientY)},onMouseUp:()=>{p.current||O()},onTouchStart:M=>{S(M.touches[0].clientX,M.touches[0].clientY)},onTouchMove:M=>{p.current?M.preventDefault():k(M.touches[0].clientX,M.touches[0].clientY)},onTouchEnd:()=>{p.current||T()},children:A("div",{style:{position:"absolute",top:-4,left:-4},children:l&&b&&A(h0e,{style:{width:16,height:16}})})}):null},Lne=()=>{var e,t,n,r,o,i,a;const s=Pt();let l=parseInt((n=(t=(e=s==null?void 0:s.config)==null?void 0:e.style)==null?void 0:t.chatbot_icon_size)!=null?n:"60");return Tt&&(l=parseInt((a=(i=(o=(r=s==null?void 0:s.config)==null?void 0:r.style)==null?void 0:o.mobile)==null?void 0:i.chatbot_icon_size)!=null?a:"48")),l},$7e=()=>{const e=G(g=>g.chatBox.showWelcomeMessage),t=Lne(),n=(()=>{var g;const f=Pt(),v=Zi((g=f==null?void 0:f.config)==null?void 0:g.red_dot_indicator)||{enabled:!0,size:14,indicator_text:"1",color:"rgb(220, 38, 38)",animate:!0,border_width:0,border_color:"#FFFFFF",offset_percentage:40};return v.size=parseInt(`${v.size||12}`),v.border_width=parseInt(`${v.border_width||0}`),v.offset_percentage=parseInt(`${v.offset_percentage||40}`),v})(),{enabled:r,size:o,color:i,animate:a,indicator_text:s,border_width:l,border_color:c,offset_percentage:u}=n;if(!r||!e)return null;const d={display:"flex",position:"absolute",top:0,right:0,borderRadius:"100%",zIndex:10,alignItems:"center",justifyContent:"center",border:`${l}px solid ${c}`};if(o>0)d.width=o,d.height=o;else{const g=Tt?14:17.5;d.width=g,d.height=g}d.fontSize=.66*d.width,d.backgroundColor=i,d.color=Hn(i);const p=t/2*(1-Math.cos(Math.PI/4)),h=d.width/2*(u/100),m=p-d.width/2+h;return d.top=m,d.right=m,d.fontWeight=500,le(Yn,{children:[a&&A("div",{style:d,className:"animate-ping",children:s}),A("div",{style:d,children:s})]})},V7e=e=>{const{color:t="white"}=e;return le("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 500 500",width:"100%",height:"100%",children:[A("path",{d:"M137.73 117.671h228.309c27.614 0 50 22.386 50 50v155.41c0 27.614-22.386 50-50 50H240.533l-75.154 77.491-.002-77.491H137.73c-27.614 0-50-22.386-50-50v-155.41c0-27.614 22.386-50 50-50Z",style:{stroke:t,fill:"transparent",strokeWidth:25,strokeMiterlimit:5.26,strokeLinejoin:"round"}}),A("path",{d:"M189.955 296.294c16.719 14.664 39.168 21.496 67.349 20.495 22.148-.787 43.399-7.074 63.754-18.862",style:{stroke:t,fill:"transparent",strokeWidth:24,strokeLinecap:"round",strokeLinejoin:"round"}}),A("circle",{cx:178.893,cy:236.567,r:26.588,style:{fill:t,stroke:t}}),A("circle",{cx:326.754,cy:237.006,r:26.588,style:{stroke:t,fill:t,transformOrigin:"468.323px 240.39px"}}),A("circle",{cx:253.734,cy:60.884,r:24.542,style:{fill:t,stroke:t,transformOrigin:"384.409px 64.007px"}}),A("path",{d:"M254.185 114.959c-.768-1.276-.951-43.509-.183-42.233",style:{stroke:t,strokeWidth:26,strokeLinecap:"round"}})]})},q7e=()=>{var e,t;const n=Pt(),r=Vt(n),o=G(u=>u.chatBox.showChatBox),i=Lne(),a=Math.round(.53*i),s={position:"absolute",objectFit:"cover",width:"100%",height:"100%",borderRadius:"100%",border:`3px solid ${r.primary_color}`};if(o)return(e=n==null?void 0:n.config)!=null&&e.chatbot_button_close_icon?A(n5,{url:n.config.chatbot_button_close_icon,size:a}):A("div",{children:A(c0e,{style:{color:"white",width:a,height:a}})});const l=(t=n==null?void 0:n.config)==null?void 0:t.chatbot_button_icon;if(l)return l.endsWith(".svg")?A(n5,{url:l,size:a}):A("img",{src:l,style:s});const c=Hn(r.primary_color);return A(V7e,{color:c})},W7e=()=>{const e=dt(),t=G(o=>o.chatBox.showPopupImageSrc),n=qh(100);if(!t)return null;const r=()=>{e(R$(""))};return le(K7e,{style:{zIndex:n},children:[A(Y7e,{children:le(Q7e,{children:[A(Fy,{style:{position:"absolute",right:"4px",top:"-34px"},onClick:r,children:A(ca,{})}),A("img",{src:t,width:"100%",height:"100%",onClick:r})]})}),A(G7e,{onClick:r})]})},K7e=Ae("div",{target:"eu2qs5j3"})(()=>({zIndex:30,position:"fixed",top:0,left:0,width:"100%",height:"100%"}),""),G7e=Ae("div",{target:"eu2qs5j2"})(()=>({position:"fixed",top:0,left:0,right:0,bottom:0,background:"black",opacity:.5,zIndex:1}),""),Y7e=Ae("div",{target:"eu2qs5j1"})(()=>({zIndex:2,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),""),Q7e=Ae("div",{target:"eu2qs5j0"})(()=>({"> img":{boxShadow:_1()}}),""),J7e=()=>{const e=op(),t=is(),n=G(s=>s.chatBox.showChatBox),r=G(s=>{var l,c,u;return(u=(c=(l=s.chatBox.agent)==null?void 0:l.config)==null?void 0:c.style)==null?void 0:u.z_index})||50,o=G(s=>{var l,c,u;return(u=(c=(l=s.chatBox.agent)==null?void 0:l.config)==null?void 0:c.style)==null?void 0:u.search_bar_z_index})||50;x.useEffect(()=>{t||e&&(n?Dn.setRootZIndex(o):Dn.setRootZIndex(r))},[e,n,r,o,t]);const i=e&&n,a=i?"0.3s":"0.1s";return t?null:A(Dne,{style:{zIndex:i?r-1:-1,opacity:i?1:0,pointerEvents:i?"auto":"none",transition:`opacity ${a} ease-in-out, transform ${a} ease-in-out`}})},X7e={error:({context:e,id:t,innerProps:n})=>le(Yn,{children:[A(Pi,{children:A(kn,{size:"sm",style:{whiteSpace:"pre-wrap"},children:n.message})}),A(An,{fullWidth:!0,mt:"md",color:"red",onClick:()=>{var r;Dn.resetToDefaultZIndex(),e.closeModal(t),(r=n.onClose)==null||r.call(n)},children:"Close"})]}),confirm:({context:e,id:t,innerProps:n})=>le(Yn,{children:[A(Pi,{children:A(kn,{size:"sm",style:{whiteSpace:"pre-wrap"},children:n.message})}),le(ir,{mt:"md",justify:"space-between",children:[A(An,{variant:"outline",onClick:()=>{var r;Dn.resetToDefaultZIndex(),e.closeModal(t),(r=n.onCancel)==null||r.call(n)},children:n.cancelLabel||"Cancel"}),A(An,{color:n.confirmColor||"blue",onClick:()=>{var r;Dn.resetToDefaultZIndex(),e.closeModal(t),(r=n.onConfirm)==null||r.call(n)},children:n.confirmLabel||"Confirm"})]})]})},Z7e=()=>{const e=G(t=>t.chatBox.showChatBox)?"open":"closed";return A(eOe,{suffix:e})},eOe=Ae("div",{target:"e1riqc2a0"})("position:absolute;width:100%;height:100%;background:var(--chatbox-button-image-background-",({suffix:e})=>e,", unset);border-radius:var(--chatbox-button-image-border-radius, 100%);");let Jf=null;var tOe=Object.defineProperty,jne=(e,t,n)=>((r,o,i)=>o in r?tOe(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class nOe extends Bt.Component{constructor(){super(...arguments),jne(this,"state",{hasError:!1}),jne(this,"handleReset",()=>{var t,n;this.setState({hasError:!1,message:void 0}),(n=(t=this.props).onReset)==null||n.call(t)})}static getDerivedStateFromError(t){return{hasError:!0,message:"Something went wrong."}}componentDidCatch(t,n){var r,o;(o=(r=ne)==null?void 0:r.error)==null||o.call(r,"[ErrorBoundary] Uncaught error",t,n)}render(){return this.state.hasError?le("div",{style:{position:"fixed",right:16,bottom:16,zIndex:2147483647,maxWidth:360,background:"white",color:"#1f2937",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 8px 24px rgba(0,0,0,0.12)",padding:16},children:[A("div",{style:{fontWeight:600,marginBottom:8},children:"Chatbot had an unexpected error"}),A("div",{style:{fontSize:12,marginBottom:12},children:"Please try again. If the problem persists, reload the page."}),le("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[A("button",{onClick:this.handleReset,style:{padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:6,background:"white",cursor:"pointer"},children:"Try again"}),A("button",{onClick:()=>window.location.reload(),style:{padding:"6px 10px",border:0,borderRadius:6,background:"#4f46e5",color:"white",cursor:"pointer"},children:"Reload"})]})]}):this.props.children}}var rOe=Object.defineProperty,oOe=Object.defineProperties,iOe=Object.getOwnPropertyDescriptors,zne=Object.getOwnPropertySymbols,aOe=Object.prototype.hasOwnProperty,sOe=Object.prototype.propertyIsEnumerable,Fne=(e,t,n)=>t in e?rOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C5=(e,t)=>{for(var n in t||(t={}))aOe.call(t,n)&&Fne(e,n,t[n]);if(zne)for(var n of zne(t))sOe.call(t,n)&&Fne(e,n,t[n]);return e},Bne=(e,t)=>oOe(e,iOe(t));Qr.use(Yfe).init({resources:Gve,fallbackLng:Wh,lng:Wh,interpolation:{escapeValue:!1}});const lOe=new kue({defaultOptions:{queries:{gcTime:864e5}}}),cOe=function({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:r=JSON.stringify,deserialize:o=JSON.parse,retry:i}){if(e){const a=s=>{try{return void e.setItem(t,r(s))}catch(l){return l}};return{persistClient:IEe(s=>{let l=s,c=a(l),u=0;for(;c&&l;)u++,l=i==null?void 0:i({persistedClient:l,error:c,errorCount:u}),l&&(c=a(l))},n),restoreClient:()=>{const s=e.getItem(t);if(s)return o(s)},removeClient:()=>{e.removeItem(t)}}}return{persistClient:W6,restoreClient:W6,removeClient:W6}}({storage:window.localStorage}),uOe={persister:cOe,maxAge:864e5};let Une=!1;const dOe=e=>{const t=G(d=>d.chatBox.useLiveXCopilot),n=G(d=>d.chatBox.isDragging),r=Ry(),o=G(d=>d.chatBox.showChatBox),i=G(d=>d.chatBox.showWelcomeMessage),a=(()=>{var d,p,h,m,g,f;const v=G(C=>C.chatBox.showChatBox),y=rs(),{position:b}=sh(),w=sf(),k=is(),_=G(C=>C.chatBox.agent),E=_1(),S=u5(),{isTop:O,isLeft:T}=Fv();let M=(p=(d=_==null?void 0:_.config)==null?void 0:d.style)!=null?p:{};Tt&&(M=Ci({},M,(h=M==null?void 0:M.mobile)!=null?h:{}));const D=Vt(),{primary_color:H,name:$}=D;let R=H;$==="gradient"&&(R=`linear-gradient(125deg, ${D.primary_color} 0%, ${D.secondary_color} 100%)`);let U=parseInt((m=M==null?void 0:M.chatbot_icon_size)!=null?m:"60");Tt&&(U=parseInt((f=(g=M==null?void 0:M.mobile)==null?void 0:g.chatbot_icon_size)!=null?f:"48"));const B=v?"open":"closed",L={background:`var(--chatbox-button-image-background-${B}, ${R})`,zIndex:1,width:`var(--chatbox-button-width-${B}, ${U}px)`,height:`var(--chatbox-button-height-${B}, ${U}px)`,boxShadow:E};return S||y||w||k?{display:"none"}:(Tt&&v&&(L.opacity=0),T?(delete L.right,L.left=b.left):(delete L.left,L.right=b.right),O?L.top=b.top:L.bottom=b.bottom,L)})(),s=G(d=>{var p,h;return(h=(p=d.chatBox.agent)==null?void 0:p.config)==null?void 0:h.style}),{disable_attention_animation:l,hide_chatbot_button:c}=s||{};if(!t||c)return null;let u="flex items-center justify-center rounded-full fixed right-0 bottom-0 p-2 transition-transform duration-200 ease-in-out hover:scale-110 cursor-pointer";return!r&&!o&&i&&!l&&(u+=" custom-animate-bounce"),le("div",{id:"livex-chatbot-button",className:u,style:a,onClick:async d=>{if(!n){if(o)return void e(d);Dn.clickChatbotButton({skipWelcomeVideo:!1})}},children:[A($7e,{}),A(q7e,{}),A(Z7e,{}),A(H7e,{})]})},hOe=e=>{var t;U7e();const n=LH(),r=G(R=>R.chatBox.showChatBox),o=dt(),{mutate:i}=Si(),{agent:a,gatewayHost:s,chatHost:l,frontendHost:c,firebaseConfig:u,popupQuestions:d,botLanguage:p="en",hasQuota:h}=e,m=F$();x.useEffect(()=>{u&&(Fe.firebaseApp||m&&(async()=>{try{const R=await qee(),U=R.initializeApp(u),B=R.getFirestore(U);Fe.firebaseApp=U,Fe.firestore=B,ne.log("Firebase initialized successfully")}catch(R){ne.error("Failed to setup Firebase:",R)}})())},[u,m]);const g=G(R=>R.chatBox.agent),f=x.useMemo(()=>Ci(YR,e.options||{}),[e.options]),v=e.source||"chatbox",y=a==null?void 0:a.config,b=y==null?void 0:y.style,w=e.botMode||(y==null?void 0:y.chatbot_mode),{isV4:k}=Jl(),_=G(ho),E=_==null?void 0:_.id;x.useEffect(()=>{Fe.threadId=E},[E]),x.useEffect(()=>{A9(r?"beforeOpen":"beforeClose")},[r]),x.useEffect(()=>{Yt(w)&&Va.instance.init(o)},[w,o]),x.useLayoutEffect(()=>{setTimeout(()=>{A9(r?"afterOpen":"afterClose")},10)},[r]),x.useEffect(()=>{const R=window.zE;if(R){try{if(R("webWidget:get","chat:isChatting"))return;R("webWidget","hide")}catch(U){window.console.error("Error occurred using zendesk API",U)}o(Ty(!0))}else o(Ty(!0))},[o]),Mt.chatHost=l,Mt.gatewayHost=s,Mt.frontendHost=c;const S=!((t=b==null?void 0:b.expansion)==null||!t.default),{i18n:O}=jr(),T=G(R=>R.chatBox.languageCode);x.useEffect(()=>{O.changeLanguage(T)},[O,T]),x.useEffect(()=>{var R;!a||((R=a.config)==null?void 0:R.agent_id)==="loading"||o(Cbe({agent:a,initExpanded:S,source:v,botMode:w,options:f,botLanguage:p}))},[a,w,o,S,f,v,p]),x.useEffect(()=>{if(Une||!g)return;const R=(U=>{const B=It.getState(),{botMode:L,source:C}=B.chatBox,V=U.threadId||"";if(Yt(L)&&L!=="avataiOnly")return!1;if(bbe.includes(L??"")||ybe.includes(C??""))return!0;if(L==="searchBar")return!1;const N=B.chat.threads[V];return uf(N)&&(N.closed||U.dispatch(Gr({threadId:V}))),localStorage.getItem("openChatBox")==="true"})({threadId:E,dispatch:o});ne.log("[ChatBoxButton] useEffect initialShowChatBox:",R),o(Er(R)),Une=!0},[o,g,E]),(()=>{var R,U;const B=(R=It)==null?void 0:R.getState();((U=B==null?void 0:B.chatBox)==null?void 0:U.source)==="chatbox"&&(w5("website"),w5("buyNow"),w5("buyWithShopPay"),w5("prime"))})(),x.useEffect(()=>()=>{o(I$(null))},[o]);const M=x.useCallback(R=>{R.shiftKey&&(localStorage.removeItem("hasPlayedWelcomeVideo"),o(Oy(!0))),Yt(w)&&k?o(Qh(!0)):o(Er(!1))},[w,o,k]),D=(()=>{var R,U,B;const L=rs(),C=sf(),V=is(),N=G(ee=>ee.chatBox.agent),q=(U=(R=N==null?void 0:N.config)==null?void 0:R.style)!=null?U:{},J=UU(),Q=K6(),te=parseInt((B=q==null?void 0:q.vertical_offset)!=null?B:"18"),X={fontFamily:J,fontSize:Q,right:"18px",bottom:te,zIndex:qh()};return L||C||V?(X.right="0px",X.bottom="0px",X):((q==null?void 0:q.horizontal)==="left"&&(delete X.right,X.left="30px"),(q==null?void 0:q.vertical)==="top"&&(delete X.bottom,X.top=te),q!=null&&q.z_index&&(X.zIndex=q==null?void 0:q.z_index),X)})();_ve({onClose:M,autoScrollToBottom:f.auto_scroll_to_bottom}),x.useEffect(()=>{const R=async()=>{if(!Yt(w)||!E)return;const U=It.getState().chat.threads[E];U&&((B=>{if(B==null||!B.id)return;const L=cf();L[B.id]=B,cc(L)})(Bne(C5({},U),{stream_details:void 0})),await AH(E,!0),i({event_name:"ChatbotBeforeUnload"}))};return window.addEventListener("beforeunload",R),()=>{window.removeEventListener("beforeunload",R)}},[w,i,E]);const H=Bne(C5({},e),{onClose:M,options:f}),$=dOe(M);return n||!h?null:le("div",{id:"livex-chatbot-app",children:[A(W7e,{}),A(F7e,{}),le("livex-chatbox-button-container",{style:D,children:[A(gEe,{popupQuestions:d}),$,A(iEe,C5({},H)),A(J7e,{})]})]})},pOe=({children:e,livekitReady:t})=>{const n=K6(),r=Vt(),o=x.useRef(null),[i,a]=x.useState(null),[s,l]=x.useState(null);Fe.shadowRootRef=o;const c=qh(1),u=WH();x.useEffect(()=>{if(t&&o.current)if(o.current.shadowRoot)a(o.current.shadowRoot);else{const p=o.current.attachShadow({mode:"open"}),h=document.createElement("style");h.id="chatbox-base-styles",h.textContent=`.livex-chatbox-markdown p{overflow-wrap:anywhere}@media (prefers-color-scheme: dark){.livex-chatbox-markdown{color-scheme:dark;--color-prettylights-syntax-comment: #8b949e;--color-prettylights-syntax-constant: #79c0ff;--color-prettylights-syntax-entity: #d2a8ff;--color-prettylights-syntax-storage-modifier-import: #c9d1d9;--color-prettylights-syntax-entity-tag: #7ee787;--color-prettylights-syntax-keyword: #ff7b72;--color-prettylights-syntax-string: #a5d6ff;--color-prettylights-syntax-variable: #ffa657;--color-prettylights-syntax-brackethighlighter-unmatched: #f85149;--color-prettylights-syntax-invalid-illegal-text: #f0f6fc;--color-prettylights-syntax-invalid-illegal-bg: #8e1519;--color-prettylights-syntax-carriage-return-text: #f0f6fc;--color-prettylights-syntax-carriage-return-bg: #b62324;--color-prettylights-syntax-string-regexp: #7ee787;--color-prettylights-syntax-markup-list: #f2cc60;--color-prettylights-syntax-markup-heading: #1f6feb;--color-prettylights-syntax-markup-italic: #c9d1d9;--color-prettylights-syntax-markup-bold: #c9d1d9;--color-prettylights-syntax-markup-deleted-text: #ffdcd7;--color-prettylights-syntax-markup-deleted-bg: #67060c;--color-prettylights-syntax-markup-inserted-text: #aff5b4;--color-prettylights-syntax-markup-inserted-bg: #033a16;--color-prettylights-syntax-markup-changed-text: #ffdfb6;--color-prettylights-syntax-markup-changed-bg: #5a1e02;--color-prettylights-syntax-markup-ignored-text: #c9d1d9;--color-prettylights-syntax-markup-ignored-bg: #1158c7;--color-prettylights-syntax-meta-diff-range: #d2a8ff;--color-prettylights-syntax-brackethighlighter-angle: #8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;--color-prettylights-syntax-constant-other-reference-link: #a5d6ff;--color-fg-muted: #8b949e;--color-fg-subtle: #6e7681;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #30363d;--color-border-muted: #21262d;--color-neutral-muted: rgba(110, 118, 129, .4);--color-accent-fg: #58a6ff;--color-accent-emphasis: #1f6feb;--color-attention-subtle: rgba(187, 128, 9, .15);--color-danger-fg: #f85149}}@media (prefers-color-scheme: light){.livex-chatbox-markdown{color-scheme:light;--color-prettylights-syntax-comment: #6e7781;--color-prettylights-syntax-constant: #0550ae;--color-prettylights-syntax-entity: #8250df;--color-prettylights-syntax-storage-modifier-import: #24292f;--color-prettylights-syntax-entity-tag: #116329;--color-prettylights-syntax-keyword: #cf222e;--color-prettylights-syntax-string: #0a3069;--color-prettylights-syntax-variable: #953800;--color-prettylights-syntax-brackethighlighter-unmatched: #82071e;--color-prettylights-syntax-invalid-illegal-text: #f6f8fa;--color-prettylights-syntax-invalid-illegal-bg: #82071e;--color-prettylights-syntax-carriage-return-text: #f6f8fa;--color-prettylights-syntax-carriage-return-bg: #cf222e;--color-prettylights-syntax-string-regexp: #116329;--color-prettylights-syntax-markup-list: #3b2300;--color-prettylights-syntax-markup-heading: #0550ae;--color-prettylights-syntax-markup-italic: #24292f;--color-prettylights-syntax-markup-bold: #24292f;--color-prettylights-syntax-markup-deleted-text: #82071e;--color-prettylights-syntax-markup-deleted-bg: #ffebe9;--color-prettylights-syntax-markup-inserted-text: #116329;--color-prettylights-syntax-markup-inserted-bg: #dafbe1;--color-prettylights-syntax-markup-changed-text: #953800;--color-prettylights-syntax-markup-changed-bg: #ffd8b5;--color-prettylights-syntax-markup-ignored-text: #eaeef2;--color-prettylights-syntax-markup-ignored-bg: #0550ae;--color-prettylights-syntax-meta-diff-range: #8250df;--color-prettylights-syntax-brackethighlighter-angle: #57606a;--color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;--color-prettylights-syntax-constant-other-reference-link: #0a3069;--color-fg-muted: #57606a;--color-fg-subtle: #6e7781;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #d0d7de;--color-border-muted: hsla(210, 18%, 87%, 1);--color-neutral-muted: rgba(175, 184, 193, .2);--color-accent-fg: #0969da;--color-accent-emphasis: #0969da;--color-attention-subtle: #fff8c5;--color-danger-fg: #cf222e}}.livex-chatbox-markdown{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:var(--color-fg-default);background-color:var(--color-canvas-default);font-size:var(--message-content-container-font-size, 12px);word-wrap:break-word;width:100%}.livex-chatbox-markdown .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.livex-chatbox-markdown h1:hover .anchor .octicon-link:before,.livex-chatbox-markdown h2:hover .anchor .octicon-link:before,.livex-chatbox-markdown h3:hover .anchor .octicon-link:before,.livex-chatbox-markdown h4:hover .anchor .octicon-link:before,.livex-chatbox-markdown h5:hover .anchor .octicon-link:before,.livex-chatbox-markdown h6:hover .anchor .octicon-link:before{width:1em;height:1em;content:" ";display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")}.livex-chatbox-markdown details,.livex-chatbox-markdown figcaption,.livex-chatbox-markdown figure{display:block}.livex-chatbox-markdown summary{display:list-item}.livex-chatbox-markdown [hidden]{display:none!important}.livex-chatbox-markdown a{background-color:transparent;text-decoration:none}.livex-chatbox-markdown abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.livex-chatbox-markdown b,.livex-chatbox-markdown strong{font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dfn{font-style:italic}.livex-chatbox-markdown h1{margin:.67em 0;font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:2em;border-bottom:var(--markdown-h1-border-bottom, 1px solid var(--color-border-muted))}.livex-chatbox-markdown mark{background-color:var(--color-attention-subtle);color:var(--color-fg-default)}.livex-chatbox-markdown small{font-size:90%}.livex-chatbox-markdown sub,.livex-chatbox-markdown sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.livex-chatbox-markdown sub{bottom:-.25em}.livex-chatbox-markdown sup{top:-.5em}.livex-chatbox-markdown img{border-style:none;max-width:100%;box-sizing:content-box;background-color:var(--color-canvas-default)}.livex-chatbox-markdown code,.livex-chatbox-markdown kbd,.livex-chatbox-markdown pre,.livex-chatbox-markdown samp{font-family:monospace;font-size:1em}.livex-chatbox-markdown figure{margin:1em 3.25em}.livex-chatbox-markdown hr{box-sizing:content-box;overflow:hidden;background:transparent;border-bottom:1px solid var(--color-border-muted);height:.25em;padding:0;margin:1.5em 0;background-color:var(--color-border-default);border:0}.livex-chatbox-markdown input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.livex-chatbox-markdown [type=button],.livex-chatbox-markdown [type=reset],.livex-chatbox-markdown [type=submit]{-webkit-appearance:button}.livex-chatbox-markdown [type=checkbox],.livex-chatbox-markdown [type=radio]{box-sizing:border-box;padding:0}.livex-chatbox-markdown [type=search]::-webkit-search-cancel-button,.livex-chatbox-markdown [type=search]::-webkit-search-decoration{-webkit-appearance:none}.livex-chatbox-markdown ::-webkit-input-placeholder{color:inherit;opacity:.54}.livex-chatbox-markdown ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.livex-chatbox-markdown a:hover{text-decoration:underline}.livex-chatbox-markdown ::-moz-placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown ::placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown hr:before{display:table;content:""}.livex-chatbox-markdown hr:after{display:table;clear:both;content:""}.livex-chatbox-markdown details summary{cursor:pointer}.livex-chatbox-markdown details:not([open])>*:not(summary){display:none!important}.livex-chatbox-markdown a:focus,.livex-chatbox-markdown [role=button]:focus,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=checkbox]:focus{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:focus:not(:focus-visible),.livex-chatbox-markdown [role=button]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=radio]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=checkbox]:focus:not(:focus-visible){outline:solid 1px transparent}.livex-chatbox-markdown a:focus-visible,.livex-chatbox-markdown [role=button]:focus-visible,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:not([class]):focus,.livex-chatbox-markdown a:not([class]):focus-visible,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline-offset:0}.livex-chatbox-markdown kbd{display:inline-block;padding:3px .3125em;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:.625em;color:var(--color-fg-default);vertical-align:middle;background-color:var(--color-canvas-subtle);border:solid 1px var(--color-neutral-muted);border-bottom-color:var(--color-neutral-muted);border-radius:.375em;box-shadow:inset 0 -1px 0 var(--color-neutral-muted)}.livex-chatbox-markdown h1,.livex-chatbox-markdown h2,.livex-chatbox-markdown h3,.livex-chatbox-markdown h4,.livex-chatbox-markdown h5,.livex-chatbox-markdown h6{margin-top:1.5em;margin-bottom:1em;font-weight:var(--base-text-weight-semibold, 600);line-height:1.25}.livex-chatbox-markdown h2{font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:1.5em;border-bottom:var(--markdown-h2-border-bottom, 1px solid var(--color-border-muted))}.livex-chatbox-markdown h3{font-weight:var(--base-text-weight-semibold, 600);font-size:1.25em}.livex-chatbox-markdown h4{font-weight:var(--base-text-weight-semibold, 600);font-size:1em}.livex-chatbox-markdown h5{font-weight:var(--base-text-weight-semibold, 600);font-size:.875em}.livex-chatbox-markdown h6{font-weight:var(--base-text-weight-semibold, 600);font-size:.85em;color:var(--color-fg-muted)}.livex-chatbox-markdown p{margin-top:0;margin-bottom:.625em}.livex-chatbox-markdown blockquote{margin:0;padding:0 1em;color:var(--color-fg-muted);border-left:.25em solid var(--color-border-default)}.livex-chatbox-markdown ul{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:disc}.livex-chatbox-markdown ol{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:decimal}.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ul ol{list-style-type:lower-roman}.livex-chatbox-markdown ul ul ol,.livex-chatbox-markdown ul ol ol,.livex-chatbox-markdown ol ul ol,.livex-chatbox-markdown ol ol ol{list-style-type:lower-alpha}.livex-chatbox-markdown dd{margin-left:0}.livex-chatbox-markdown tt,.livex-chatbox-markdown code,.livex-chatbox-markdown samp{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em}.livex-chatbox-markdown pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em;word-wrap:normal}.livex-chatbox-markdown .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.livex-chatbox-markdown input::-webkit-outer-spin-button,.livex-chatbox-markdown input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;appearance:none}.livex-chatbox-markdown:before{display:table;content:""}.livex-chatbox-markdown:after{display:table;clear:both;content:""}.livex-chatbox-markdown>*:first-child{margin-top:0!important}.livex-chatbox-markdown>*:last-child{margin-bottom:0!important}.livex-chatbox-markdown .absent{color:var(--color-danger-fg)}.livex-chatbox-markdown .anchor{float:left;padding-right:.25em;margin-left:-1.25em;line-height:1}.livex-chatbox-markdown .anchor:focus{outline:none}.livex-chatbox-markdown p,.livex-chatbox-markdown blockquote,.livex-chatbox-markdown ul,.livex-chatbox-markdown ol,.livex-chatbox-markdown dl,.livex-chatbox-markdown pre,.livex-chatbox-markdown details{margin-top:0;margin-bottom:1em}.livex-chatbox-markdown blockquote>:first-child{margin-top:0}.livex-chatbox-markdown blockquote>:last-child{margin-bottom:0}.livex-chatbox-markdown h1 .octicon-link,.livex-chatbox-markdown h2 .octicon-link,.livex-chatbox-markdown h3 .octicon-link,.livex-chatbox-markdown h4 .octicon-link,.livex-chatbox-markdown h5 .octicon-link,.livex-chatbox-markdown h6 .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}.livex-chatbox-markdown h1:hover .anchor,.livex-chatbox-markdown h2:hover .anchor,.livex-chatbox-markdown h3:hover .anchor,.livex-chatbox-markdown h4:hover .anchor,.livex-chatbox-markdown h5:hover .anchor,.livex-chatbox-markdown h6:hover .anchor{text-decoration:none}.livex-chatbox-markdown h1:hover .anchor .octicon-link,.livex-chatbox-markdown h2:hover .anchor .octicon-link,.livex-chatbox-markdown h3:hover .anchor .octicon-link,.livex-chatbox-markdown h4:hover .anchor .octicon-link,.livex-chatbox-markdown h5:hover .anchor .octicon-link,.livex-chatbox-markdown h6:hover .anchor .octicon-link{visibility:visible}.livex-chatbox-markdown h1 tt,.livex-chatbox-markdown h1 code,.livex-chatbox-markdown h2 tt,.livex-chatbox-markdown h2 code,.livex-chatbox-markdown h3 tt,.livex-chatbox-markdown h3 code,.livex-chatbox-markdown h4 tt,.livex-chatbox-markdown h4 code,.livex-chatbox-markdown h5 tt,.livex-chatbox-markdown h5 code,.livex-chatbox-markdown h6 tt,.livex-chatbox-markdown h6 code{padding:0 .2em;font-size:inherit}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2,.livex-chatbox-markdown summary h3,.livex-chatbox-markdown summary h4,.livex-chatbox-markdown summary h5,.livex-chatbox-markdown summary h6{display:inline-block}.livex-chatbox-markdown summary h1 .anchor,.livex-chatbox-markdown summary h2 .anchor,.livex-chatbox-markdown summary h3 .anchor,.livex-chatbox-markdown summary h4 .anchor,.livex-chatbox-markdown summary h5 .anchor,.livex-chatbox-markdown summary h6 .anchor{margin-left:-2.5em}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2{padding-bottom:0;border-bottom:0}.livex-chatbox-markdown ul.no-list,.livex-chatbox-markdown ol.no-list{padding:0;list-style-type:none}.livex-chatbox-markdown ol[type=a]{list-style-type:lower-alpha}.livex-chatbox-markdown ol[type=A]{list-style-type:upper-alpha}.livex-chatbox-markdown ol[type=i]{list-style-type:lower-roman}.livex-chatbox-markdown ol[type=I]{list-style-type:upper-roman}.livex-chatbox-markdown ol[type="1"]{list-style-type:decimal}.livex-chatbox-markdown div>ol:not([type]){list-style-type:decimal}.livex-chatbox-markdown ul ul,.livex-chatbox-markdown ul ol,.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ol ul{margin-top:0;margin-bottom:0}.livex-chatbox-markdown li>p{margin-top:1em}.livex-chatbox-markdown li+li{margin-top:.25em}.livex-chatbox-markdown dl{padding:0}.livex-chatbox-markdown dl dt{padding:0;margin-top:1em;font-size:1em;font-style:italic;font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dl dd{padding:0 1em;margin-bottom:1em}.livex-chatbox-markdown img[align=right]{padding-left:1.25em}.livex-chatbox-markdown img[align=left]{padding-right:1.25em}.livex-chatbox-markdown .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.livex-chatbox-markdown span.frame{display:block;overflow:hidden}.livex-chatbox-markdown span.frame>span{display:block;float:left;width:auto;padding:.4375em;margin:.8125em 0 0;overflow:hidden;border:1px solid var(--color-border-default)}.livex-chatbox-markdown span.frame span img{display:block;float:left}.livex-chatbox-markdown span.frame span span{display:block;padding:.3125em 0 0;clear:both;color:var(--color-fg-default)}.livex-chatbox-markdown span.align-center{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-center>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:center}.livex-chatbox-markdown span.align-center span img{margin:0 auto;text-align:center}.livex-chatbox-markdown span.align-right{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-right>span{display:block;margin:.8125em 0 0;overflow:hidden;text-align:right}.livex-chatbox-markdown span.align-right span img{margin:0;text-align:right}.livex-chatbox-markdown span.float-left{display:block;float:left;margin-right:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-left span{margin:.8125em 0 0}.livex-chatbox-markdown span.float-right{display:block;float:right;margin-left:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-right>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:right}.livex-chatbox-markdown code,.livex-chatbox-markdown tt{padding:.2em .4em;margin:0;font-size:85%;white-space:break-spaces;background-color:var(--color-neutral-muted);border-radius:.375em}.livex-chatbox-markdown code br,.livex-chatbox-markdown tt br{display:none}.livex-chatbox-markdown del code{text-decoration:inherit}.livex-chatbox-markdown samp{font-size:85%}.livex-chatbox-markdown pre code{font-size:100%}.livex-chatbox-markdown pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:transparent;border:0}.livex-chatbox-markdown .highlight{margin-bottom:1em}.livex-chatbox-markdown .highlight pre{margin-bottom:0;word-break:normal}.livex-chatbox-markdown .highlight pre,.livex-chatbox-markdown pre{padding:1em;overflow:auto;font-size:85%;line-height:1.45;background-color:var(--color-canvas-subtle);border-radius:.375em}.livex-chatbox-markdown pre code,.livex-chatbox-markdown pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.livex-chatbox-markdown .csv-data td,.livex-chatbox-markdown .csv-data th{padding:.3125em;overflow:hidden;font-size:.75em;line-height:1;text-align:left;white-space:nowrap}.livex-chatbox-markdown .csv-data .blob-num{padding:.625em .5em .5em;text-align:right;background:var(--color-canvas-default);border:0}.livex-chatbox-markdown .csv-data tr{border-top:0}.livex-chatbox-markdown .csv-data th{font-weight:var(--base-text-weight-semibold, 600);background:var(--color-canvas-subtle);border-top:0}.livex-chatbox-markdown [data-footnote-ref]:before{content:"["}.livex-chatbox-markdown [data-footnote-ref]:after{content:"]"}.livex-chatbox-markdown .footnotes{font-size:.75em;color:var(--color-fg-muted);border-top:1px solid var(--color-border-default)}.livex-chatbox-markdown .footnotes ol{padding-left:1em}.livex-chatbox-markdown .footnotes ol ul{display:inline-block;padding-left:1em;margin-top:1em}.livex-chatbox-markdown .footnotes li{position:relative}.livex-chatbox-markdown .footnotes li:target:before{position:absolute;inset:-.5em -.5em -.5em -1.5em;pointer-events:none;content:"";border:2px solid var(--color-accent-emphasis);border-radius:.375em}.livex-chatbox-markdown .footnotes li:target{color:var(--color-fg-default)}.livex-chatbox-markdown .footnotes .data-footnote-backref g-emoji{font-family:monospace}.livex-chatbox-markdown .pl-c{color:var(--color-prettylights-syntax-comment)}.livex-chatbox-markdown .pl-c1,.livex-chatbox-markdown .pl-s .pl-v{color:var(--color-prettylights-syntax-constant)}.livex-chatbox-markdown .pl-e,.livex-chatbox-markdown .pl-en{color:var(--color-prettylights-syntax-entity)}.livex-chatbox-markdown .pl-smi,.livex-chatbox-markdown .pl-s .pl-s1{color:var(--color-prettylights-syntax-storage-modifier-import)}.livex-chatbox-markdown .pl-ent{color:var(--color-prettylights-syntax-entity-tag)}.livex-chatbox-markdown .pl-k{color:var(--color-prettylights-syntax-keyword)}.livex-chatbox-markdown .pl-s,.livex-chatbox-markdown .pl-pds,.livex-chatbox-markdown .pl-s .pl-pse .pl-s1,.livex-chatbox-markdown .pl-sr,.livex-chatbox-markdown .pl-sr .pl-cce,.livex-chatbox-markdown .pl-sr .pl-sre,.livex-chatbox-markdown .pl-sr .pl-sra{color:var(--color-prettylights-syntax-string)}.livex-chatbox-markdown .pl-v,.livex-chatbox-markdown .pl-smw{color:var(--color-prettylights-syntax-variable)}.livex-chatbox-markdown .pl-bu{color:var(--color-prettylights-syntax-brackethighlighter-unmatched)}.livex-chatbox-markdown .pl-ii{color:var(--color-prettylights-syntax-invalid-illegal-text);background-color:var(--color-prettylights-syntax-invalid-illegal-bg)}.livex-chatbox-markdown .pl-c2{color:var(--color-prettylights-syntax-carriage-return-text);background-color:var(--color-prettylights-syntax-carriage-return-bg)}.livex-chatbox-markdown .pl-sr .pl-cce{font-weight:700;color:var(--color-prettylights-syntax-string-regexp)}.livex-chatbox-markdown .pl-ml{color:var(--color-prettylights-syntax-markup-list)}.livex-chatbox-markdown .pl-mh,.livex-chatbox-markdown .pl-mh .pl-en,.livex-chatbox-markdown .pl-ms{font-weight:700;color:var(--color-prettylights-syntax-markup-heading)}.livex-chatbox-markdown .pl-mi{font-style:italic;color:var(--color-prettylights-syntax-markup-italic)}.livex-chatbox-markdown .pl-mb{font-weight:700;color:var(--color-prettylights-syntax-markup-bold)}.livex-chatbox-markdown .pl-md{color:var(--color-prettylights-syntax-markup-deleted-text);background-color:var(--color-prettylights-syntax-markup-deleted-bg)}.livex-chatbox-markdown .pl-mi1{color:var(--color-prettylights-syntax-markup-inserted-text);background-color:var(--color-prettylights-syntax-markup-inserted-bg)}.livex-chatbox-markdown .pl-mc{color:var(--color-prettylights-syntax-markup-changed-text);background-color:var(--color-prettylights-syntax-markup-changed-bg)}.livex-chatbox-markdown .pl-mi2{color:var(--color-prettylights-syntax-markup-ignored-text);background-color:var(--color-prettylights-syntax-markup-ignored-bg)}.livex-chatbox-markdown .pl-mdr{font-weight:700;color:var(--color-prettylights-syntax-meta-diff-range)}.livex-chatbox-markdown .pl-ba{color:var(--color-prettylights-syntax-brackethighlighter-angle)}.livex-chatbox-markdown .pl-sg{color:var(--color-prettylights-syntax-sublimelinter-gutter-mark)}.livex-chatbox-markdown .pl-corl{text-decoration:underline;color:var(--color-prettylights-syntax-constant-other-reference-link)}.livex-chatbox-markdown g-emoji{display:inline-block;min-width:1ch;font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:.875em;font-style:normal!important;font-weight:var(--base-text-weight-normal, 400);line-height:1;vertical-align:-.075em}.livex-chatbox-markdown g-emoji img{width:1em;height:1em}.livex-chatbox-markdown .task-list-item{list-style-type:none}.livex-chatbox-markdown .task-list-item label{font-weight:var(--base-text-weight-normal, 400)}.livex-chatbox-markdown .task-list-item.enabled label{cursor:pointer}.livex-chatbox-markdown .task-list-item+.task-list-item{margin-top:.25em}.livex-chatbox-markdown .task-list-item .handle{display:none}.livex-chatbox-markdown .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}.livex-chatbox-markdown .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.livex-chatbox-markdown .contains-task-list{position:relative}.livex-chatbox-markdown .contains-task-list:hover .task-list-item-convert-container,.livex-chatbox-markdown .contains-task-list:focus-within .task-list-item-convert-container{display:block;width:auto;height:1.5em;overflow:visible;clip:auto}.livex-chatbox-markdown ::-webkit-calendar-picker-indicator{filter:invert(50%)}.custom-animate-bounce{animation:bounce 2s linear;animation-iteration-count:1}@keyframes bounce{0%{transform:translateY(0);animation-timing-function:ease-out}16%{transform:translateY(-35%);animation-timing-function:ease-in}32%{transform:translateY(0);animation-timing-function:ease-out}48%{transform:translateY(-30%);animation-timing-function:ease-in}64%{transform:translateY(0);animation-timing-function:ease-out}80%{transform:translateY(-25%);animation-timing-function:ease-in}96%{transform:translateY(0);animation-timing-function:ease-out}to{transform:translateY(0);animation-timing-function:ease-out}}[debug] *{outline:4px dashed hsl(320 100% 50%)}.tooltip{position:absolute;visibility:hidden}.has-tooltip:hover .tooltip{visibility:visible;z-index:50}livex-chatbox-button-container{position:fixed;font-weight:400;line-height:1.5}livex-chatbox-button-container *{box-sizing:border-box;border-style:solid;border-width:0;margin:0;padding:0;line-height:inherit}livex-chatbox-button-container button{background-color:transparent}livex-chatbox-button-container img,livex-chatbox-button-container video{height:auto;display:block}livex-chatbox-button-container a{color:inherit;text-decoration:inherit}livex-chatbox-button-container button,livex-chatbox-button-container input,livex-chatbox-button-container optgroup,livex-chatbox-button-container select,livex-chatbox-button-container textarea,livex-chatbox-button-container fieldset{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit}livex-chatbox-button-container ol,livex-chatbox-button-container ul,livex-chatbox-button-container menu{list-style:none}livex-chatbox-button-container img,livex-chatbox-button-container svg,livex-chatbox-button-container video,livex-chatbox-button-container canvas,livex-chatbox-button-container audio,livex-chatbox-button-container iframe,livex-chatbox-button-container embed,livex-chatbox-button-container object{display:block;vertical-align:middle}livex-chatbox-button-container svg{width:100%;height:100%}livex-product-selector-center-column{display:flex;align-items:center;position:relative;overflow-x:auto}livex-product-name{font-size:.6em;max-width:90px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}livex-product-info-container{transition:border-color .3s ease;border-width:2px;border-style:solid;border-radius:.5em;cursor:pointer;overflow:hidden}livex-product-desc-container{display:flex;flex-direction:column;align-items:center;position:relative;flex:1;width:100%}livex-product-price-container{display:flex;gap:5px}livex-chatbot-header-buttons-container{display:flex;align-items:flex-end;-moz-column-gap:.75em;column-gap:.75em}livex-hr{border-top-width:1px;border-top-color:#cbd5e0;width:100%}livex-checkbox-container{display:flex;align-items:center}livex-checkmark-container{border:1px solid #777;margin-right:.5em}livex-form-component-radio-buttons-container{display:flex;flex-direction:column;margin-top:.5em;row-gap:.5em}livex-radio-button-container{display:flex;align-items:center;-moz-column-gap:1em;column-gap:1em}livex-radio-button-check-marker{width:15px;height:15px;border-radius:50%;border:1px solid #777;margin-right:.5em}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.\\!container{width:100%!important}.container{width:100%}@media (min-width: 320px){.\\!container{max-width:320px!important}.container{max-width:320px}}@media (min-width: 450px){.\\!container{max-width:450px!important}.container{max-width:450px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.bottom-0{bottom:0}.bottom-9{bottom:2.25em}.right-0{right:0}.isolate{isolation:isolate}.z-20{z-index:20}.z-50{z-index:50}.z-\\[22\\]{z-index:22}.m-4{margin:1em}.mx-12{margin-left:3em;margin-right:3em}.mx-auto{margin-left:auto;margin-right:auto}.my-auto{margin-top:auto;margin-bottom:auto}.mb-2{margin-bottom:.5em}.ml-auto{margin-left:auto}.mr-2{margin-right:.5em}.mr-4{margin-right:1em}.mt-1{margin-top:.25em}.mt-2{margin-top:.5em}.mt-4{margin-top:1em}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.h-10{height:2.5em}.h-4{height:1em}.h-40{height:10em}.h-7{height:1.75em}.h-8{height:2em}.h-\\[44px\\]{height:44px}.h-full{height:100%}.max-h-\\[calc\\(100vh-7em\\)\\]{max-height:calc(100vh - 7em)}.w-4{width:1em}.w-40{width:10em}.w-8{width:2em}.w-\\[48\\%\\]{width:48%}.w-full{width:100%}.min-w-80{min-width:20em}.max-w-\\[350px\\]{max-width:350px}.max-w-\\[670px\\]{max-width:670px}.max-w-\\[830px\\]{max-width:830px}.max-w-\\[900px\\]{max-width:900px}.flex-1{flex:1 1 0%}.flex-grow,.grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fade{animation:fadeIn .5s ease-in-out}@keyframes ping{75%,to{transform:scale(2);opacity:0}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25em}.gap-16{gap:4em}.gap-2{gap:.5em}.gap-3{gap:.75em}.gap-4{gap:1em}.gap-5{gap:1.25em}.gap-6{gap:1.5em}.gap-x-4{-moz-column-gap:1em;column-gap:1em}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.break-all{word-break:break-all}.rounded{border-radius:.25em}.rounded-2xl{border-radius:1em}.rounded-\\[10px\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5em}.rounded-md{border-radius:.375em}.rounded-xl{border-radius:.75em}.border{border-width:1px}.border-0{border-width:0px}.border-r-4{border-right-width:4px}.border-t{border-top-width:1px}.border-blue500{--tw-border-opacity: 1;border-color:rgb(61 90 254 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue500{--tw-bg-opacity: 1;background-color:rgb(61 90 254 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.fill-blue-600{fill:#2563eb}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25em}.p-2{padding:.5em}.p-2\\.5{padding:.625em}.p-4{padding:1em}.p-6{padding:1.5em}.px-2{padding-left:.5em;padding-right:.5em}.px-2\\.5{padding-left:.625em;padding-right:.625em}.px-4{padding-left:1em;padding-right:1em}.py-1{padding-top:.25em;padding-bottom:.25em}.py-1\\.5{padding-top:.375em;padding-bottom:.375em}.py-2{padding-top:.5em;padding-bottom:.5em}.py-3{padding-top:.75em;padding-bottom:.75em}.py-5{padding-top:1.25em;padding-bottom:1.25em}.pb-10{padding-bottom:2.5em}.pr-9{padding-right:2.25em}.pt-24{padding-top:6em}.pt-4{padding-top:1em}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:24px;line-height:32px}.text-3xl{font-size:30px;line-height:36px}.text-base{font-size:16px;line-height:24px}.text-lg{font-size:18px;line-height:28px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.text-xs{font-size:12px;line-height:16px}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-6{line-height:1.5em}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-black200{color:#1b1b1bbf}.text-black300{--tw-text-opacity: 1;color:rgb(84 84 84 / var(--tw-text-opacity, 1))}.text-blue500{--tw-text-opacity: 1;color:rgb(61 90 254 / var(--tw-text-opacity, 1))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-opacity-50{--tw-text-opacity: .5}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.opacity-50{opacity:.5}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-inner{--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.ring-gray-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(209 213 219 / var(--tw-ring-opacity, 1))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.placeholder\\:text-sm::-moz-placeholder{font-size:14px;line-height:20px}.placeholder\\:text-sm::placeholder{font-size:14px;line-height:20px}.placeholder\\:text-gray-400::-moz-placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.placeholder\\:text-gray-400::placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:rounded-full:hover{border-radius:9999px}.hover\\:border-2:hover{border-width:2px}.hover\\:border-blue-300:hover{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.hover\\:border-gray-700:hover{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\\:bg-opacity-100:hover{--tw-bg-opacity: 1}.hover\\:text-opacity-100:hover{--tw-text-opacity: 1}.hover\\:ring-4:hover{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.hover\\:ring-slate-300:hover{--tw-ring-opacity: 1;--tw-ring-color: rgb(203 213 225 / var(--tw-ring-opacity, 1))}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-4:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(147 197 253 / var(--tw-ring-opacity, 1))}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-indigo-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity, 1))}@media (min-width: 320px){.xs\\:flex{display:flex}}@media (min-width: 450px){.sm\\:text-sm{font-size:14px;line-height:20px}.sm\\:leading-6{line-height:1.5em}}@media (min-width: 768px){.md\\:max-h-full{max-height:100%}.md\\:w-1\\/3{width:33.333333%}.md\\:w-2\\/3{width:66.666667%}.md\\:w-96{width:24em}.md\\:w-full{width:100%}.md\\:max-w-96{max-width:24em}}.mantine-Button-loader{transform:translate(-50%,calc(-50% + calc(.0625em * var(--mantine-scale))))!important}`,p.appendChild(h);const m=document.createElement("style");m.id="mantine-styles",m.textContent='*,*:before,*:after{box-sizing:border-box}input,button,textarea,select{font:inherit}button,select{text-transform:none}body{margin:0;font-family:var(--mantine-font-family);font-size:var(--mantine-font-size-md);line-height:var(--mantine-line-height);background-color:var(--mantine-color-body);color:var(--mantine-color-text);-webkit-font-smoothing:var(--mantine-webkit-font-smoothing);-moz-osx-font-smoothing:var(--mantine-moz-font-smoothing)}@media screen and (max-device-width: 31.25em){body{-webkit-text-size-adjust:100%}}@media (prefers-reduced-motion: reduce){[data-respect-reduced-motion] [data-reduce-motion]{transition:none;animation:none}}[data-mantine-color-scheme=light] .mantine-light-hidden,[data-mantine-color-scheme=dark] .mantine-dark-hidden{display:none}.mantine-focus-auto:focus-visible{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.mantine-focus-always:focus{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.mantine-focus-never:focus{outline:none}.mantine-active:active{transform:translateY(calc(.0625em * var(--mantine-scale)))}fieldset:disabled .mantine-active:active{transform:none}:where([dir=rtl]) .mantine-rotate-rtl{transform:rotate(180deg)}:root{color-scheme:var(--mantine-color-scheme);--mantine-z-index-app: 100;--mantine-z-index-modal: 200;--mantine-z-index-popover: 300;--mantine-z-index-overlay: 400;--mantine-z-index-max: 9999;--mantine-scale: 1;--mantine-cursor-type: default;--mantine-webkit-font-smoothing: antialiased;--mantine-color-scheme: light dark;--mantine-moz-font-smoothing: grayscale;--mantine-color-white: #fff;--mantine-color-black: #000;--mantine-line-height: 1.55;--mantine-font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-font-family-monospace: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--mantine-font-family-headings: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-heading-font-weight: 700;--mantine-radius-default: calc(.25em * var(--mantine-scale));--mantine-primary-color-0: var(--mantine-color-blue-0);--mantine-primary-color-1: var(--mantine-color-blue-1);--mantine-primary-color-2: var(--mantine-color-blue-2);--mantine-primary-color-3: var(--mantine-color-blue-3);--mantine-primary-color-4: var(--mantine-color-blue-4);--mantine-primary-color-5: var(--mantine-color-blue-5);--mantine-primary-color-6: var(--mantine-color-blue-6);--mantine-primary-color-7: var(--mantine-color-blue-7);--mantine-primary-color-8: var(--mantine-color-blue-8);--mantine-primary-color-9: var(--mantine-color-blue-9);--mantine-primary-color-filled: var(--mantine-color-blue-filled);--mantine-primary-color-filled-hover: var(--mantine-color-blue-filled-hover);--mantine-primary-color-light: var(--mantine-color-blue-light);--mantine-primary-color-light-hover: var(--mantine-color-blue-light-hover);--mantine-primary-color-light-color: var(--mantine-color-blue-light-color);--mantine-breakpoint-xs: 36em;--mantine-breakpoint-sm: 48em;--mantine-breakpoint-md: 62em;--mantine-breakpoint-lg: 75em;--mantine-breakpoint-xl: 88em;--mantine-spacing-xs: calc(.625em * var(--mantine-scale));--mantine-spacing-sm: calc(.75em * var(--mantine-scale));--mantine-spacing-md: calc(1em * var(--mantine-scale));--mantine-spacing-lg: calc(1.25em * var(--mantine-scale));--mantine-spacing-xl: calc(2em * var(--mantine-scale));--mantine-font-size-xs: calc(.75em * var(--mantine-scale));--mantine-font-size-sm: calc(.875em * var(--mantine-scale));--mantine-font-size-md: calc(1em * var(--mantine-scale));--mantine-font-size-lg: calc(1.125em * var(--mantine-scale));--mantine-font-size-xl: calc(1.25em * var(--mantine-scale));--mantine-line-height-xs: 1.4;--mantine-line-height-sm: 1.45;--mantine-line-height-md: 1.55;--mantine-line-height-lg: 1.6;--mantine-line-height-xl: 1.65;--mantine-shadow-xs: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), 0 calc(.0625em * var(--mantine-scale)) calc(.125em * var(--mantine-scale)) rgba(0, 0, 0, .1);--mantine-shadow-sm: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(.625em * var(--mantine-scale)) calc(.9375em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.4375em * var(--mantine-scale)) calc(.4375em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale));--mantine-shadow-md: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.25em * var(--mantine-scale)) calc(1.5625em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.625em * var(--mantine-scale)) calc(.625em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale));--mantine-shadow-lg: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.75em * var(--mantine-scale)) calc(1.4375em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.75em * var(--mantine-scale)) calc(.75em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale));--mantine-shadow-xl: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(2.25em * var(--mantine-scale)) calc(1.75em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(1.0625em * var(--mantine-scale)) calc(1.0625em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale));--mantine-radius-xs: calc(.125em * var(--mantine-scale));--mantine-radius-sm: calc(.25em * var(--mantine-scale));--mantine-radius-md: calc(.5em * var(--mantine-scale));--mantine-radius-lg: calc(1em * var(--mantine-scale));--mantine-radius-xl: calc(2em * var(--mantine-scale));--mantine-color-dark-0: #c9c9c9;--mantine-color-dark-1: #b8b8b8;--mantine-color-dark-2: #828282;--mantine-color-dark-3: #696969;--mantine-color-dark-4: #424242;--mantine-color-dark-5: #3b3b3b;--mantine-color-dark-6: #2e2e2e;--mantine-color-dark-7: #242424;--mantine-color-dark-8: #1f1f1f;--mantine-color-dark-9: #141414;--mantine-color-gray-0: #f8f9fa;--mantine-color-gray-1: #f1f3f5;--mantine-color-gray-2: #e9ecef;--mantine-color-gray-3: #dee2e6;--mantine-color-gray-4: #ced4da;--mantine-color-gray-5: #adb5bd;--mantine-color-gray-6: #868e96;--mantine-color-gray-7: #495057;--mantine-color-gray-8: #343a40;--mantine-color-gray-9: #212529;--mantine-color-red-0: #fff5f5;--mantine-color-red-1: #ffe3e3;--mantine-color-red-2: #ffc9c9;--mantine-color-red-3: #ffa8a8;--mantine-color-red-4: #ff8787;--mantine-color-red-5: #ff6b6b;--mantine-color-red-6: #fa5252;--mantine-color-red-7: #f03e3e;--mantine-color-red-8: #e03131;--mantine-color-red-9: #c92a2a;--mantine-color-pink-0: #fff0f6;--mantine-color-pink-1: #ffdeeb;--mantine-color-pink-2: #fcc2d7;--mantine-color-pink-3: #faa2c1;--mantine-color-pink-4: #f783ac;--mantine-color-pink-5: #f06595;--mantine-color-pink-6: #e64980;--mantine-color-pink-7: #d6336c;--mantine-color-pink-8: #c2255c;--mantine-color-pink-9: #a61e4d;--mantine-color-grape-0: #f8f0fc;--mantine-color-grape-1: #f3d9fa;--mantine-color-grape-2: #eebefa;--mantine-color-grape-3: #e599f7;--mantine-color-grape-4: #da77f2;--mantine-color-grape-5: #cc5de8;--mantine-color-grape-6: #be4bdb;--mantine-color-grape-7: #ae3ec9;--mantine-color-grape-8: #9c36b5;--mantine-color-grape-9: #862e9c;--mantine-color-violet-0: #f3f0ff;--mantine-color-violet-1: #e5dbff;--mantine-color-violet-2: #d0bfff;--mantine-color-violet-3: #b197fc;--mantine-color-violet-4: #9775fa;--mantine-color-violet-5: #845ef7;--mantine-color-violet-6: #7950f2;--mantine-color-violet-7: #7048e8;--mantine-color-violet-8: #6741d9;--mantine-color-violet-9: #5f3dc4;--mantine-color-indigo-0: #edf2ff;--mantine-color-indigo-1: #dbe4ff;--mantine-color-indigo-2: #bac8ff;--mantine-color-indigo-3: #91a7ff;--mantine-color-indigo-4: #748ffc;--mantine-color-indigo-5: #5c7cfa;--mantine-color-indigo-6: #4c6ef5;--mantine-color-indigo-7: #4263eb;--mantine-color-indigo-8: #3b5bdb;--mantine-color-indigo-9: #364fc7;--mantine-color-blue-0: #e7f5ff;--mantine-color-blue-1: #d0ebff;--mantine-color-blue-2: #a5d8ff;--mantine-color-blue-3: #74c0fc;--mantine-color-blue-4: #4dabf7;--mantine-color-blue-5: #339af0;--mantine-color-blue-6: #228be6;--mantine-color-blue-7: #1c7ed6;--mantine-color-blue-8: #1971c2;--mantine-color-blue-9: #1864ab;--mantine-color-cyan-0: #e3fafc;--mantine-color-cyan-1: #c5f6fa;--mantine-color-cyan-2: #99e9f2;--mantine-color-cyan-3: #66d9e8;--mantine-color-cyan-4: #3bc9db;--mantine-color-cyan-5: #22b8cf;--mantine-color-cyan-6: #15aabf;--mantine-color-cyan-7: #1098ad;--mantine-color-cyan-8: #0c8599;--mantine-color-cyan-9: #0b7285;--mantine-color-teal-0: #e6fcf5;--mantine-color-teal-1: #c3fae8;--mantine-color-teal-2: #96f2d7;--mantine-color-teal-3: #63e6be;--mantine-color-teal-4: #38d9a9;--mantine-color-teal-5: #20c997;--mantine-color-teal-6: #12b886;--mantine-color-teal-7: #0ca678;--mantine-color-teal-8: #099268;--mantine-color-teal-9: #087f5b;--mantine-color-green-0: #ebfbee;--mantine-color-green-1: #d3f9d8;--mantine-color-green-2: #b2f2bb;--mantine-color-green-3: #8ce99a;--mantine-color-green-4: #69db7c;--mantine-color-green-5: #51cf66;--mantine-color-green-6: #40c057;--mantine-color-green-7: #37b24d;--mantine-color-green-8: #2f9e44;--mantine-color-green-9: #2b8a3e;--mantine-color-lime-0: #f4fce3;--mantine-color-lime-1: #e9fac8;--mantine-color-lime-2: #d8f5a2;--mantine-color-lime-3: #c0eb75;--mantine-color-lime-4: #a9e34b;--mantine-color-lime-5: #94d82d;--mantine-color-lime-6: #82c91e;--mantine-color-lime-7: #74b816;--mantine-color-lime-8: #66a80f;--mantine-color-lime-9: #5c940d;--mantine-color-yellow-0: #fff9db;--mantine-color-yellow-1: #fff3bf;--mantine-color-yellow-2: #ffec99;--mantine-color-yellow-3: #ffe066;--mantine-color-yellow-4: #ffd43b;--mantine-color-yellow-5: #fcc419;--mantine-color-yellow-6: #fab005;--mantine-color-yellow-7: #f59f00;--mantine-color-yellow-8: #f08c00;--mantine-color-yellow-9: #e67700;--mantine-color-orange-0: #fff4e6;--mantine-color-orange-1: #ffe8cc;--mantine-color-orange-2: #ffd8a8;--mantine-color-orange-3: #ffc078;--mantine-color-orange-4: #ffa94d;--mantine-color-orange-5: #ff922b;--mantine-color-orange-6: #fd7e14;--mantine-color-orange-7: #f76707;--mantine-color-orange-8: #e8590c;--mantine-color-orange-9: #d9480f;--mantine-h1-font-size: calc(2.125em * var(--mantine-scale));--mantine-h1-line-height: 1.3;--mantine-h1-font-weight: 700;--mantine-h2-font-size: calc(1.625em * var(--mantine-scale));--mantine-h2-line-height: 1.35;--mantine-h2-font-weight: 700;--mantine-h3-font-size: calc(1.375em * var(--mantine-scale));--mantine-h3-line-height: 1.4;--mantine-h3-font-weight: 700;--mantine-h4-font-size: calc(1.125em * var(--mantine-scale));--mantine-h4-line-height: 1.45;--mantine-h4-font-weight: 700;--mantine-h5-font-size: calc(1em * var(--mantine-scale));--mantine-h5-line-height: 1.5;--mantine-h5-font-weight: 700;--mantine-h6-font-size: calc(.875em * var(--mantine-scale));--mantine-h6-line-height: 1.5;--mantine-h6-font-weight: 700}:root[data-mantine-color-scheme=dark]{--mantine-color-scheme: dark;--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-bright: var(--mantine-color-white);--mantine-color-text: var(--mantine-color-dark-0);--mantine-color-body: var(--mantine-color-dark-7);--mantine-color-error: var(--mantine-color-red-8);--mantine-color-placeholder: var(--mantine-color-dark-3);--mantine-color-anchor: var(--mantine-color-blue-4);--mantine-color-default: var(--mantine-color-dark-6);--mantine-color-default-hover: var(--mantine-color-dark-5);--mantine-color-default-color: var(--mantine-color-white);--mantine-color-default-border: var(--mantine-color-dark-4);--mantine-color-dimmed: var(--mantine-color-dark-2);--mantine-color-dark-text: var(--mantine-color-dark-4);--mantine-color-dark-filled: var(--mantine-color-dark-8);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(36, 36, 36, .15);--mantine-color-dark-light-hover: rgba(36, 36, 36, .2);--mantine-color-dark-light-color: var(--mantine-color-dark-3);--mantine-color-dark-outline: var(--mantine-color-dark-4);--mantine-color-dark-outline-hover: rgba(36, 36, 36, .05);--mantine-color-gray-text: var(--mantine-color-gray-4);--mantine-color-gray-filled: var(--mantine-color-gray-8);--mantine-color-gray-filled-hover: var(--mantine-color-gray-9);--mantine-color-gray-light: rgba(134, 142, 150, .15);--mantine-color-gray-light-hover: rgba(134, 142, 150, .2);--mantine-color-gray-light-color: var(--mantine-color-gray-3);--mantine-color-gray-outline: var(--mantine-color-gray-4);--mantine-color-gray-outline-hover: rgba(206, 212, 218, .05);--mantine-color-red-text: var(--mantine-color-red-4);--mantine-color-red-filled: var(--mantine-color-red-8);--mantine-color-red-filled-hover: var(--mantine-color-red-9);--mantine-color-red-light: rgba(250, 82, 82, .15);--mantine-color-red-light-hover: rgba(250, 82, 82, .2);--mantine-color-red-light-color: var(--mantine-color-red-3);--mantine-color-red-outline: var(--mantine-color-red-4);--mantine-color-red-outline-hover: rgba(255, 135, 135, .05);--mantine-color-pink-text: var(--mantine-color-pink-4);--mantine-color-pink-filled: var(--mantine-color-pink-8);--mantine-color-pink-filled-hover: var(--mantine-color-pink-9);--mantine-color-pink-light: rgba(230, 73, 128, .15);--mantine-color-pink-light-hover: rgba(230, 73, 128, .2);--mantine-color-pink-light-color: var(--mantine-color-pink-3);--mantine-color-pink-outline: var(--mantine-color-pink-4);--mantine-color-pink-outline-hover: rgba(247, 131, 172, .05);--mantine-color-grape-text: var(--mantine-color-grape-4);--mantine-color-grape-filled: var(--mantine-color-grape-8);--mantine-color-grape-filled-hover: var(--mantine-color-grape-9);--mantine-color-grape-light: rgba(190, 75, 219, .15);--mantine-color-grape-light-hover: rgba(190, 75, 219, .2);--mantine-color-grape-light-color: var(--mantine-color-grape-3);--mantine-color-grape-outline: var(--mantine-color-grape-4);--mantine-color-grape-outline-hover: rgba(218, 119, 242, .05);--mantine-color-violet-text: var(--mantine-color-violet-4);--mantine-color-violet-filled: var(--mantine-color-violet-8);--mantine-color-violet-filled-hover: var(--mantine-color-violet-9);--mantine-color-violet-light: rgba(121, 80, 242, .15);--mantine-color-violet-light-hover: rgba(121, 80, 242, .2);--mantine-color-violet-light-color: var(--mantine-color-violet-3);--mantine-color-violet-outline: var(--mantine-color-violet-4);--mantine-color-violet-outline-hover: rgba(151, 117, 250, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-4);--mantine-color-indigo-filled: var(--mantine-color-indigo-8);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-9);--mantine-color-indigo-light: rgba(76, 110, 245, .15);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .2);--mantine-color-indigo-light-color: var(--mantine-color-indigo-3);--mantine-color-indigo-outline: var(--mantine-color-indigo-4);--mantine-color-indigo-outline-hover: rgba(116, 143, 252, .05);--mantine-color-blue-text: var(--mantine-color-blue-4);--mantine-color-blue-filled: var(--mantine-color-blue-8);--mantine-color-blue-filled-hover: var(--mantine-color-blue-9);--mantine-color-blue-light: rgba(34, 139, 230, .15);--mantine-color-blue-light-hover: rgba(34, 139, 230, .2);--mantine-color-blue-light-color: var(--mantine-color-blue-3);--mantine-color-blue-outline: var(--mantine-color-blue-4);--mantine-color-blue-outline-hover: rgba(77, 171, 247, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-4);--mantine-color-cyan-filled: var(--mantine-color-cyan-8);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-9);--mantine-color-cyan-light: rgba(21, 170, 191, .15);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .2);--mantine-color-cyan-light-color: var(--mantine-color-cyan-3);--mantine-color-cyan-outline: var(--mantine-color-cyan-4);--mantine-color-cyan-outline-hover: rgba(59, 201, 219, .05);--mantine-color-teal-text: var(--mantine-color-teal-4);--mantine-color-teal-filled: var(--mantine-color-teal-8);--mantine-color-teal-filled-hover: var(--mantine-color-teal-9);--mantine-color-teal-light: rgba(18, 184, 134, .15);--mantine-color-teal-light-hover: rgba(18, 184, 134, .2);--mantine-color-teal-light-color: var(--mantine-color-teal-3);--mantine-color-teal-outline: var(--mantine-color-teal-4);--mantine-color-teal-outline-hover: rgba(56, 217, 169, .05);--mantine-color-green-text: var(--mantine-color-green-4);--mantine-color-green-filled: var(--mantine-color-green-8);--mantine-color-green-filled-hover: var(--mantine-color-green-9);--mantine-color-green-light: rgba(64, 192, 87, .15);--mantine-color-green-light-hover: rgba(64, 192, 87, .2);--mantine-color-green-light-color: var(--mantine-color-green-3);--mantine-color-green-outline: var(--mantine-color-green-4);--mantine-color-green-outline-hover: rgba(105, 219, 124, .05);--mantine-color-lime-text: var(--mantine-color-lime-4);--mantine-color-lime-filled: var(--mantine-color-lime-8);--mantine-color-lime-filled-hover: var(--mantine-color-lime-9);--mantine-color-lime-light: rgba(130, 201, 30, .15);--mantine-color-lime-light-hover: rgba(130, 201, 30, .2);--mantine-color-lime-light-color: var(--mantine-color-lime-3);--mantine-color-lime-outline: var(--mantine-color-lime-4);--mantine-color-lime-outline-hover: rgba(169, 227, 75, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-4);--mantine-color-yellow-filled: var(--mantine-color-yellow-8);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-9);--mantine-color-yellow-light: rgba(250, 176, 5, .15);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .2);--mantine-color-yellow-light-color: var(--mantine-color-yellow-3);--mantine-color-yellow-outline: var(--mantine-color-yellow-4);--mantine-color-yellow-outline-hover: rgba(255, 212, 59, .05);--mantine-color-orange-text: var(--mantine-color-orange-4);--mantine-color-orange-filled: var(--mantine-color-orange-8);--mantine-color-orange-filled-hover: var(--mantine-color-orange-9);--mantine-color-orange-light: rgba(253, 126, 20, .15);--mantine-color-orange-light-hover: rgba(253, 126, 20, .2);--mantine-color-orange-light-color: var(--mantine-color-orange-3);--mantine-color-orange-outline: var(--mantine-color-orange-4);--mantine-color-orange-outline-hover: rgba(255, 169, 77, .05)}:root[data-mantine-color-scheme=light]{--mantine-color-scheme: light;--mantine-color-bright: var(--mantine-color-black);--mantine-color-text: var(--mantine-color-black);--mantine-color-body: var(--mantine-color-white);--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-error: var(--mantine-color-red-6);--mantine-color-placeholder: var(--mantine-color-gray-5);--mantine-color-anchor: var(--mantine-primary-color-filled);--mantine-color-default: var(--mantine-color-white);--mantine-color-default-hover: var(--mantine-color-gray-0);--mantine-color-default-color: var(--mantine-color-gray-9);--mantine-color-default-border: var(--mantine-color-gray-4);--mantine-color-dimmed: var(--mantine-color-gray-6);--mantine-color-dark-text: var(--mantine-color-dark-filled);--mantine-color-dark-filled: var(--mantine-color-dark-6);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(56, 56, 56, .1);--mantine-color-dark-light-hover: rgba(56, 56, 56, .12);--mantine-color-dark-light-color: var(--mantine-color-dark-6);--mantine-color-dark-outline: var(--mantine-color-dark-6);--mantine-color-dark-outline-hover: rgba(56, 56, 56, .05);--mantine-color-gray-text: var(--mantine-color-gray-filled);--mantine-color-gray-filled: var(--mantine-color-gray-6);--mantine-color-gray-filled-hover: var(--mantine-color-gray-7);--mantine-color-gray-light: rgba(134, 142, 150, .1);--mantine-color-gray-light-hover: rgba(134, 142, 150, .12);--mantine-color-gray-light-color: var(--mantine-color-gray-6);--mantine-color-gray-outline: var(--mantine-color-gray-6);--mantine-color-gray-outline-hover: rgba(134, 142, 150, .05);--mantine-color-red-text: var(--mantine-color-red-filled);--mantine-color-red-filled: var(--mantine-color-red-6);--mantine-color-red-filled-hover: var(--mantine-color-red-7);--mantine-color-red-light: rgba(250, 82, 82, .1);--mantine-color-red-light-hover: rgba(250, 82, 82, .12);--mantine-color-red-light-color: var(--mantine-color-red-6);--mantine-color-red-outline: var(--mantine-color-red-6);--mantine-color-red-outline-hover: rgba(250, 82, 82, .05);--mantine-color-pink-text: var(--mantine-color-pink-filled);--mantine-color-pink-filled: var(--mantine-color-pink-6);--mantine-color-pink-filled-hover: var(--mantine-color-pink-7);--mantine-color-pink-light: rgba(230, 73, 128, .1);--mantine-color-pink-light-hover: rgba(230, 73, 128, .12);--mantine-color-pink-light-color: var(--mantine-color-pink-6);--mantine-color-pink-outline: var(--mantine-color-pink-6);--mantine-color-pink-outline-hover: rgba(230, 73, 128, .05);--mantine-color-grape-text: var(--mantine-color-grape-filled);--mantine-color-grape-filled: var(--mantine-color-grape-6);--mantine-color-grape-filled-hover: var(--mantine-color-grape-7);--mantine-color-grape-light: rgba(190, 75, 219, .1);--mantine-color-grape-light-hover: rgba(190, 75, 219, .12);--mantine-color-grape-light-color: var(--mantine-color-grape-6);--mantine-color-grape-outline: var(--mantine-color-grape-6);--mantine-color-grape-outline-hover: rgba(190, 75, 219, .05);--mantine-color-violet-text: var(--mantine-color-violet-filled);--mantine-color-violet-filled: var(--mantine-color-violet-6);--mantine-color-violet-filled-hover: var(--mantine-color-violet-7);--mantine-color-violet-light: rgba(121, 80, 242, .1);--mantine-color-violet-light-hover: rgba(121, 80, 242, .12);--mantine-color-violet-light-color: var(--mantine-color-violet-6);--mantine-color-violet-outline: var(--mantine-color-violet-6);--mantine-color-violet-outline-hover: rgba(121, 80, 242, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-filled);--mantine-color-indigo-filled: var(--mantine-color-indigo-6);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-7);--mantine-color-indigo-light: rgba(76, 110, 245, .1);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .12);--mantine-color-indigo-light-color: var(--mantine-color-indigo-6);--mantine-color-indigo-outline: var(--mantine-color-indigo-6);--mantine-color-indigo-outline-hover: rgba(76, 110, 245, .05);--mantine-color-blue-text: var(--mantine-color-blue-filled);--mantine-color-blue-filled: var(--mantine-color-blue-6);--mantine-color-blue-filled-hover: var(--mantine-color-blue-7);--mantine-color-blue-light: rgba(34, 139, 230, .1);--mantine-color-blue-light-hover: rgba(34, 139, 230, .12);--mantine-color-blue-light-color: var(--mantine-color-blue-6);--mantine-color-blue-outline: var(--mantine-color-blue-6);--mantine-color-blue-outline-hover: rgba(34, 139, 230, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-filled);--mantine-color-cyan-filled: var(--mantine-color-cyan-6);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-7);--mantine-color-cyan-light: rgba(21, 170, 191, .1);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .12);--mantine-color-cyan-light-color: var(--mantine-color-cyan-6);--mantine-color-cyan-outline: var(--mantine-color-cyan-6);--mantine-color-cyan-outline-hover: rgba(21, 170, 191, .05);--mantine-color-teal-text: var(--mantine-color-teal-filled);--mantine-color-teal-filled: var(--mantine-color-teal-6);--mantine-color-teal-filled-hover: var(--mantine-color-teal-7);--mantine-color-teal-light: rgba(18, 184, 134, .1);--mantine-color-teal-light-hover: rgba(18, 184, 134, .12);--mantine-color-teal-light-color: var(--mantine-color-teal-6);--mantine-color-teal-outline: var(--mantine-color-teal-6);--mantine-color-teal-outline-hover: rgba(18, 184, 134, .05);--mantine-color-green-text: var(--mantine-color-green-filled);--mantine-color-green-filled: var(--mantine-color-green-6);--mantine-color-green-filled-hover: var(--mantine-color-green-7);--mantine-color-green-light: rgba(64, 192, 87, .1);--mantine-color-green-light-hover: rgba(64, 192, 87, .12);--mantine-color-green-light-color: var(--mantine-color-green-6);--mantine-color-green-outline: var(--mantine-color-green-6);--mantine-color-green-outline-hover: rgba(64, 192, 87, .05);--mantine-color-lime-text: var(--mantine-color-lime-filled);--mantine-color-lime-filled: var(--mantine-color-lime-6);--mantine-color-lime-filled-hover: var(--mantine-color-lime-7);--mantine-color-lime-light: rgba(130, 201, 30, .1);--mantine-color-lime-light-hover: rgba(130, 201, 30, .12);--mantine-color-lime-light-color: var(--mantine-color-lime-6);--mantine-color-lime-outline: var(--mantine-color-lime-6);--mantine-color-lime-outline-hover: rgba(130, 201, 30, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-filled);--mantine-color-yellow-filled: var(--mantine-color-yellow-6);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-7);--mantine-color-yellow-light: rgba(250, 176, 5, .1);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .12);--mantine-color-yellow-light-color: var(--mantine-color-yellow-6);--mantine-color-yellow-outline: var(--mantine-color-yellow-6);--mantine-color-yellow-outline-hover: rgba(250, 176, 5, .05);--mantine-color-orange-text: var(--mantine-color-orange-filled);--mantine-color-orange-filled: var(--mantine-color-orange-6);--mantine-color-orange-filled-hover: var(--mantine-color-orange-7);--mantine-color-orange-light: rgba(253, 126, 20, .1);--mantine-color-orange-light-hover: rgba(253, 126, 20, .12);--mantine-color-orange-light-color: var(--mantine-color-orange-6);--mantine-color-orange-outline: var(--mantine-color-orange-6);--mantine-color-orange-outline-hover: rgba(253, 126, 20, .05)}.m_d57069b5{--scrollarea-scrollbar-size: calc(.75em * var(--mantine-scale));position:relative;overflow:hidden}.m_c0783ff9{scrollbar-width:none;overscroll-behavior:var(--scrollarea-over-scroll-behavior);-ms-overflow-style:none;-webkit-overflow-scrolling:touch;width:100%;height:100%}.m_c0783ff9::-webkit-scrollbar{display:none}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):where([data-vertical-hidden]){padding-inline-end:0;padding-inline-start:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):not([data-vertical-hidden]){padding-inline-end:var(--scrollarea-scrollbar-size);padding-inline-start:unset}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):where([data-horizontal-hidden]){padding-bottom:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):not([data-horizontal-hidden]){padding-bottom:var(--scrollarea-scrollbar-size)}.m_f8f631dd{min-width:100%;display:table}.m_c44ba933{-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:none;box-sizing:border-box;transition:background-color .15s ease,opacity .15s ease;padding:calc(var(--scrollarea-scrollbar-size) / 5);display:flex;background-color:transparent;flex-direction:row}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_c44ba933:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:hover>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover>.m_d8b5e363{background-color:#ffffff80}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_c44ba933:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:active>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active>.m_d8b5e363{background-color:#ffffff80}}.m_c44ba933:where([data-hidden],[data-state=hidden]){display:none}.m_c44ba933:where([data-orientation=vertical]){width:var(--scrollarea-scrollbar-size);top:0;bottom:var(--sa-corner-width);inset-inline-end:0}.m_c44ba933:where([data-orientation=horizontal]){height:var(--scrollarea-scrollbar-size);flex-direction:column;bottom:0;inset-inline-start:0;inset-inline-end:var(--sa-corner-width)}.m_d8b5e363{flex:1;border-radius:var(--scrollarea-scrollbar-size);position:relative;transition:background-color .15s ease;overflow:hidden;opacity:var(--thumb-opacity)}.m_d8b5e363:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;min-width:calc(2.75em * var(--mantine-scale));min-height:calc(2.75em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d8b5e363{background-color:#0006}:where([data-mantine-color-scheme=dark]) .m_d8b5e363{background-color:#fff6}.m_21657268{position:absolute;opacity:0;transition:opacity .15s ease;display:block;inset-inline-end:0;bottom:0}:where([data-mantine-color-scheme=light]) .m_21657268{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_21657268{background-color:var(--mantine-color-dark-8)}.m_21657268:where([data-hovered]){opacity:1}.m_21657268:where([data-hidden]){display:none}.m_87cf2631{background-color:transparent;cursor:pointer;border:0;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:var(--mantine-font-size-md);text-align:left;text-decoration:none;color:inherit;touch-action:manipulation;-webkit-tap-highlight-color:transparent}:where([dir=rtl]) .m_87cf2631{text-align:right}.m_515a97f8{border:0;clip:rect(0 0 0 0);height:calc(.0625em * var(--mantine-scale));width:calc(.0625em * var(--mantine-scale));margin:calc(-.0625em * var(--mantine-scale));overflow:hidden;padding:0;position:absolute;white-space:nowrap}.m_1b7284a3{--paper-radius: var(--mantine-radius-default);outline:0;-webkit-tap-highlight-color:transparent;display:block;touch-action:manipulation;text-decoration:none;border-radius:var(--paper-radius);box-shadow:var(--paper-shadow);background-color:var(--mantine-color-body)}[data-mantine-color-scheme=light] .m_1b7284a3{--paper-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_1b7284a3{--paper-border-color: var(--mantine-color-dark-4)}.m_1b7284a3:where([data-with-border]){border:calc(.0625em * var(--mantine-scale)) solid var(--paper-border-color)}.m_9814e45f{inset:0;position:absolute;background:var(--overlay-bg, rgba(0, 0, 0, .6));-webkit-backdrop-filter:var(--overlay-filter);backdrop-filter:var(--overlay-filter);border-radius:var(--overlay-radius, 0);z-index:var(--overlay-z-index)}.m_9814e45f:where([data-fixed]){position:fixed}.m_9814e45f:where([data-center]){display:flex;align-items:center;justify-content:center}.m_38a85659{position:absolute;border:1px solid var(--popover-border-color);padding:var(--mantine-spacing-sm) var(--mantine-spacing-md);box-shadow:var(--popover-shadow, none);border-radius:var(--popover-radius, var(--mantine-radius-default))}.m_38a85659:where([data-fixed]){position:fixed}.m_38a85659:focus{outline:none}:where([data-mantine-color-scheme=light]) .m_38a85659{--popover-border-color: var(--mantine-color-gray-2);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_38a85659{--popover-border-color: var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_a31dc6c1{background-color:inherit;border:1px solid var(--popover-border-color);z-index:1}.m_3d7bc908{position:fixed;inset:0}.m_5ae2e3c{--loader-size-xs: calc(1.125em * var(--mantine-scale));--loader-size-sm: calc(1.375em * var(--mantine-scale));--loader-size-md: calc(2.25em * var(--mantine-scale));--loader-size-lg: calc(2.75em * var(--mantine-scale));--loader-size-xl: calc(3.625em * var(--mantine-scale));--loader-size: var(--loader-size-md);--loader-color: var(--mantine-primary-color-filled)}@keyframes m_5d2b3b9d{0%{transform:scale(.6);opacity:0}50%,to{transform:scale(1)}}.m_7a2bd4cd{position:relative;width:var(--loader-size);height:var(--loader-size);display:flex;gap:calc(var(--loader-size) / 5)}.m_870bb79{flex:1;background:var(--loader-color);animation:m_5d2b3b9d 1.2s cubic-bezier(0,.5,.5,1) infinite;border-radius:calc(.125em * var(--mantine-scale))}.m_870bb79:nth-of-type(1){animation-delay:-.24s}.m_870bb79:nth-of-type(2){animation-delay:-.12s}.m_870bb79:nth-of-type(3){animation-delay:0}@keyframes m_aac34a1{0%,to{transform:scale(1);opacity:1}50%{transform:scale(.6);opacity:.5}}.m_4e3f22d7{display:flex;justify-content:center;align-items:center;gap:calc(var(--loader-size) / 10);position:relative;width:var(--loader-size);height:var(--loader-size)}.m_870c4af{width:calc(var(--loader-size) / 3 - var(--loader-size) / 15);height:calc(var(--loader-size) / 3 - var(--loader-size) / 15);border-radius:50%;background:var(--loader-color);animation:m_aac34a1 .8s infinite linear}.m_870c4af:nth-child(2){animation-delay:.4s}@keyframes m_f8e89c4b{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.m_b34414df{display:inline-block;width:var(--loader-size);height:var(--loader-size)}.m_b34414df:after{content:"";display:block;width:var(--loader-size);height:var(--loader-size);border-radius:calc(625em * var(--mantine-scale));border-width:calc(var(--loader-size) / 8);border-style:solid;border-color:var(--loader-color) var(--loader-color) var(--loader-color) transparent;animation:m_f8e89c4b 1.2s linear infinite}.m_8d3f4000{--ai-size-xs: calc(1.125em * var(--mantine-scale));--ai-size-sm: calc(1.375em * var(--mantine-scale));--ai-size-md: calc(1.75em * var(--mantine-scale));--ai-size-lg: calc(2.125em * var(--mantine-scale));--ai-size-xl: calc(2.75em * var(--mantine-scale));--ai-size-input-xs: calc(1.875em * var(--mantine-scale));--ai-size-input-sm: calc(2.25em * var(--mantine-scale));--ai-size-input-md: calc(2.625em * var(--mantine-scale));--ai-size-input-lg: calc(3.125em * var(--mantine-scale));--ai-size-input-xl: calc(3.75em * var(--mantine-scale));--ai-size: var(--ai-size-md);--ai-color: var(--mantine-color-white);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;width:var(--ai-size);height:var(--ai-size);min-width:var(--ai-size);min-height:var(--ai-size);border-radius:var(--ai-radius, var(--mantine-radius-default));background:var(--ai-bg, var(--mantine-primary-color-filled));color:var(--ai-color, var(--mantine-color-white));border:var(--ai-bd, calc(.0625em * var(--mantine-scale)) solid transparent);cursor:pointer}@media (hover: hover){.m_8d3f4000:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}@media (hover: none){.m_8d3f4000:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}.m_8d3f4000[data-loading]{cursor:not-allowed}.m_8d3f4000[data-loading] .m_8d3afb97{opacity:0;transform:translateY(100%)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625em * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-gray-1);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])):active{transform:none}.m_302b9fb1{inset:calc(-.0625em * var(--mantine-scale));position:absolute;border-radius:var(--ai-radius, var(--mantine-radius-default));display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_302b9fb1{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_302b9fb1{background-color:#00000026}.m_1a0f1b21{--ai-border-width: calc(.0625em * var(--mantine-scale));display:flex}.m_1a0f1b21 :where(*):focus{position:relative;z-index:1}.m_1a0f1b21[data-orientation=horizontal]{flex-direction:row}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical]{flex-direction:column}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2);border-top-width:calc(var(--ai-border-width) / 2)}.m_8d3afb97{display:flex;align-items:center;justify-content:center;transition:transform .15s ease,opacity .1s ease;width:100%;height:100%}.m_437b6484{--section-height-xs: calc(1.125em * var(--mantine-scale));--section-height-sm: calc(1.375em * var(--mantine-scale));--section-height-md: calc(1.75em * var(--mantine-scale));--section-height-lg: calc(2.125em * var(--mantine-scale));--section-height-xl: calc(2.75em * var(--mantine-scale));--section-height-input-xs: calc(1.875em * var(--mantine-scale));--section-height-input-sm: calc(2.25em * var(--mantine-scale));--section-height-input-md: calc(2.625em * var(--mantine-scale));--section-height-input-lg: calc(3.125em * var(--mantine-scale));--section-height-input-xl: calc(3.75em * var(--mantine-scale));--section-padding-x-xs: calc(.375em * var(--mantine-scale));--section-padding-x-sm: calc(.5em * var(--mantine-scale));--section-padding-x-md: calc(.625em * var(--mantine-scale));--section-padding-x-lg: calc(.75em * var(--mantine-scale));--section-padding-x-xl: calc(1em * var(--mantine-scale));--section-height: var(--section-height-sm);--section-padding-x: var(--section-padding-x-sm);--section-color: var(--mantine-color-white);font-weight:600;width:auto;border-radius:var(--section-radius, var(--mantine-radius-default));font-size:var(--section-fz, var(--mantine-font-size-sm));background:var(--section-bg, var(--mantine-primary-color-filled));border:var(--section-bd, calc(.0625em * var(--mantine-scale)) solid transparent);color:var(--section-color, var(--mantine-color-white));height:var(--section-height, var(--section-height-sm));padding-inline:var(--section-padding-x, var(--section-padding-x-sm));vertical-align:middle;line-height:1;display:inline-flex;align-items:center;justify-content:center}.m_86a44da5{--cb-size-xs: calc(1.125em * var(--mantine-scale));--cb-size-sm: calc(1.375em * var(--mantine-scale));--cb-size-md: calc(1.75em * var(--mantine-scale));--cb-size-lg: calc(2.125em * var(--mantine-scale));--cb-size-xl: calc(2.75em * var(--mantine-scale));--cb-size: var(--cb-size-md);--cb-icon-size: 70%;--cb-radius: var(--mantine-radius-default);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--cb-size);height:var(--cb-size);min-width:var(--cb-size);min-height:var(--cb-size);border-radius:var(--cb-radius)}:where([data-mantine-color-scheme=light]) .m_86a44da5{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_86a44da5{color:var(--mantine-color-dark-1)}.m_86a44da5[data-disabled],.m_86a44da5:disabled{cursor:not-allowed;opacity:.6}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-dark-6)}}.m_4081bf90{display:flex;flex-direction:row;flex-wrap:var(--group-wrap, wrap);justify-content:var(--group-justify, flex-start);align-items:var(--group-align, center);gap:var(--group-gap, var(--mantine-spacing-md))}.m_4081bf90:where([data-grow])>*{flex-grow:1;max-width:var(--group-child-width)}.m_615af6c9{line-height:1;padding:0;margin:0;font-weight:400;font-size:var(--mantine-font-size-md)}.m_b5489c3c{display:flex;justify-content:space-between;align-items:center;padding:var(--mb-padding, var(--mantine-spacing-md));padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) - calc(.3125em * var(--mantine-scale)));position:sticky;top:0;background-color:var(--mantine-color-body);z-index:1000;min-height:calc(3.75em * var(--mantine-scale));transition:padding-inline-end .1s}.m_60c222c7{position:fixed;width:100%;top:0;bottom:0;z-index:var(--mb-z-index);pointer-events:none}.m_fd1ab0aa{pointer-events:all;box-shadow:var(--mb-shadow, var(--mantine-shadow-xl))}.m_fd1ab0aa [data-mantine-scrollbar]{z-index:1001}[data-offset-scrollbars] .m_fd1ab0aa:has([data-mantine-scrollbar]) .m_b5489c3c{padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) + calc(.3125em * var(--mantine-scale)))}.m_606cb269{margin-inline-start:auto}.m_5df29311{padding:var(--mb-padding, var(--mantine-spacing-md));padding-top:var(--mb-padding, var(--mantine-spacing-md))}.m_5df29311:where(:not(:only-child)){padding-top:0}.m_6c018570{position:relative;margin-top:var(--input-margin-top, 0em);margin-bottom:var(--input-margin-bottom, 0em);--input-height-xs: calc(1.875em * var(--mantine-scale));--input-height-sm: calc(2.25em * var(--mantine-scale));--input-height-md: calc(2.625em * var(--mantine-scale));--input-height-lg: calc(3.125em * var(--mantine-scale));--input-height-xl: calc(3.75em * var(--mantine-scale));--input-padding-y-xs: calc(.3125em * var(--mantine-scale));--input-padding-y-sm: calc(.375em * var(--mantine-scale));--input-padding-y-md: calc(.5em * var(--mantine-scale));--input-padding-y-lg: calc(.625em * var(--mantine-scale));--input-padding-y-xl: calc(.8125em * var(--mantine-scale));--input-height: var(--input-height-sm);--input-radius: var(--mantine-radius-default);--input-cursor: text;--input-text-align: left;--input-line-height: calc(var(--input-height) - calc(.125em * var(--mantine-scale)));--input-padding: calc(var(--input-height) / 3);--input-padding-inline-start: var(--input-padding);--input-padding-inline-end: var(--input-padding);--input-placeholder-color: var(--mantine-color-placeholder);--input-color: var(--mantine-color-text);--input-left-section-size: var(--input-left-section-width, calc(var(--input-height) - calc(.125em * var(--mantine-scale))));--input-right-section-size: var( --input-right-section-width, calc(var(--input-height) - calc(.125em * var(--mantine-scale))) );--input-size: var(--input-height);--section-y: calc(.0625em * var(--mantine-scale));--left-section-start: calc(.0625em * var(--mantine-scale));--left-section-border-radius: var(--input-radius) 0 0 var(--input-radius);--right-section-end: calc(.0625em * var(--mantine-scale));--right-section-border-radius: 0 var(--input-radius) var(--input-radius) 0}.m_6c018570[data-variant=unstyled]{--input-padding: 0;--input-padding-y: 0;--input-padding-inline-start: 0;--input-padding-inline-end: 0}.m_6c018570[data-pointer]{--input-cursor: pointer}.m_6c018570[data-multiline]{--input-padding-y-xs: calc(.28125em * var(--mantine-scale));--input-padding-y-sm: calc(.34375em * var(--mantine-scale));--input-padding-y-md: calc(.4375em * var(--mantine-scale));--input-padding-y-lg: calc(.59375em * var(--mantine-scale));--input-padding-y-xl: calc(.8125em * var(--mantine-scale));--input-size: auto;--input-line-height: var(--mantine-line-height);--input-padding-y: var(--input-padding-y-sm)}.m_6c018570[data-with-left-section]{--input-padding-inline-start: var(--input-left-section-size)}.m_6c018570[data-with-right-section]{--input-padding-inline-end: var(--input-right-section-size)}[data-mantine-color-scheme=light] .m_6c018570{--input-disabled-bg: var(--mantine-color-gray-1);--input-disabled-color: var(--mantine-color-gray-6)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-gray-4);--input-bg: var(--mantine-color-white);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-gray-1);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme=dark] .m_6c018570{--input-disabled-bg: var(--mantine-color-dark-6);--input-disabled-color: var(--mantine-color-dark-2)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-dark-4);--input-bg: var(--mantine-color-dark-6);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-dark-5);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme] .m_6c018570[data-error]:not([data-variant=unstyled]){--input-bd: var(--mantine-color-error)}[data-mantine-color-scheme] .m_6c018570[data-error]{--input-color: var(--mantine-color-error);--input-placeholder-color: var(--mantine-color-error);--input-section-color: var(--mantine-color-error)}:where([dir=rtl]) .m_6c018570{--input-text-align: right;--left-section-border-radius: 0 var(--input-radius) var(--input-radius) 0;--right-section-border-radius: var(--input-radius) 0 0 var(--input-radius)}.m_8fb7ebe7{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;resize:var(--input-resize, none);display:block;width:100%;transition:border-color .1s ease;text-align:var(--input-text-align);color:var(--input-color);border:calc(.0625em * var(--mantine-scale)) solid var(--input-bd);background-color:var(--input-bg);font-family:var(--input-font-family, var(--mantine-font-family));height:var(--input-size);min-height:var(--input-height);line-height:var(--input-line-height);font-size:var(--input-fz, var(--input-fz, var(--mantine-font-size-sm)));border-radius:var(--input-radius);padding-inline-start:var(--input-padding-inline-start);padding-inline-end:var(--input-padding-inline-end);padding-top:var(--input-padding-y, 0em);padding-bottom:var(--input-padding-y, 0em);cursor:var(--input-cursor);overflow:var(--input-overflow)}.m_8fb7ebe7[data-no-overflow]{--input-overflow: hidden}.m_8fb7ebe7[data-monospace]{--input-font-family: var(--mantine-font-family-monospace);--input-fz: calc(var(--input-fz, var(--mantine-font-size-sm)) - calc(.125em * var(--mantine-scale)))}.m_8fb7ebe7:focus,.m_8fb7ebe7:focus-within{outline:none;--input-bd: var(--input-bd-focus)}[data-error] .m_8fb7ebe7:focus,[data-error] .m_8fb7ebe7:focus-within{--input-bd: var(--mantine-color-error)}.m_8fb7ebe7::-moz-placeholder{color:var(--input-placeholder-color);opacity:1}.m_8fb7ebe7::placeholder{color:var(--input-placeholder-color);opacity:1}.m_8fb7ebe7::-webkit-inner-spin-button,.m_8fb7ebe7::-webkit-outer-spin-button,.m_8fb7ebe7::-webkit-search-decoration,.m_8fb7ebe7::-webkit-search-cancel-button,.m_8fb7ebe7::-webkit-search-results-button,.m_8fb7ebe7::-webkit-search-results-decoration{-webkit-appearance:none;appearance:none}.m_8fb7ebe7[type=number]{-moz-appearance:textfield}.m_8fb7ebe7:disabled,.m_8fb7ebe7[data-disabled]{cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_8fb7ebe7:has(input:disabled){cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_82577fc2{pointer-events:var(--section-pointer-events);position:absolute;z-index:1;inset-inline-start:var(--section-start);inset-inline-end:var(--section-end);bottom:var(--section-y);top:var(--section-y);display:flex;align-items:center;justify-content:center;width:var(--section-size);border-radius:var(--section-border-radius);color:var(--input-section-color, var(--mantine-color-dimmed))}.m_82577fc2[data-position=right]{--section-pointer-events: var(--input-right-section-pointer-events);--section-end: var(--right-section-end);--section-size: var(--input-right-section-size);--section-border-radius: var(--right-section-border-radius)}.m_82577fc2[data-position=left]{--section-pointer-events: var(--input-left-section-pointer-events);--section-start: var(--left-section-start);--section-size: var(--input-left-section-size);--section-border-radius: var(--left-section-border-radius)}.m_88bacfd0{color:var(--input-placeholder-color, var(--mantine-color-placeholder))}[data-error] .m_88bacfd0{--input-placeholder-color: var(--input-color, var(--mantine-color-placeholder))}.m_46b77525{line-height:var(--mantine-line-height)}.m_8fdc1311{display:inline-block;font-weight:500;word-break:break-word;cursor:default;-webkit-tap-highlight-color:transparent;font-size:var(--input-label-size, var(--mantine-font-size-sm))}.m_78a94662{color:var(--input-asterisk-color, var(--mantine-color-error))}.m_8f816625,.m_fe47ce59{word-wrap:break-word;line-height:1.2;display:block;margin:0;padding:0}.m_8f816625{color:var(--mantine-color-error);font-size:var(--input-error-size, calc(var(--mantine-font-size-sm) - calc(.125em * var(--mantine-scale))))}.m_fe47ce59{color:var(--mantine-color-dimmed);font-size:var(--input-description-size, calc(var(--mantine-font-size-sm) - calc(.125em * var(--mantine-scale))))}.m_8bffd616{display:flex}.m_96b553a6{--transition-duration: .15s;top:0;left:0;position:absolute;z-index:0;transition-property:transform,width,height;transition-timing-function:ease;transition-duration:0ms}.m_96b553a6:where([data-initialized]){transition-duration:var(--transition-duration)}.m_96b553a6:where([data-hidden]){background-color:red;display:none}.m_9bdbb667{--accordion-radius: var(--mantine-radius-default)}.m_df78851f{word-break:break-word}.m_4ba554d4{padding:var(--mantine-spacing-md);padding-top:calc(var(--mantine-spacing-xs) / 2)}.m_8fa820a0{margin:0;padding:0}.m_4ba585b8{width:100%;display:flex;align-items:center;flex-direction:row-reverse;padding-inline:var(--mantine-spacing-md);opacity:1;cursor:pointer;background-color:transparent}.m_4ba585b8:where([data-chevron-position=left]){flex-direction:row;padding-inline-start:0}:where([data-mantine-color-scheme=light]) .m_4ba585b8{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_4ba585b8{color:var(--mantine-color-dark-0)}.m_4ba585b8:where(:disabled,[data-disabled]){opacity:.4;cursor:not-allowed}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-dark-6)}}.m_df3ffa0f{color:inherit;font-weight:400;flex:1;overflow:hidden;text-overflow:ellipsis;padding-top:var(--mantine-spacing-sm);padding-bottom:var(--mantine-spacing-sm)}.m_3f35ae96{display:flex;align-items:center;justify-content:flex-start;transition:transform var(--accordion-transition-duration, .2s) ease;width:var(--accordion-chevron-size, calc(.9375em * var(--mantine-scale)));min-width:var(--accordion-chevron-size, calc(.9375em * var(--mantine-scale)));transform:rotate(0)}.m_3f35ae96:where([data-rotate]){transform:rotate(180deg)}.m_3f35ae96:where([data-position=left]){margin-inline-end:var(--mantine-spacing-md);margin-inline-start:var(--mantine-spacing-md)}.m_9bd771fe{display:flex;align-items:center;justify-content:center;margin-inline-end:var(--mantine-spacing-sm)}.m_9bd771fe:where([data-chevron-position=left]){margin-inline-end:0;margin-inline-start:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_9bd7b098{--item-border-color: var(--mantine-color-gray-3);--item-filled-color: var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_9bd7b098{--item-border-color: var(--mantine-color-dark-4);--item-filled-color: var(--mantine-color-dark-6)}.m_fe19b709{border-bottom:1px solid var(--item-border-color)}.m_1f921b3b{border:1px solid var(--item-border-color);transition:background-color .15s ease}.m_1f921b3b:where([data-active]){background-color:var(--item-filled-color)}.m_1f921b3b:first-of-type{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:first-of-type>[data-accordion-control]{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type>[data-accordion-control]{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b+.m_1f921b3b{border-top:0}.m_2cdf939a{border-radius:var(--accordion-radius)}.m_2cdf939a:where([data-active]){background-color:var(--item-filled-color)}.m_9f59b069{background-color:var(--item-filled-color);border-radius:var(--accordion-radius);border:calc(.0625em * var(--mantine-scale)) solid transparent;transition:background-color .15s ease}.m_9f59b069[data-active]{border-color:var(--item-border-color)}:where([data-mantine-color-scheme=light]) .m_9f59b069[data-active]{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_9f59b069[data-active]{background-color:var(--mantine-color-dark-7)}.m_9f59b069+.m_9f59b069{margin-top:var(--mantine-spacing-md)}.m_7f854edf{position:fixed;z-index:var(--affix-z-index);inset-inline-start:var(--affix-left);inset-inline-end:var(--affix-right);top:var(--affix-top);bottom:var(--affix-bottom)}.m_66836ed3{--alert-radius: var(--mantine-radius-default);--alert-bg: var(--mantine-primary-color-light);--alert-bd: calc(.0625em * var(--mantine-scale)) solid transparent;--alert-color: var(--mantine-primary-color-light-color);padding:var(--mantine-spacing-md) var(--mantine-spacing-md);border-radius:var(--alert-radius);position:relative;overflow:hidden;background-color:var(--alert-bg);border:var(--alert-bd);color:var(--alert-color)}.m_a5d60502{display:flex}.m_667c2793{flex:1;display:flex;flex-direction:column;gap:var(--mantine-spacing-xs)}.m_6a03f287{display:flex;align-items:center;justify-content:space-between;font-size:var(--mantine-font-size-sm);font-weight:700}.m_6a03f287:where([data-with-close-button]){padding-inline-end:var(--mantine-spacing-md)}.m_698f4f23{display:block;overflow:hidden;text-overflow:ellipsis}.m_667f2a6a{line-height:1;width:calc(1.25em * var(--mantine-scale));height:calc(1.25em * var(--mantine-scale));display:flex;align-items:center;justify-content:flex-start;margin-inline-end:var(--mantine-spacing-md);margin-top:calc(.0625em * var(--mantine-scale))}.m_7fa78076{text-overflow:ellipsis;overflow:hidden;font-size:var(--mantine-font-size-sm)}:where([data-mantine-color-scheme=light]) .m_7fa78076{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_7fa78076{color:var(--mantine-color-white)}.m_7fa78076:where([data-variant=filled]){color:var(--alert-color)}.m_7fa78076:where([data-variant=white]){color:var(--mantine-color-black)}.m_87f54839{width:calc(1.25em * var(--mantine-scale));height:calc(1.25em * var(--mantine-scale));color:var(--alert-color)}.m_b6d8b162{-webkit-tap-highlight-color:transparent;text-decoration:none;font-size:var(--text-fz, var(--mantine-font-size-md));line-height:var(--text-lh, var(--mantine-line-height-md));font-weight:400;margin:0;padding:0;color:var(--text-color)}.m_b6d8b162:where([data-truncate]){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.m_b6d8b162:where([data-truncate=start]){direction:rtl;text-align:right}:where([dir=rtl]) .m_b6d8b162:where([data-truncate=start]){direction:ltr;text-align:left}.m_b6d8b162:where([data-variant=gradient]){background-image:var(--text-gradient);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.m_b6d8b162:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--text-line-clamp);-webkit-box-orient:vertical}.m_b6d8b162:where([data-inherit]){line-height:inherit;font-weight:inherit;font-size:inherit}.m_b6d8b162:where([data-inline]){line-height:1}.m_849cf0da{color:var(--mantine-color-anchor);text-decoration:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;display:inline;padding:0;margin:0;background-color:transparent;cursor:pointer}@media (hover: hover){.m_849cf0da:where([data-underline=hover]):hover{text-decoration:underline}}@media (hover: none){.m_849cf0da:where([data-underline=hover]):active{text-decoration:underline}}.m_849cf0da:where([data-underline=not-hover]){text-decoration:underline}@media (hover: hover){.m_849cf0da:where([data-underline=not-hover]):hover{text-decoration:none}}@media (hover: none){.m_849cf0da:where([data-underline=not-hover]):active{text-decoration:none}}.m_849cf0da:where([data-underline=always]){text-decoration:underline}.m_849cf0da:where([data-variant=gradient]),.m_849cf0da:where([data-variant=gradient]):hover{text-decoration:none}.m_849cf0da:where([data-line-clamp]){display:-webkit-box}.m_48204f9b{width:var(--slider-size);height:var(--slider-size);position:relative;border-radius:100%;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_48204f9b:focus-within{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_48204f9b{--slider-size: calc(3.75em * var(--mantine-scale));--thumb-size: calc(var(--slider-size) / 5)}:where([data-mantine-color-scheme=light]) .m_48204f9b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_48204f9b{background-color:var(--mantine-color-dark-5)}.m_bb9cdbad{position:absolute;inset:calc(.0625em * var(--mantine-scale));border-radius:var(--slider-size);pointer-events:none}.m_481dd586{width:calc(.125em * var(--mantine-scale));position:absolute;top:0;bottom:0;left:calc(50% - 1px);transform:rotate(var(--angle))}.m_481dd586:before{content:"";position:absolute;top:calc(var(--thumb-size) / 3);left:calc(.03125em * var(--mantine-scale));width:calc(.0625em * var(--mantine-scale));height:calc(var(--thumb-size) / 1.5);transform:translate(-50%,-50%)}:where([data-mantine-color-scheme=light]) .m_481dd586:before{background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_481dd586:before{background-color:var(--mantine-color-dark-3)}.m_481dd586[data-label]:after{min-width:calc(1.125em * var(--mantine-scale));text-align:center;content:attr(data-label);position:absolute;top:calc(-1.5em * var(--mantine-scale));left:calc(-.4375em * var(--mantine-scale));transform:rotate(calc(360deg - var(--angle)));font-size:var(--mantine-font-size-xs)}.m_bc02ba3d{position:absolute;inset-block:0;inset-inline-start:calc(50% - 1.5px);inset-inline-end:0;height:100%;width:calc(.1875em * var(--mantine-scale));outline:none;pointer-events:none}.m_bc02ba3d:before{content:"";position:absolute;right:0;top:0;height:min(var(--thumb-size),calc(var(--slider-size) / 2));width:calc(.1875em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_bc02ba3d:before{background-color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_bc02ba3d:before{background-color:var(--mantine-color-dark-1)}.m_bb8e875b{font-size:var(--mantine-font-size-xs)}.m_89ab340[data-resizing]{--app-shell-transition-duration: 0ms !important}.m_89ab340[data-disabled]{--app-shell-header-offset: 0em !important;--app-shell-navbar-offset: 0em !important;--app-shell-aside-offset: 0em !important;--app-shell-footer-offset: 0em !important}[data-mantine-color-scheme=light] .m_89ab340{--app-shell-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89ab340{--app-shell-border-color: var(--mantine-color-dark-4)}.m_45252eee,.m_9cdde9a,.m_3b16f56b,.m_8983817,.m_3840c879{transition-duration:var(--app-shell-transition-duration);transition-timing-function:var(--app-shell-transition-timing-function)}.m_45252eee,.m_9cdde9a{position:fixed;display:flex;flex-direction:column;top:var(--app-shell-header-offset, 0em);height:calc(100dvh - var(--app-shell-header-offset, 0em) - var(--app-shell-footer-offset, 0em));background-color:var(--mantine-color-body);transition-property:transform,top,height}:where([data-layout=alt]) .m_45252eee,:where([data-layout=alt]) .m_9cdde9a{top:0;height:100dvh}.m_45252eee{inset-inline-start:0;width:var(--app-shell-navbar-width);transition-property:transform,top,height;transform:var(--app-shell-navbar-transform);z-index:var(--app-shell-navbar-z-index)}:where([dir=rtl]) .m_45252eee{transform:var(--app-shell-navbar-transform-rtl)}.m_45252eee:where([data-with-border]){border-inline-end:1px solid var(--app-shell-border-color)}.m_9cdde9a{inset-inline-end:0;width:var(--app-shell-aside-width);transform:var(--app-shell-aside-transform);z-index:var(--app-shell-aside-z-index)}:where([dir=rtl]) .m_9cdde9a{transform:var(--app-shell-aside-transform-rtl)}.m_9cdde9a:where([data-with-border]){border-inline-start:1px solid var(--app-shell-border-color)}.m_8983817{padding-inline-start:calc(var(--app-shell-navbar-offset, 0em) + var(--app-shell-padding));padding-inline-end:calc(var(--app-shell-aside-offset, 0em) + var(--app-shell-padding));padding-top:calc(var(--app-shell-header-offset, 0em) + var(--app-shell-padding));padding-bottom:calc(var(--app-shell-footer-offset, 0em) + var(--app-shell-padding));min-height:100dvh;transition-property:padding}.m_3b16f56b,.m_3840c879{position:fixed;inset-inline:0;transition-property:transform,left,right;background-color:var(--mantine-color-body)}:where([data-layout=alt]) .m_3b16f56b,:where([data-layout=alt]) .m_3840c879{inset-inline-start:var(--app-shell-navbar-offset, 0em);inset-inline-end:var(--app-shell-aside-offset, 0em)}.m_3b16f56b{top:0;height:var(--app-shell-header-height);background-color:var(--mantine-color-body);transform:var(--app-shell-header-transform);z-index:var(--app-shell-header-z-index)}.m_3b16f56b:where([data-with-border]){border-bottom:1px solid var(--app-shell-border-color)}.m_3840c879{bottom:0;height:calc(var(--app-shell-footer-height) + env(safe-area-inset-bottom));padding-bottom:env(safe-area-inset-bottom);transform:var(--app-shell-footer-transform);z-index:var(--app-shell-footer-z-index)}.m_3840c879:where([data-with-border]){border-top:1px solid var(--app-shell-border-color)}.m_6dcfc7c7{flex-grow:0}.m_6dcfc7c7:where([data-grow]){flex-grow:1}.m_71ac47fc{--ar-ratio: 1;max-width:100%}.m_71ac47fc>:where(*:not(style)){aspect-ratio:var(--ar-ratio);width:100%}.m_71ac47fc>:where(img,video){-o-object-fit:cover;object-fit:cover}.m_88b62a41{--combobox-padding: calc(.25em * var(--mantine-scale));padding:var(--combobox-padding)}.m_88b62a41:has([data-mantine-scrollbar]) .m_985517d8{max-width:calc(100% + var(--combobox-padding))}.m_88b62a41[data-composed]{padding-inline-end:0}.m_88b62a41[data-hidden]{display:none}.m_88b62a41,.m_b2821a6e{--combobox-option-padding-xs: calc(.25em * var(--mantine-scale)) calc(.5em * var(--mantine-scale));--combobox-option-padding-sm: calc(.375em * var(--mantine-scale)) calc(.625em * var(--mantine-scale));--combobox-option-padding-md: calc(.5em * var(--mantine-scale)) calc(.75em * var(--mantine-scale));--combobox-option-padding-lg: calc(.625em * var(--mantine-scale)) calc(1em * var(--mantine-scale));--combobox-option-padding-xl: calc(.875em * var(--mantine-scale)) calc(1.25em * var(--mantine-scale));--combobox-option-padding: var(--combobox-option-padding-sm)}.m_92253aa5{padding:var(--combobox-option-padding);font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border-radius:var(--mantine-radius-default);background-color:transparent;color:inherit;cursor:pointer;word-break:break-word}.m_92253aa5:where([data-combobox-selected]){background-color:var(--mantine-primary-color-filled);color:var(--mantine-color-white)}.m_92253aa5:where([data-combobox-disabled]){cursor:not-allowed;opacity:.35}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}.m_985517d8{margin-inline:calc(var(--combobox-padding) * -1);margin-top:calc(var(--combobox-padding) * -1);width:calc(100% + var(--combobox-padding) * 2);border-top-width:0;border-inline-width:0;border-end-start-radius:0;border-end-end-radius:0;margin-bottom:var(--combobox-padding);position:relative}:where([data-mantine-color-scheme=light]) .m_985517d8,:where([data-mantine-color-scheme=light]) .m_985517d8:focus{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_985517d8,:where([data-mantine-color-scheme=dark]) .m_985517d8:focus{border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=light]) .m_985517d8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_985517d8{background-color:var(--mantine-color-dark-7)}.m_2530cd1d{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));text-align:center;padding:var(--combobox-option-padding);color:var(--mantine-color-dimmed)}.m_858f94bd,.m_82b967cb{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border:0 solid transparent;margin-inline:calc(var(--combobox-padding) * -1);padding:var(--combobox-option-padding)}:where([data-mantine-color-scheme=light]) .m_858f94bd,:where([data-mantine-color-scheme=light]) .m_82b967cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_858f94bd,:where([data-mantine-color-scheme=dark]) .m_82b967cb{border-color:var(--mantine-color-dark-4)}.m_82b967cb{border-top-width:calc(.0625em * var(--mantine-scale));margin-top:var(--combobox-padding);margin-bottom:calc(var(--combobox-padding) * -1)}.m_858f94bd{border-bottom-width:calc(.0625em * var(--mantine-scale));margin-bottom:var(--combobox-padding);margin-top:calc(var(--combobox-padding) * -1)}.m_254f3e4f:has(.m_2bb2e9e5:only-child){display:none}.m_2bb2e9e5{color:var(--mantine-color-dimmed);font-size:calc(var(--combobox-option-fz, var(--mantine-font-size-sm)) * .85);padding:var(--combobox-option-padding);font-weight:500;position:relative;display:flex;align-items:center}.m_2bb2e9e5:after{content:"";flex:1;inset-inline:0;height:calc(.0625em * var(--mantine-scale));margin-inline-start:var(--mantine-spacing-xs)}:where([data-mantine-color-scheme=light]) .m_2bb2e9e5:after{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_2bb2e9e5:after{background-color:var(--mantine-color-dark-4)}.m_2bb2e9e5:only-child{display:none}.m_2943220b{--combobox-chevron-size-xs: calc(.875em * var(--mantine-scale));--combobox-chevron-size-sm: calc(1.125em * var(--mantine-scale));--combobox-chevron-size-md: calc(1.25em * var(--mantine-scale));--combobox-chevron-size-lg: calc(1.5em * var(--mantine-scale));--combobox-chevron-size-xl: calc(1.75em * var(--mantine-scale));--combobox-chevron-size: var(--combobox-chevron-size-sm)}:where([data-mantine-color-scheme=light]) .m_2943220b{--_combobox-chevron-color: var(--combobox-chevron-color, var(--mantine-color-gray-6))}:where([data-mantine-color-scheme=dark]) .m_2943220b{--_combobox-chevron-color: var(--combobox-chevron-color, var(--mantine-color-dark-3))}.m_2943220b{width:var(--combobox-chevron-size);height:var(--combobox-chevron-size);color:var(--_combobox-chevron-color)}.m_2943220b:where([data-error]){color:var(--combobox-chevron-color, var(--mantine-color-error))}.m_390b5f4{display:flex;align-items:center;gap:calc(.5em * var(--mantine-scale))}.m_390b5f4:where([data-reverse]){justify-content:space-between}.m_8ee53fc2{opacity:.4;width:.8em;min-width:.8em;height:.8em}:where([data-combobox-selected]) .m_8ee53fc2{opacity:1}.m_5f75b09e{--label-lh-xs: calc(1em * var(--mantine-scale));--label-lh-sm: calc(1.25em * var(--mantine-scale));--label-lh-md: calc(1.5em * var(--mantine-scale));--label-lh-lg: calc(1.875em * var(--mantine-scale));--label-lh-xl: calc(2.25em * var(--mantine-scale));--label-lh: var(--label-lh-sm)}.m_5f75b09e[data-label-position=left]{--label-order: 1;--label-offset-end: var(--mantine-spacing-sm);--label-offset-start: 0}.m_5f75b09e[data-label-position=right]{--label-order: 2;--label-offset-end: 0;--label-offset-start: var(--mantine-spacing-sm)}.m_5f6e695e{display:flex}.m_d3ea56bb{--label-cursor: var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:inline-flex;flex-direction:column;font-size:var(--label-fz, var(--mantine-font-size-sm));line-height:var(--label-lh);cursor:var(--label-cursor);order:var(--label-order)}fieldset:disabled .m_d3ea56bb,.m_d3ea56bb[data-disabled]{--label-cursor: not-allowed}.m_8ee546b8{cursor:var(--label-cursor);color:inherit;padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=light]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=dark]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-dark-3)}.m_328f68c0,.m_8e8a99cc{margin-top:calc(var(--mantine-spacing-xs) / 2);padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}.m_26775b0a{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_26775b0a :where(*){cursor:inherit}.m_26775b0a:where([data-with-border]){border:calc(.0625em * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_5e5256ee{--checkbox-size-xs: calc(1em * var(--mantine-scale));--checkbox-size-sm: calc(1.25em * var(--mantine-scale));--checkbox-size-md: calc(1.5em * var(--mantine-scale));--checkbox-size-lg: calc(1.875em * var(--mantine-scale));--checkbox-size-xl: calc(2.25em * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625em * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);min-width:var(--checkbox-size);height:var(--checkbox-size);min-height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_5e5256ee{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_5e5256ee[data-indeterminate],.m_5e5256ee[data-checked]{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_5e5256ee[data-indeterminate]>.m_1b1c543a,.m_5e5256ee[data-checked]>.m_1b1c543a{opacity:1;transform:none;color:var(--checkbox-icon-color)}.m_5e5256ee[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-dark-3)}.m_76e20374[data-indeterminate]:not([data-disabled]),.m_76e20374[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--checkbox-color)}.m_76e20374[data-indeterminate]:not([data-disabled])>.m_1b1c543a,.m_76e20374[data-checked]:not([data-disabled])>.m_1b1c543a{color:var(--checkbox-color);opacity:1;transform:none}.m_1b1c543a{display:block;width:60%;color:transparent;pointer-events:none;transform:translateY(calc(.3125em * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_bf2d988c{--checkbox-size-xs: calc(1em * var(--mantine-scale));--checkbox-size-sm: calc(1.25em * var(--mantine-scale));--checkbox-size-md: calc(1.5em * var(--mantine-scale));--checkbox-size-lg: calc(1.875em * var(--mantine-scale));--checkbox-size-xl: calc(2.25em * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white)}.m_26062bec{position:relative;width:var(--checkbox-size);height:var(--checkbox-size);order:1}.m_26062bec:where([data-label-position=left]){order:2}.m_26063560{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:calc(.0625em * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));padding:0;display:block;margin:0;transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_26063560{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_26063560{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_26063560:where([data-error]){border-color:var(--mantine-color-error)}.m_26063560[data-indeterminate],.m_26063560:checked{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_26063560[data-indeterminate]+.m_bf295423,.m_26063560:checked+.m_bf295423{opacity:1;transform:none}.m_26063560:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_26063560:disabled{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26063560:disabled{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-dark-3)}.m_215c4542+.m_bf295423{color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled),.m_215c4542:checked:not(:disabled){background-color:transparent;border-color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled)+.m_bf295423,.m_215c4542:checked:not(:disabled)+.m_bf295423{color:var(--checkbox-color);opacity:1;transform:none}.m_bf295423{position:absolute;inset:0;width:60%;margin:auto;color:var(--checkbox-icon-color);pointer-events:none;transform:translateY(calc(.3125em * var(--mantine-scale))) scale(.5);opacity:0;transition:transform .1s ease,opacity .1s ease}.m_11def92b{--ag-spacing: var(--mantine-spacing-sm);--ag-offset: calc(var(--ag-spacing) * -1);display:flex;padding-inline-start:var(--ag-spacing)}.m_f85678b6{--avatar-size-xs: calc(1em * var(--mantine-scale));--avatar-size-sm: calc(1.625em * var(--mantine-scale));--avatar-size-md: calc(2.375em * var(--mantine-scale));--avatar-size-lg: calc(3.5em * var(--mantine-scale));--avatar-size-xl: calc(5.25em * var(--mantine-scale));--avatar-size: var(--avatar-size-md);--avatar-radius: calc(62.5em * var(--mantine-scale));--avatar-bg: var(--mantine-color-gray-light);--avatar-bd: calc(.0625em * var(--mantine-scale)) solid transparent;--avatar-color: var(--mantine-color-gray-light-color);--avatar-placeholder-fz: calc(var(--avatar-size) / 2.5);-webkit-tap-highlight-color:transparent;position:relative;display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;border-radius:var(--avatar-radius);text-decoration:none;padding:0;width:var(--avatar-size);height:var(--avatar-size);min-width:var(--avatar-size)}.m_f85678b6:where([data-within-group]){margin-inline-start:var(--ag-offset);border:2px solid var(--mantine-color-body);background:var(--mantine-color-body)}.m_11f8ac07{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;display:block}.m_104cd71f{font-weight:700;display:flex;align-items:center;justify-content:center;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--avatar-radius);font-size:var(--avatar-placeholder-fz);background:var(--avatar-bg);border:var(--avatar-bd);color:var(--avatar-color)}.m_104cd71f>[data-avatar-placeholder-icon]{width:70%;height:70%}.m_2ce0de02{background-size:cover;background-position:center;display:block;width:100%;border:0;text-decoration:none;border-radius:var(--bi-radius, 0)}.m_347db0ec{--badge-height-xs: calc(1em * var(--mantine-scale));--badge-height-sm: calc(1.125em * var(--mantine-scale));--badge-height-md: calc(1.25em * var(--mantine-scale));--badge-height-lg: calc(1.625em * var(--mantine-scale));--badge-height-xl: calc(2em * var(--mantine-scale));--badge-fz-xs: calc(.5625em * var(--mantine-scale));--badge-fz-sm: calc(.625em * var(--mantine-scale));--badge-fz-md: calc(.6875em * var(--mantine-scale));--badge-fz-lg: calc(.8125em * var(--mantine-scale));--badge-fz-xl: calc(1em * var(--mantine-scale));--badge-padding-x-xs: calc(.375em * var(--mantine-scale));--badge-padding-x-sm: calc(.5em * var(--mantine-scale));--badge-padding-x-md: calc(.625em * var(--mantine-scale));--badge-padding-x-lg: calc(.75em * var(--mantine-scale));--badge-padding-x-xl: calc(1em * var(--mantine-scale));--badge-height: var(--badge-height-md);--badge-fz: var(--badge-fz-md);--badge-padding-x: var(--badge-padding-x-md);--badge-radius: calc(62.5em * var(--mantine-scale));--badge-lh: calc(var(--badge-height) - calc(.125em * var(--mantine-scale)));--badge-color: var(--mantine-color-white);--badge-bg: var(--mantine-primary-color-filled);--badge-border-width: calc(.0625em * var(--mantine-scale));--badge-bd: var(--badge-border-width) solid transparent;-webkit-tap-highlight-color:transparent;font-size:var(--badge-fz);border-radius:var(--badge-radius);height:var(--badge-height);line-height:var(--badge-lh);text-decoration:none;padding:0 var(--badge-padding-x);display:inline-grid;align-items:center;justify-content:center;width:-moz-fit-content;width:fit-content;text-transform:uppercase;font-weight:700;letter-spacing:calc(.015625em * var(--mantine-scale));cursor:default;text-overflow:ellipsis;overflow:hidden;color:var(--badge-color);background:var(--badge-bg);border:var(--badge-bd)}.m_347db0ec:where([data-with-left-section],[data-variant=dot]){grid-template-columns:auto 1fr}.m_347db0ec:where([data-with-right-section]){grid-template-columns:1fr auto}.m_347db0ec:where([data-with-left-section][data-with-right-section],[data-variant=dot][data-with-right-section]){grid-template-columns:auto 1fr auto}.m_347db0ec:where([data-block]){display:flex;width:100%}.m_347db0ec:where([data-circle]){padding-inline:calc(.125em * var(--mantine-scale));display:flex;width:var(--badge-height)}.m_fbd81e3d{--badge-dot-size: calc(var(--badge-height) / 3.4)}:where([data-mantine-color-scheme=light]) .m_fbd81e3d{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fbd81e3d{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_fbd81e3d:before{content:"";display:block;width:var(--badge-dot-size);height:var(--badge-dot-size);border-radius:var(--badge-dot-size);background-color:var(--badge-dot-color);margin-inline-end:var(--badge-dot-size)}.m_5add502a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;cursor:inherit}.m_91fdda9b{--badge-section-margin: calc(var(--mantine-spacing-xs) / 2);display:inline-flex;justify-content:center;align-items:center;max-height:calc(var(--badge-height) - var(--badge-border-width) * 2)}.m_91fdda9b:where([data-position=left]){margin-inline-end:var(--badge-section-margin)}.m_91fdda9b:where([data-position=right]){margin-inline-start:var(--badge-section-margin)}.m_ddec01c0{--blockquote-border: 3px solid var(--bq-bd);position:relative;margin:0;border-inline-start:var(--blockquote-border);border-start-end-radius:var(--bq-radius);border-end-end-radius:var(--bq-radius);padding:var(--mantine-spacing-xl) calc(2.375em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_ddec01c0{background-color:var(--bq-bg-light)}:where([data-mantine-color-scheme=dark]) .m_ddec01c0{background-color:var(--bq-bg-dark)}.m_dde7bd57{--blockquote-icon-offset: calc(var(--bq-icon-size) / -2);position:absolute;color:var(--bq-bd);background-color:var(--mantine-color-body);display:flex;align-items:center;justify-content:center;top:var(--blockquote-icon-offset);inset-inline-start:var(--blockquote-icon-offset);width:var(--bq-icon-size);height:var(--bq-icon-size);border-radius:var(--bq-icon-size)}.m_dde51a35{display:block;margin-top:var(--mantine-spacing-md);opacity:.6;font-size:85%}.m_8b3717df{display:flex;align-items:center;flex-wrap:wrap}.m_f678d540{line-height:1;white-space:nowrap;-webkit-tap-highlight-color:transparent}.m_3b8f2208{margin-inline:var(--bc-separator-margin, var(--mantine-spacing-xs));line-height:1;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_3b8f2208{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_3b8f2208{color:var(--mantine-color-dark-2)}.m_fea6bf1a{--burger-size-xs: calc(.75em * var(--mantine-scale));--burger-size-sm: calc(1.125em * var(--mantine-scale));--burger-size-md: calc(1.5em * var(--mantine-scale));--burger-size-lg: calc(2.125em * var(--mantine-scale));--burger-size-xl: calc(2.625em * var(--mantine-scale));--burger-size: var(--burger-size-md);--burger-line-size: calc(var(--burger-size) / 12);width:calc(var(--burger-size) + var(--mantine-spacing-xs));height:calc(var(--burger-size) + var(--mantine-spacing-xs));padding:calc(var(--mantine-spacing-xs) / 2);cursor:pointer}:where([data-mantine-color-scheme=light]) .m_fea6bf1a{--burger-color: var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fea6bf1a{--burger-color: var(--mantine-color-white)}.m_d4fb9cad{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_d4fb9cad,.m_d4fb9cad:before,.m_d4fb9cad:after{display:block;width:var(--burger-size);height:var(--burger-line-size);background-color:var(--burger-color);outline:calc(.0625em * var(--mantine-scale)) solid transparent;transition-property:background-color,transform;transition-duration:var(--burger-transition-duration, .3s);transition-timing-function:var(--burger-transition-timing-function, ease)}.m_d4fb9cad:before,.m_d4fb9cad:after{position:absolute;content:"";inset-inline-start:0}.m_d4fb9cad:before{top:calc(var(--burger-size) / -3)}.m_d4fb9cad:after{top:calc(var(--burger-size) / 3)}.m_d4fb9cad[data-opened]{background-color:transparent}.m_d4fb9cad[data-opened]:before{transform:translateY(calc(var(--burger-size) / 3)) rotate(45deg)}.m_d4fb9cad[data-opened]:after{transform:translateY(calc(var(--burger-size) / -3)) rotate(-45deg)}.m_77c9d27d{--button-height-xs: calc(1.875em * var(--mantine-scale));--button-height-sm: calc(2.25em * var(--mantine-scale));--button-height-md: calc(2.625em * var(--mantine-scale));--button-height-lg: calc(3.125em * var(--mantine-scale));--button-height-xl: calc(3.75em * var(--mantine-scale));--button-height-compact-xs: calc(1.375em * var(--mantine-scale));--button-height-compact-sm: calc(1.625em * var(--mantine-scale));--button-height-compact-md: calc(1.875em * var(--mantine-scale));--button-height-compact-lg: calc(2.125em * var(--mantine-scale));--button-height-compact-xl: calc(2.5em * var(--mantine-scale));--button-padding-x-xs: calc(.875em * var(--mantine-scale));--button-padding-x-sm: calc(1.125em * var(--mantine-scale));--button-padding-x-md: calc(1.375em * var(--mantine-scale));--button-padding-x-lg: calc(1.625em * var(--mantine-scale));--button-padding-x-xl: calc(2em * var(--mantine-scale));--button-padding-x-compact-xs: calc(.4375em * var(--mantine-scale));--button-padding-x-compact-sm: calc(.5em * var(--mantine-scale));--button-padding-x-compact-md: calc(.625em * var(--mantine-scale));--button-padding-x-compact-lg: calc(.75em * var(--mantine-scale));--button-padding-x-compact-xl: calc(.875em * var(--mantine-scale));--button-height: var(--button-height-sm);--button-padding-x: var(--button-padding-x-sm);--button-color: var(--mantine-color-white);-webkit-user-select:none;-moz-user-select:none;user-select:none;font-weight:600;position:relative;line-height:1;text-align:center;overflow:hidden;width:auto;cursor:pointer;display:inline-block;border-radius:var(--button-radius, var(--mantine-radius-default));font-size:var(--button-fz, var(--mantine-font-size-sm));background:var(--button-bg, var(--mantine-primary-color-filled));border:var(--button-bd, calc(.0625em * var(--mantine-scale)) solid transparent);color:var(--button-color, var(--mantine-color-white));height:var(--button-height, var(--button-height-sm));padding-inline:var(--button-padding-x, var(--button-padding-x-sm));vertical-align:middle}.m_77c9d27d:where([data-block]){display:block;width:100%}.m_77c9d27d:where([data-with-left-section]){padding-inline-start:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where([data-with-right-section]){padding-inline-end:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625em * var(--mantine-scale)) solid transparent;transform:none}:where([data-mantine-color-scheme=light]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-gray-5);background:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-dark-3);background:var(--mantine-color-dark-6)}.m_77c9d27d:before{content:"";pointer-events:none;position:absolute;inset:calc(-.0625em * var(--mantine-scale));border-radius:var(--button-radius, var(--mantine-radius-default));transform:translateY(-100%);opacity:0;filter:blur(12px);transition:transform .15s ease,opacity .1s ease}:where([data-mantine-color-scheme=light]) .m_77c9d27d:before{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:before{background-color:#00000026}.m_77c9d27d:where([data-loading]){cursor:not-allowed;transform:none}.m_77c9d27d:where([data-loading]):before{transform:translateY(0);opacity:1}.m_77c9d27d:where([data-loading]) .m_80f1301b{opacity:0;transform:translateY(100%)}@media (hover: hover){.m_77c9d27d:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}@media (hover: none){.m_77c9d27d:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}.m_80f1301b{display:flex;align-items:center;justify-content:var(--button-justify, center);height:100%;overflow:visible;transition:transform .15s ease,opacity .1s ease}.m_811560b9{white-space:nowrap;height:100%;overflow:hidden;display:flex;align-items:center;opacity:1}.m_811560b9:where([data-loading]){opacity:.2}.m_a74036a{display:flex;align-items:center}.m_a74036a:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_a74036a:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_a25b86ee{position:absolute;left:50%;top:50%}.m_80d6d844{--button-border-width: calc(.0625em * var(--mantine-scale));display:flex}.m_80d6d844 :where(.m_77c9d27d):focus{position:relative;z-index:1}.m_80d6d844[data-orientation=horizontal]{flex-direction:row}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical]{flex-direction:column}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--button-border-width) / 2);border-top-width:calc(var(--button-border-width) / 2)}.m_70be2a01{--section-height-xs: calc(1.875em * var(--mantine-scale));--section-height-sm: calc(2.25em * var(--mantine-scale));--section-height-md: calc(2.625em * var(--mantine-scale));--section-height-lg: calc(3.125em * var(--mantine-scale));--section-height-xl: calc(3.75em * var(--mantine-scale));--section-height-compact-xs: calc(1.375em * var(--mantine-scale));--section-height-compact-sm: calc(1.625em * var(--mantine-scale));--section-height-compact-md: calc(1.875em * var(--mantine-scale));--section-height-compact-lg: calc(2.125em * var(--mantine-scale));--section-height-compact-xl: calc(2.5em * var(--mantine-scale));--section-padding-x-xs: calc(.875em * var(--mantine-scale));--section-padding-x-sm: calc(1.125em * var(--mantine-scale));--section-padding-x-md: calc(1.375em * var(--mantine-scale));--section-padding-x-lg: calc(1.625em * var(--mantine-scale));--section-padding-x-xl: calc(2em * var(--mantine-scale));--section-padding-x-compact-xs: calc(.4375em * var(--mantine-scale));--section-padding-x-compact-sm: calc(.5em * var(--mantine-scale));--section-padding-x-compact-md: calc(.625em * var(--mantine-scale));--section-padding-x-compact-lg: calc(.75em * var(--mantine-scale));--section-padding-x-compact-xl: calc(.875em * var(--mantine-scale));--section-height: var(--section-height-sm);--section-padding-x: var(--section-padding-x-sm);--section-color: var(--mantine-color-white);font-weight:600;width:auto;border-radius:var(--section-radius, var(--mantine-radius-default));font-size:var(--section-fz, var(--mantine-font-size-sm));background:var(--section-bg, var(--mantine-primary-color-filled));border:var(--section-bd, calc(.0625em * var(--mantine-scale)) solid transparent);color:var(--section-color, var(--mantine-color-white));height:var(--section-height, var(--section-height-sm));padding-inline:var(--section-padding-x, var(--section-padding-x-sm));vertical-align:middle;line-height:1;display:inline-flex;align-items:center;justify-content:center}.m_e615b15f{--card-padding: var(--mantine-spacing-md);position:relative;overflow:hidden;display:flex;flex-direction:column;padding:var(--card-padding);color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_e615b15f{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_e615b15f{background-color:var(--mantine-color-dark-6)}.m_599a2148{display:block;margin-inline:calc(var(--card-padding) * -1)}.m_599a2148:where(:first-child){margin-top:calc(var(--card-padding) * -1);border-top:none!important}.m_599a2148:where(:last-child){margin-bottom:calc(var(--card-padding) * -1);border-bottom:none!important}.m_599a2148:where([data-inherit-padding]){padding-inline:var(--card-padding)}.m_599a2148:where([data-with-border]){border-top:calc(.0625em * var(--mantine-scale)) solid;border-bottom:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_599a2148{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_599a2148{border-color:var(--mantine-color-dark-4)}.m_599a2148+.m_599a2148{border-top:none!important}.m_4451eb3a{display:flex;align-items:center;justify-content:center}.m_4451eb3a:where([data-inline]){display:inline-flex}.m_f59ffda3{--chip-size-xs: calc(1.4375em * var(--mantine-scale));--chip-size-sm: calc(1.75em * var(--mantine-scale));--chip-size-md: calc(2em * var(--mantine-scale));--chip-size-lg: calc(2.25em * var(--mantine-scale));--chip-size-xl: calc(2.5em * var(--mantine-scale));--chip-icon-size-xs: calc(.625em * var(--mantine-scale));--chip-icon-size-sm: calc(.75em * var(--mantine-scale));--chip-icon-size-md: calc(.875em * var(--mantine-scale));--chip-icon-size-lg: calc(1em * var(--mantine-scale));--chip-icon-size-xl: calc(1.125em * var(--mantine-scale));--chip-padding-xs: calc(1em * var(--mantine-scale));--chip-padding-sm: calc(1.25em * var(--mantine-scale));--chip-padding-md: calc(1.5em * var(--mantine-scale));--chip-padding-lg: calc(1.75em * var(--mantine-scale));--chip-padding-xl: calc(2em * var(--mantine-scale));--chip-checked-padding-xs: calc(.46875em * var(--mantine-scale));--chip-checked-padding-sm: calc(.625em * var(--mantine-scale));--chip-checked-padding-md: calc(.73125em * var(--mantine-scale));--chip-checked-padding-lg: calc(.84375em * var(--mantine-scale));--chip-checked-padding-xl: calc(.98125em * var(--mantine-scale));--chip-spacing-xs: calc(.625em * var(--mantine-scale));--chip-spacing-sm: calc(.75em * var(--mantine-scale));--chip-spacing-md: calc(1em * var(--mantine-scale));--chip-spacing-lg: calc(1.25em * var(--mantine-scale));--chip-spacing-xl: calc(1.375em * var(--mantine-scale));--chip-size: var(--chip-size-sm);--chip-icon-size: var(--chip-icon-size-sm);--chip-padding: var(--chip-padding-sm);--chip-spacing: var(--chip-spacing-sm);--chip-checked-padding: var(--chip-checked-padding-sm);--chip-bg: var(--mantine-primary-color-filled);--chip-hover: var(--mantine-primary-color-filled-hover);--chip-color: var(--mantine-color-white);--chip-bd: calc(.0625em * var(--mantine-scale)) solid transparent}.m_be049a53{display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--chip-radius, 1000em);height:var(--chip-size);font-size:var(--chip-fz, var(--mantine-font-size-sm));line-height:calc(var(--chip-size) - calc(.125em * var(--mantine-scale)));padding-inline:var(--chip-padding);cursor:pointer;white-space:nowrap;-webkit-tap-highlight-color:transparent;border:calc(.0625em * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}.m_be049a53:where([data-checked]){padding:var(--chip-checked-padding)}.m_be049a53:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-gray-2);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-white);border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-dark-6);border:1px solid var(--mantine-color-dark-4)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-dark-5)}}.m_3904c1af:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);border:var(--chip-bd)}@media (hover: hover){.m_3904c1af:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media (hover: none){.m_3904c1af:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_fa109255:not([data-disabled]),.m_f7e165c3:not([data-disabled]){border:calc(.0625em * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-dark-5)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-dark-4)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-dark-4)}}.m_fa109255:not([data-disabled]):where([data-checked]),.m_f7e165c3:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);color:var(--chip-color);background-color:var(--chip-bg)}@media (hover: hover){.m_fa109255:not([data-disabled]):where([data-checked]):hover,.m_f7e165c3:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media (hover: none){.m_fa109255:not([data-disabled]):where([data-checked]):active,.m_f7e165c3:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_9ac86df9{width:calc(var(--chip-icon-size) + (var(--chip-spacing) / 1.5));max-width:calc(var(--chip-icon-size) + (var(--chip-spacing) / 1.5));height:var(--chip-icon-size);display:flex;align-items:center;overflow:hidden}.m_d6d72580{width:var(--chip-icon-size);height:var(--chip-icon-size);display:block;color:var(--chip-icon-color, inherit)}.m_bde07329{width:0;height:0;padding:0;opacity:0;margin:0}.m_bde07329:focus-visible+.m_be049a53{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_b183c0a2{font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);padding:2px calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);font-size:var(--mantine-font-size-xs);margin:0;overflow:auto}:where([data-mantine-color-scheme=light]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-gray-1));color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-dark-5));color:var(--mantine-color-white)}.m_b183c0a2[data-block]{padding:var(--mantine-spacing-xs)}.m_de3d2490{--cs-size: calc(1.75em * var(--mantine-scale));--cs-radius: calc(62.5em * var(--mantine-scale));-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;line-height:1;position:relative;width:var(--cs-size);height:var(--cs-size);min-width:var(--cs-size);min-height:var(--cs-size);border-radius:var(--cs-radius);color:inherit;text-decoration:none}[data-mantine-color-scheme=light] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-gray-3);--alpha-overlay-bg: var(--mantine-color-white)}[data-mantine-color-scheme=dark] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-dark-4);--alpha-overlay-bg: var(--mantine-color-dark-7)}.m_862f3d1b{position:absolute;inset:0;border-radius:var(--cs-radius)}.m_98ae7f22{position:absolute;inset:0;border-radius:var(--cs-radius);z-index:1;box-shadow:#0000001a 0 0 0 calc(.0625em * var(--mantine-scale)) inset,#00000026 0 0 calc(.25em * var(--mantine-scale)) inset}.m_95709ac0{position:absolute;inset:0;border-radius:var(--cs-radius);background-size:calc(.5em * var(--mantine-scale)) calc(.5em * var(--mantine-scale));background-position:0 0,0 calc(.25em * var(--mantine-scale)),calc(.25em * var(--mantine-scale)) calc(-.25em * var(--mantine-scale)),calc(-.25em * var(--mantine-scale)) 0;background-image:linear-gradient(45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(-45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,var(--alpha-overlay-color) 75%),linear-gradient(-45deg,var(--alpha-overlay-bg) 75%,var(--alpha-overlay-color) 75%)}.m_93e74e3{position:absolute;inset:0;border-radius:var(--cs-radius);z-index:2;display:flex;align-items:center;justify-content:center}.m_fee9c77{--cp-width-xs: calc(11.25em * var(--mantine-scale));--cp-width-sm: calc(12.5em * var(--mantine-scale));--cp-width-md: calc(15em * var(--mantine-scale));--cp-width-lg: calc(17.5em * var(--mantine-scale));--cp-width-xl: calc(20em * var(--mantine-scale));--cp-preview-size-xs: calc(1.625em * var(--mantine-scale));--cp-preview-size-sm: calc(2.125em * var(--mantine-scale));--cp-preview-size-md: calc(2.625em * var(--mantine-scale));--cp-preview-size-lg: calc(3.125em * var(--mantine-scale));--cp-preview-size-xl: calc(3.375em * var(--mantine-scale));--cp-thumb-size-xs: calc(.5em * var(--mantine-scale));--cp-thumb-size-sm: calc(.75em * var(--mantine-scale));--cp-thumb-size-md: calc(1em * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25em * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375em * var(--mantine-scale));--cp-saturation-height-xs: calc(6.25em * var(--mantine-scale));--cp-saturation-height-sm: calc(6.875em * var(--mantine-scale));--cp-saturation-height-md: calc(7.5em * var(--mantine-scale));--cp-saturation-height-lg: calc(8.75em * var(--mantine-scale));--cp-saturation-height-xl: calc(10em * var(--mantine-scale));--cp-preview-size: var(--cp-preview-size-sm);--cp-thumb-size: var(--cp-thumb-size-sm);--cp-saturation-height: var(--cp-saturation-height-sm);--cp-width: var(--cp-width-sm);--cp-body-spacing: var(--mantine-spacing-sm);width:var(--cp-width);padding:calc(.0625em * var(--mantine-scale))}.m_fee9c77:where([data-full-width]){width:100%}.m_9dddfbac{width:var(--cp-preview-size);height:var(--cp-preview-size)}.m_bffecc3e{display:flex;padding-top:calc(var(--cp-body-spacing) / 2)}.m_3283bb96{flex:1}.m_3283bb96:not(:only-child){margin-inline-end:var(--mantine-spacing-xs)}.m_40d572ba{overflow:hidden;position:absolute;box-shadow:0 0 1px #0009;border:2px solid var(--mantine-color-white);width:var(--cp-thumb-size);height:var(--cp-thumb-size);border-radius:var(--cp-thumb-size);left:calc(var(--thumb-x-offset) - var(--cp-thumb-size) / 2);top:calc(var(--thumb-y-offset) - var(--cp-thumb-size) / 2)}.m_d8ee6fd8{height:unset!important;width:unset!important;min-width:0!important;min-height:0!important;margin:calc(.125em * var(--mantine-scale));cursor:pointer;padding-bottom:calc(var(--cp-swatch-size) - calc(.25em * var(--mantine-scale)));flex:0 0 calc(var(--cp-swatch-size) - calc(.25em * var(--mantine-scale)))}.m_5711e686{margin-top:calc(.3125em * var(--mantine-scale));margin-inline:calc(-.125em * var(--mantine-scale));display:flex;flex-wrap:wrap}.m_202a296e{--cp-thumb-size-xs: calc(.5em * var(--mantine-scale));--cp-thumb-size-sm: calc(.75em * var(--mantine-scale));--cp-thumb-size-md: calc(1em * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25em * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375em * var(--mantine-scale));-webkit-tap-highlight-color:transparent;position:relative;height:var(--cp-saturation-height);border-radius:var(--mantine-radius-sm);margin:calc(var(--cp-thumb-size) / 2)}.m_202a296e:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_202a296e:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_11b3db02{position:absolute;border-radius:var(--mantine-radius-sm);inset:calc(var(--cp-thumb-size) * -1 / 2 - calc(.0625em * var(--mantine-scale)))}.m_d856d47d{--cp-thumb-size-xs: calc(.5em * var(--mantine-scale));--cp-thumb-size-sm: calc(.75em * var(--mantine-scale));--cp-thumb-size-md: calc(1em * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25em * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375em * var(--mantine-scale));--cp-thumb-size: var(--cp-thumb-size, calc(.75em * var(--mantine-scale)));position:relative;height:calc(var(--cp-thumb-size) + calc(.125em * var(--mantine-scale)));margin-inline:calc(var(--cp-thumb-size) / 2);outline:none}.m_d856d47d+.m_d856d47d{margin-top:calc(.375em * var(--mantine-scale))}.m_d856d47d:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_d856d47d:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}:where([data-mantine-color-scheme=light]) .m_d856d47d{--slider-checkers: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d856d47d{--slider-checkers: var(--mantine-color-dark-4)}.m_8f327113{position:absolute;top:0;bottom:0;inset-inline:calc(var(--cp-thumb-size) * -1 / 2 - calc(.0625em * var(--mantine-scale)));border-radius:10000em}.m_b077c2bc{--ci-eye-dropper-icon-size-xs: calc(.875em * var(--mantine-scale));--ci-eye-dropper-icon-size-sm: calc(1em * var(--mantine-scale));--ci-eye-dropper-icon-size-md: calc(1.125em * var(--mantine-scale));--ci-eye-dropper-icon-size-lg: calc(1.25em * var(--mantine-scale));--ci-eye-dropper-icon-size-xl: calc(1.375em * var(--mantine-scale));--ci-eye-dropper-icon-size: var(--ci-eye-dropper-icon-size-sm)}.m_c5ccdcab{--ci-preview-size-xs: calc(1em * var(--mantine-scale));--ci-preview-size-sm: calc(1.125em * var(--mantine-scale));--ci-preview-size-md: calc(1.375em * var(--mantine-scale));--ci-preview-size-lg: calc(1.75em * var(--mantine-scale));--ci-preview-size-xl: calc(2.25em * var(--mantine-scale));--ci-preview-size: var(--ci-preview-size-sm)}.m_5ece2cd7{padding:calc(.5em * var(--mantine-scale))}.m_7485cace{--container-size-xs: calc(33.75em * var(--mantine-scale));--container-size-sm: calc(45em * var(--mantine-scale));--container-size-md: calc(60em * var(--mantine-scale));--container-size-lg: calc(71.25em * var(--mantine-scale));--container-size-xl: calc(82.5em * var(--mantine-scale));--container-size: var(--container-size-md);max-width:var(--container-size);padding-inline:var(--mantine-spacing-md);margin-inline:auto}.m_7485cace:where([data-fluid]){max-width:100%}.m_e2125a27{--dialog-size-xs: calc(10em * var(--mantine-scale));--dialog-size-sm: calc(12.5em * var(--mantine-scale));--dialog-size-md: calc(21.25em * var(--mantine-scale));--dialog-size-lg: calc(25em * var(--mantine-scale));--dialog-size-xl: calc(31.25em * var(--mantine-scale));--dialog-size: var(--dialog-size-md);position:relative;width:var(--dialog-size);max-width:calc(100vw - var(--mantine-spacing-xl) * 2);min-height:calc(3.125em * var(--mantine-scale))}.m_5abab665{position:absolute;top:calc(var(--mantine-spacing-md) / 2);inset-inline-end:calc(var(--mantine-spacing-md) / 2)}.m_3eebeb36{--divider-size-xs: calc(.0625em * var(--mantine-scale));--divider-size-sm: calc(.125em * var(--mantine-scale));--divider-size-md: calc(.1875em * var(--mantine-scale));--divider-size-lg: calc(.25em * var(--mantine-scale));--divider-size-xl: calc(.3125em * var(--mantine-scale));--divider-size: var(--divider-size-xs)}:where([data-mantine-color-scheme=light]) .m_3eebeb36{--divider-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3eebeb36{--divider-color: var(--mantine-color-dark-4)}.m_3eebeb36:where([data-orientation=horizontal]){border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color)}.m_3eebeb36:where([data-orientation=vertical]){border-inline-start:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);height:auto;align-self:stretch}.m_3eebeb36:where([data-with-label]){border:0}.m_9e365f20{display:flex;align-items:center;font-size:var(--mantine-font-size-xs);color:var(--mantine-color-dimmed);white-space:nowrap}.m_9e365f20:where([data-position=left]):before{display:none}.m_9e365f20:where([data-position=right]):after{display:none}.m_9e365f20:before{content:"";flex:1;height:calc(.0625em * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-end:var(--mantine-spacing-xs)}.m_9e365f20:after{content:"";flex:1;height:calc(.0625em * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-start:var(--mantine-spacing-xs)}.m_f11b401e{--drawer-size-xs: calc(20em * var(--mantine-scale));--drawer-size-sm: calc(23.75em * var(--mantine-scale));--drawer-size-md: calc(27.5em * var(--mantine-scale));--drawer-size-lg: calc(38.75em * var(--mantine-scale));--drawer-size-xl: calc(48.75em * var(--mantine-scale));--drawer-size: var(--drawer-size-md);--drawer-offset: 0em}.m_5a7c2c9{z-index:1000}.m_b8a05bbd{flex:var(--drawer-flex, 0 0 var(--drawer-size));height:var(--drawer-height, calc(100% - var(--drawer-offset) * 2));margin:var(--drawer-offset);max-width:calc(100% - var(--drawer-offset) * 2);max-height:calc(100% - var(--drawer-offset) * 2);overflow-y:auto}.m_b8a05bbd[data-hidden]{opacity:0!important;pointer-events:none}.m_31cd769a{display:flex;justify-content:var(--drawer-justify, flex-start);align-items:var(--drawer-align, flex-start)}.m_e9408a47{padding:var(--mantine-spacing-lg);padding-top:var(--mantine-spacing-xs);border-radius:var(--fieldset-radius, var(--mantine-radius-default));min-inline-size:auto}.m_84c9523a{border:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_84c9523a{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_84c9523a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-7)}.m_ef274e49{border:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_ef274e49{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_ef274e49{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_eda993d3{padding:0;border:0;border-radius:0}.m_90794832{font-size:var(--mantine-font-size-sm)}.m_74ca27fe{padding:0;margin-bottom:var(--mantine-spacing-sm)}.m_8478a6da{container:mantine-grid / inline-size}.m_410352e9{--grid-overflow: visible;--grid-margin: calc(var(--grid-gutter) / -2);--grid-col-padding: calc(var(--grid-gutter) / 2);overflow:var(--grid-overflow)}.m_dee7bd2f{width:calc(100% + var(--grid-gutter));display:flex;flex-wrap:wrap;justify-content:var(--grid-justify);align-items:var(--grid-align);margin:var(--grid-margin)}.m_96bdd299{--col-flex-grow: 0;--col-offset: 0em;flex-shrink:0;order:var(--col-order);flex-basis:var(--col-flex-basis);width:var(--col-width);max-width:var(--col-max-width);flex-grow:var(--col-flex-grow);margin-inline-start:var(--col-offset);padding:var(--grid-col-padding)}.m_bcb3f3c2{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=light]) .m_bcb3f3c2{background-color:var(--mark-bg-light)}:where([data-mantine-color-scheme=dark]) .m_bcb3f3c2{background-color:var(--mark-bg-dark)}.m_9e117634{display:block;flex:0;-o-object-fit:var(--image-object-fit, cover);object-fit:var(--image-object-fit, cover);width:100%;border-radius:var(--image-radius, 0)}@keyframes m_885901b1{0%{opacity:.6;transform:scale(0)}to{opacity:0;transform:scale(2.8)}}.m_e5262200{--indicator-size: calc(.625em * var(--mantine-scale));--indicator-color: var(--mantine-primary-color-filled);position:relative;display:block}.m_e5262200:where([data-inline]){display:inline-block}.m_760d1fb1{position:absolute;top:var(--indicator-top);left:var(--indicator-left);right:var(--indicator-right);bottom:var(--indicator-bottom);transform:translate(var(--indicator-translate-x),var(--indicator-translate-y));min-width:var(--indicator-size);height:var(--indicator-size);border-radius:var(--indicator-radius, 1000em);z-index:var(--indicator-z-index, 200);display:flex;align-items:center;justify-content:center;font-size:var(--mantine-font-size-xs);background-color:var(--indicator-color);color:var(--indicator-text-color, var(--mantine-color-white));white-space:nowrap}.m_760d1fb1:before{content:"";position:absolute;inset:0;background-color:var(--indicator-color);border-radius:var(--indicator-radius, 1000em);z-index:-1}.m_760d1fb1:where([data-with-label]){padding-inline:calc(var(--mantine-spacing-xs) / 2)}.m_760d1fb1:where([data-with-border]){border:2px solid var(--mantine-color-body)}.m_760d1fb1[data-processing]:before{animation:m_885901b1 1s linear infinite}.m_dc6f14e2{--kbd-fz-xs: calc(.625em * var(--mantine-scale));--kbd-fz-sm: calc(.75em * var(--mantine-scale));--kbd-fz-md: calc(.875em * var(--mantine-scale));--kbd-fz-lg: calc(1em * var(--mantine-scale));--kbd-fz-xl: calc(1.25em * var(--mantine-scale));--kbd-fz: var(--kbd-fz-sm);--kbd-padding-xs: calc(.125em * var(--mantine-scale)) calc(.25em * var(--mantine-scale));--kbd-padding-sm: calc(.1875em * var(--mantine-scale)) calc(.3125em * var(--mantine-scale));--kbd-padding-md: calc(.25em * var(--mantine-scale)) calc(.4375em * var(--mantine-scale));--kbd-padding-lg: calc(.3125em * var(--mantine-scale)) calc(.5625em * var(--mantine-scale));--kbd-padding-xl: calc(.5em * var(--mantine-scale)) calc(.875em * var(--mantine-scale));--kbd-padding: var(--kbd-padding-sm);font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625em * var(--mantine-scale)) solid;border-bottom-width:calc(.1875em * var(--mantine-scale));unicode-bidi:embed}:where([data-mantine-color-scheme=light]) .m_dc6f14e2{border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_dc6f14e2{border-color:var(--mantine-color-dark-4);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-6)}.m_abbac491{--list-fz: var(--mantine-font-size-md);--list-lh: var(--mantine-line-height-md);list-style-position:inside;font-size:var(--list-fz);line-height:var(--list-lh);margin:0;padding:0}.m_abbac491:where([data-with-padding]){padding-inline-start:var(--mantine-spacing-md)}.m_abb6bec2{white-space:nowrap;line-height:var(--list-lh)}.m_abb6bec2:where([data-with-icon]){list-style:none}.m_abb6bec2:where([data-with-icon]) .m_75cd9f71{--li-direction: row;--li-align: center}.m_abb6bec2:where(:not(:first-of-type)){margin-top:var(--list-spacing, 0)}.m_abb6bec2:where([data-centered]){line-height:1}.m_75cd9f71{display:inline-flex;flex-direction:var(--li-direction, column);align-items:var(--li-align, flex-start);white-space:normal}.m_60f83e5b{display:inline-block;vertical-align:middle;margin-inline-end:var(--mantine-spacing-sm)}.m_6e45937b{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:var(--lo-z-index)}.m_e8eb006c{position:relative;z-index:calc(var(--lo-z-index) + 1)}.m_df587f17{z-index:var(--lo-z-index)}.m_dc9b7c9f{padding:calc(.25em * var(--mantine-scale))}.m_9bfac126{color:var(--mantine-color-dimmed);font-weight:500;font-size:var(--mantine-font-size-xs);padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-sm);cursor:default}.m_efdf90cb{margin-top:calc(.25em * var(--mantine-scale));margin-bottom:calc(.25em * var(--mantine-scale));border-top:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_efdf90cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_efdf90cb{border-color:var(--mantine-color-dark-4)}.m_99ac2aa1{font-size:var(--mantine-font-size-sm);width:100%;padding:calc(var(--mantine-spacing-xs) / 1.5) var(--mantine-spacing-sm);border-radius:var(--popover-radius, var(--mantine-radius-default));color:var(--menu-item-color, var(--mantine-color-text));display:flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_99ac2aa1:where([data-disabled],:disabled){color:var(--mantine-color-dimmed);opacity:.6;cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover, var(--mantine-color-gray-1))}:where([data-mantine-color-scheme=dark]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover, var(--mantine-color-dark-4))}.m_5476e0d3{flex:1}.m_8b75e504{display:flex;justify-content:center;align-items:center}.m_8b75e504:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_8b75e504:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_9df02822{--modal-size-xs: calc(20em * var(--mantine-scale));--modal-size-sm: calc(23.75em * var(--mantine-scale));--modal-size-md: calc(27.5em * var(--mantine-scale));--modal-size-lg: calc(38.75em * var(--mantine-scale));--modal-size-xl: calc(48.75em * var(--mantine-scale));--modal-size: var(--modal-size-md);--modal-y-offset: 5dvh;--modal-x-offset: 5vw}.m_9df02822[data-full-screen]{--modal-border-radius: 0 !important}.m_9df02822[data-full-screen] .m_54c44539{--modal-content-flex: 0 0 100%;--modal-content-max-height: auto;--modal-content-height: 100dvh}.m_9df02822[data-full-screen] .m_1f958f16{--modal-inner-y-offset: 0;--modal-inner-x-offset: 0}.m_9df02822[data-centered] .m_1f958f16{--modal-inner-align: center}.m_d0e2b9cd{border-start-start-radius:var(--modal-radius, var(--mantine-radius-default));border-start-end-radius:var(--modal-radius, var(--mantine-radius-default))}.m_54c44539{flex:var(--modal-content-flex, 0 0 var(--modal-size));max-width:100%;max-height:var(--modal-content-max-height, calc(100dvh - var(--modal-y-offset) * 2));height:var(--modal-content-height, auto);overflow-y:auto}.m_54c44539[data-full-screen]{border-radius:0}.m_54c44539[data-hidden]{opacity:0!important;pointer-events:none}.m_1f958f16{display:flex;justify-content:center;align-items:var(--modal-inner-align, flex-start);padding-top:var(--modal-inner-y-offset, var(--modal-y-offset));padding-bottom:var(--modal-inner-y-offset, var(--modal-y-offset));padding-inline:var(--modal-inner-x-offset, var(--modal-x-offset))}.m_7cda1cd6{--pill-fz-xs: calc(.625em * var(--mantine-scale));--pill-fz-sm: calc(.75em * var(--mantine-scale));--pill-fz-md: calc(.875em * var(--mantine-scale));--pill-fz-lg: calc(1em * var(--mantine-scale));--pill-fz-xl: calc(1.125em * var(--mantine-scale));--pill-height-xs: calc(1.125em * var(--mantine-scale));--pill-height-sm: calc(1.375em * var(--mantine-scale));--pill-height-md: calc(1.5625em * var(--mantine-scale));--pill-height-lg: calc(1.75em * var(--mantine-scale));--pill-height-xl: calc(2em * var(--mantine-scale));--pill-fz: var(--pill-fz-sm);--pill-height: var(--pill-height-sm);font-size:var(--pill-fz);flex:0;height:var(--pill-height);padding-inline:.8em;display:inline-flex;align-items:center;border-radius:var(--pill-radius, 1000em);line-height:1;white-space:nowrap;-moz-user-select:none;user-select:none;-webkit-user-select:none;max-width:100%}:where([data-mantine-color-scheme=dark]) .m_7cda1cd6{background-color:var(--mantine-color-dark-7);color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_7cda1cd6{color:var(--mantine-color-black)}.m_7cda1cd6:where([data-with-remove]:not(:has(button:disabled))){padding-inline-end:0}.m_7cda1cd6:where([data-disabled],:has(button:disabled)){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_44da308b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=light]) .m_44da308b:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=light]) .m_e3a01f8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=light]) .m_e3a01f8:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}.m_1e0e6180{cursor:inherit;overflow:hidden;height:100%;line-height:var(--pill-height);text-overflow:ellipsis}.m_ae386778{color:inherit;font-size:inherit;height:100%;min-height:unset;min-width:2em;width:unset;border-radius:0;padding-inline-start:.1em;padding-inline-end:.3em;flex:0;border-end-end-radius:var(--pill-radius, 50%);border-start-end-radius:var(--pill-radius, 50%)}.m_7cda1cd6[data-disabled]>.m_ae386778,.m_ae386778:disabled{display:none;background-color:transparent;width:.8em;min-width:.8em;padding:0;cursor:not-allowed}.m_7cda1cd6[data-disabled]>.m_ae386778>svg,.m_ae386778:disabled>svg{display:none}.m_ae386778>svg{pointer-events:none}.m_1dcfd90b{--pg-gap-xs: calc(.375em * var(--mantine-scale));--pg-gap-sm: calc(.5em * var(--mantine-scale));--pg-gap-md: calc(.625em * var(--mantine-scale));--pg-gap-lg: calc(.75em * var(--mantine-scale));--pg-gap-xl: calc(.75em * var(--mantine-scale));--pg-gap: var(--pg-gap-sm);display:flex;align-items:center;gap:var(--pg-gap);flex-wrap:wrap}.m_45c4369d{background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;min-width:calc(6.25em * var(--mantine-scale));flex:1;border:0;font-size:inherit;height:1.6em;color:inherit;padding:0}.m_45c4369d::-moz-placeholder{color:var(--input-placeholder-color);opacity:1}.m_45c4369d::placeholder{color:var(--input-placeholder-color);opacity:1}.m_45c4369d:where([data-type=hidden],[data-type=auto]){height:calc(.0625em * var(--mantine-scale));width:calc(.0625em * var(--mantine-scale));top:0;left:0;pointer-events:none;position:absolute;opacity:0}.m_45c4369d:focus{outline:none}.m_45c4369d:where([data-type=auto]:focus){height:1.6em;visibility:visible;opacity:1;position:static}.m_45c4369d:where([data-pointer]:not([data-disabled],:disabled)){cursor:pointer}.m_45c4369d:where([data-disabled],:disabled){cursor:not-allowed}.m_f0824112{--nl-bg: var(--mantine-primary-color-light);--nl-hover: var(--mantine-primary-color-light-hover);--nl-color: var(--mantine-primary-color-light-color);display:flex;align-items:center;width:100%;padding:8px var(--mantine-spacing-sm);-webkit-user-select:none;-moz-user-select:none;user-select:none}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_f0824112:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_f0824112:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:active{background-color:var(--mantine-color-dark-6)}}.m_f0824112:where([data-disabled]){opacity:.4;pointer-events:none}.m_f0824112:where([data-active],[aria-current=page]){background-color:var(--nl-bg);color:var(--nl-color)}@media (hover: hover){.m_f0824112:where([data-active],[aria-current=page]):hover{background-color:var(--nl-hover)}}@media (hover: none){.m_f0824112:where([data-active],[aria-current=page]):active{background-color:var(--nl-hover)}}.m_f0824112:where([data-active],[aria-current=page]) .m_57492dcc{--description-opacity: .9;--description-color: var(--nl-color)}.m_690090b5{display:flex;align-items:center;justify-content:center;transition:transform .15s ease}.m_690090b5>svg{display:block}.m_690090b5:where([data-position=left]){margin-inline-end:var(--mantine-spacing-sm)}.m_690090b5:where([data-position=right]){margin-inline-start:var(--mantine-spacing-sm)}.m_690090b5:where([data-rotate]){transform:rotate(90deg)}.m_1f6ac4c4{font-size:var(--mantine-font-size-sm)}.m_f07af9d2{flex:1;overflow:hidden;text-overflow:ellipsis}.m_f07af9d2:where([data-no-wrap]){white-space:nowrap}.m_57492dcc{display:block;font-size:var(--mantine-font-size-xs);opacity:var(--description-opacity, 1);color:var(--description-color, var(--mantine-color-dimmed));overflow:hidden;text-overflow:ellipsis}:where([data-no-wrap]) .m_57492dcc{white-space:nowrap}.m_e17b862f{padding-inline-start:var(--nl-offset, var(--mantine-spacing-lg))}.m_1fd8a00b{transform:rotate(-90deg)}.m_a513464{--notification-radius: var(--mantine-radius-default);--notification-color: var(--mantine-primary-color-filled);overflow:hidden;box-sizing:border-box;position:relative;display:flex;align-items:center;padding-inline-start:calc(1.375em * var(--mantine-scale));padding-inline-end:var(--mantine-spacing-xs);padding-top:var(--mantine-spacing-xs);padding-bottom:var(--mantine-spacing-xs);border-radius:var(--notification-radius);box-shadow:var(--mantine-shadow-lg)}.m_a513464:before{content:"";display:block;position:absolute;width:calc(.375em * var(--mantine-scale));top:var(--notification-radius);bottom:var(--notification-radius);inset-inline-start:calc(.25em * var(--mantine-scale));border-radius:var(--notification-radius);background-color:var(--notification-color)}:where([data-mantine-color-scheme=light]) .m_a513464{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_a513464{background-color:var(--mantine-color-dark-6)}.m_a513464:where([data-with-icon]){padding-inline-start:var(--mantine-spacing-xs)}.m_a513464:where([data-with-icon]):before{display:none}:where([data-mantine-color-scheme=light]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-dark-4)}.m_a4ceffb{box-sizing:border-box;margin-inline-end:var(--mantine-spacing-md);width:calc(1.75em * var(--mantine-scale));height:calc(1.75em * var(--mantine-scale));border-radius:calc(1.75em * var(--mantine-scale));display:flex;align-items:center;justify-content:center;background-color:var(--notification-color);color:var(--mantine-color-white)}.m_b0920b15{margin-inline-end:var(--mantine-spacing-md)}.m_a49ed24{flex:1;overflow:hidden;margin-inline-end:var(--mantine-spacing-xs)}.m_3feedf16{margin-bottom:calc(.125em * var(--mantine-scale));overflow:hidden;text-overflow:ellipsis;font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);font-weight:500}:where([data-mantine-color-scheme=light]) .m_3feedf16{color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_3feedf16{color:var(--mantine-color-white)}.m_3d733a3a{font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);overflow:hidden;text-overflow:ellipsis}:where([data-mantine-color-scheme=light]) .m_3d733a3a{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a{color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-dark-2)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_919a4d88:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:hover{background-color:var(--mantine-color-dark-8)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_919a4d88:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:active{background-color:var(--mantine-color-dark-8)}}.m_e2f5cd4e{--ni-right-section-width-xs: calc(1.0625em * var(--mantine-scale));--ni-right-section-width-sm: calc(1.5em * var(--mantine-scale));--ni-right-section-width-md: calc(1.6875em * var(--mantine-scale));--ni-right-section-width-lg: calc(1.9375em * var(--mantine-scale));--ni-right-section-width-xl: calc(2.125em * var(--mantine-scale))}.m_95e17d22{--ni-chevron-size-xs: calc(.625em * var(--mantine-scale));--ni-chevron-size-sm: calc(.875em * var(--mantine-scale));--ni-chevron-size-md: calc(1em * var(--mantine-scale));--ni-chevron-size-lg: calc(1.125em * var(--mantine-scale));--ni-chevron-size-xl: calc(1.25em * var(--mantine-scale));--ni-chevron-size: var(--ni-chevron-size-sm);display:flex;flex-direction:column;width:100%;height:calc(var(--input-height) - calc(.125em * var(--mantine-scale)));max-width:calc(var(--ni-chevron-size) * 1.7);margin-inline-start:auto}.m_80b4b171{--control-border: 1px solid var(--input-bd);--control-radius: calc(var(--input-radius) - calc(.0625em * var(--mantine-scale)));flex:0 0 50%;width:100%;padding:0;height:calc(var(--input-height) / 2 - calc(.0625em * var(--mantine-scale)));border-inline-start:var(--control-border);display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text);background-color:transparent;cursor:pointer}.m_80b4b171:where(:disabled){background-color:transparent;cursor:not-allowed;opacity:.6}:where([data-mantine-color-scheme=light]) .m_80b4b171:where(:disabled){color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:where(:disabled){color:var(--mantine-color-dark-3)}.m_e2f5cd4e[data-error] :where(.m_80b4b171){color:var(--mantine-color-error)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_80b4b171:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:hover{background-color:var(--mantine-color-dark-4)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_80b4b171:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:active{background-color:var(--mantine-color-dark-4)}}.m_80b4b171:where(:first-of-type){border-radius:0;border-start-end-radius:var(--control-radius)}.m_80b4b171:last-of-type{border-radius:0;border-end-end-radius:var(--control-radius)}.m_4addd315{--pagination-control-size-xs: calc(1.375em * var(--mantine-scale));--pagination-control-size-sm: calc(1.625em * var(--mantine-scale));--pagination-control-size-md: calc(2em * var(--mantine-scale));--pagination-control-size-lg: calc(2.375em * var(--mantine-scale));--pagination-control-size-xl: calc(2.75em * var(--mantine-scale));--pagination-control-size: var(--pagination-control-size-md);--pagination-control-fz: var(--mantine-font-size-md);--pagination-active-bg: var(--mantine-primary-color-filled)}.m_326d024a{display:flex;align-items:center;justify-content:center;border:calc(.0625em * var(--mantine-scale)) solid;cursor:pointer;color:var(--mantine-color-text);height:var(--pagination-control-size);min-width:var(--pagination-control-size);font-size:var(--pagination-control-fz);line-height:1;border-radius:var(--pagination-control-radius, var(--mantine-radius-default))}.m_326d024a:where([data-with-padding]){padding:calc(var(--pagination-control-size) / 4)}.m_326d024a:where(:disabled,[data-disabled]){cursor:not-allowed;opacity:.4}:where([data-mantine-color-scheme=light]) .m_326d024a{border-color:var(--mantine-color-gray-4);background-color:var(--mantine-color-white)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}:where([data-mantine-color-scheme=dark]) .m_326d024a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}@media (hover: hover){:where([data-mantine-color-scheme=dark]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=dark]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}.m_326d024a:where([data-active]){background-color:var(--pagination-active-bg);border-color:var(--pagination-active-bg);color:var(--pagination-active-color, var(--mantine-color-white))}@media (hover: hover){.m_326d024a:where([data-active]):hover{background-color:var(--pagination-active-bg)}}@media (hover: none){.m_326d024a:where([data-active]):active{background-color:var(--pagination-active-bg)}}.m_4ad7767d{height:var(--pagination-control-size);min-width:var(--pagination-control-size);display:flex;align-items:center;justify-content:center;pointer-events:none}.m_f61ca620{--psi-button-size-xs: calc(1.375em * var(--mantine-scale));--psi-button-size-sm: calc(1.625em * var(--mantine-scale));--psi-button-size-md: calc(1.75em * var(--mantine-scale));--psi-button-size-lg: calc(2em * var(--mantine-scale));--psi-button-size-xl: calc(2.5em * var(--mantine-scale));--psi-icon-size-xs: calc(.75em * var(--mantine-scale));--psi-icon-size-sm: calc(.9375em * var(--mantine-scale));--psi-icon-size-md: calc(1.0625em * var(--mantine-scale));--psi-icon-size-lg: calc(1.1875em * var(--mantine-scale));--psi-icon-size-xl: calc(1.3125em * var(--mantine-scale));--psi-button-size: var(--psi-button-size-sm);--psi-icon-size: var(--psi-icon-size-sm)}.m_ccf8da4c{position:relative;overflow:hidden}.m_f2d85dd2{font-family:var(--mantine-font-family);background-color:transparent;border:0;padding-inline-end:var(--input-padding-inline-end);padding-inline-start:var(--input-padding-inline-start);position:absolute;inset:0;outline:0;font-size:inherit;line-height:var(--mantine-line-height);height:100%;width:100%;color:inherit}.m_ccf8da4c[data-disabled] .m_f2d85dd2,.m_f2d85dd2:disabled{cursor:not-allowed}.m_f2d85dd2::-moz-placeholder{color:var(--input-placeholder-color);opacity:1}.m_f2d85dd2::placeholder{color:var(--input-placeholder-color);opacity:1}.m_f2d85dd2::-ms-reveal{display:none}.m_b1072d44{width:var(--psi-button-size);height:var(--psi-button-size);min-width:var(--psi-button-size);min-height:var(--psi-button-size)}.m_b1072d44:disabled{display:none}.m_f1cb205a{--pin-input-size-xs: calc(1.875em * var(--mantine-scale));--pin-input-size-sm: calc(2.25em * var(--mantine-scale));--pin-input-size-md: calc(2.625em * var(--mantine-scale));--pin-input-size-lg: calc(3.125em * var(--mantine-scale));--pin-input-size-xl: calc(3.75em * var(--mantine-scale));--pin-input-size: var(--pin-input-size-sm)}.m_cb288ead{width:var(--pin-input-size);height:var(--pin-input-size)}@keyframes m_81a374bd{0%{background-position:0 0}to{background-position:calc(2.5em * var(--mantine-scale)) 0}}.m_db6d6462{--progress-radius: var(--mantine-radius-default);--progress-size: var(--progress-size-md);--progress-size-xs: calc(.1875em * var(--mantine-scale));--progress-size-sm: calc(.3125em * var(--mantine-scale));--progress-size-md: calc(.5em * var(--mantine-scale));--progress-size-lg: calc(.75em * var(--mantine-scale));--progress-size-xl: calc(1em * var(--mantine-scale));position:relative;height:var(--progress-size);border-radius:var(--progress-radius);overflow:hidden;display:flex}:where([data-mantine-color-scheme=light]) .m_db6d6462{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_db6d6462{background-color:var(--mantine-color-dark-4)}.m_2242eb65{background-color:var(--progress-section-color);height:100%;width:var(--progress-section-width);display:flex;align-items:center;justify-content:center;overflow:hidden;background-size:calc(1.25em * var(--mantine-scale)) calc(1.25em * var(--mantine-scale));transition:width var(--progress-transition-duration, .1s) ease}.m_2242eb65:where([data-striped]){background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.m_2242eb65:where([data-animated]){animation:m_81a374bd 1s linear infinite}.m_2242eb65:where(:last-of-type){border-radius:0;border-start-end-radius:var(--progress-radius);border-end-end-radius:var(--progress-radius)}.m_2242eb65:where(:first-of-type){border-radius:0;border-start-start-radius:var(--progress-radius);border-end-start-radius:var(--progress-radius)}.m_91e40b74{color:var(--progress-label-color, var(--mantine-color-white));font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:min(calc(var(--progress-size) * .65),calc(1.125em * var(--mantine-scale)));line-height:1;padding-inline:calc(.25em * var(--mantine-scale))}.m_9dc8ae12{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_9dc8ae12 :where(*){cursor:inherit}.m_9dc8ae12:where([data-with-border]){border:calc(.0625em * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_717d7ff6{--radio-size-xs: calc(1em * var(--mantine-scale));--radio-size-sm: calc(1.25em * var(--mantine-scale));--radio-size-md: calc(1.5em * var(--mantine-scale));--radio-size-lg: calc(1.875em * var(--mantine-scale));--radio-size-xl: calc(2.25em * var(--mantine-scale));--radio-icon-size-xs: calc(.375em * var(--mantine-scale));--radio-icon-size-sm: calc(.5em * var(--mantine-scale));--radio-icon-size-md: calc(.625em * var(--mantine-scale));--radio-icon-size-lg: calc(.875em * var(--mantine-scale));--radio-icon-size-xl: calc(1em * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-size: var(--radio-size-sm);--radio-color: var(--mantine-primary-color-filled);--radio-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625em * var(--mantine-scale)) solid transparent;width:var(--radio-size);min-width:var(--radio-size);height:var(--radio-size);min-height:var(--radio-size);border-radius:var(--radio-radius, 10000px);transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_717d7ff6{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_717d7ff6[data-indeterminate],.m_717d7ff6[data-checked]{background-color:var(--radio-color);border-color:var(--radio-color)}.m_717d7ff6[data-indeterminate]>.m_3e4da632,.m_717d7ff6[data-checked]>.m_3e4da632{opacity:1;transform:none;color:var(--radio-icon-color)}.m_717d7ff6[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-dark-3)}.m_2980836c[data-indeterminate]:not([data-disabled]),.m_2980836c[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--radio-color)}.m_2980836c[data-indeterminate]:not([data-disabled])>.m_3e4da632,.m_2980836c[data-checked]:not([data-disabled])>.m_3e4da632{color:var(--radio-color);opacity:1;transform:none}.m_3e4da632{display:block;width:var(--radio-icon-size);height:var(--radio-icon-size);color:transparent;pointer-events:none;transform:translateY(calc(.3125em * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_f3f1af94{--radio-size-xs: calc(1em * var(--mantine-scale));--radio-size-sm: calc(1.25em * var(--mantine-scale));--radio-size-md: calc(1.5em * var(--mantine-scale));--radio-size-lg: calc(1.875em * var(--mantine-scale));--radio-size-xl: calc(2.25em * var(--mantine-scale));--radio-size: var(--radio-size-sm);--radio-icon-size-xs: calc(.375em * var(--mantine-scale));--radio-icon-size-sm: calc(.5em * var(--mantine-scale));--radio-icon-size-md: calc(.625em * var(--mantine-scale));--radio-icon-size-lg: calc(.875em * var(--mantine-scale));--radio-icon-size-xl: calc(1em * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-icon-color: var(--mantine-color-white)}.m_89c4f5e4{position:relative;width:var(--radio-size);height:var(--radio-size);order:1}.m_89c4f5e4:where([data-label-position=left]){order:2}.m_f3ed6b2b{color:var(--radio-icon-color);opacity:var(--radio-icon-opacity, 0);transform:var(--radio-icon-transform, scale(.2) translateY(calc(.625em * var(--mantine-scale))));transition:opacity .1s ease,transform .2s ease;pointer-events:none;width:var(--radio-icon-size);height:var(--radio-icon-size);position:absolute;top:calc(50% - var(--radio-icon-size) / 2);left:calc(50% - var(--radio-icon-size) / 2)}.m_8a3dbb89{border:calc(.0625em * var(--mantine-scale)) solid;position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--radio-size);height:var(--radio-size);border-radius:var(--radio-radius, var(--radio-size));margin:0;display:flex;align-items:center;justify-content:center;transition-property:background-color,border-color;transition-timing-function:ease;transition-duration:.1s;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_8a3dbb89{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_8a3dbb89:checked{background-color:var(--radio-color, var(--mantine-primary-color-filled));border-color:var(--radio-color, var(--mantine-primary-color-filled))}.m_8a3dbb89:checked+.m_f3ed6b2b{--radio-icon-opacity: 1;--radio-icon-transform: scale(1)}.m_8a3dbb89:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-gray-1);border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-dark-7)}.m_8a3dbb89:where([data-error]){border-color:var(--mantine-color-error)}.m_1bfe9d39+.m_f3ed6b2b{--radio-icon-color: var(--radio-color)}.m_1bfe9d39:checked:not(:disabled){background-color:transparent;border-color:var(--radio-color)}.m_1bfe9d39:checked:not(:disabled)+.m_f3ed6b2b{--radio-icon-color: var(--radio-color);--radio-icon-opacity: 1;--radio-icon-transform: none}.m_f8d312f2{--rating-size-xs: calc(.875em * var(--mantine-scale));--rating-size-sm: calc(1.125em * var(--mantine-scale));--rating-size-md: calc(1.25em * var(--mantine-scale));--rating-size-lg: calc(1.75em * var(--mantine-scale));--rating-size-xl: calc(2em * var(--mantine-scale));display:flex;width:-moz-max-content;width:max-content}.m_f8d312f2:where(:has(input:disabled)){pointer-events:none}.m_61734bb7{position:relative;transition:transform .1s ease}.m_61734bb7:where([data-active]){z-index:1;transform:scale(1.1)}.m_5662a89a{width:var(--rating-size);height:var(--rating-size);display:block}:where([data-mantine-color-scheme=light]) .m_5662a89a{fill:var(--mantine-color-gray-3);stroke:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5662a89a{fill:var(--mantine-color-dark-3);stroke:var(--mantine-color-dark-3)}.m_5662a89a:where([data-filled]){fill:var(--rating-color);stroke:var(--rating-color)}.m_211007ba{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0;-webkit-tap-highlight-color:transparent}.m_211007ba:focus-visible+label{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_21342ee4{display:block;cursor:pointer;position:absolute;top:0;left:0;z-index:var(--rating-item-z-index, 0);-webkit-tap-highlight-color:transparent}.m_21342ee4:where([data-read-only]){cursor:default}.m_21342ee4:where(:last-of-type){position:relative}.m_fae05d6a{clip-path:var(--rating-symbol-clip-path)}.m_1b3c8819{--tooltip-radius: var(--mantine-radius-default);position:absolute;padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-xs);pointer-events:none;font-size:var(--mantine-font-size-sm);white-space:nowrap;border-radius:var(--tooltip-radius)}:where([data-mantine-color-scheme=light]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-9));color:var(--tooltip-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-2));color:var(--tooltip-color, var(--mantine-color-black))}.m_1b3c8819:where([data-multiline]){white-space:normal}.m_1b3c8819:where([data-fixed]){position:fixed}.m_f898399f{background-color:inherit;border:0;z-index:1}.m_b32e4812{position:relative;width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);--rp-transition-duration: 0ms}.m_d43b5134{width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);transform:rotate(-90deg)}.m_b1ca1fbf{stroke:var(--curve-color, var(--rp-curve-root-color));transition:stroke-dashoffset var(--rp-transition-duration) ease,stroke-dasharray var(--rp-transition-duration) ease,stroke var(--rp-transition-duration)}[data-mantine-color-scheme=light] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-dark-4)}.m_b23f9dc4{position:absolute;top:50%;transform:translateY(-50%);inset-inline:var(--rp-label-offset)}.m_cf365364{--sc-padding-xs: calc(.1875em * var(--mantine-scale)) calc(.375em * var(--mantine-scale));--sc-padding-sm: calc(.3125em * var(--mantine-scale)) calc(.625em * var(--mantine-scale));--sc-padding-md: calc(.4375em * var(--mantine-scale)) calc(.875em * var(--mantine-scale));--sc-padding-lg: calc(.5625em * var(--mantine-scale)) calc(1em * var(--mantine-scale));--sc-padding-xl: calc(.75em * var(--mantine-scale)) calc(1.25em * var(--mantine-scale));--sc-transition-duration: .2s;--sc-padding: var(--sc-padding-sm);--sc-transition-timing-function: ease;--sc-font-size: var(--mantine-font-size-sm);position:relative;display:inline-flex;flex-direction:row;width:auto;border-radius:var(--sc-radius, var(--mantine-radius-default));overflow:hidden;padding:calc(.25em * var(--mantine-scale))}.m_cf365364:where([data-full-width]){display:flex}.m_cf365364:where([data-orientation=vertical]){display:flex;flex-direction:column;width:-moz-max-content;width:max-content}.m_cf365364:where([data-orientation=vertical]):where([data-full-width]){width:auto}:where([data-mantine-color-scheme=light]) .m_cf365364{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_cf365364{background-color:var(--mantine-color-dark-8)}.m_9e182ccd{position:absolute;display:block;z-index:1;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_9e182ccd{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_9e182ccd{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}.m_1738fcb2{-webkit-tap-highlight-color:transparent;font-weight:500;display:block;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--sc-radius, var(--mantine-radius-default));font-size:var(--sc-font-size);padding:var(--sc-padding);transition:color var(--sc-transition-duration) var(--sc-transition-timing-function);cursor:pointer;outline:var(--segmented-control-outline, none)}:where([data-mantine-color-scheme=light]) .m_1738fcb2{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2{color:var(--mantine-color-dark-1)}.m_1738fcb2:where([data-read-only]){cursor:default}fieldset:disabled .m_1738fcb2,.m_1738fcb2:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-black))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-white))}.m_cf365364:where([data-initialized]) .m_1738fcb2:where([data-active]):before{display:none}.m_1738fcb2:where([data-active]):before{content:"";inset:0;z-index:0;position:absolute;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]):before{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]):before{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-white)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-white)}}@media (hover: hover){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-dark-3)!important}}@media (hover: none){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-dark-3)!important}}.m_1714d588{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0}.m_1714d588[data-focus-ring=auto]:focus:focus-visible+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_1714d588[data-focus-ring=always]:focus+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_69686b9b{position:relative;flex:1;z-index:2;transition:border-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_cf365364[data-with-items-borders] :where(.m_69686b9b):before{content:"";position:absolute;top:0;bottom:0;inset-inline-start:0;background-color:var(--separator-color);width:calc(.0625em * var(--mantine-scale));transition:background-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_69686b9b[data-orientation=vertical]:before{top:0;inset-inline:0;bottom:auto;height:calc(.0625em * var(--mantine-scale));width:auto}:where([data-mantine-color-scheme=light]) .m_69686b9b{--separator-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_69686b9b{--separator-color: var(--mantine-color-dark-4)}.m_69686b9b:first-of-type:before{--separator-color: transparent}[data-mantine-color-scheme] .m_69686b9b[data-active]:before,[data-mantine-color-scheme] .m_69686b9b[data-active]+.m_69686b9b:before{--separator-color: transparent}.m_78882f40{position:relative;z-index:2}.m_fa528724{--scp-filled-segment-color: var(--mantine-primary-color-filled);--scp-transition-duration: 0ms;--scp-thickness: calc(.625em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-dark-4)}.m_fa528724{position:relative;width:-moz-fit-content;width:fit-content}.m_62e9e7e2{display:block;transform:var(--scp-rotation);overflow:hidden}.m_c573fb6f{transition:stroke-dashoffset var(--scp-transition-duration) ease,stroke-dasharray var(--scp-transition-duration) ease,stroke var(--scp-transition-duration)}.m_4fa340f2{position:absolute;margin:0;padding:0;inset-inline:0;text-align:center;z-index:1}.m_4fa340f2:where([data-position=bottom]){bottom:0;padding-inline:calc(var(--scp-thickness) * 2)}.m_4fa340f2:where([data-position=bottom]):where([data-orientation=down]){bottom:auto;top:0}.m_4fa340f2:where([data-position=center]){top:50%;padding-inline:calc(var(--scp-thickness) * 3)}.m_925c2d2c{container:simple-grid / inline-size}.m_2415a157{display:grid;grid-template-columns:repeat(var(--sg-cols),minmax(0,1fr));gap:var(--sg-spacing-y) var(--sg-spacing-x)}@keyframes m_299c329c{0%,to{opacity:.4}50%{opacity:1}}.m_18320242{height:var(--skeleton-height, auto);width:var(--skeleton-width, 100%);border-radius:var(--skeleton-radius, var(--mantine-radius-default));position:relative;transform:translateZ(0);-webkit-transform:translateZ(0)}.m_18320242:where([data-animate]):after{animation:m_299c329c 1.5s linear infinite}.m_18320242:where([data-visible]){overflow:hidden}.m_18320242:where([data-visible]):before{position:absolute;content:"";inset:0;z-index:10;background-color:var(--mantine-color-body)}.m_18320242:where([data-visible]):after{position:absolute;content:"";inset:0;z-index:11}:where([data-mantine-color-scheme=light]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-dark-4)}.m_dd36362e{--slider-size-xs: calc(.25em * var(--mantine-scale));--slider-size-sm: calc(.375em * var(--mantine-scale));--slider-size-md: calc(.5em * var(--mantine-scale));--slider-size-lg: calc(.625em * var(--mantine-scale));--slider-size-xl: calc(.75em * var(--mantine-scale));--slider-size: var(--slider-size-md);--slider-radius: calc(62.5em * var(--mantine-scale));--slider-color: var(--mantine-primary-color-filled);-webkit-tap-highlight-color:transparent;outline:none;height:calc(var(--slider-size) * 2);padding-inline:var(--slider-size);display:flex;flex-direction:column;align-items:center;touch-action:none;position:relative}[data-mantine-color-scheme=light] .m_dd36362e{--slider-track-bg: var(--mantine-color-gray-2);--slider-track-disabled-bg: var(--mantine-color-gray-4)}[data-mantine-color-scheme=dark] .m_dd36362e{--slider-track-bg: var(--mantine-color-dark-4);--slider-track-disabled-bg: var(--mantine-color-dark-3)}.m_c9357328{position:absolute;top:calc(-2.25em * var(--mantine-scale));font-size:var(--mantine-font-size-xs);color:var(--mantine-color-white);padding:calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);white-space:nowrap;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:none}:where([data-mantine-color-scheme=light]) .m_c9357328{background-color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_c9357328{background-color:var(--mantine-color-dark-4)}.m_c9a9a60a{position:absolute;display:flex;height:var(--slider-thumb-size);width:var(--slider-thumb-size);border:calc(.25em * var(--mantine-scale)) solid;transform:translate(-50%,-50%);top:50%;cursor:pointer;border-radius:var(--slider-radius);align-items:center;justify-content:center;transition:box-shadow .1s ease,transform .1s ease;z-index:3;-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:none;outline-offset:calc(.125em * var(--mantine-scale));left:var(--slider-thumb-offset)}:where([dir=rtl]) .m_c9a9a60a{left:auto;right:calc(var(--slider-thumb-offset) - var(--slider-thumb-size))}fieldset:disabled .m_c9a9a60a,.m_c9a9a60a:where([data-disabled]){display:none}.m_c9a9a60a:where([data-dragging]){transform:translate(-50%,-50%) scale(1.05);box-shadow:var(--mantine-shadow-sm)}:where([data-mantine-color-scheme=light]) .m_c9a9a60a{color:var(--slider-color);border-color:var(--slider-color);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_c9a9a60a{color:var(--mantine-color-white);border-color:var(--mantine-color-white);background-color:var(--slider-color)}.m_a8645c2{display:flex;align-items:center;width:100%;height:calc(var(--slider-size) * 2);cursor:pointer}fieldset:disabled .m_a8645c2,.m_a8645c2:where([data-disabled]){cursor:not-allowed}.m_c9ade57f{position:relative;width:100%;height:var(--slider-size)}.m_c9ade57f:where([data-inverted]:not([data-disabled])){--track-bg: var(--slider-color)}fieldset:disabled .m_c9ade57f:where([data-inverted]),.m_c9ade57f:where([data-inverted][data-disabled]){--track-bg: var(--slider-track-disabled-bg)}.m_c9ade57f:before{content:"";position:absolute;top:0;bottom:0;border-radius:var(--slider-radius);inset-inline:calc(var(--slider-size) * -1);background-color:var(--track-bg, var(--slider-track-bg));z-index:0}.m_38aeed47{position:absolute;z-index:1;top:0;bottom:0;background-color:var(--slider-color);border-radius:var(--slider-radius);width:var(--slider-bar-width);inset-inline-start:var(--slider-bar-offset)}.m_38aeed47:where([data-inverted]){background-color:var(--slider-track-bg)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=light]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=dark]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-dark-3)}.m_b7b0423a{position:absolute;inset-inline-start:calc(var(--mark-offset) - var(--slider-size) / 2);top:0;z-index:2;height:0;pointer-events:none}.m_dd33bc19{border:calc(.125em * var(--mantine-scale)) solid;height:var(--slider-size);width:var(--slider-size);border-radius:calc(62.5em * var(--mantine-scale));background-color:var(--mantine-color-white);pointer-events:none}:where([data-mantine-color-scheme=light]) .m_dd33bc19{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19{border-color:var(--mantine-color-dark-4)}.m_dd33bc19:where([data-filled]){border-color:var(--slider-color)}:where([data-mantine-color-scheme=light]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-dark-3)}.m_68c77a5b{transform:translate(calc(-50% + var(--slider-size) / 2),calc(var(--mantine-spacing-xs) / 2));font-size:var(--mantine-font-size-sm);white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}:where([data-mantine-color-scheme=light]) .m_68c77a5b{color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_68c77a5b{color:var(--mantine-color-dark-2)}.m_559cce2d{position:relative}.m_559cce2d:where([data-has-spoiler]){margin-bottom:calc(1.5em * var(--mantine-scale))}.m_b912df4e{display:flex;flex-direction:column;overflow:hidden;transition:max-height var(--spoiler-transition-duration, .2s) ease}.m_b9131032{position:absolute;inset-inline-start:0;top:100%;height:calc(1.5em * var(--mantine-scale))}.m_6d731127{display:flex;flex-direction:column;align-items:var(--stack-align, stretch);justify-content:var(--stack-justify, flex-start);gap:var(--stack-gap, var(--mantine-spacing-md))}.m_cbb4ea7e{--stepper-icon-size-xs: calc(2.125em * var(--mantine-scale));--stepper-icon-size-sm: calc(2.25em * var(--mantine-scale));--stepper-icon-size-md: calc(2.625em * var(--mantine-scale));--stepper-icon-size-lg: calc(3em * var(--mantine-scale));--stepper-icon-size-xl: calc(3.25em * var(--mantine-scale));--stepper-icon-size: var(--stepper-icon-size-md);--stepper-color: var(--mantine-primary-color-filled);--stepper-content-padding: var(--mantine-spacing-md);--stepper-spacing: var(--mantine-spacing-md);--stepper-radius: calc(62.5em * var(--mantine-scale));--stepper-fz: var(--mantine-font-size-md);--stepper-outline-thickness: calc(.125em * var(--mantine-scale))}[data-mantine-color-scheme=light] .m_cbb4ea7e{--stepper-outline-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_cbb4ea7e{--stepper-outline-color: var(--mantine-color-dark-5)}.m_aaf89d0b{display:flex;flex-wrap:nowrap;align-items:center}.m_aaf89d0b:where([data-wrap]){flex-wrap:wrap;gap:var(--mantine-spacing-md) 0}.m_aaf89d0b:where([data-orientation=vertical]){flex-direction:column}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=left]){align-items:flex-start}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=right]){align-items:flex-end}.m_aaf89d0b:where([data-orientation=horizontal]){flex-direction:row}.m_2a371ac9{transition:background-color .15s ease;flex:1;height:var(--stepper-outline-thickness);margin-inline:var(--mantine-spacing-md);background-color:var(--stepper-outline-color)}.m_2a371ac9:where([data-active]){background-color:var(--stepper-color)}.m_78da155d{padding-top:var(--stepper-content-padding)}.m_cbb57068{--step-color: var(--stepper-color);display:flex;cursor:default}.m_cbb57068:where([data-allow-click]){cursor:pointer}.m_cbb57068:where([data-icon-position=left]){flex-direction:row}.m_cbb57068:where([data-icon-position=right]){flex-direction:row-reverse}.m_f56b1e2c{align-items:center}.m_833edb7e{--separator-spacing: calc(var(--mantine-spacing-xs) / 2);justify-content:flex-start;min-height:calc(var(--stepper-icon-size) + var(--mantine-spacing-xl) + var(--separator-spacing));margin-top:var(--separator-spacing);overflow:hidden}.m_833edb7e:where(:first-of-type){margin-top:0}.m_833edb7e:where(:last-of-type){min-height:auto}.m_833edb7e:where(:last-of-type) .m_6496b3f3{display:none}.m_818e70b{position:relative}.m_6496b3f3{top:calc(var(--stepper-icon-size) + var(--separator-spacing));inset-inline-start:calc(var(--stepper-icon-size) / 2);height:100vh;position:absolute;border-inline-start:var(--stepper-outline-thickness) solid var(--stepper-outline-color)}.m_6496b3f3:where([data-active]){border-color:var(--stepper-color)}.m_1959ad01{height:var(--stepper-icon-size);width:var(--stepper-icon-size);min-height:var(--stepper-icon-size);min-width:var(--stepper-icon-size);border-radius:var(--stepper-radius);font-size:var(--stepper-fz);display:flex;align-items:center;justify-content:center;position:relative;font-weight:700;transition:background-color .15s ease,border-color .15s ease;border:var(--stepper-outline-thickness) solid var(--stepper-outline-color);background-color:var(--stepper-outline-color)}:where([data-mantine-color-scheme=light]) .m_1959ad01{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1959ad01{color:var(--mantine-color-dark-1)}.m_1959ad01:where([data-progress]){border-color:var(--step-color)}.m_1959ad01:where([data-completed]){color:var(--stepper-icon-color, var(--mantine-color-white));background-color:var(--step-color);border-color:var(--step-color)}.m_a79331dc{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:var(--stepper-icon-color, var(--mantine-color-white))}.m_1956aa2a{display:flex;flex-direction:column}.m_1956aa2a:where([data-icon-position=left]){margin-inline-start:var(--mantine-spacing-sm)}.m_1956aa2a:where([data-icon-position=right]){text-align:right;margin-inline-end:var(--mantine-spacing-sm)}:where([dir=rtl]) .m_1956aa2a:where([data-icon-position=right]){text-align:left}.m_12051f6c{font-weight:500;font-size:var(--stepper-fz);line-height:1}.m_164eea74{margin-top:calc(var(--stepper-spacing) / 3);margin-bottom:calc(var(--stepper-spacing) / 3);font-size:calc(var(--stepper-fz) - calc(.125em * var(--mantine-scale)));line-height:1;color:var(--mantine-color-dimmed)}.m_5f93f3bb{--switch-height-xs: calc(1em * var(--mantine-scale));--switch-height-sm: calc(1.25em * var(--mantine-scale));--switch-height-md: calc(1.5em * var(--mantine-scale));--switch-height-lg: calc(1.875em * var(--mantine-scale));--switch-height-xl: calc(2.25em * var(--mantine-scale));--switch-width-xs: calc(2em * var(--mantine-scale));--switch-width-sm: calc(2.375em * var(--mantine-scale));--switch-width-md: calc(2.875em * var(--mantine-scale));--switch-width-lg: calc(3.5em * var(--mantine-scale));--switch-width-xl: calc(4.5em * var(--mantine-scale));--switch-thumb-size-xs: calc(.75em * var(--mantine-scale));--switch-thumb-size-sm: calc(.875em * var(--mantine-scale));--switch-thumb-size-md: calc(1.125em * var(--mantine-scale));--switch-thumb-size-lg: calc(1.375em * var(--mantine-scale));--switch-thumb-size-xl: calc(1.75em * var(--mantine-scale));--switch-label-font-size-xs: calc(.3125em * var(--mantine-scale));--switch-label-font-size-sm: calc(.375em * var(--mantine-scale));--switch-label-font-size-md: calc(.4375em * var(--mantine-scale));--switch-label-font-size-lg: calc(.5625em * var(--mantine-scale));--switch-label-font-size-xl: calc(.6875em * var(--mantine-scale));--switch-track-label-padding-xs: calc(.0625em * var(--mantine-scale));--switch-track-label-padding-sm: calc(.125em * var(--mantine-scale));--switch-track-label-padding-md: calc(.125em * var(--mantine-scale));--switch-track-label-padding-lg: calc(.1875em * var(--mantine-scale));--switch-track-label-padding-xl: calc(.1875em * var(--mantine-scale));--switch-height: var(--switch-height-sm);--switch-width: var(--switch-width-sm);--switch-thumb-size: var(--switch-thumb-size-sm);--switch-label-font-size: var(--switch-label-font-size-sm);--switch-track-label-padding: var(--switch-track-label-padding-sm);--switch-radius: calc(62.5em * var(--mantine-scale));--switch-color: var(--mantine-primary-color-filled);position:relative}.m_926b4011{height:0;width:0;opacity:0;margin:0;padding:0;position:absolute;overflow:hidden;white-space:nowrap}.m_9307d992{-webkit-tap-highlight-color:transparent;cursor:var(--switch-cursor, var(--mantine-cursor-type));overflow:hidden;position:relative;border-radius:var(--switch-radius);background-color:var(--switch-bg);border:1px solid var(--switch-bd);height:var(--switch-height);min-width:var(--switch-width);margin:0;transition:background-color .15s ease,border-color .15s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;align-items:center;font-size:var(--switch-label-font-size);font-weight:600;order:var(--switch-order, 1);-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:0;line-height:0;color:var(--switch-text-color)}.m_9307d992:where([data-without-labels]){width:var(--switch-width)}.m_926b4011:focus-visible+.m_9307d992{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_926b4011:checked+.m_9307d992{--switch-bg: var(--switch-color);--switch-bd: var(--switch-color);--switch-text-color: var(--mantine-color-white)}.m_926b4011:disabled+.m_9307d992,.m_926b4011[data-disabled]+.m_9307d992{--switch-bg: var(--switch-disabled-color);--switch-bd: var(--switch-disabled-color);--switch-cursor: not-allowed}[data-mantine-color-scheme=light] .m_9307d992{--switch-bg: var(--mantine-color-gray-2);--switch-bd: var(--mantine-color-gray-3);--switch-text-color: var(--mantine-color-gray-6);--switch-disabled-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_9307d992{--switch-bg: var(--mantine-color-dark-6);--switch-bd: var(--mantine-color-dark-4);--switch-text-color: var(--mantine-color-dark-1);--switch-disabled-color: var(--mantine-color-dark-4)}.m_9307d992[data-error]{--switch-bd: var(--mantine-color-error)}.m_9307d992[data-label-position=left]{--switch-order: 2}.m_93039a1d{position:absolute;z-index:1;border-radius:var(--switch-radius);display:flex;background-color:var(--switch-thumb-bg, var(--mantine-color-white));height:var(--switch-thumb-size);width:var(--switch-thumb-size);border:1px solid var(--switch-thumb-bd);inset-inline-start:var(--switch-thumb-start, var(--switch-track-label-padding));transition:inset-inline-start .15s ease}.m_93039a1d>*{margin:auto}.m_926b4011:checked+*>.m_93039a1d{--switch-thumb-start: calc(100% - var(--switch-thumb-size) - var(--switch-track-label-padding));--switch-thumb-bd: var(--mantine-color-white)}.m_926b4011:disabled+*>.m_93039a1d,.m_926b4011[data-disabled]+*>.m_93039a1d{--switch-thumb-bd: var(--switch-thumb-bg-disabled);--switch-thumb-bg: var(--switch-thumb-bg-disabled)}[data-mantine-color-scheme=light] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-gray-3);--switch-thumb-bg-disabled: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-white);--switch-thumb-bg-disabled: var(--mantine-color-dark-3)}.m_8277e082{height:100%;display:grid;place-content:center;min-width:calc(var(--switch-width) - var(--switch-thumb-size));padding-inline:var(--switch-track-label-padding);margin-inline-start:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));transition:margin .15s ease}.m_926b4011:checked+*>.m_8277e082{margin-inline-end:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));margin-inline-start:0}.m_b23fa0ef{width:100%;border-collapse:collapse;border-spacing:0;line-height:var(--mantine-line-height);font-size:var(--mantine-font-size-sm);table-layout:var(--table-layout, auto);caption-side:var(--table-caption-side, bottom);border:none}:where([data-mantine-color-scheme=light]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-gray-1);--table-striped-color: var(--mantine-color-gray-0);--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-dark-5);--table-striped-color: var(--mantine-color-dark-6);--table-border-color: var(--mantine-color-dark-4)}.m_b23fa0ef:where([data-with-table-border]){border:calc(.0625em * var(--mantine-scale)) solid var(--table-border-color)}.m_b23fa0ef:where([data-tabular-nums]){font-variant-numeric:tabular-nums}.m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){font-weight:500}:where([data-mantine-color-scheme=light]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-dark-6)}.m_4e7aa4f3{text-align:left}:where([dir=rtl]) .m_4e7aa4f3{text-align:right}.m_4e7aa4fd{border-bottom:none;background-color:transparent}@media (hover: hover){.m_4e7aa4fd:hover:where([data-hover]){background-color:var(--tr-hover-bg)}}@media (hover: none){.m_4e7aa4fd:active:where([data-hover]){background-color:var(--tr-hover-bg)}}.m_4e7aa4fd:where([data-with-row-border]){border-bottom:calc(.0625em * var(--mantine-scale)) solid var(--table-border-color)}.m_4e7aa4ef,.m_4e7aa4f3{padding:var(--table-vertical-spacing) var(--table-horizontal-spacing, var(--mantine-spacing-xs))}.m_4e7aa4ef:where([data-with-column-border]:not(:last-child)),.m_4e7aa4f3:where([data-with-column-border]:not(:last-child)){border-inline-end:calc(.0625em * var(--mantine-scale)) solid var(--table-border-color)}.m_b2404537>:where(tr):where([data-with-row-border]:last-of-type){border-bottom:none}.m_b2404537>:where(tr):where([data-striped=odd]:nth-of-type(odd)){background-color:var(--table-striped-color)}.m_b2404537>:where(tr):where([data-striped=even]:nth-of-type(2n)){background-color:var(--table-striped-color)}.m_b2404537>:where(tr)[data-hover]{--tr-hover-bg: var(--table-highlight-on-hover-color, var(--table-hover-color))}.m_b242d975{top:var(--table-sticky-header-offset, 0);z-index:3}.m_b242d975:where([data-sticky]){position:sticky}.m_b242d975:where([data-sticky]) :where(.m_4e7aa4f3){position:sticky;top:var(--table-sticky-header-offset, 0);background-color:var(--mantine-color-body)}:where([data-with-table-border]) .m_b242d975[data-sticky] .m_4e7aa4f3{top:initial}.m_9e5a3ac7{color:var(--mantine-color-dimmed)}.m_9e5a3ac7:where([data-side=top]){margin-bottom:var(--mantine-spacing-xs)}.m_9e5a3ac7:where([data-side=bottom]){margin-top:var(--mantine-spacing-xs)}.m_a100c15{overflow-x:var(--table-overflow)}.m_62259741{min-width:var(--table-min-width);max-height:var(--table-max-height)}.m_bcaa9990{display:flex;flex-direction:column;--toc-depth-offset: .8em}.m_375a65ef{display:block;padding:.3em .8em;font-size:var(--toc-size, var(--mantine-font-size-md));border-radius:var(--toc-radius, var(--mantine-radius-default));padding-left:max(calc(var(--depth-offset) * var(--toc-depth-offset)),.8em)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}.m_375a65ef:where([data-active]){background-color:var(--toc-bg);color:var(--toc-color)}.m_89d60db1{display:var(--tabs-display);flex-direction:var(--tabs-flex-direction);--tab-justify: flex-start;--tabs-list-direction: row;--tabs-panel-grow: unset;--tabs-display: block;--tabs-flex-direction: row;--tabs-list-border-width: 0;--tabs-list-border-size: 0 0 var(--tabs-list-border-width) 0;--tabs-list-gap: unset;--tabs-list-line-bottom: 0;--tabs-list-line-top: unset;--tabs-list-line-start: 0;--tabs-list-line-end: 0;--tab-radius: var(--tabs-radius) var(--tabs-radius) 0 0;--tab-border-width: 0 0 var(--tabs-list-border-width) 0}.m_89d60db1[data-inverted]{--tabs-list-line-bottom: unset;--tabs-list-line-top: 0;--tab-radius: 0 0 var(--tabs-radius) var(--tabs-radius);--tab-border-width: var(--tabs-list-border-width) 0 0 0}.m_89d60db1[data-inverted] .m_576c9d4:before{top:0;bottom:unset}.m_89d60db1[data-orientation=vertical]{--tabs-list-line-start: unset;--tabs-list-line-end: 0;--tabs-list-line-top: 0;--tabs-list-line-bottom: 0;--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius);--tabs-list-direction: column;--tabs-panel-grow: 1;--tabs-display: flex}[dir=rtl] .m_89d60db1[data-orientation=vertical]{--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}.m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-flex-direction: row-reverse;--tabs-list-line-start: 0;--tabs-list-line-end: unset;--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}[dir=rtl] .m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius)}[data-mantine-color-scheme=light] .m_89d60db1{--tab-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89d60db1{--tab-border-color: var(--mantine-color-dark-4)}.m_89d60db1[data-orientation=horizontal]{--tab-justify: center}.m_89d60db1[data-variant=default]{--tabs-list-border-width: calc(.125em * var(--mantine-scale))}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d60db1[data-variant=outline]{--tabs-list-border-width: calc(.0625em * var(--mantine-scale))}.m_89d60db1[data-variant=pills]{--tabs-list-gap: calc(var(--mantine-spacing-sm) / 2)}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d33d6d{display:flex;flex-wrap:wrap;justify-content:var(--tabs-justify, flex-start);flex-direction:var(--tabs-list-direction);gap:var(--tabs-list-gap);--tab-grow: unset}.m_89d33d6d[data-grow]{--tab-grow: 1}.m_b0c91715{flex-grow:var(--tabs-panel-grow)}.m_4ec4dce6{position:relative;padding:var(--mantine-spacing-xs) var(--mantine-spacing-md);font-size:var(--mantine-font-size-sm);white-space:nowrap;z-index:0;display:flex;align-items:center;line-height:1;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-grow:var(--tab-grow);justify-content:var(--tab-justify)}.m_4ec4dce6:disabled,.m_4ec4dce6[data-disabled]{opacity:.5;cursor:not-allowed}.m_4ec4dce6:focus{z-index:1}.m_fc420b1f{display:flex;align-items:center;justify-content:center;margin-left:var(--tab-section-margin-left, 0);margin-right:var(--tab-section-margin-right, 0)}.m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: 0em;--tab-section-margin-left: var(--mantine-spacing-xs)}.m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: 0em;--tab-section-margin-right: var(--mantine-spacing-xs)}.m_576c9d4{position:relative}.m_576c9d4:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_539e827b{border-radius:var(--tab-radius);border-width:var(--tab-border-width);border-style:solid;border-color:transparent;background-color:var(--tab-bg);--tab-bg: transparent}.m_539e827b:where([data-active]){border-color:var(--tabs-color)}@media (hover: hover){.m_539e827b:hover{--tab-bg: var(--tab-hover-color)}.m_539e827b:hover:where(:not([data-active])){border-color:var(--tab-border-color)}}@media (hover: none){.m_539e827b:active{--tab-bg: var(--tab-hover-color)}.m_539e827b:active:where(:not([data-active])){border-color:var(--tab-border-color)}}@media (hover: hover){.m_539e827b:disabled:hover,.m_539e827b[data-disabled]:hover{--tab-bg: transparent}}@media (hover: none){.m_539e827b:disabled:active,.m_539e827b[data-disabled]:active{--tab-bg: transparent}}.m_6772fbd5{position:relative}.m_6772fbd5:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_b59ab47c{border-top:calc(.0625em * var(--mantine-scale)) solid transparent;border-bottom:calc(.0625em * var(--mantine-scale)) solid transparent;border-right:calc(.0625em * var(--mantine-scale)) solid transparent;border-left:calc(.0625em * var(--mantine-scale)) solid transparent;border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-radius:var(--tab-radius);position:relative;--tab-border-bottom-color: transparent;--tab-border-top-color: transparent;--tab-border-inline-end-color: transparent;--tab-border-inline-start-color: transparent}.m_b59ab47c:where([data-active]):before{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-before-bottom, calc(-.0625em * var(--mantine-scale)));left:var(--tab-before-left, calc(-.0625em * var(--mantine-scale)));right:var(--tab-before-right, auto);top:var(--tab-before-top, auto);width:calc(.0625em * var(--mantine-scale));height:calc(.0625em * var(--mantine-scale))}.m_b59ab47c:where([data-active]):after{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-after-bottom, calc(-.0625em * var(--mantine-scale)));right:var(--tab-after-right, calc(-.0625em * var(--mantine-scale)));left:var(--tab-after-left, auto);top:var(--tab-after-top, auto);width:calc(.0625em * var(--mantine-scale));height:calc(.0625em * var(--mantine-scale))}.m_b59ab47c:where([data-active]){border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-inline-start-color:var(--tab-border-inline-start-color);border-inline-end-color:var(--tab-border-inline-end-color);--tab-border-top-color: var(--tab-border-color);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--mantine-color-body)}.m_b59ab47c:where([data-active])[data-inverted]{--tab-border-bottom-color: var(--tab-border-color);--tab-border-top-color: var(--mantine-color-body);--tab-before-bottom: auto;--tab-before-top: calc(-.0625em * var(--mantine-scale));--tab-after-bottom: auto;--tab-after-top: calc(-.0625em * var(--mantine-scale))}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-border-inline-end-color: var(--mantine-color-body);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-right: calc(-.0625em * var(--mantine-scale));--tab-before-left: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625em * var(--mantine-scale));--tab-after-left: auto;--tab-after-right: calc(-.0625em * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-before-right: auto;--tab-before-left: calc(-.0625em * var(--mantine-scale));--tab-after-left: calc(-.0625em * var(--mantine-scale));--tab-after-right: auto}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-border-inline-start-color: var(--mantine-color-body);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-left: calc(-.0625em * var(--mantine-scale));--tab-before-right: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625em * var(--mantine-scale));--tab-after-right: auto;--tab-after-left: calc(-.0625em * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-before-left: auto;--tab-before-right: calc(-.0625em * var(--mantine-scale));--tab-after-right: calc(-.0625em * var(--mantine-scale));--tab-after-left: auto}.m_c3381914{border-radius:var(--tabs-radius);background-color:var(--tab-bg);color:var(--tab-color);--tab-bg: transparent;--tab-color: inherit}@media (hover: hover){.m_c3381914:not([data-disabled]):hover{--tab-bg: var(--tab-hover-color)}}@media (hover: none){.m_c3381914:not([data-disabled]):active{--tab-bg: var(--tab-hover-color)}}.m_c3381914[data-active][data-active]{--tab-bg: var(--tabs-color);--tab-color: var(--tabs-text-color, var(--mantine-color-white))}@media (hover: hover){.m_c3381914[data-active][data-active]:hover{--tab-bg: var(--tabs-color)}}@media (hover: none){.m_c3381914[data-active][data-active]:active{--tab-bg: var(--tabs-color)}}.m_7341320d{--ti-size-xs: calc(1.125em * var(--mantine-scale));--ti-size-sm: calc(1.375em * var(--mantine-scale));--ti-size-md: calc(1.75em * var(--mantine-scale));--ti-size-lg: calc(2.125em * var(--mantine-scale));--ti-size-xl: calc(2.75em * var(--mantine-scale));--ti-size: var(--ti-size-md);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ti-size);height:var(--ti-size);min-width:var(--ti-size);min-height:var(--ti-size);border-radius:var(--ti-radius, var(--mantine-radius-default));background:var(--ti-bg, var(--mantine-primary-color-filled));color:var(--ti-color, var(--mantine-color-white));border:var(--ti-bd, 1px solid transparent)}.m_43657ece{--offset: calc(var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2);--tl-bullet-size: calc(1.25em * var(--mantine-scale));--tl-line-width: calc(.25em * var(--mantine-scale));--tl-radius: calc(62.5em * var(--mantine-scale));--tl-color: var(--mantine-primary-color-filled)}.m_43657ece:where([data-align=left]){padding-inline-start:var(--offset)}.m_43657ece:where([data-align=right]){padding-inline-end:var(--offset)}.m_2ebe8099{font-weight:500;line-height:1;margin-bottom:calc(var(--mantine-spacing-xs) / 2)}.m_436178ff{--item-border: var(--tl-line-width) var(--tli-border-style, solid) var(--item-border-color);position:relative;color:var(--mantine-color-text)}.m_436178ff:before{content:"";pointer-events:none;position:absolute;top:0;left:var(--timeline-line-left, 0);right:var(--timeline-line-right, 0);bottom:calc(var(--mantine-spacing-xl) * -1);border-inline-start:var(--item-border);display:var(--timeline-line-display, none)}.m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}[dir=rtl] .m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}.m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}[dir=rtl] .m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}.m_43657ece:where([data-align=left]) .m_436178ff{padding-inline-start:var(--offset);text-align:left}.m_43657ece:where([data-align=right]) .m_436178ff{padding-inline-end:var(--offset);text-align:right}:where([data-mantine-color-scheme=light]) .m_436178ff{--item-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_436178ff{--item-border-color: var(--mantine-color-dark-4)}.m_436178ff:where([data-line-active]):before{border-color:var(--tli-color, var(--tl-color))}.m_436178ff:where(:not(:last-of-type)){--timeline-line-display: block}.m_436178ff:where(:not(:first-of-type)){margin-top:var(--mantine-spacing-xl)}.m_8affcee1{width:var(--tl-bullet-size);height:var(--tl-bullet-size);border-radius:var(--tli-radius, var(--tl-radius));border:var(--tl-line-width) solid;background-color:var(--mantine-color-body);position:absolute;top:0;display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_8affcee1{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1{border-color:var(--mantine-color-dark-4)}.m_43657ece:where([data-align=left]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}.m_43657ece:where([data-align=right]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}.m_8affcee1:where([data-with-child]){border-width:var(--tl-line-width)}:where([data-mantine-color-scheme=light]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-dark-4)}.m_8affcee1:where([data-active]){border-color:var(--tli-color, var(--tl-color));background-color:var(--mantine-color-white);color:var(--tl-icon-color, var(--mantine-color-white))}.m_8affcee1:where([data-active]):where([data-with-child]){background-color:var(--tli-color, var(--tl-color));color:var(--tl-icon-color, var(--mantine-color-white))}.m_43657ece:where([data-align=left]) .m_540e8f41{padding-inline-start:var(--offset);text-align:left}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_540e8f41{text-align:right}.m_43657ece:where([data-align=right]) .m_540e8f41{padding-inline-end:var(--offset);text-align:right}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_540e8f41{text-align:left}.m_8a5d1357{margin:0;font-weight:var(--title-fw);font-size:var(--title-fz);line-height:var(--title-lh);font-family:var(--mantine-font-family-headings);text-wrap:var(--title-text-wrap, var(--mantine-heading-text-wrap))}.m_8a5d1357:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--title-line-clamp);-webkit-box-orient:vertical}.m_f698e191{--level-offset: var(--mantine-spacing-lg);margin:0;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_75f3ecf{margin:0;padding:0}.m_f6970eb1{cursor:pointer;list-style:none;margin:0;padding:0;outline:0}.m_f6970eb1:focus-visible>.m_dc283425{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_dc283425{padding-inline-start:var(--label-offset)}:where([data-mantine-color-scheme=light]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-dark-5)}.m_d6493fad :first-child{margin-top:0}.m_d6493fad :last-child{margin-bottom:0}.m_d6493fad :where(h1,h2,h3,h4,h5,h6){margin-bottom:var(--mantine-spacing-xs);text-wrap:var(--mantine-heading-text-wrap);font-family:var(--mantine-font-family-headings)}.m_d6493fad :where(h1){margin-top:calc(1.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h1-font-size);line-height:var(--mantine-h1-line-height);font-weight:var(--mantine-h1-font-weight)}.m_d6493fad :where(h2){margin-top:var(--mantine-spacing-xl);font-size:var(--mantine-h2-font-size);line-height:var(--mantine-h2-line-height);font-weight:var(--mantine-h2-font-weight)}.m_d6493fad :where(h3){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h3-font-size);line-height:var(--mantine-h3-line-height);font-weight:var(--mantine-h3-font-weight)}.m_d6493fad :where(h4){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h4-font-size);line-height:var(--mantine-h4-line-height);font-weight:var(--mantine-h4-font-weight)}.m_d6493fad :where(h5){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h5-font-size);line-height:var(--mantine-h5-line-height);font-weight:var(--mantine-h5-font-weight)}.m_d6493fad :where(h6){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h6-font-size);line-height:var(--mantine-h6-line-height);font-weight:var(--mantine-h6-font-weight)}.m_d6493fad :where(img){max-width:100%;margin-bottom:var(--mantine-spacing-xs)}.m_d6493fad :where(p){margin-top:0;margin-bottom:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-2);color:inherit}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-5);color:var(--mantine-color-black)}.m_d6493fad :where(a){color:var(--mantine-color-anchor);text-decoration:none}@media (hover: hover){.m_d6493fad :where(a):hover{text-decoration:underline}}@media (hover: none){.m_d6493fad :where(a):active{text-decoration:underline}}.m_d6493fad :where(hr){margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);border:0;border-top:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(hr){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(hr){border-color:var(--mantine-color-dark-3)}.m_d6493fad :where(pre){padding:var(--mantine-spacing-xs);line-height:var(--mantine-line-height);margin:0;margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);overflow-x:auto;font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs);border-radius:var(--mantine-radius-sm)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(pre){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(pre){background-color:var(--mantine-color-dark-8)}.m_d6493fad :where(pre) :where(code){background-color:transparent;padding:0;border-radius:0;color:inherit;border:0}.m_d6493fad :where(kbd){--kbd-fz: calc(.75em * var(--mantine-scale));--kbd-padding: calc(.1875em * var(--mantine-scale)) calc(.3125em * var(--mantine-scale));font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625em * var(--mantine-scale)) solid;border-bottom-width:calc(.1875em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-dark-3);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-5)}.m_d6493fad :where(code){line-height:var(--mantine-line-height);padding:calc(.0625em * var(--mantine-scale)) calc(.3125em * var(--mantine-scale));border-radius:var(--mantine-radius-sm);font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(code){background-color:var(--mantine-color-gray-0);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(code){background-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_d6493fad :where(ul,ol):not([data-type=taskList]){margin-bottom:var(--mantine-spacing-md);padding-inline-start:var(--mantine-spacing-xl);list-style-position:outside}.m_d6493fad :where(table){width:100%;border-collapse:collapse;caption-side:bottom;margin-bottom:var(--mantine-spacing-md)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-dark-4)}.m_d6493fad :where(table) :where(caption){margin-top:var(--mantine-spacing-xs);font-size:var(--mantine-font-size-sm);color:var(--mantine-color-dimmed)}.m_d6493fad :where(table) :where(th){text-align:left;font-weight:700;font-size:var(--mantine-font-size-sm);padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm)}.m_d6493fad :where(table) :where(thead th){border-bottom:calc(.0625em * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(tfoot th){border-top:calc(.0625em * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(td){padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm);border-bottom:calc(.0625em * var(--mantine-scale)) solid;border-color:var(--table-border-color);font-size:var(--mantine-font-size-sm)}.m_d6493fad :where(table) :where(tr:last-of-type td){border-bottom:0}.m_d6493fad :where(blockquote){font-size:var(--mantine-font-size-lg);line-height:var(--mantine-line-height);margin:var(--mantine-spacing-md) 0;border-radius:var(--mantine-radius-sm);padding:var(--mantine-spacing-md) var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-dark-8)}.m_17884d0f{--carousel-height: auto;position:relative}.m_a2dae653{height:var(--carousel-height);overflow:hidden}.m_a2dae653[data-type=container]{container:carousel / inline-size}.m_fcd81474{display:flex;flex-direction:row;height:var(--carousel-height)}:where([data-include-gap-in-size]) .m_fcd81474:where([data-orientation=vertical]){margin-bottom:calc(var(--carousel-slide-gap) * -1)}:where([data-include-gap-in-size]) .m_fcd81474:where([data-orientation=horizontal]){margin-inline-end:calc(var(--carousel-slide-gap) * -1)}.m_fcd81474:where([data-orientation=vertical]){flex-direction:column}.m_39bc3463{position:absolute;display:flex;align-items:center;justify-content:space-between;z-index:1;pointer-events:none}.m_39bc3463:where([data-orientation=vertical]){inset-inline-start:calc(50% - var(--carousel-control-size) / 2);top:0;bottom:0;flex-direction:column;padding:var(--carousel-controls-offset) 0}.m_39bc3463:where([data-orientation=horizontal]){inset-inline-start:0;inset-inline-end:0;top:calc(50% - var(--carousel-control-size) / 2);flex-direction:row;padding:0 var(--carousel-controls-offset)}.m_64f58e10{display:flex;justify-content:center;align-items:center;min-width:var(--carousel-control-size);min-height:var(--carousel-control-size);border-radius:var(--carousel-control-size);pointer-events:all;background-color:var(--mantine-color-white);color:var(--mantine-color-black);box-shadow:var(--mantine-shadow-md);border:1px solid var(--mantine-color-gray-3);transition:opacity .1s ease}:where([data-mantine-color-scheme=light]) .m_64f58e10{opacity:.85}:where([data-mantine-color-scheme=dark]) .m_64f58e10{opacity:.65}@media (hover: hover){.m_64f58e10:hover{opacity:1}}@media (hover: none){.m_64f58e10:active{opacity:1}}.m_71ea3ab1{position:absolute;display:flex;justify-content:center;gap:calc(.5em * var(--mantine-scale));pointer-events:none}.m_71ea3ab1:where([data-orientation=vertical]){bottom:0;top:0;inset-inline-end:var(--mantine-spacing-md);flex-direction:column}.m_71ea3ab1:where([data-orientation=horizontal]){bottom:var(--mantine-spacing-md);inset-inline-start:0;inset-inline-end:0;flex-direction:row}.m_eae68602{pointer-events:all;border-radius:var(--mantine-radius-xl);box-shadow:var(--mantine-shadow-sm);opacity:.6;background-color:var(--mantine-color-white)}@media (hover: hover){.m_eae68602:hover{opacity:1}}@media (hover: none){.m_eae68602:active{opacity:1}}.m_eae68602:where([data-active]){opacity:1}.m_eae68602:where([data-orientation=vertical]){width:calc(.3125em * var(--mantine-scale));height:calc(1.5625em * var(--mantine-scale))}.m_eae68602:where([data-orientation=horizontal]){width:calc(1.5625em * var(--mantine-scale));height:calc(.3125em * var(--mantine-scale))}.m_d98df724{position:relative;flex:0 0 var(--carousel-slide-size, 100%)}.m_17884d0f:where([data-include-gap-in-size]) .m_d98df724:where([data-orientation=vertical]){padding-bottom:var(--carousel-slide-gap)}.m_17884d0f:where([data-include-gap-in-size]) .m_d98df724:where([data-orientation=horizontal]){padding-inline-end:var(--carousel-slide-gap)}.m_17884d0f:where(:not([data-include-gap-in-size])) .m_d98df724:where([data-orientation=vertical]){margin-bottom:var(--carousel-slide-gap)}.m_17884d0f:where(:not([data-include-gap-in-size])) .m_d98df724:where([data-orientation=horizontal]){margin-inline-end:var(--carousel-slide-gap)}.m_468e7eda{padding-top:0;padding-bottom:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_468e7eda::-webkit-calendar-picker-indicator{display:none}.m_468e7eda::-webkit-clear-button{display:none}.m_468e7eda::-webkit-datetime-edit-hour-field,.m_468e7eda::-webkit-datetime-edit-minute-field,.m_468e7eda::-webkit-datetime-edit-second-field,.m_468e7eda::-webkit-datetime-edit-ampm-field{padding-top:0;max-height:calc(1.875em * var(--mantine-scale));display:inline}.m_468e7eda::-webkit-datetime-edit-hour-field:focus,.m_468e7eda::-webkit-datetime-edit-minute-field:focus,.m_468e7eda::-webkit-datetime-edit-second-field:focus,.m_468e7eda::-webkit-datetime-edit-ampm-field:focus{background-color:var(--mantine-primary-color-filled);color:var(--mantine-color-white)}.m_396ce5cb{--day-size-xs: calc(1.875em * var(--mantine-scale));--day-size-sm: calc(2.25em * var(--mantine-scale));--day-size-md: calc(2.625em * var(--mantine-scale));--day-size-lg: calc(3em * var(--mantine-scale));--day-size-xl: calc(3.375em * var(--mantine-scale));--day-size: var(--day-size-sm);width:var(--day-size, var(--day-size-sm));height:var(--day-size, var(--day-size-sm));font-size:calc(var(--day-size) / 2.8);display:inline-flex;justify-content:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;background-color:transparent;border-radius:var(--mantine-radius-default);color:var(--mantine-color-text);opacity:1}@media (hover: hover){[data-mantine-color-scheme=light] .m_396ce5cb:hover:where(:not([data-static],[data-disabled],[data-selected],[data-in-range])){background-color:var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_396ce5cb:hover:where(:not([data-static],[data-disabled],[data-selected],[data-in-range])){background-color:var(--mantine-color-dark-5)}}@media (hover: none){[data-mantine-color-scheme=light] .m_396ce5cb:active:where(:not([data-static],[data-disabled],[data-selected],[data-in-range])){background-color:var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_396ce5cb:active:where(:not([data-static],[data-disabled],[data-selected],[data-in-range])){background-color:var(--mantine-color-dark-5)}}.m_396ce5cb:where([data-static]){-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;cursor:default}.m_396ce5cb:where([data-weekend]){color:var(--mantine-color-red-6)}.m_396ce5cb:where([data-outside]){color:var(--mantine-color-dimmed);opacity:.5}.m_396ce5cb:where(:disabled,[data-disabled]){color:var(--mantine-color-dimmed);cursor:not-allowed;opacity:.5}.m_396ce5cb:where([data-hidden]){display:none}:where([data-mantine-color-scheme=light]) .m_396ce5cb:where([data-today][data-highlight-today]:not([data-selected],[data-in-range])){border:1px solid var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_396ce5cb:where([data-today][data-highlight-today]:not([data-selected],[data-in-range])){border:1px solid var(--mantine-color-dark-4)}.m_396ce5cb:where([data-in-range]){background-color:var(--mantine-primary-color-light-hover);border-radius:0}@media (hover: hover){.m_396ce5cb:where([data-in-range]):hover:where(:not([data-disabled],[data-static])){background-color:var(--mantine-primary-color-light)}}@media (hover: none){.m_396ce5cb:where([data-in-range]):active:where(:not([data-disabled],[data-static])){background-color:var(--mantine-primary-color-light)}}.m_396ce5cb:where([data-first-in-range]){border-radius:0;border-start-start-radius:var(--mantine-radius-default);border-end-start-radius:var(--mantine-radius-default)}.m_396ce5cb:where([data-last-in-range]){border-radius:0;border-end-end-radius:var(--mantine-radius-default);border-start-end-radius:var(--mantine-radius-default)}.m_396ce5cb:where([data-last-in-range][data-first-in-range]){border-radius:var(--mantine-radius-default)}.m_396ce5cb:where([data-selected]){background-color:var(--mantine-primary-color-filled);color:var(--mantine-primary-color-contrast)}@media (hover: hover){.m_396ce5cb:where([data-selected]):hover:where(:not([data-disabled],[data-static])){background-color:var(--mantine-primary-color-filled-hover)}}@media (hover: none){.m_396ce5cb:where([data-selected]):active:where(:not([data-disabled],[data-static])){background-color:var(--mantine-primary-color-filled-hover)}}.m_18a3eca{color:var(--mantine-color-dimmed);font-weight:400;font-size:var(--wr-fz, var(--mantine-font-size-sm));text-transform:capitalize;padding-bottom:calc(var(--wr-spacing, var(--mantine-spacing-sm)) / 2)}.m_cc9820d3{border-collapse:collapse;table-layout:fixed}.m_8f457cd5{padding:0}.m_8f457cd5:where([data-with-spacing]){padding:calc(.03125em * var(--mantine-scale))}.m_6cff9dea{--wn-size-xs: calc(1.875em * var(--mantine-scale));--wn-size-sm: calc(2.25em * var(--mantine-scale));--wn-size-md: calc(2.625em * var(--mantine-scale));--wn-size-lg: calc(3em * var(--mantine-scale));--wn-size-xl: calc(3.375em * var(--mantine-scale));color:var(--mantine-color-dimmed);font-weight:400;font-size:calc(var(--wn-size, var(--wn-size-sm)) / 2.8);text-align:center;width:var(--wn-size, var(--wn-size-sm))}.m_dc6a3c71{--dpc-size-xs: calc(1.875em * var(--mantine-scale));--dpc-size-sm: calc(2.25em * var(--mantine-scale));--dpc-size-md: calc(2.625em * var(--mantine-scale));--dpc-size-lg: calc(3em * var(--mantine-scale));--dpc-size-xl: calc(3.375em * var(--mantine-scale));--dpc-size: var(--dpc-size-sm);font-size:var(--dpc-fz, var(--mantine-font-size-sm));height:var(--dpc-size);width:calc((var(--dpc-size) * 7) / 3 + calc(.09375em * var(--mantine-scale)));display:flex;justify-content:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;background-color:transparent;color:var(--mantine-color-text);opacity:1;border-radius:var(--mantine-radius-default)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_dc6a3c71:hover:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_dc6a3c71:hover:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_dc6a3c71:active:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_dc6a3c71:active:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-dark-5)}}.m_dc6a3c71:where(:disabled,[data-disabled]){color:var(--mantine-color-dimmed);cursor:not-allowed;opacity:.5}.m_dc6a3c71:where([data-selected]){background-color:var(--mantine-primary-color-filled);color:var(--mantine-primary-color-contrast, var(--mantine-color-white))}@media (hover: hover){.m_dc6a3c71:where([data-selected]):hover{background-color:var(--mantine-primary-color-filled-hover)}}@media (hover: none){.m_dc6a3c71:where([data-selected]):active{background-color:var(--mantine-primary-color-filled-hover)}}.m_dc6a3c71:where([data-in-range]){background-color:var(--mantine-primary-color-light-hover);border-radius:0}@media (hover: hover){.m_dc6a3c71:where([data-in-range]):hover{background-color:var(--mantine-primary-color-light)}}@media (hover: none){.m_dc6a3c71:where([data-in-range]):active{background-color:var(--mantine-primary-color-light)}}.m_dc6a3c71:where([data-first-in-range]){border-radius:0;border-start-start-radius:var(--mantine-radius-default);border-end-start-radius:var(--mantine-radius-default)}.m_dc6a3c71:where([data-last-in-range]){border-radius:0;border-end-end-radius:var(--mantine-radius-default);border-start-end-radius:var(--mantine-radius-default)}.m_dc6a3c71:where([data-first-in-range][data-last-in-range]){border-radius:var(--mantine-radius-default)}.m_9206547b{border-collapse:collapse;border-width:0}.m_c5a19c7d{padding:0}.m_c5a19c7d:where([data-with-spacing]){padding:calc(.03125em * var(--mantine-scale))}.m_2a6c32d{border-collapse:collapse;border-width:0;cursor:pointer}.m_fe27622f{padding:0}.m_fe27622f:where([data-with-spacing]){padding:calc(.03125em * var(--mantine-scale))}.m_730a79ed{--dch-control-size-xs: calc(1.875em * var(--mantine-scale));--dch-control-size-sm: calc(2.25em * var(--mantine-scale));--dch-control-size-md: calc(2.625em * var(--mantine-scale));--dch-control-size-lg: calc(3em * var(--mantine-scale));--dch-control-size-xl: calc(3.375em * var(--mantine-scale));--dch-control-size: var(--dch-control-size-sm);display:flex;max-width:calc(var(--dch-control-size) * 8 + calc(.4375em * var(--mantine-scale)));margin-bottom:var(--mantine-spacing-xs)}.m_f6645d97,.m_2351eeb0{height:var(--dch-control-size);border-radius:var(--mantine-radius-default);display:flex;justify-content:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:1;cursor:pointer}@media (hover: hover){[data-mantine-color-scheme=light] .m_f6645d97:hover:where(:not([data-disabled],:disabled)),[data-mantine-color-scheme=light] .m_2351eeb0:hover:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_f6645d97:hover:where(:not([data-disabled],:disabled)),[data-mantine-color-scheme=dark] .m_2351eeb0:hover:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-dark-5)}}@media (hover: none){[data-mantine-color-scheme=light] .m_f6645d97:active:where(:not([data-disabled],:disabled)),[data-mantine-color-scheme=light] .m_2351eeb0:active:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_f6645d97:active:where(:not([data-disabled],:disabled)),[data-mantine-color-scheme=dark] .m_2351eeb0:active:where(:not([data-disabled],:disabled)){background-color:var(--mantine-color-dark-5)}}.m_f6645d97:where(:disabled,[data-disabled]),.m_2351eeb0:where(:disabled,[data-disabled]){opacity:.2;cursor:not-allowed}.m_2351eeb0{width:var(--dch-control-size)}.m_f6645d97{flex:1;font-size:var(--dch-fz, var(--mantine-font-size-sm));font-weight:500;text-transform:capitalize}.m_367dc749{width:60%;height:60%}.m_367dc749:where([data-direction=next]){transform:rotate(270deg)}:where([dir=rtl]) .m_367dc749:where([data-direction=next]){transform:rotate(90deg)}.m_367dc749:where([data-direction=previous]){transform:rotate(90deg)}:where([dir=rtl]) .m_367dc749:where([data-direction=previous]){transform:rotate(270deg)}.m_30b26e33{display:flex;gap:var(--mantine-spacing-md)}.m_6fa5e2aa{cursor:pointer;line-height:unset}.m_6fa5e2aa:where([data-read-only]){cursor:default}.m_208d2562{display:flex;align-items:stretch;margin-top:var(--mantine-spacing-md)}.m_62ee059{flex:1;margin-inline-end:var(--mantine-spacing-md)}',p.appendChild(m);const g=LI({key:"livex",container:p,prepend:!0});l(g),a(p)}},[t]),x.useEffect(()=>{if(!i)return;let p=i.getElementById("chatbox-theme-variables");p||(p=document.createElement("style"),p.id="chatbox-theme-variables",i.appendChild(p));let h="";r&&(h=`:host {
`,Object.entries(r).forEach(([m,g])=>{const f=m.replace(/_/g,"-").replace(/--/g,"");h+=`  --${f}: ${g};
`}),h+=`}

`),p.textContent=h},[r,i]);const d={fontSizes:{xs:"0.75em",xs2:"10px",sm:"0.875em",md:"1em",lg:"1.125em",xl:"1.25em"},spacing:{xs:"0.625em",sm:"0.75em",md:"1em",lg:"1.25em",xl:"2em"},radius:{xs:"0.125em",sm:"0.25em",md:"0.5em",lg:"1em",xl:"2em"},headings:{sizes:{h1:{fontSize:"2.125em"},h2:{fontSize:"1.625em"},h3:{fontSize:"1.375em"},h4:{fontSize:"1.125em"},h5:{fontSize:"1em"},h6:{fontSize:"0.875em"}}},shadows:{xs:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), 0 calc(0.0625em * var(--mantine-scale)) calc(0.125em * var(--mantine-scale)) rgba(0, 0, 0, 0.1)",sm:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(0.625em * var(--mantine-scale)) calc(0.9375em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(0.4375em * var(--mantine-scale)) calc(0.4375em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale))",md:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(1.25em * var(--mantine-scale)) calc(1.5625em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(0.625em * var(--mantine-scale)) calc(0.625em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale))",lg:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(1.75em * var(--mantine-scale)) calc(1.4375em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(0.75em * var(--mantine-scale)) calc(0.75em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale))",xl:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(2.25em * var(--mantine-scale)) calc(1.75em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(1.0625em * var(--mantine-scale)) calc(1.0625em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale))"},primaryColor:"indigo",components:{Portal:{defaultProps:{target:i==null?void 0:i.querySelector("#livex-chatbot-app")}},Tooltip:{defaultProps:{zIndex:c,color:r.tooltip_color}},Menu:{defaultProps:{zIndex:c+1},styles:{dropdown:{backdropFilter:"var(--dropdown-backdrop-filter, blur(10px))",backgroundColor:"var(--menu-background-color, rgba(255, 255, 255, 1))",border:"1px solid var(--dropdown-border-color, rgba(222, 226, 230, 1))",borderRadius:"var(--dropdown-border-radius, 4px)",color:"var(--dropdown-item-color, white)",fontWeight:"var(--dropdown-font-weight, 400)",lineHeight:"var(--dropdown-line-height, 16px)",padding:"var(--dropdown-padding, 4px)"},item:{color:"var(--dropdown-item-color, rgba(52, 58, 64, 1))",gap:"var(--dropdown-gap, 2px)",margin:"var(--dropdown-margin, 2px 0px)",padding:"var(--dropdown-padding, 6px 8px)",transition:"var(--dropdown-transition, all 0.2s ease)",height:"var(--dropdown-item-height, 24px)",fontSize:"var(--dropdown-item-font-size, 14px)"},label:{fontSize:"var(--dropdown-label-font-size, 12px)"}}},Flex:{styles:{root:{gap:"calc(0.25em * var(--mantine-scale))",rowGap:"calc(0.25em * var(--mantine-scale))",columnGap:"calc(0.25em * var(--mantine-scale))"}}},Button:{styles:{root:{borderWidth:"calc(0.0625em * var(--mantine-scale))"}}},Badge:{styles:{root:{borderWidth:"calc(0.0625em * var(--mantine-scale))"}}},ActionIcon:{styles:{root:{borderWidth:"calc(0.0625em * var(--mantine-scale))"}}}}};return A("div",{ref:o,style:{display:"block",fontSize:n},children:i&&s&&Os.createPortal(A(hse,{value:s,children:A(sF,{theme:d,cssVariablesResolver:p=>({variables:{"--popover-radius":"var(--mantine-radius-default, 4px)","--menu-item-color":"var(--menu-item-text-color, var(--mantine-color-text))","--menu-item-hover":"var(--menu-item-hover-color, rgba(219, 228, 255, 1))","--overlay-radius":"var(--modal-overlay-border-radius, 16px)"},light:{},dark:{}}),getRootElement:()=>i.getElementById("livex-chatbot-app"),cssVariablesSelector:"#livex-chatbot-app",children:A(mve,{modals:X7e,modalProps:{zIndex:u,styles:{inner:{left:0}}},children:e})})}),i)})},mOe=e=>{var t;const n=x.useRef(null),r=e.agent,o=by((t=r==null?void 0:r.config)==null?void 0:t.style);Fe.rootRef=n;const[i,a]=x.useState(!1);return x.useEffect(()=>{let s=!0;return(async()=>{if(typeof window<"u"&&!window.LivekitClient)return Jf||(Jf=new Promise((l,c)=>{const u=window.setTimeout(()=>{Jf=null,c(new Error("LiveKit CDN script load timeout"))},3e4),d=document.createElement("script");d.src="https://chatbox.copilot.livex.ai/cdn/livekit/livekit-client.umd.min.js",d.async=!0,d.onload=()=>{if(window.clearTimeout(u),window.LivekitClient){try{window.LivekitClient.setLogLevel($s()?window.LivekitClient.LogLevel.debug:window.LivekitClient.LogLevel.silent)}catch(p){ne.warn("Failed to configure LiveKit log level:",p)}l()}else c(new Error("LiveKit global not found after script load"))},d.onerror=()=>{window.clearTimeout(u),Jf=null,c(new Error("Failed to load LiveKit from CDN"))},document.head.appendChild(d)}).catch(l=>{ne.warn("initializeLiveKitFromCDN failed",l)}),Jf)})().catch(()=>{}).finally(()=>{s&&a(!0)}),()=>{s=!1}},[]),A(Tse,{store:It,children:A(NEe,{client:lOe,persistOptions:uOe,onSuccess:()=>{},onError:()=>{},children:A("div",{ref:n,style:{position:"fixed",right:0,bottom:0,display:"block",zIndex:o},children:A(nOe,{onReset:()=>It.dispatch(I$(null)),children:A(pOe,{livekitReady:i,children:i&&A(hOe,C5({},e))})})})})})},fOe=ede,Y6="https://api.copilot.livex.ai",Hne=({botId:e,botMode:t,botSource:n,botLanguage:r,agent:o})=>{var p;const[i,a]=x.useState(!0),[s,l]=x.useState(!1),[c]=x.useState([]);x.useEffect(()=>{fetch(`${Y6}/api/v1/users/subscriptions/public-account-quota/${e}`).then(h=>h.json()).then(h=>{var m;l(((m=h==null?void 0:h.response)==null?void 0:m.has_quota)??!1),a(!1)}).catch(h=>{console.error("Error fetching quota data:",h)})},[e]);const u={agent:o,chatHost:"https://chat.copilot.livex.ai",gatewayHost:Y6,frontendHost:"https://copilot.livex.ai",firebaseConfig:{apiKey:"AIzaSyDh5QuHaNYkMS4-H4DccmSjZVO1LElxQew",authDomain:"livex-copilot-prd.firebaseapp.com",projectId:"livex-copilot-prd",storageBucket:"livex-copilot-prd.appspot.com",messagingSenderId:"156138751423",appId:"1:156138751423:web:7ec32f201069fdfc564d0a",measurementId:""},botMode:t=t??((p=o==null?void 0:o.config)==null?void 0:p.chatbot_mode),botLanguage:r,source:n,popupQuestions:c,hasQuota:s},d=W.jsx(mOe,{...u});return W.jsx(W.Fragment,{children:i?W.jsx("p",{}):o&&d})};Hne.propTypes={botId:fm.string.isRequired,botMode:fm.string,botSource:fm.string,botLanguage:fm.string,agent:fm.object};const $ne=async()=>{var e,t;if(window.__LIVEX_CHATBOT_INITIALIZED__)window.console.warn("LiveX chatbot is already initialized. Skipping duplicate initialization.");else if(window.__LIVEX_CHATBOT_INITIALIZING__)window.console.warn("LiveX chatbot is currently initializing. Skipping duplicate initialization.");else{window.__LIVEX_CHATBOT_INITIALIZING__=!0;try{const n=(()=>{const f=document.querySelector("script[data-root-id], script[data-bot-id]");if(f)return f;const v=document.querySelectorAll("script");for(let y=0;y<v.length;y++){const b=v[y];if(b.src&&b.src.includes("/livex.min.js"))return b}return console.error("Cannot find script tag of LiveX chatbot"),null})(),r=()=>n?n.getAttribute("data-bot-language"):null,o=()=>n?n.getAttribute("data-bot-mode"):null,i=()=>n?n.getAttribute("data-bot-source"):null,a=()=>{if(n){const f=n==null?void 0:n.getAttribute("data-bot-id");if(f)return f;{const v=new URL(n.src).searchParams.get("chatbot_id");if(v)return v}}return null};let s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href","https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap"),document.head.appendChild(s);const l=a(),c=o(),u=i()||"chatbox",d=r()||"en",p=(n==null?void 0:n.getAttribute("data-root-id"))||"livex-chatbox-root";let h=document.getElementById(p);h||(h=document.createElement("div"),h.setAttribute("id","livex-chatbox-root"),document.body.appendChild(h)),h.setAttribute("ver","0.98.0 (3d8a540b8f740a91c1b5238b23e5cb2e2fd96c04)"),h.setAttribute("ver_box",fOe);const m="display: block; position: fixed; bottom: 0; right: 0;";h.setAttribute("style",m);const g=await(async f=>{var y;const v=`${Y6}/api/v1/users/publicagents/${f}`;try{const b=await fetch(v),w=await b.json();return w!=null&&w.response&&!((y=w==null?void 0:w.response)!=null&&y.inactive)?w.response:null}catch(b){return console.error("Error fetching agent data:",b),null}})(l);if(g){const f=((t=(e=g==null?void 0:g.config)==null?void 0:e.style)==null?void 0:t.z_index)||1500;h.setAttribute("style",`${m} z-index: ${f};`)}l?(N5.createRoot(h).render(W.jsx(Hne,{botId:l,botMode:c,botSource:u,botLanguage:d,agent:g})),window.__LIVEX_CHATBOT_INITIALIZED__=!0):window.console.error("Cannot find LiveX chatbot id")}catch(n){window.console.error("Error initializing LiveX chatbot:",n)}finally{window.__LIVEX_CHATBOT_INITIALIZING__=!1}}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",$ne):$ne()})();
