[1mdiff --git a/src/components/SolarCard.tsx b/src/components/SolarCard.tsx[m
[1mindex 2a8c9dce..6a93f9ca 100644[m
[1m--- a/src/components/SolarCard.tsx[m
[1m+++ b/src/components/SolarCard.tsx[m
[36m@@ -1,8 +1,7 @@[m
[31m-// è°ƒæ•´ä»Šæ—¥æ°”è¿æŒ‡æ•°æ–‡æ¡ˆä¸é…è‰²ï¼Œä½¿èŠ‚æ°”ä¸å®œå¿Œæ›´å‡†ç¡®[m
 "use client";[m
 [m
[31m-import { motion } from "framer-motion";[m
 import { useEffect, useState, useMemo } from "react";[m
[32m+[m[32mimport { useRouter } from "next/navigation";[m
 import { getSolarTerm } from "@/utils/solarTerm";[m
 import { getFullLunarDate } from "@/lib/lunar/calendar";[m
 import { getHuangli } from "@/utils/huangli";[m
[36m@@ -13,142 +12,14 @@[m [mtype Locale = "zh" | "en";[m
 type SolarCardProps = {[m
   locale: Locale;[m
   name: string | null;[m
[31m-  doList: string[];[m
[31m-  avoidList: string[];[m
[31m-  healthTip: string | null;[m
[31m-  element: string | null;[m
[31m-  isLite: boolean;[m
[32m+[m[32m  // ä»¥ä¸‹ props ä¿ç•™ä»¥ä¿æŒå‘åå…¼å®¹ï¼Œä½†å½“å‰å®ç°ä¸å†ä½¿ç”¨[m
[32m+[m[32m  doList?: string[];[m
[32m+[m[32m  avoidList?: string[];[m
[32m+[m[32m  healthTip?: string | null;[m
[32m+[m[32m  element?: string | null;[m
[32m+[m[32m  isLite?: boolean;[m
 };[m
 [m
[31m-const ELEMENT_COLOR: Record<string, string> = {[m
[31m-  æœ¨: "#50816B",[m
[31m-  ç«: "#C66A3D",[m
[31m-  åœŸ: "#C2A05E",[m
[31m-  é‡‘: "#8D96B1",[m
[31m-  æ°´: "#4F6FA6",[m
[31m-  wood: "#50816B",[m
[31m-  fire: "#C66A3D",[m
[31m-  earth: "#C2A05E",[m
[31m-  metal: "#8D96B1",[m
[31m-  water: "#4F6FA6",[m
[31m-};[m
[31m-[m
[31m-const ELEMENT_LABEL: Record<Locale, Record<string, string>> = {[m
[31m-  zh: {[m
[31m-    æœ¨: "æœ¨ Â· ç”Ÿé•¿",[m
[31m-    ç«: "ç« Â· æ¸©é˜³",[m
[31m-    åœŸ: "åœŸ Â· è°ƒä¸­",[m
[31m-    é‡‘: "é‡‘ Â· è‚ƒæ€",[m
[31m-    æ°´: "æ°´ Â· æ¶µå…»",[m
[31m-    default: "èŠ‚æ°”å…»ç”Ÿ",[m
[31m-  },[m
[31m-  en: {[m
[31m-    wood: "Wood â€¢ Growth",[m
[31m-    fire: "Fire â€¢ Warmth",[m
[31m-    earth: "Earth â€¢ Balance",[m
[31m-    metal: "Metal â€¢ Clarity",[m
[31m-    water: "Water â€¢ Nourish",[m
[31m-    default: "Seasonal Wellness",[m
[31m-  },[m
[31m-};[m
[31m-[m
[31m-const SCENE_GRADIENT: Record<string, [string, string]> = {[m
[31m-  ç«‹æ˜¥: ["#E3F2FD", "#FFF3E0"],[m
[31m-  é›¨æ°´: ["#DDEBF7", "#E6FFFA"],[m
[31m-  æƒŠè›°: ["#F9F7E8", "#E8F5E9"],[m
[31m-  æ˜¥åˆ†: ["#E8F5E9", "#FFF8E1"],[m
[31m-  æ¸…æ˜: ["#E0F2F1", "#F3E5F5"],[m
[31m-  è°·é›¨: ["#E1F5FE", "#FFF3E0"],[m
[31m-  ç«‹å¤: ["#FFF3E0", "#FFE0B2"],[m
[31m-  å°æ»¡: ["#F3E5F5", "#FFFDE7"],[m
[31m-  èŠ’ç§: ["#FFFDE7", "#FFECB3"],[m
[31m-  å¤è‡³: ["#FFEBEE", "#FFF3E0"],[m
[31m-  å°æš‘: ["#FFF8E1", "#FFF3E0"],[m
[31m-  å¤§æš‘: ["#FFF3E0", "#FFCCBC"],[m
[31m-  ç«‹ç§‹: ["#FFF3E0", "#E3F2FD"],[m
[31m-  å¤„æš‘: ["#F3E5F5", "#E1F5FE"],[m
[31m-  ç™½éœ²: ["#E0F2F1", "#ECEFF1"],[m
[31m-  ç§‹åˆ†: ["#ECEFF1", "#FFECB3"],[m
[31m-  å¯’éœ²: ["#E1F5FE", "#ECEFF1"],[m
[31m-  éœœé™: ["#E8EAF6", "#F3E5F5"],[m
[31m-  ç«‹å†¬: ["#E8EAF6", "#E0F7FA"],[m
[31m-  å°é›ª: ["#E0F7FA", "#E3F2FD"],[m
[31m-  å¤§é›ª: ["#E3F2FD", "#F1F8E9"],[m
[31m-  å†¬è‡³: ["#ECEFF1", "#E8EAF6"],[m
[31m-  å°å¯’: ["#E1F5FE", "#E0F7FA"],[m
[31m-  å¤§å¯’: ["#E0F7FA", "#ECEFF1"],[m
[31m-};[m
[31m-[m
[31m-const LIGHT_SCENE_GRADIENT: [string, string] = ["#F8F9FA", "#F1F8E9"];[m
[31m-[m
[31m-/**[m
[31m- * å°†ä¼ ç»Ÿé»„å†"å®œ"åˆ—è¡¨æ˜ å°„ä¸ºç°ä»£è¡Œä¸ºåç§°[m
[31m- * @param yiList åŸå§‹é»„å†"å®œ"åˆ—è¡¨ï¼Œå¦‚ ["å«å¨¶","ç¥­ç¥€","ç¥ˆç¦","å¼€å…‰","å‡ºè¡Œ","äº¤æ˜“"][m
[31m- * @returns ç°ä»£è¡Œä¸ºåç§°æ•°ç»„ï¼Œæœ€å¤š3æ¡[m
[31m- */[m
[31m-function mapYiToModernActions(yiList: string[]): string[] {[m
[31m-  if (!yiList || yiList.length === 0) {[m
[31m-    return ["ç­¾çº¦åˆä½œ", "å­¦ä¹ è¿›ä¿®", "æ•´ç†ç©ºé—´"];[m
[31m-  }[m
[31m-[m
[31m-  const modernActions: string[] = [];[m
[31m-[m
[31m-  // æ£€æŸ¥æ˜¯å¦åŒ…å«ç­¾çº¦/äº¤æ˜“ç›¸å…³[m
[31m-  const contractKeywords = ["å«å¨¶", "è®¢ç›Ÿ", "äº¤æ˜“", "å¼€å¸‚", "çº³è´¢"];[m
[31m-  if (yiList.some((item) => contractKeywords.some((kw) => item.includes(kw)))) {[m
[31m-    modernActions.push("ç­¾çº¦åˆä½œ");[m
[31m-  }[m
[31m-[m
[31m-  // æ£€æŸ¥æ˜¯å¦åŒ…å«ç¥ˆç¦/ç¥­ç¥€ç›¸å…³[m
[31m-  const blessingKeywords = ["ç¥ˆç¦", "ç¥­ç¥€", "å¼€å…‰", "æ±‚å—£"];[m
[31m-  if (yiList.some((item) => blessingKeywords.some((kw) => item.includes(kw)))) {[m
[31m-    modernActions.push("èº«å¿ƒå®‰å®š / ç¥ˆç¦");[m
[31m-  }[m
[31m-[m
[31m-  // æ£€æŸ¥æ˜¯å¦åŒ…å«å‡ºè¡Œç›¸å…³[m
[31m-  const travelKeywords = ["å‡ºè¡Œ", "ç§»å¾™", "è¿å¾™"];[m
[31m-  if (yiList.some((item) => travelKeywords.some((kw) => item.includes(kw)))) {[m
[31m-    modernActions.push("çŸ­é€”å‡ºè¡Œ");[m
[31m-  }[m
[31m-[m
[31m-  // å»é‡å¹¶é™åˆ¶æœ€å¤š3æ¡[m
[31m-  const uniqueActions = Array.from(new Set(modernActions)).slice(0, 3);[m
[31m-[m
[31m-  // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•é¡¹ï¼Œä½¿ç”¨é»˜è®¤æ•°ç»„[m
[31m-  return uniqueActions.length > 0 ? uniqueActions : ["ç­¾çº¦åˆä½œ", "å­¦ä¹ è¿›ä¿®", "æ•´ç†ç©ºé—´"];[m
[31m-}[m
[31m-[m
[31m-/**[m
[31m- * å°†ä¼ ç»Ÿé»„å†"å¿Œ"åˆ—è¡¨æ˜ å°„ä¸ºç°ä»£è¡Œä¸ºåç§°[m
[31m- * @param jiList åŸå§‹é»„å†"å¿Œ"åˆ—è¡¨ï¼Œå¦‚ ["åŠ¨åœŸ","ç ´åœŸ","æ ½ç§","å®‰è‘¬","è¿å¾™"][m
[31m- * @returns ç°ä»£è¡Œä¸ºåç§°æ•°ç»„ï¼Œæœ€å¤š2æ¡[m
[31m- */[m
[31m-function mapJiToModernActions(jiList: string[]): string[] {[m
[31m-  if (!jiList || jiList.length === 0) {[m
[31m-    return ["åŠ¨åœŸç ´åœŸ", "è¿œè·ç¦»æ¬è¿"];[m
[31m-  }[m
[31m-[m
[31m-  const modernActions: string[] = [];[m
[31m-[m
[31m-  // æ£€æŸ¥æ˜¯å¦åŒ…å«åŠ¨åœŸ/ç ´åœŸç›¸å…³[m
[31m-  const constructionKeywords = ["åŠ¨åœŸ", "ç ´åœŸ", "ä¼æœ¨"];[m
[31m-  if (jiList.some((item) => constructionKeywords.some((kw) => item.includes(kw)))) {[m
[31m-    modernActions.push("åŠ¨åœŸç ´åœŸ");[m
[31m-  }[m
[31m-[m
[31m-  // æ£€æŸ¥æ˜¯å¦åŒ…å«è¿å¾™/è¿œè¡Œç›¸å…³[m
[31m-  const migrationKeywords = ["è¿å¾™", "ç§»å¾™", "è¿œè¡Œ", "å®‰è‘¬"];[m
[31m-  if (jiList.some((item) => migrationKeywords.some((kw) => item.includes(kw)))) {[m
[31m-    modernActions.push("è¿œè·ç¦»æ¬è¿ / å¤§åŠ¨ä½œå˜æ›´");[m
[31m-  }[m
[31m-[m
[31m-  // å»é‡å¹¶é™åˆ¶æœ€å¤š2æ¡[m
[31m-  const uniqueActions = Array.from(new Set(modernActions)).slice(0, 2);[m
[31m-[m
[31m-  // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•é¡¹ï¼Œä½¿ç”¨é»˜è®¤æ•°ç»„[m
[31m-  return uniqueActions.length > 0 ? uniqueActions : ["åŠ¨åœŸç ´åœŸ", "è¿œè·ç¦»æ¬è¿"];[m
[31m-}[m
[31m-[m
 // è®¡ç®—èŠ‚æ°”å¤©æ•°ï¼ˆä»èŠ‚æ°”å¼€å§‹æ—¥æœŸåˆ°å½“å‰æ—¥æœŸçš„å¤©æ•°ï¼‰[m
 function getDaysSinceSolarTermStart(currentDate: Date, termCode: string): number | null {[m
   try {[m
[36m@@ -169,9 +40,11 @@[m [mfunction getDaysSinceSolarTermStart(currentDate: Date, termCode: string): number[m
   }[m
 }[m
 [m
[31m-export default function SolarCard({ locale, name, doList, avoidList, healthTip, element, isLite }: SolarCardProps) {[m
[31m-  const [lunarDate, setLunarDate] = useState<string>("");[m
[31m-  const [huangliData, setHuangliData] = useState<{ yi: string[]; ji: string[]; wuxing?: string } | null>(null);[m
[32m+[m[32mexport default function SolarCard({ locale, name }: SolarCardProps) {[m
[32m+[m[32m  const router = useRouter();[m
[32m+[m[32m  const [lunarDateText, setLunarDateText] = useState<string>("");[m
[32m+[m[32m  const [fiveElementText, setFiveElementText] = useState<string>("");[m
[32m+[m[32m  const [huangliData, setHuangliData] = useState<{ yi: string[]; ji: string[] } | null>(null);[m
 [m
   // ä½¿ç”¨å·¥å…·å‡½æ•°è·å–èŠ‚æ°”åç§°ï¼ˆå§‹ç»ˆä½¿ç”¨å·¥å…·å‡½æ•°ï¼Œå¿½ç•¥ä¼ å…¥çš„ name propï¼‰[m
   const currentDate = useMemo(() => new Date(), []);[m
[36m@@ -184,7 +57,14 @@[m [mexport default function SolarCard({ locale, name, doList, avoidList, healthTip,[m
       // åªæœ‰åœ¨å·¥å…·å‡½æ•°å¤±è´¥æ—¶æ‰ä½¿ç”¨ä¼ å…¥çš„ name[m
       return name ?? (locale === "zh" ? "ä»Šæ—¥èŠ‚æ°”" : "Current Solar Term");[m
     }[m
[31m-  }, [currentDate, locale, name]); // æ·»åŠ  name åˆ°ä¾èµ–æ•°ç»„ä»¥æ¶ˆé™¤è­